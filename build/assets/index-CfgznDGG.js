(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ge(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ip={exports:{}},Cs={},ap={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1;function tR(){if(Y1)return Ie;Y1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),p=Symbol.iterator;function g(I){return I===null||typeof I!="object"?null:(I=p&&I[p]||I["@@iterator"],typeof I=="function"?I:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function b(I,U,re){this.props=I,this.context=U,this.refs=w,this.updater=re||v}b.prototype.isReactComponent={},b.prototype.setState=function(I,U){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,U,"setState")},b.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function k(){}k.prototype=b.prototype;function E(I,U,re){this.props=I,this.context=U,this.refs=w,this.updater=re||v}var O=E.prototype=new k;O.constructor=E,_(O,b.prototype),O.isPureReactComponent=!0;var P=Array.isArray,j=Object.prototype.hasOwnProperty,A={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function N(I,U,re){var de,ve={},Oe=null,$e=null;if(U!=null)for(de in U.ref!==void 0&&($e=U.ref),U.key!==void 0&&(Oe=""+U.key),U)j.call(U,de)&&!T.hasOwnProperty(de)&&(ve[de]=U[de]);var Ae=arguments.length-2;if(Ae===1)ve.children=re;else if(1<Ae){for(var se=Array(Ae),xe=0;xe<Ae;xe++)se[xe]=arguments[xe+2];ve.children=se}if(I&&I.defaultProps)for(de in Ae=I.defaultProps,Ae)ve[de]===void 0&&(ve[de]=Ae[de]);return{$$typeof:t,type:I,key:Oe,ref:$e,props:ve,_owner:A.current}}function $(I,U){return{$$typeof:t,type:I.type,key:U,ref:I.ref,props:I.props,_owner:I._owner}}function V(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function F(I){var U={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(re){return U[re]})}var R=/\/+/g;function H(I,U){return typeof I=="object"&&I!==null&&I.key!=null?F(""+I.key):U.toString(36)}function L(I,U,re,de,ve){var Oe=typeof I;(Oe==="undefined"||Oe==="boolean")&&(I=null);var $e=!1;if(I===null)$e=!0;else switch(Oe){case"string":case"number":$e=!0;break;case"object":switch(I.$$typeof){case t:case e:$e=!0}}if($e)return $e=I,ve=ve($e),I=de===""?"."+H($e,0):de,P(ve)?(re="",I!=null&&(re=I.replace(R,"$&/")+"/"),L(ve,U,re,"",function(xe){return xe})):ve!=null&&(V(ve)&&(ve=$(ve,re+(!ve.key||$e&&$e.key===ve.key?"":(""+ve.key).replace(R,"$&/")+"/")+I)),U.push(ve)),1;if($e=0,de=de===""?".":de+":",P(I))for(var Ae=0;Ae<I.length;Ae++){Oe=I[Ae];var se=de+H(Oe,Ae);$e+=L(Oe,U,re,se,ve)}else if(se=g(I),typeof se=="function")for(I=se.call(I),Ae=0;!(Oe=I.next()).done;)Oe=Oe.value,se=de+H(Oe,Ae++),$e+=L(Oe,U,re,se,ve);else if(Oe==="object")throw U=String(I),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return $e}function M(I,U,re){if(I==null)return I;var de=[],ve=0;return L(I,de,"","",function(Oe){return U.call(re,Oe,ve++)}),de}function X(I){if(I._status===-1){var U=I._result;U=U(),U.then(function(re){(I._status===0||I._status===-1)&&(I._status=1,I._result=re)},function(re){(I._status===0||I._status===-1)&&(I._status=2,I._result=re)}),I._status===-1&&(I._status=0,I._result=U)}if(I._status===1)return I._result.default;throw I._result}var Z={current:null},G={transition:null},te={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:G,ReactCurrentOwner:A};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:M,forEach:function(I,U,re){M(I,function(){U.apply(this,arguments)},re)},count:function(I){var U=0;return M(I,function(){U++}),U},toArray:function(I){return M(I,function(U){return U})||[]},only:function(I){if(!V(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Ie.Component=b,Ie.Fragment=r,Ie.Profiler=i,Ie.PureComponent=E,Ie.StrictMode=n,Ie.Suspense=c,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Ie.act=Q,Ie.cloneElement=function(I,U,re){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var de=_({},I.props),ve=I.key,Oe=I.ref,$e=I._owner;if(U!=null){if(U.ref!==void 0&&(Oe=U.ref,$e=A.current),U.key!==void 0&&(ve=""+U.key),I.type&&I.type.defaultProps)var Ae=I.type.defaultProps;for(se in U)j.call(U,se)&&!T.hasOwnProperty(se)&&(de[se]=U[se]===void 0&&Ae!==void 0?Ae[se]:U[se])}var se=arguments.length-2;if(se===1)de.children=re;else if(1<se){Ae=Array(se);for(var xe=0;xe<se;xe++)Ae[xe]=arguments[xe+2];de.children=Ae}return{$$typeof:t,type:I.type,key:ve,ref:Oe,props:de,_owner:$e}},Ie.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:o,_context:I},I.Consumer=I},Ie.createElement=N,Ie.createFactory=function(I){var U=N.bind(null,I);return U.type=I,U},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(I){return{$$typeof:u,render:I}},Ie.isValidElement=V,Ie.lazy=function(I){return{$$typeof:y,_payload:{_status:-1,_result:I},_init:X}},Ie.memo=function(I,U){return{$$typeof:h,type:I,compare:U===void 0?null:U}},Ie.startTransition=function(I){var U=G.transition;G.transition={};try{I()}finally{G.transition=U}},Ie.unstable_act=Q,Ie.useCallback=function(I,U){return Z.current.useCallback(I,U)},Ie.useContext=function(I){return Z.current.useContext(I)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(I){return Z.current.useDeferredValue(I)},Ie.useEffect=function(I,U){return Z.current.useEffect(I,U)},Ie.useId=function(){return Z.current.useId()},Ie.useImperativeHandle=function(I,U,re){return Z.current.useImperativeHandle(I,U,re)},Ie.useInsertionEffect=function(I,U){return Z.current.useInsertionEffect(I,U)},Ie.useLayoutEffect=function(I,U){return Z.current.useLayoutEffect(I,U)},Ie.useMemo=function(I,U){return Z.current.useMemo(I,U)},Ie.useReducer=function(I,U,re){return Z.current.useReducer(I,U,re)},Ie.useRef=function(I){return Z.current.useRef(I)},Ie.useState=function(I){return Z.current.useState(I)},Ie.useSyncExternalStore=function(I,U,re){return Z.current.useSyncExternalStore(I,U,re)},Ie.useTransition=function(){return Z.current.useTransition()},Ie.version="18.3.1",Ie}var J1;function ex(){return J1||(J1=1,ap.exports=tR()),ap.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1;function rR(){if(Q1)return Cs;Q1=1;var t=ex(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,c,h){var y,p={},g=null,v=null;h!==void 0&&(g=""+h),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(v=c.ref);for(y in c)n.call(c,y)&&!o.hasOwnProperty(y)&&(p[y]=c[y]);if(u&&u.defaultProps)for(y in c=u.defaultProps,c)p[y]===void 0&&(p[y]=c[y]);return{$$typeof:e,type:u,key:g,ref:v,props:p,_owner:i.current}}return Cs.Fragment=r,Cs.jsx=l,Cs.jsxs=l,Cs}var Z1;function nR(){return Z1||(Z1=1,ip.exports=rR()),ip.exports}var d=nR(),sc={},op={exports:{}},ir={},sp={exports:{}},lp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function iR(){return e_||(e_=1,(function(t){function e(G,te){var Q=G.length;G.push(te);e:for(;0<Q;){var I=Q-1>>>1,U=G[I];if(0<i(U,te))G[I]=te,G[Q]=U,Q=I;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var te=G[0],Q=G.pop();if(Q!==te){G[0]=Q;e:for(var I=0,U=G.length,re=U>>>1;I<re;){var de=2*(I+1)-1,ve=G[de],Oe=de+1,$e=G[Oe];if(0>i(ve,Q))Oe<U&&0>i($e,ve)?(G[I]=$e,G[Oe]=Q,I=Oe):(G[I]=ve,G[de]=Q,I=de);else if(Oe<U&&0>i($e,Q))G[I]=$e,G[Oe]=Q,I=Oe;else break e}}return te}function i(G,te){var Q=G.sortIndex-te.sortIndex;return Q!==0?Q:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],h=[],y=1,p=null,g=3,v=!1,_=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(G){for(var te=r(h);te!==null;){if(te.callback===null)n(h);else if(te.startTime<=G)n(h),te.sortIndex=te.expirationTime,e(c,te);else break;te=r(h)}}function P(G){if(w=!1,O(G),!_)if(r(c)!==null)_=!0,X(j);else{var te=r(h);te!==null&&Z(P,te.startTime-G)}}function j(G,te){_=!1,w&&(w=!1,k(N),N=-1),v=!0;var Q=g;try{for(O(te),p=r(c);p!==null&&(!(p.expirationTime>te)||G&&!F());){var I=p.callback;if(typeof I=="function"){p.callback=null,g=p.priorityLevel;var U=I(p.expirationTime<=te);te=t.unstable_now(),typeof U=="function"?p.callback=U:p===r(c)&&n(c),O(te)}else n(c);p=r(c)}if(p!==null)var re=!0;else{var de=r(h);de!==null&&Z(P,de.startTime-te),re=!1}return re}finally{p=null,g=Q,v=!1}}var A=!1,T=null,N=-1,$=5,V=-1;function F(){return!(t.unstable_now()-V<$)}function R(){if(T!==null){var G=t.unstable_now();V=G;var te=!0;try{te=T(!0,G)}finally{te?H():(A=!1,T=null)}}else A=!1}var H;if(typeof E=="function")H=function(){E(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,M=L.port2;L.port1.onmessage=R,H=function(){M.postMessage(null)}}else H=function(){b(R,0)};function X(G){T=G,A||(A=!0,H())}function Z(G,te){N=b(function(){G(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,X(j))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(G){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var Q=g;g=te;try{return G()}finally{g=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Q=g;g=G;try{return te()}finally{g=Q}},t.unstable_scheduleCallback=function(G,te,Q){var I=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?I+Q:I):Q=I,G){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Q+U,G={id:y++,callback:te,priorityLevel:G,startTime:Q,expirationTime:U,sortIndex:-1},Q>I?(G.sortIndex=Q,e(h,G),r(c)===null&&G===r(h)&&(w?(k(N),N=-1):w=!0,Z(P,Q-I))):(G.sortIndex=U,e(c,G),_||v||(_=!0,X(j))),G},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(G){var te=g;return function(){var Q=g;g=te;try{return G.apply(this,arguments)}finally{g=Q}}}})(lp)),lp}var t_;function aR(){return t_||(t_=1,sp.exports=iR()),sp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function oR(){if(r_)return ir;r_=1;var t=ex(),e=aR();function r(a){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(a,s){l(a,s),l(a+"Capture",s)}function l(a,s){for(i[a]=s,a=0;a<s.length;a++)n.add(s[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},p={};function g(a){return c.call(p,a)?!0:c.call(y,a)?!1:h.test(a)?p[a]=!0:(y[a]=!0,!1)}function v(a,s,f,m){if(f!==null&&f.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return m?!1:f!==null?!f.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function _(a,s,f,m){if(s===null||typeof s>"u"||v(a,s,f,m))return!0;if(m)return!1;if(f!==null)switch(f.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function w(a,s,f,m,x,S,C){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=f,this.propertyName=a,this.type=s,this.sanitizeURL=S,this.removeEmptyString=C}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){b[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var s=a[0];b[s]=new w(s,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){b[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){b[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){b[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){b[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){b[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){b[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){b[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function E(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var s=a.replace(k,E);b[s]=new w(s,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var s=a.replace(k,E);b[s]=new w(s,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var s=a.replace(k,E);b[s]=new w(s,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){b[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){b[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function O(a,s,f,m){var x=b.hasOwnProperty(s)?b[s]:null;(x!==null?x.type!==0:m||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(_(s,f,x,m)&&(f=null),m||x===null?g(s)&&(f===null?a.removeAttribute(s):a.setAttribute(s,""+f)):x.mustUseProperty?a[x.propertyName]=f===null?x.type===3?!1:"":f:(s=x.attributeName,m=x.attributeNamespace,f===null?a.removeAttribute(s):(x=x.type,f=x===3||x===4&&f===!0?"":""+f,m?a.setAttributeNS(m,s,f):a.setAttribute(s,f))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),F=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),G=Symbol.iterator;function te(a){return a===null||typeof a!="object"?null:(a=G&&a[G]||a["@@iterator"],typeof a=="function"?a:null)}var Q=Object.assign,I;function U(a){if(I===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);I=s&&s[1]||""}return`
`+I+a}var re=!1;function de(a,s){if(!a||re)return"";re=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(J){var m=J}Reflect.construct(a,[],s)}else{try{s.call()}catch(J){m=J}a.call(s.prototype)}else{try{throw Error()}catch(J){m=J}a()}}catch(J){if(J&&m&&typeof J.stack=="string"){for(var x=J.stack.split(`
`),S=m.stack.split(`
`),C=x.length-1,D=S.length-1;1<=C&&0<=D&&x[C]!==S[D];)D--;for(;1<=C&&0<=D;C--,D--)if(x[C]!==S[D]){if(C!==1||D!==1)do if(C--,D--,0>D||x[C]!==S[D]){var B=`
`+x[C].replace(" at new "," at ");return a.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",a.displayName)),B}while(1<=C&&0<=D);break}}}finally{re=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?U(a):""}function ve(a){switch(a.tag){case 5:return U(a.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return a=de(a.type,!1),a;case 11:return a=de(a.type.render,!1),a;case 1:return a=de(a.type,!0),a;default:return""}}function Oe(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case A:return"Portal";case $:return"Profiler";case N:return"StrictMode";case H:return"Suspense";case L:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case F:return(a.displayName||"Context")+".Consumer";case V:return(a._context.displayName||"Context")+".Provider";case R:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return s=a.displayName||null,s!==null?s:Oe(a.type)||"Memo";case X:s=a._payload,a=a._init;try{return Oe(a(s))}catch{}}return null}function $e(a){var s=a.type;switch(a.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=s.render,a=a.displayName||a.name||"",s.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ae(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function se(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xe(a){var s=se(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),m=""+a[s];if(!a.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,S=f.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return x.call(this)},set:function(C){m=""+C,S.call(this,C)}}),Object.defineProperty(a,s,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(C){m=""+C},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Pe(a){a._valueTracker||(a._valueTracker=xe(a))}function ae(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var f=s.getValue(),m="";return a&&(m=se(a)?a.checked?"true":"false":a.value),a=m,a!==f?(s.setValue(a),!0):!1}function Ve(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Re(a,s){var f=s.checked;return Q({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??a._wrapperState.initialChecked})}function st(a,s){var f=s.defaultValue==null?"":s.defaultValue,m=s.checked!=null?s.checked:s.defaultChecked;f=Ae(s.value!=null?s.value:f),a._wrapperState={initialChecked:m,initialValue:f,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function lt(a,s){s=s.checked,s!=null&&O(a,"checked",s,!1)}function kt(a,s){lt(a,s);var f=Ae(s.value),m=s.type;if(f!=null)m==="number"?(f===0&&a.value===""||a.value!=f)&&(a.value=""+f):a.value!==""+f&&(a.value=""+f);else if(m==="submit"||m==="reset"){a.removeAttribute("value");return}s.hasOwnProperty("value")?tn(a,s.type,f):s.hasOwnProperty("defaultValue")&&tn(a,s.type,Ae(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(a.defaultChecked=!!s.defaultChecked)}function Mr(a,s,f){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var m=s.type;if(!(m!=="submit"&&m!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+a._wrapperState.initialValue,f||s===a.value||(a.value=s),a.defaultValue=s}f=a.name,f!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,f!==""&&(a.name=f)}function tn(a,s,f){(s!=="number"||Ve(a.ownerDocument)!==a)&&(f==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+f&&(a.defaultValue=""+f))}var rn=Array.isArray;function Qt(a,s,f,m){if(a=a.options,s){s={};for(var x=0;x<f.length;x++)s["$"+f[x]]=!0;for(f=0;f<a.length;f++)x=s.hasOwnProperty("$"+a[f].value),a[f].selected!==x&&(a[f].selected=x),x&&m&&(a[f].defaultSelected=!0)}else{for(f=""+Ae(f),s=null,x=0;x<a.length;x++){if(a[x].value===f){a[x].selected=!0,m&&(a[x].defaultSelected=!0);return}s!==null||a[x].disabled||(s=a[x])}s!==null&&(s.selected=!0)}}function Dr(a,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return Q({},s,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ya(a,s){var f=s.value;if(f==null){if(f=s.children,s=s.defaultValue,f!=null){if(s!=null)throw Error(r(92));if(rn(f)){if(1<f.length)throw Error(r(93));f=f[0]}s=f}s==null&&(s=""),f=s}a._wrapperState={initialValue:Ae(f)}}function Ho(a,s){var f=Ae(s.value),m=Ae(s.defaultValue);f!=null&&(f=""+f,f!==a.value&&(a.value=f),s.defaultValue==null&&a.defaultValue!==f&&(a.defaultValue=f)),m!=null&&(a.defaultValue=""+m)}function Vo(a){var s=a.textContent;s===a._wrapperState.initialValue&&s!==""&&s!==null&&(a.value=s)}function ub(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yf(a,s){return a==null||a==="http://www.w3.org/1999/xhtml"?ub(s):a==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ql,cb=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,f,m,x){MSApp.execUnsafeLocalFunction(function(){return a(s,f,m,x)})}:a})(function(a,s){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=s;else{for(Ql=Ql||document.createElement("div"),Ql.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ql.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;s.firstChild;)a.appendChild(s.firstChild)}});function Ko(a,s){if(s){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=s;return}}a.textContent=s}var Go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aN=["Webkit","ms","Moz","O"];Object.keys(Go).forEach(function(a){aN.forEach(function(s){s=s+a.charAt(0).toUpperCase()+a.substring(1),Go[s]=Go[a]})});function db(a,s,f){return s==null||typeof s=="boolean"||s===""?"":f||typeof s!="number"||s===0||Go.hasOwnProperty(a)&&Go[a]?(""+s).trim():s+"px"}function fb(a,s){a=a.style;for(var f in s)if(s.hasOwnProperty(f)){var m=f.indexOf("--")===0,x=db(f,s[f],m);f==="float"&&(f="cssFloat"),m?a.setProperty(f,x):a[f]=x}}var oN=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mf(a,s){if(s){if(oN[a]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function gf(a,s){if(a.indexOf("-")===-1)return typeof s.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vf=null;function xf(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var bf=null,ma=null,ga=null;function hb(a){if(a=ms(a)){if(typeof bf!="function")throw Error(r(280));var s=a.stateNode;s&&(s=wu(s),bf(a.stateNode,a.type,s))}}function pb(a){ma?ga?ga.push(a):ga=[a]:ma=a}function yb(){if(ma){var a=ma,s=ga;if(ga=ma=null,hb(a),s)for(a=0;a<s.length;a++)hb(s[a])}}function mb(a,s){return a(s)}function gb(){}var wf=!1;function vb(a,s,f){if(wf)return a(s,f);wf=!0;try{return mb(a,s,f)}finally{wf=!1,(ma!==null||ga!==null)&&(gb(),yb())}}function Xo(a,s){var f=a.stateNode;if(f===null)return null;var m=wu(f);if(m===null)return null;f=m[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(r(231,s,typeof f));return f}var _f=!1;if(u)try{var Yo={};Object.defineProperty(Yo,"passive",{get:function(){_f=!0}}),window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch{_f=!1}function sN(a,s,f,m,x,S,C,D,B){var J=Array.prototype.slice.call(arguments,3);try{s.apply(f,J)}catch(ie){this.onError(ie)}}var Jo=!1,Zl=null,eu=!1,Sf=null,lN={onError:function(a){Jo=!0,Zl=a}};function uN(a,s,f,m,x,S,C,D,B){Jo=!1,Zl=null,sN.apply(lN,arguments)}function cN(a,s,f,m,x,S,C,D,B){if(uN.apply(this,arguments),Jo){if(Jo){var J=Zl;Jo=!1,Zl=null}else throw Error(r(198));eu||(eu=!0,Sf=J)}}function Ei(a){var s=a,f=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(f=s.return),a=s.return;while(a)}return s.tag===3?f:null}function xb(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function bb(a){if(Ei(a)!==a)throw Error(r(188))}function dN(a){var s=a.alternate;if(!s){if(s=Ei(a),s===null)throw Error(r(188));return s!==a?null:a}for(var f=a,m=s;;){var x=f.return;if(x===null)break;var S=x.alternate;if(S===null){if(m=x.return,m!==null){f=m;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===f)return bb(x),a;if(S===m)return bb(x),s;S=S.sibling}throw Error(r(188))}if(f.return!==m.return)f=x,m=S;else{for(var C=!1,D=x.child;D;){if(D===f){C=!0,f=x,m=S;break}if(D===m){C=!0,m=x,f=S;break}D=D.sibling}if(!C){for(D=S.child;D;){if(D===f){C=!0,f=S,m=x;break}if(D===m){C=!0,m=S,f=x;break}D=D.sibling}if(!C)throw Error(r(189))}}if(f.alternate!==m)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?a:s}function wb(a){return a=dN(a),a!==null?_b(a):null}function _b(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var s=_b(a);if(s!==null)return s;a=a.sibling}return null}var Sb=e.unstable_scheduleCallback,jb=e.unstable_cancelCallback,fN=e.unstable_shouldYield,hN=e.unstable_requestPaint,ft=e.unstable_now,pN=e.unstable_getCurrentPriorityLevel,jf=e.unstable_ImmediatePriority,Ob=e.unstable_UserBlockingPriority,tu=e.unstable_NormalPriority,yN=e.unstable_LowPriority,kb=e.unstable_IdlePriority,ru=null,nn=null;function mN(a){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(ru,a,void 0,(a.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:xN,gN=Math.log,vN=Math.LN2;function xN(a){return a>>>=0,a===0?32:31-(gN(a)/vN|0)|0}var nu=64,iu=4194304;function Qo(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function au(a,s){var f=a.pendingLanes;if(f===0)return 0;var m=0,x=a.suspendedLanes,S=a.pingedLanes,C=f&268435455;if(C!==0){var D=C&~x;D!==0?m=Qo(D):(S&=C,S!==0&&(m=Qo(S)))}else C=f&~x,C!==0?m=Qo(C):S!==0&&(m=Qo(S));if(m===0)return 0;if(s!==0&&s!==m&&(s&x)===0&&(x=m&-m,S=s&-s,x>=S||x===16&&(S&4194240)!==0))return s;if((m&4)!==0&&(m|=f&16),s=a.entangledLanes,s!==0)for(a=a.entanglements,s&=m;0<s;)f=31-Lr(s),x=1<<f,m|=a[f],s&=~x;return m}function bN(a,s){switch(a){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wN(a,s){for(var f=a.suspendedLanes,m=a.pingedLanes,x=a.expirationTimes,S=a.pendingLanes;0<S;){var C=31-Lr(S),D=1<<C,B=x[C];B===-1?((D&f)===0||(D&m)!==0)&&(x[C]=bN(D,s)):B<=s&&(a.expiredLanes|=D),S&=~D}}function Of(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Eb(){var a=nu;return nu<<=1,(nu&4194240)===0&&(nu=64),a}function kf(a){for(var s=[],f=0;31>f;f++)s.push(a);return s}function Zo(a,s,f){a.pendingLanes|=s,s!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,s=31-Lr(s),a[s]=f}function _N(a,s){var f=a.pendingLanes&~s;a.pendingLanes=s,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=s,a.mutableReadLanes&=s,a.entangledLanes&=s,s=a.entanglements;var m=a.eventTimes;for(a=a.expirationTimes;0<f;){var x=31-Lr(f),S=1<<x;s[x]=0,m[x]=-1,a[x]=-1,f&=~S}}function Ef(a,s){var f=a.entangledLanes|=s;for(a=a.entanglements;f;){var m=31-Lr(f),x=1<<m;x&s|a[m]&s&&(a[m]|=s),f&=~x}}var We=0;function Ab(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Pb,Af,Tb,Cb,Nb,Pf=!1,ou=[],Hn=null,Vn=null,Kn=null,es=new Map,ts=new Map,Gn=[],SN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ib(a,s){switch(a){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":es.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ts.delete(s.pointerId)}}function rs(a,s,f,m,x,S){return a===null||a.nativeEvent!==S?(a={blockedOn:s,domEventName:f,eventSystemFlags:m,nativeEvent:S,targetContainers:[x]},s!==null&&(s=ms(s),s!==null&&Af(s)),a):(a.eventSystemFlags|=m,s=a.targetContainers,x!==null&&s.indexOf(x)===-1&&s.push(x),a)}function jN(a,s,f,m,x){switch(s){case"focusin":return Hn=rs(Hn,a,s,f,m,x),!0;case"dragenter":return Vn=rs(Vn,a,s,f,m,x),!0;case"mouseover":return Kn=rs(Kn,a,s,f,m,x),!0;case"pointerover":var S=x.pointerId;return es.set(S,rs(es.get(S)||null,a,s,f,m,x)),!0;case"gotpointercapture":return S=x.pointerId,ts.set(S,rs(ts.get(S)||null,a,s,f,m,x)),!0}return!1}function Rb(a){var s=Ai(a.target);if(s!==null){var f=Ei(s);if(f!==null){if(s=f.tag,s===13){if(s=xb(f),s!==null){a.blockedOn=s,Nb(a.priority,function(){Tb(f)});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function su(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var f=Cf(a.domEventName,a.eventSystemFlags,s[0],a.nativeEvent);if(f===null){f=a.nativeEvent;var m=new f.constructor(f.type,f);vf=m,f.target.dispatchEvent(m),vf=null}else return s=ms(f),s!==null&&Af(s),a.blockedOn=f,!1;s.shift()}return!0}function $b(a,s,f){su(a)&&f.delete(s)}function ON(){Pf=!1,Hn!==null&&su(Hn)&&(Hn=null),Vn!==null&&su(Vn)&&(Vn=null),Kn!==null&&su(Kn)&&(Kn=null),es.forEach($b),ts.forEach($b)}function ns(a,s){a.blockedOn===s&&(a.blockedOn=null,Pf||(Pf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ON)))}function is(a){function s(x){return ns(x,a)}if(0<ou.length){ns(ou[0],a);for(var f=1;f<ou.length;f++){var m=ou[f];m.blockedOn===a&&(m.blockedOn=null)}}for(Hn!==null&&ns(Hn,a),Vn!==null&&ns(Vn,a),Kn!==null&&ns(Kn,a),es.forEach(s),ts.forEach(s),f=0;f<Gn.length;f++)m=Gn[f],m.blockedOn===a&&(m.blockedOn=null);for(;0<Gn.length&&(f=Gn[0],f.blockedOn===null);)Rb(f),f.blockedOn===null&&Gn.shift()}var va=P.ReactCurrentBatchConfig,lu=!0;function kN(a,s,f,m){var x=We,S=va.transition;va.transition=null;try{We=1,Tf(a,s,f,m)}finally{We=x,va.transition=S}}function EN(a,s,f,m){var x=We,S=va.transition;va.transition=null;try{We=4,Tf(a,s,f,m)}finally{We=x,va.transition=S}}function Tf(a,s,f,m){if(lu){var x=Cf(a,s,f,m);if(x===null)Gf(a,s,m,uu,f),Ib(a,m);else if(jN(x,a,s,f,m))m.stopPropagation();else if(Ib(a,m),s&4&&-1<SN.indexOf(a)){for(;x!==null;){var S=ms(x);if(S!==null&&Pb(S),S=Cf(a,s,f,m),S===null&&Gf(a,s,m,uu,f),S===x)break;x=S}x!==null&&m.stopPropagation()}else Gf(a,s,m,null,f)}}var uu=null;function Cf(a,s,f,m){if(uu=null,a=xf(m),a=Ai(a),a!==null)if(s=Ei(a),s===null)a=null;else if(f=s.tag,f===13){if(a=xb(s),a!==null)return a;a=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null);return uu=a,null}function Mb(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pN()){case jf:return 1;case Ob:return 4;case tu:case yN:return 16;case kb:return 536870912;default:return 16}default:return 16}}var Xn=null,Nf=null,cu=null;function Db(){if(cu)return cu;var a,s=Nf,f=s.length,m,x="value"in Xn?Xn.value:Xn.textContent,S=x.length;for(a=0;a<f&&s[a]===x[a];a++);var C=f-a;for(m=1;m<=C&&s[f-m]===x[S-m];m++);return cu=x.slice(a,1<m?1-m:void 0)}function du(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function fu(){return!0}function Lb(){return!1}function sr(a){function s(f,m,x,S,C){this._reactName=f,this._targetInst=x,this.type=m,this.nativeEvent=S,this.target=C,this.currentTarget=null;for(var D in a)a.hasOwnProperty(D)&&(f=a[D],this[D]=f?f(S):S[D]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?fu:Lb,this.isPropagationStopped=Lb,this}return Q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=fu)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=fu)},persist:function(){},isPersistent:fu}),s}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},If=sr(xa),as=Q({},xa,{view:0,detail:0}),AN=sr(as),Rf,$f,os,hu=Q({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Df,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==os&&(os&&a.type==="mousemove"?(Rf=a.screenX-os.screenX,$f=a.screenY-os.screenY):$f=Rf=0,os=a),Rf)},movementY:function(a){return"movementY"in a?a.movementY:$f}}),zb=sr(hu),PN=Q({},hu,{dataTransfer:0}),TN=sr(PN),CN=Q({},as,{relatedTarget:0}),Mf=sr(CN),NN=Q({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),IN=sr(NN),RN=Q({},xa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),$N=sr(RN),MN=Q({},xa,{data:0}),Bb=sr(MN),DN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BN(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=zN[a])?!!s[a]:!1}function Df(){return BN}var qN=Q({},as,{key:function(a){if(a.key){var s=DN[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=du(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?LN[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Df,charCode:function(a){return a.type==="keypress"?du(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?du(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),UN=sr(qN),FN=Q({},hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qb=sr(FN),WN=Q({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Df}),HN=sr(WN),VN=Q({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),KN=sr(VN),GN=Q({},hu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),XN=sr(GN),YN=[9,13,27,32],Lf=u&&"CompositionEvent"in window,ss=null;u&&"documentMode"in document&&(ss=document.documentMode);var JN=u&&"TextEvent"in window&&!ss,Ub=u&&(!Lf||ss&&8<ss&&11>=ss),Fb=" ",Wb=!1;function Hb(a,s){switch(a){case"keyup":return YN.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vb(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ba=!1;function QN(a,s){switch(a){case"compositionend":return Vb(s);case"keypress":return s.which!==32?null:(Wb=!0,Fb);case"textInput":return a=s.data,a===Fb&&Wb?null:a;default:return null}}function ZN(a,s){if(ba)return a==="compositionend"||!Lf&&Hb(a,s)?(a=Db(),cu=Nf=Xn=null,ba=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ub&&s.locale!=="ko"?null:s.data;default:return null}}var eI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kb(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!eI[a.type]:s==="textarea"}function Gb(a,s,f,m){pb(m),s=vu(s,"onChange"),0<s.length&&(f=new If("onChange","change",null,f,m),a.push({event:f,listeners:s}))}var ls=null,us=null;function tI(a){fw(a,0)}function pu(a){var s=Oa(a);if(ae(s))return a}function rI(a,s){if(a==="change")return s}var Xb=!1;if(u){var zf;if(u){var Bf="oninput"in document;if(!Bf){var Yb=document.createElement("div");Yb.setAttribute("oninput","return;"),Bf=typeof Yb.oninput=="function"}zf=Bf}else zf=!1;Xb=zf&&(!document.documentMode||9<document.documentMode)}function Jb(){ls&&(ls.detachEvent("onpropertychange",Qb),us=ls=null)}function Qb(a){if(a.propertyName==="value"&&pu(us)){var s=[];Gb(s,us,a,xf(a)),vb(tI,s)}}function nI(a,s,f){a==="focusin"?(Jb(),ls=s,us=f,ls.attachEvent("onpropertychange",Qb)):a==="focusout"&&Jb()}function iI(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return pu(us)}function aI(a,s){if(a==="click")return pu(s)}function oI(a,s){if(a==="input"||a==="change")return pu(s)}function sI(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var zr=typeof Object.is=="function"?Object.is:sI;function cs(a,s){if(zr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var f=Object.keys(a),m=Object.keys(s);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var x=f[m];if(!c.call(s,x)||!zr(a[x],s[x]))return!1}return!0}function Zb(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ew(a,s){var f=Zb(a);a=0;for(var m;f;){if(f.nodeType===3){if(m=a+f.textContent.length,a<=s&&m>=s)return{node:f,offset:s-a};a=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Zb(f)}}function tw(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?tw(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function rw(){for(var a=window,s=Ve();s instanceof a.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)a=s.contentWindow;else break;s=Ve(a.document)}return s}function qf(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}function lI(a){var s=rw(),f=a.focusedElem,m=a.selectionRange;if(s!==f&&f&&f.ownerDocument&&tw(f.ownerDocument.documentElement,f)){if(m!==null&&qf(f)){if(s=m.start,a=m.end,a===void 0&&(a=s),"selectionStart"in f)f.selectionStart=s,f.selectionEnd=Math.min(a,f.value.length);else if(a=(s=f.ownerDocument||document)&&s.defaultView||window,a.getSelection){a=a.getSelection();var x=f.textContent.length,S=Math.min(m.start,x);m=m.end===void 0?S:Math.min(m.end,x),!a.extend&&S>m&&(x=m,m=S,S=x),x=ew(f,S);var C=ew(f,m);x&&C&&(a.rangeCount!==1||a.anchorNode!==x.node||a.anchorOffset!==x.offset||a.focusNode!==C.node||a.focusOffset!==C.offset)&&(s=s.createRange(),s.setStart(x.node,x.offset),a.removeAllRanges(),S>m?(a.addRange(s),a.extend(C.node,C.offset)):(s.setEnd(C.node,C.offset),a.addRange(s)))}}for(s=[],a=f;a=a.parentNode;)a.nodeType===1&&s.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<s.length;f++)a=s[f],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var uI=u&&"documentMode"in document&&11>=document.documentMode,wa=null,Uf=null,ds=null,Ff=!1;function nw(a,s,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ff||wa==null||wa!==Ve(m)||(m=wa,"selectionStart"in m&&qf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ds&&cs(ds,m)||(ds=m,m=vu(Uf,"onSelect"),0<m.length&&(s=new If("onSelect","select",null,s,f),a.push({event:s,listeners:m}),s.target=wa)))}function yu(a,s){var f={};return f[a.toLowerCase()]=s.toLowerCase(),f["Webkit"+a]="webkit"+s,f["Moz"+a]="moz"+s,f}var _a={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},Wf={},iw={};u&&(iw=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function mu(a){if(Wf[a])return Wf[a];if(!_a[a])return a;var s=_a[a],f;for(f in s)if(s.hasOwnProperty(f)&&f in iw)return Wf[a]=s[f];return a}var aw=mu("animationend"),ow=mu("animationiteration"),sw=mu("animationstart"),lw=mu("transitionend"),uw=new Map,cw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(a,s){uw.set(a,s),o(s,[a])}for(var Hf=0;Hf<cw.length;Hf++){var Vf=cw[Hf],cI=Vf.toLowerCase(),dI=Vf[0].toUpperCase()+Vf.slice(1);Yn(cI,"on"+dI)}Yn(aw,"onAnimationEnd"),Yn(ow,"onAnimationIteration"),Yn(sw,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(lw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fI=new Set("cancel close invalid load scroll toggle".split(" ").concat(fs));function dw(a,s,f){var m=a.type||"unknown-event";a.currentTarget=f,cN(m,s,void 0,a),a.currentTarget=null}function fw(a,s){s=(s&4)!==0;for(var f=0;f<a.length;f++){var m=a[f],x=m.event;m=m.listeners;e:{var S=void 0;if(s)for(var C=m.length-1;0<=C;C--){var D=m[C],B=D.instance,J=D.currentTarget;if(D=D.listener,B!==S&&x.isPropagationStopped())break e;dw(x,D,J),S=B}else for(C=0;C<m.length;C++){if(D=m[C],B=D.instance,J=D.currentTarget,D=D.listener,B!==S&&x.isPropagationStopped())break e;dw(x,D,J),S=B}}}if(eu)throw a=Sf,eu=!1,Sf=null,a}function Ze(a,s){var f=s[eh];f===void 0&&(f=s[eh]=new Set);var m=a+"__bubble";f.has(m)||(hw(s,a,2,!1),f.add(m))}function Kf(a,s,f){var m=0;s&&(m|=4),hw(f,a,m,s)}var gu="_reactListening"+Math.random().toString(36).slice(2);function hs(a){if(!a[gu]){a[gu]=!0,n.forEach(function(f){f!=="selectionchange"&&(fI.has(f)||Kf(f,!1,a),Kf(f,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[gu]||(s[gu]=!0,Kf("selectionchange",!1,s))}}function hw(a,s,f,m){switch(Mb(s)){case 1:var x=kN;break;case 4:x=EN;break;default:x=Tf}f=x.bind(null,s,f,a),x=void 0,!_f||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(x=!0),m?x!==void 0?a.addEventListener(s,f,{capture:!0,passive:x}):a.addEventListener(s,f,!0):x!==void 0?a.addEventListener(s,f,{passive:x}):a.addEventListener(s,f,!1)}function Gf(a,s,f,m,x){var S=m;if((s&1)===0&&(s&2)===0&&m!==null)e:for(;;){if(m===null)return;var C=m.tag;if(C===3||C===4){var D=m.stateNode.containerInfo;if(D===x||D.nodeType===8&&D.parentNode===x)break;if(C===4)for(C=m.return;C!==null;){var B=C.tag;if((B===3||B===4)&&(B=C.stateNode.containerInfo,B===x||B.nodeType===8&&B.parentNode===x))return;C=C.return}for(;D!==null;){if(C=Ai(D),C===null)return;if(B=C.tag,B===5||B===6){m=S=C;continue e}D=D.parentNode}}m=m.return}vb(function(){var J=S,ie=xf(f),oe=[];e:{var ne=uw.get(a);if(ne!==void 0){var ce=If,pe=a;switch(a){case"keypress":if(du(f)===0)break e;case"keydown":case"keyup":ce=UN;break;case"focusin":pe="focus",ce=Mf;break;case"focusout":pe="blur",ce=Mf;break;case"beforeblur":case"afterblur":ce=Mf;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=zb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=TN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=HN;break;case aw:case ow:case sw:ce=IN;break;case lw:ce=KN;break;case"scroll":ce=AN;break;case"wheel":ce=XN;break;case"copy":case"cut":case"paste":ce=$N;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=qb}var ye=(s&4)!==0,ht=!ye&&a==="scroll",K=ye?ne!==null?ne+"Capture":null:ne;ye=[];for(var W=J,Y;W!==null;){Y=W;var le=Y.stateNode;if(Y.tag===5&&le!==null&&(Y=le,K!==null&&(le=Xo(W,K),le!=null&&ye.push(ps(W,le,Y)))),ht)break;W=W.return}0<ye.length&&(ne=new ce(ne,pe,null,f,ie),oe.push({event:ne,listeners:ye}))}}if((s&7)===0){e:{if(ne=a==="mouseover"||a==="pointerover",ce=a==="mouseout"||a==="pointerout",ne&&f!==vf&&(pe=f.relatedTarget||f.fromElement)&&(Ai(pe)||pe[vn]))break e;if((ce||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,ce?(pe=f.relatedTarget||f.toElement,ce=J,pe=pe?Ai(pe):null,pe!==null&&(ht=Ei(pe),pe!==ht||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ce=null,pe=J),ce!==pe)){if(ye=zb,le="onMouseLeave",K="onMouseEnter",W="mouse",(a==="pointerout"||a==="pointerover")&&(ye=qb,le="onPointerLeave",K="onPointerEnter",W="pointer"),ht=ce==null?ne:Oa(ce),Y=pe==null?ne:Oa(pe),ne=new ye(le,W+"leave",ce,f,ie),ne.target=ht,ne.relatedTarget=Y,le=null,Ai(ie)===J&&(ye=new ye(K,W+"enter",pe,f,ie),ye.target=Y,ye.relatedTarget=ht,le=ye),ht=le,ce&&pe)t:{for(ye=ce,K=pe,W=0,Y=ye;Y;Y=Sa(Y))W++;for(Y=0,le=K;le;le=Sa(le))Y++;for(;0<W-Y;)ye=Sa(ye),W--;for(;0<Y-W;)K=Sa(K),Y--;for(;W--;){if(ye===K||K!==null&&ye===K.alternate)break t;ye=Sa(ye),K=Sa(K)}ye=null}else ye=null;ce!==null&&pw(oe,ne,ce,ye,!1),pe!==null&&ht!==null&&pw(oe,ht,pe,ye,!0)}}e:{if(ne=J?Oa(J):window,ce=ne.nodeName&&ne.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ne.type==="file")var me=rI;else if(Kb(ne))if(Xb)me=oI;else{me=iI;var be=nI}else(ce=ne.nodeName)&&ce.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(me=aI);if(me&&(me=me(a,J))){Gb(oe,me,f,ie);break e}be&&be(a,ne,J),a==="focusout"&&(be=ne._wrapperState)&&be.controlled&&ne.type==="number"&&tn(ne,"number",ne.value)}switch(be=J?Oa(J):window,a){case"focusin":(Kb(be)||be.contentEditable==="true")&&(wa=be,Uf=J,ds=null);break;case"focusout":ds=Uf=wa=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,nw(oe,f,ie);break;case"selectionchange":if(uI)break;case"keydown":case"keyup":nw(oe,f,ie)}var we;if(Lf)e:{switch(a){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ba?Hb(a,f)&&(ke="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(ke="onCompositionStart");ke&&(Ub&&f.locale!=="ko"&&(ba||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ba&&(we=Db()):(Xn=ie,Nf="value"in Xn?Xn.value:Xn.textContent,ba=!0)),be=vu(J,ke),0<be.length&&(ke=new Bb(ke,a,null,f,ie),oe.push({event:ke,listeners:be}),we?ke.data=we:(we=Vb(f),we!==null&&(ke.data=we)))),(we=JN?QN(a,f):ZN(a,f))&&(J=vu(J,"onBeforeInput"),0<J.length&&(ie=new Bb("onBeforeInput","beforeinput",null,f,ie),oe.push({event:ie,listeners:J}),ie.data=we))}fw(oe,s)})}function ps(a,s,f){return{instance:a,listener:s,currentTarget:f}}function vu(a,s){for(var f=s+"Capture",m=[];a!==null;){var x=a,S=x.stateNode;x.tag===5&&S!==null&&(x=S,S=Xo(a,f),S!=null&&m.unshift(ps(a,S,x)),S=Xo(a,s),S!=null&&m.push(ps(a,S,x))),a=a.return}return m}function Sa(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function pw(a,s,f,m,x){for(var S=s._reactName,C=[];f!==null&&f!==m;){var D=f,B=D.alternate,J=D.stateNode;if(B!==null&&B===m)break;D.tag===5&&J!==null&&(D=J,x?(B=Xo(f,S),B!=null&&C.unshift(ps(f,B,D))):x||(B=Xo(f,S),B!=null&&C.push(ps(f,B,D)))),f=f.return}C.length!==0&&a.push({event:s,listeners:C})}var hI=/\r\n?/g,pI=/\u0000|\uFFFD/g;function yw(a){return(typeof a=="string"?a:""+a).replace(hI,`
`).replace(pI,"")}function xu(a,s,f){if(s=yw(s),yw(a)!==s&&f)throw Error(r(425))}function bu(){}var Xf=null,Yf=null;function Jf(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Qf=typeof setTimeout=="function"?setTimeout:void 0,yI=typeof clearTimeout=="function"?clearTimeout:void 0,mw=typeof Promise=="function"?Promise:void 0,mI=typeof queueMicrotask=="function"?queueMicrotask:typeof mw<"u"?function(a){return mw.resolve(null).then(a).catch(gI)}:Qf;function gI(a){setTimeout(function(){throw a})}function Zf(a,s){var f=s,m=0;do{var x=f.nextSibling;if(a.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(m===0){a.removeChild(x),is(s);return}m--}else f!=="$"&&f!=="$?"&&f!=="$!"||m++;f=x}while(f);is(s)}function Jn(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return a}function gw(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(s===0)return a;s--}else f==="/$"&&s++}a=a.previousSibling}return null}var ja=Math.random().toString(36).slice(2),an="__reactFiber$"+ja,ys="__reactProps$"+ja,vn="__reactContainer$"+ja,eh="__reactEvents$"+ja,vI="__reactListeners$"+ja,xI="__reactHandles$"+ja;function Ai(a){var s=a[an];if(s)return s;for(var f=a.parentNode;f;){if(s=f[vn]||f[an]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(a=gw(a);a!==null;){if(f=a[an])return f;a=gw(a)}return s}a=f,f=a.parentNode}return null}function ms(a){return a=a[an]||a[vn],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Oa(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function wu(a){return a[ys]||null}var th=[],ka=-1;function Qn(a){return{current:a}}function et(a){0>ka||(a.current=th[ka],th[ka]=null,ka--)}function Xe(a,s){ka++,th[ka]=a.current,a.current=s}var Zn={},Bt=Qn(Zn),Zt=Qn(!1),Pi=Zn;function Ea(a,s){var f=a.type.contextTypes;if(!f)return Zn;var m=a.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===s)return m.__reactInternalMemoizedMaskedChildContext;var x={},S;for(S in f)x[S]=s[S];return m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=s,a.__reactInternalMemoizedMaskedChildContext=x),x}function er(a){return a=a.childContextTypes,a!=null}function _u(){et(Zt),et(Bt)}function vw(a,s,f){if(Bt.current!==Zn)throw Error(r(168));Xe(Bt,s),Xe(Zt,f)}function xw(a,s,f){var m=a.stateNode;if(s=s.childContextTypes,typeof m.getChildContext!="function")return f;m=m.getChildContext();for(var x in m)if(!(x in s))throw Error(r(108,$e(a)||"Unknown",x));return Q({},f,m)}function Su(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Zn,Pi=Bt.current,Xe(Bt,a),Xe(Zt,Zt.current),!0}function bw(a,s,f){var m=a.stateNode;if(!m)throw Error(r(169));f?(a=xw(a,s,Pi),m.__reactInternalMemoizedMergedChildContext=a,et(Zt),et(Bt),Xe(Bt,a)):et(Zt),Xe(Zt,f)}var xn=null,ju=!1,rh=!1;function ww(a){xn===null?xn=[a]:xn.push(a)}function bI(a){ju=!0,ww(a)}function ei(){if(!rh&&xn!==null){rh=!0;var a=0,s=We;try{var f=xn;for(We=1;a<f.length;a++){var m=f[a];do m=m(!0);while(m!==null)}xn=null,ju=!1}catch(x){throw xn!==null&&(xn=xn.slice(a+1)),Sb(jf,ei),x}finally{We=s,rh=!1}}return null}var Aa=[],Pa=0,Ou=null,ku=0,vr=[],xr=0,Ti=null,bn=1,wn="";function Ci(a,s){Aa[Pa++]=ku,Aa[Pa++]=Ou,Ou=a,ku=s}function _w(a,s,f){vr[xr++]=bn,vr[xr++]=wn,vr[xr++]=Ti,Ti=a;var m=bn;a=wn;var x=32-Lr(m)-1;m&=~(1<<x),f+=1;var S=32-Lr(s)+x;if(30<S){var C=x-x%5;S=(m&(1<<C)-1).toString(32),m>>=C,x-=C,bn=1<<32-Lr(s)+x|f<<x|m,wn=S+a}else bn=1<<S|f<<x|m,wn=a}function nh(a){a.return!==null&&(Ci(a,1),_w(a,1,0))}function ih(a){for(;a===Ou;)Ou=Aa[--Pa],Aa[Pa]=null,ku=Aa[--Pa],Aa[Pa]=null;for(;a===Ti;)Ti=vr[--xr],vr[xr]=null,wn=vr[--xr],vr[xr]=null,bn=vr[--xr],vr[xr]=null}var lr=null,ur=null,rt=!1,Br=null;function Sw(a,s){var f=Sr(5,null,null,0);f.elementType="DELETED",f.stateNode=s,f.return=a,s=a.deletions,s===null?(a.deletions=[f],a.flags|=16):s.push(f)}function jw(a,s){switch(a.tag){case 5:var f=a.type;return s=s.nodeType!==1||f.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(a.stateNode=s,lr=a,ur=Jn(s.firstChild),!0):!1;case 6:return s=a.pendingProps===""||s.nodeType!==3?null:s,s!==null?(a.stateNode=s,lr=a,ur=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(f=Ti!==null?{id:bn,overflow:wn}:null,a.memoizedState={dehydrated:s,treeContext:f,retryLane:1073741824},f=Sr(18,null,null,0),f.stateNode=s,f.return=a,a.child=f,lr=a,ur=null,!0):!1;default:return!1}}function ah(a){return(a.mode&1)!==0&&(a.flags&128)===0}function oh(a){if(rt){var s=ur;if(s){var f=s;if(!jw(a,s)){if(ah(a))throw Error(r(418));s=Jn(f.nextSibling);var m=lr;s&&jw(a,s)?Sw(m,f):(a.flags=a.flags&-4097|2,rt=!1,lr=a)}}else{if(ah(a))throw Error(r(418));a.flags=a.flags&-4097|2,rt=!1,lr=a}}}function Ow(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;lr=a}function Eu(a){if(a!==lr)return!1;if(!rt)return Ow(a),rt=!0,!1;var s;if((s=a.tag!==3)&&!(s=a.tag!==5)&&(s=a.type,s=s!=="head"&&s!=="body"&&!Jf(a.type,a.memoizedProps)),s&&(s=ur)){if(ah(a))throw kw(),Error(r(418));for(;s;)Sw(a,s),s=Jn(s.nextSibling)}if(Ow(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"){if(s===0){ur=Jn(a.nextSibling);break e}s--}else f!=="$"&&f!=="$!"&&f!=="$?"||s++}a=a.nextSibling}ur=null}}else ur=lr?Jn(a.stateNode.nextSibling):null;return!0}function kw(){for(var a=ur;a;)a=Jn(a.nextSibling)}function Ta(){ur=lr=null,rt=!1}function sh(a){Br===null?Br=[a]:Br.push(a)}var wI=P.ReactCurrentBatchConfig;function gs(a,s,f){if(a=f.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var m=f.stateNode}if(!m)throw Error(r(147,a));var x=m,S=""+a;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===S?s.ref:(s=function(C){var D=x.refs;C===null?delete D[S]:D[S]=C},s._stringRef=S,s)}if(typeof a!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,a))}return a}function Au(a,s){throw a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a))}function Ew(a){var s=a._init;return s(a._payload)}function Aw(a){function s(K,W){if(a){var Y=K.deletions;Y===null?(K.deletions=[W],K.flags|=16):Y.push(W)}}function f(K,W){if(!a)return null;for(;W!==null;)s(K,W),W=W.sibling;return null}function m(K,W){for(K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function x(K,W){return K=li(K,W),K.index=0,K.sibling=null,K}function S(K,W,Y){return K.index=Y,a?(Y=K.alternate,Y!==null?(Y=Y.index,Y<W?(K.flags|=2,W):Y):(K.flags|=2,W)):(K.flags|=1048576,W)}function C(K){return a&&K.alternate===null&&(K.flags|=2),K}function D(K,W,Y,le){return W===null||W.tag!==6?(W=Qh(Y,K.mode,le),W.return=K,W):(W=x(W,Y),W.return=K,W)}function B(K,W,Y,le){var me=Y.type;return me===T?ie(K,W,Y.props.children,le,Y.key):W!==null&&(W.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===X&&Ew(me)===W.type)?(le=x(W,Y.props),le.ref=gs(K,W,Y),le.return=K,le):(le=Qu(Y.type,Y.key,Y.props,null,K.mode,le),le.ref=gs(K,W,Y),le.return=K,le)}function J(K,W,Y,le){return W===null||W.tag!==4||W.stateNode.containerInfo!==Y.containerInfo||W.stateNode.implementation!==Y.implementation?(W=Zh(Y,K.mode,le),W.return=K,W):(W=x(W,Y.children||[]),W.return=K,W)}function ie(K,W,Y,le,me){return W===null||W.tag!==7?(W=zi(Y,K.mode,le,me),W.return=K,W):(W=x(W,Y),W.return=K,W)}function oe(K,W,Y){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Qh(""+W,K.mode,Y),W.return=K,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case j:return Y=Qu(W.type,W.key,W.props,null,K.mode,Y),Y.ref=gs(K,null,W),Y.return=K,Y;case A:return W=Zh(W,K.mode,Y),W.return=K,W;case X:var le=W._init;return oe(K,le(W._payload),Y)}if(rn(W)||te(W))return W=zi(W,K.mode,Y,null),W.return=K,W;Au(K,W)}return null}function ne(K,W,Y,le){var me=W!==null?W.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return me!==null?null:D(K,W,""+Y,le);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:return Y.key===me?B(K,W,Y,le):null;case A:return Y.key===me?J(K,W,Y,le):null;case X:return me=Y._init,ne(K,W,me(Y._payload),le)}if(rn(Y)||te(Y))return me!==null?null:ie(K,W,Y,le,null);Au(K,Y)}return null}function ce(K,W,Y,le,me){if(typeof le=="string"&&le!==""||typeof le=="number")return K=K.get(Y)||null,D(W,K,""+le,me);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case j:return K=K.get(le.key===null?Y:le.key)||null,B(W,K,le,me);case A:return K=K.get(le.key===null?Y:le.key)||null,J(W,K,le,me);case X:var be=le._init;return ce(K,W,Y,be(le._payload),me)}if(rn(le)||te(le))return K=K.get(Y)||null,ie(W,K,le,me,null);Au(W,le)}return null}function pe(K,W,Y,le){for(var me=null,be=null,we=W,ke=W=0,Pt=null;we!==null&&ke<Y.length;ke++){we.index>ke?(Pt=we,we=null):Pt=we.sibling;var Be=ne(K,we,Y[ke],le);if(Be===null){we===null&&(we=Pt);break}a&&we&&Be.alternate===null&&s(K,we),W=S(Be,W,ke),be===null?me=Be:be.sibling=Be,be=Be,we=Pt}if(ke===Y.length)return f(K,we),rt&&Ci(K,ke),me;if(we===null){for(;ke<Y.length;ke++)we=oe(K,Y[ke],le),we!==null&&(W=S(we,W,ke),be===null?me=we:be.sibling=we,be=we);return rt&&Ci(K,ke),me}for(we=m(K,we);ke<Y.length;ke++)Pt=ce(we,K,ke,Y[ke],le),Pt!==null&&(a&&Pt.alternate!==null&&we.delete(Pt.key===null?ke:Pt.key),W=S(Pt,W,ke),be===null?me=Pt:be.sibling=Pt,be=Pt);return a&&we.forEach(function(ui){return s(K,ui)}),rt&&Ci(K,ke),me}function ye(K,W,Y,le){var me=te(Y);if(typeof me!="function")throw Error(r(150));if(Y=me.call(Y),Y==null)throw Error(r(151));for(var be=me=null,we=W,ke=W=0,Pt=null,Be=Y.next();we!==null&&!Be.done;ke++,Be=Y.next()){we.index>ke?(Pt=we,we=null):Pt=we.sibling;var ui=ne(K,we,Be.value,le);if(ui===null){we===null&&(we=Pt);break}a&&we&&ui.alternate===null&&s(K,we),W=S(ui,W,ke),be===null?me=ui:be.sibling=ui,be=ui,we=Pt}if(Be.done)return f(K,we),rt&&Ci(K,ke),me;if(we===null){for(;!Be.done;ke++,Be=Y.next())Be=oe(K,Be.value,le),Be!==null&&(W=S(Be,W,ke),be===null?me=Be:be.sibling=Be,be=Be);return rt&&Ci(K,ke),me}for(we=m(K,we);!Be.done;ke++,Be=Y.next())Be=ce(we,K,ke,Be.value,le),Be!==null&&(a&&Be.alternate!==null&&we.delete(Be.key===null?ke:Be.key),W=S(Be,W,ke),be===null?me=Be:be.sibling=Be,be=Be);return a&&we.forEach(function(eR){return s(K,eR)}),rt&&Ci(K,ke),me}function ht(K,W,Y,le){if(typeof Y=="object"&&Y!==null&&Y.type===T&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:e:{for(var me=Y.key,be=W;be!==null;){if(be.key===me){if(me=Y.type,me===T){if(be.tag===7){f(K,be.sibling),W=x(be,Y.props.children),W.return=K,K=W;break e}}else if(be.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===X&&Ew(me)===be.type){f(K,be.sibling),W=x(be,Y.props),W.ref=gs(K,be,Y),W.return=K,K=W;break e}f(K,be);break}else s(K,be);be=be.sibling}Y.type===T?(W=zi(Y.props.children,K.mode,le,Y.key),W.return=K,K=W):(le=Qu(Y.type,Y.key,Y.props,null,K.mode,le),le.ref=gs(K,W,Y),le.return=K,K=le)}return C(K);case A:e:{for(be=Y.key;W!==null;){if(W.key===be)if(W.tag===4&&W.stateNode.containerInfo===Y.containerInfo&&W.stateNode.implementation===Y.implementation){f(K,W.sibling),W=x(W,Y.children||[]),W.return=K,K=W;break e}else{f(K,W);break}else s(K,W);W=W.sibling}W=Zh(Y,K.mode,le),W.return=K,K=W}return C(K);case X:return be=Y._init,ht(K,W,be(Y._payload),le)}if(rn(Y))return pe(K,W,Y,le);if(te(Y))return ye(K,W,Y,le);Au(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,W!==null&&W.tag===6?(f(K,W.sibling),W=x(W,Y),W.return=K,K=W):(f(K,W),W=Qh(Y,K.mode,le),W.return=K,K=W),C(K)):f(K,W)}return ht}var Ca=Aw(!0),Pw=Aw(!1),Pu=Qn(null),Tu=null,Na=null,lh=null;function uh(){lh=Na=Tu=null}function ch(a){var s=Pu.current;et(Pu),a._currentValue=s}function dh(a,s,f){for(;a!==null;){var m=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),a===f)break;a=a.return}}function Ia(a,s){Tu=a,lh=Na=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&s)!==0&&(tr=!0),a.firstContext=null)}function br(a){var s=a._currentValue;if(lh!==a)if(a={context:a,memoizedValue:s,next:null},Na===null){if(Tu===null)throw Error(r(308));Na=a,Tu.dependencies={lanes:0,firstContext:a}}else Na=Na.next=a;return s}var Ni=null;function fh(a){Ni===null?Ni=[a]:Ni.push(a)}function Tw(a,s,f,m){var x=s.interleaved;return x===null?(f.next=f,fh(s)):(f.next=x.next,x.next=f),s.interleaved=f,_n(a,m)}function _n(a,s){a.lanes|=s;var f=a.alternate;for(f!==null&&(f.lanes|=s),f=a,a=a.return;a!==null;)a.childLanes|=s,f=a.alternate,f!==null&&(f.childLanes|=s),f=a,a=a.return;return f.tag===3?f.stateNode:null}var ti=!1;function hh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cw(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Sn(a,s){return{eventTime:a,lane:s,tag:0,payload:null,callback:null,next:null}}function ri(a,s,f){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Le&2)!==0){var x=m.pending;return x===null?s.next=s:(s.next=x.next,x.next=s),m.pending=s,_n(a,f)}return x=m.interleaved,x===null?(s.next=s,fh(m)):(s.next=x.next,x.next=s),m.interleaved=s,_n(a,f)}function Cu(a,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194240)!==0)){var m=s.lanes;m&=a.pendingLanes,f|=m,s.lanes=f,Ef(a,f)}}function Nw(a,s){var f=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var x=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var C={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};S===null?x=S=C:S=S.next=C,f=f.next}while(f!==null);S===null?x=S=s:S=S.next=s}else x=S=s;f={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:m.shared,effects:m.effects},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=s:a.next=s,f.lastBaseUpdate=s}function Nu(a,s,f,m){var x=a.updateQueue;ti=!1;var S=x.firstBaseUpdate,C=x.lastBaseUpdate,D=x.shared.pending;if(D!==null){x.shared.pending=null;var B=D,J=B.next;B.next=null,C===null?S=J:C.next=J,C=B;var ie=a.alternate;ie!==null&&(ie=ie.updateQueue,D=ie.lastBaseUpdate,D!==C&&(D===null?ie.firstBaseUpdate=J:D.next=J,ie.lastBaseUpdate=B))}if(S!==null){var oe=x.baseState;C=0,ie=J=B=null,D=S;do{var ne=D.lane,ce=D.eventTime;if((m&ne)===ne){ie!==null&&(ie=ie.next={eventTime:ce,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var pe=a,ye=D;switch(ne=s,ce=f,ye.tag){case 1:if(pe=ye.payload,typeof pe=="function"){oe=pe.call(ce,oe,ne);break e}oe=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ye.payload,ne=typeof pe=="function"?pe.call(ce,oe,ne):pe,ne==null)break e;oe=Q({},oe,ne);break e;case 2:ti=!0}}D.callback!==null&&D.lane!==0&&(a.flags|=64,ne=x.effects,ne===null?x.effects=[D]:ne.push(D))}else ce={eventTime:ce,lane:ne,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ie===null?(J=ie=ce,B=oe):ie=ie.next=ce,C|=ne;if(D=D.next,D===null){if(D=x.shared.pending,D===null)break;ne=D,D=ne.next,ne.next=null,x.lastBaseUpdate=ne,x.shared.pending=null}}while(!0);if(ie===null&&(B=oe),x.baseState=B,x.firstBaseUpdate=J,x.lastBaseUpdate=ie,s=x.shared.interleaved,s!==null){x=s;do C|=x.lane,x=x.next;while(x!==s)}else S===null&&(x.shared.lanes=0);$i|=C,a.lanes=C,a.memoizedState=oe}}function Iw(a,s,f){if(a=s.effects,s.effects=null,a!==null)for(s=0;s<a.length;s++){var m=a[s],x=m.callback;if(x!==null){if(m.callback=null,m=f,typeof x!="function")throw Error(r(191,x));x.call(m)}}}var vs={},on=Qn(vs),xs=Qn(vs),bs=Qn(vs);function Ii(a){if(a===vs)throw Error(r(174));return a}function ph(a,s){switch(Xe(bs,s),Xe(xs,a),Xe(on,vs),a=s.nodeType,a){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:yf(null,"");break;default:a=a===8?s.parentNode:s,s=a.namespaceURI||null,a=a.tagName,s=yf(s,a)}et(on),Xe(on,s)}function Ra(){et(on),et(xs),et(bs)}function Rw(a){Ii(bs.current);var s=Ii(on.current),f=yf(s,a.type);s!==f&&(Xe(xs,a),Xe(on,f))}function yh(a){xs.current===a&&(et(on),et(xs))}var it=Qn(0);function Iu(a){for(var s=a;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var mh=[];function gh(){for(var a=0;a<mh.length;a++)mh[a]._workInProgressVersionPrimary=null;mh.length=0}var Ru=P.ReactCurrentDispatcher,vh=P.ReactCurrentBatchConfig,Ri=0,at=null,xt=null,Et=null,$u=!1,ws=!1,_s=0,_I=0;function qt(){throw Error(r(321))}function xh(a,s){if(s===null)return!1;for(var f=0;f<s.length&&f<a.length;f++)if(!zr(a[f],s[f]))return!1;return!0}function bh(a,s,f,m,x,S){if(Ri=S,at=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ru.current=a===null||a.memoizedState===null?kI:EI,a=f(m,x),ws){S=0;do{if(ws=!1,_s=0,25<=S)throw Error(r(301));S+=1,Et=xt=null,s.updateQueue=null,Ru.current=AI,a=f(m,x)}while(ws)}if(Ru.current=Lu,s=xt!==null&&xt.next!==null,Ri=0,Et=xt=at=null,$u=!1,s)throw Error(r(300));return a}function wh(){var a=_s!==0;return _s=0,a}function sn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?at.memoizedState=Et=a:Et=Et.next=a,Et}function wr(){if(xt===null){var a=at.alternate;a=a!==null?a.memoizedState:null}else a=xt.next;var s=Et===null?at.memoizedState:Et.next;if(s!==null)Et=s,xt=a;else{if(a===null)throw Error(r(310));xt=a,a={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Et===null?at.memoizedState=Et=a:Et=Et.next=a}return Et}function Ss(a,s){return typeof s=="function"?s(a):s}function _h(a){var s=wr(),f=s.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var m=xt,x=m.baseQueue,S=f.pending;if(S!==null){if(x!==null){var C=x.next;x.next=S.next,S.next=C}m.baseQueue=x=S,f.pending=null}if(x!==null){S=x.next,m=m.baseState;var D=C=null,B=null,J=S;do{var ie=J.lane;if((Ri&ie)===ie)B!==null&&(B=B.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),m=J.hasEagerState?J.eagerState:a(m,J.action);else{var oe={lane:ie,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};B===null?(D=B=oe,C=m):B=B.next=oe,at.lanes|=ie,$i|=ie}J=J.next}while(J!==null&&J!==S);B===null?C=m:B.next=D,zr(m,s.memoizedState)||(tr=!0),s.memoizedState=m,s.baseState=C,s.baseQueue=B,f.lastRenderedState=m}if(a=f.interleaved,a!==null){x=a;do S=x.lane,at.lanes|=S,$i|=S,x=x.next;while(x!==a)}else x===null&&(f.lanes=0);return[s.memoizedState,f.dispatch]}function Sh(a){var s=wr(),f=s.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var m=f.dispatch,x=f.pending,S=s.memoizedState;if(x!==null){f.pending=null;var C=x=x.next;do S=a(S,C.action),C=C.next;while(C!==x);zr(S,s.memoizedState)||(tr=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),f.lastRenderedState=S}return[S,m]}function $w(){}function Mw(a,s){var f=at,m=wr(),x=s(),S=!zr(m.memoizedState,x);if(S&&(m.memoizedState=x,tr=!0),m=m.queue,jh(zw.bind(null,f,m,a),[a]),m.getSnapshot!==s||S||Et!==null&&Et.memoizedState.tag&1){if(f.flags|=2048,js(9,Lw.bind(null,f,m,x,s),void 0,null),At===null)throw Error(r(349));(Ri&30)!==0||Dw(f,s,x)}return x}function Dw(a,s,f){a.flags|=16384,a={getSnapshot:s,value:f},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.stores=[a]):(f=s.stores,f===null?s.stores=[a]:f.push(a))}function Lw(a,s,f,m){s.value=f,s.getSnapshot=m,Bw(s)&&qw(a)}function zw(a,s,f){return f(function(){Bw(s)&&qw(a)})}function Bw(a){var s=a.getSnapshot;a=a.value;try{var f=s();return!zr(a,f)}catch{return!0}}function qw(a){var s=_n(a,1);s!==null&&Wr(s,a,1,-1)}function Uw(a){var s=sn();return typeof a=="function"&&(a=a()),s.memoizedState=s.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:a},s.queue=a,a=a.dispatch=OI.bind(null,at,a),[s.memoizedState,a]}function js(a,s,f,m){return a={tag:a,create:s,destroy:f,deps:m,next:null},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.lastEffect=a.next=a):(f=s.lastEffect,f===null?s.lastEffect=a.next=a:(m=f.next,f.next=a,a.next=m,s.lastEffect=a)),a}function Fw(){return wr().memoizedState}function Mu(a,s,f,m){var x=sn();at.flags|=a,x.memoizedState=js(1|s,f,void 0,m===void 0?null:m)}function Du(a,s,f,m){var x=wr();m=m===void 0?null:m;var S=void 0;if(xt!==null){var C=xt.memoizedState;if(S=C.destroy,m!==null&&xh(m,C.deps)){x.memoizedState=js(s,f,S,m);return}}at.flags|=a,x.memoizedState=js(1|s,f,S,m)}function Ww(a,s){return Mu(8390656,8,a,s)}function jh(a,s){return Du(2048,8,a,s)}function Hw(a,s){return Du(4,2,a,s)}function Vw(a,s){return Du(4,4,a,s)}function Kw(a,s){if(typeof s=="function")return a=a(),s(a),function(){s(null)};if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function Gw(a,s,f){return f=f!=null?f.concat([a]):null,Du(4,4,Kw.bind(null,s,a),f)}function Oh(){}function Xw(a,s){var f=wr();s=s===void 0?null:s;var m=f.memoizedState;return m!==null&&s!==null&&xh(s,m[1])?m[0]:(f.memoizedState=[a,s],a)}function Yw(a,s){var f=wr();s=s===void 0?null:s;var m=f.memoizedState;return m!==null&&s!==null&&xh(s,m[1])?m[0]:(a=a(),f.memoizedState=[a,s],a)}function Jw(a,s,f){return(Ri&21)===0?(a.baseState&&(a.baseState=!1,tr=!0),a.memoizedState=f):(zr(f,s)||(f=Eb(),at.lanes|=f,$i|=f,a.baseState=!0),s)}function SI(a,s){var f=We;We=f!==0&&4>f?f:4,a(!0);var m=vh.transition;vh.transition={};try{a(!1),s()}finally{We=f,vh.transition=m}}function Qw(){return wr().memoizedState}function jI(a,s,f){var m=oi(a);if(f={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null},Zw(a))e1(s,f);else if(f=Tw(a,s,f,m),f!==null){var x=Xt();Wr(f,a,m,x),t1(f,s,m)}}function OI(a,s,f){var m=oi(a),x={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null};if(Zw(a))e1(s,x);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var C=s.lastRenderedState,D=S(C,f);if(x.hasEagerState=!0,x.eagerState=D,zr(D,C)){var B=s.interleaved;B===null?(x.next=x,fh(s)):(x.next=B.next,B.next=x),s.interleaved=x;return}}catch{}finally{}f=Tw(a,s,x,m),f!==null&&(x=Xt(),Wr(f,a,m,x),t1(f,s,m))}}function Zw(a){var s=a.alternate;return a===at||s!==null&&s===at}function e1(a,s){ws=$u=!0;var f=a.pending;f===null?s.next=s:(s.next=f.next,f.next=s),a.pending=s}function t1(a,s,f){if((f&4194240)!==0){var m=s.lanes;m&=a.pendingLanes,f|=m,s.lanes=f,Ef(a,f)}}var Lu={readContext:br,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},kI={readContext:br,useCallback:function(a,s){return sn().memoizedState=[a,s===void 0?null:s],a},useContext:br,useEffect:Ww,useImperativeHandle:function(a,s,f){return f=f!=null?f.concat([a]):null,Mu(4194308,4,Kw.bind(null,s,a),f)},useLayoutEffect:function(a,s){return Mu(4194308,4,a,s)},useInsertionEffect:function(a,s){return Mu(4,2,a,s)},useMemo:function(a,s){var f=sn();return s=s===void 0?null:s,a=a(),f.memoizedState=[a,s],a},useReducer:function(a,s,f){var m=sn();return s=f!==void 0?f(s):s,m.memoizedState=m.baseState=s,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:s},m.queue=a,a=a.dispatch=jI.bind(null,at,a),[m.memoizedState,a]},useRef:function(a){var s=sn();return a={current:a},s.memoizedState=a},useState:Uw,useDebugValue:Oh,useDeferredValue:function(a){return sn().memoizedState=a},useTransition:function(){var a=Uw(!1),s=a[0];return a=SI.bind(null,a[1]),sn().memoizedState=a,[s,a]},useMutableSource:function(){},useSyncExternalStore:function(a,s,f){var m=at,x=sn();if(rt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=s(),At===null)throw Error(r(349));(Ri&30)!==0||Dw(m,s,f)}x.memoizedState=f;var S={value:f,getSnapshot:s};return x.queue=S,Ww(zw.bind(null,m,S,a),[a]),m.flags|=2048,js(9,Lw.bind(null,m,S,f,s),void 0,null),f},useId:function(){var a=sn(),s=At.identifierPrefix;if(rt){var f=wn,m=bn;f=(m&~(1<<32-Lr(m)-1)).toString(32)+f,s=":"+s+"R"+f,f=_s++,0<f&&(s+="H"+f.toString(32)),s+=":"}else f=_I++,s=":"+s+"r"+f.toString(32)+":";return a.memoizedState=s},unstable_isNewReconciler:!1},EI={readContext:br,useCallback:Xw,useContext:br,useEffect:jh,useImperativeHandle:Gw,useInsertionEffect:Hw,useLayoutEffect:Vw,useMemo:Yw,useReducer:_h,useRef:Fw,useState:function(){return _h(Ss)},useDebugValue:Oh,useDeferredValue:function(a){var s=wr();return Jw(s,xt.memoizedState,a)},useTransition:function(){var a=_h(Ss)[0],s=wr().memoizedState;return[a,s]},useMutableSource:$w,useSyncExternalStore:Mw,useId:Qw,unstable_isNewReconciler:!1},AI={readContext:br,useCallback:Xw,useContext:br,useEffect:jh,useImperativeHandle:Gw,useInsertionEffect:Hw,useLayoutEffect:Vw,useMemo:Yw,useReducer:Sh,useRef:Fw,useState:function(){return Sh(Ss)},useDebugValue:Oh,useDeferredValue:function(a){var s=wr();return xt===null?s.memoizedState=a:Jw(s,xt.memoizedState,a)},useTransition:function(){var a=Sh(Ss)[0],s=wr().memoizedState;return[a,s]},useMutableSource:$w,useSyncExternalStore:Mw,useId:Qw,unstable_isNewReconciler:!1};function qr(a,s){if(a&&a.defaultProps){s=Q({},s),a=a.defaultProps;for(var f in a)s[f]===void 0&&(s[f]=a[f]);return s}return s}function kh(a,s,f,m){s=a.memoizedState,f=f(m,s),f=f==null?s:Q({},s,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var zu={isMounted:function(a){return(a=a._reactInternals)?Ei(a)===a:!1},enqueueSetState:function(a,s,f){a=a._reactInternals;var m=Xt(),x=oi(a),S=Sn(m,x);S.payload=s,f!=null&&(S.callback=f),s=ri(a,S,x),s!==null&&(Wr(s,a,x,m),Cu(s,a,x))},enqueueReplaceState:function(a,s,f){a=a._reactInternals;var m=Xt(),x=oi(a),S=Sn(m,x);S.tag=1,S.payload=s,f!=null&&(S.callback=f),s=ri(a,S,x),s!==null&&(Wr(s,a,x,m),Cu(s,a,x))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var f=Xt(),m=oi(a),x=Sn(f,m);x.tag=2,s!=null&&(x.callback=s),s=ri(a,x,m),s!==null&&(Wr(s,a,m,f),Cu(s,a,m))}};function r1(a,s,f,m,x,S,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,S,C):s.prototype&&s.prototype.isPureReactComponent?!cs(f,m)||!cs(x,S):!0}function n1(a,s,f){var m=!1,x=Zn,S=s.contextType;return typeof S=="object"&&S!==null?S=br(S):(x=er(s)?Pi:Bt.current,m=s.contextTypes,S=(m=m!=null)?Ea(a,x):Zn),s=new s(f,S),a.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=zu,a.stateNode=s,s._reactInternals=a,m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=x,a.__reactInternalMemoizedMaskedChildContext=S),s}function i1(a,s,f,m){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,m),s.state!==a&&zu.enqueueReplaceState(s,s.state,null)}function Eh(a,s,f,m){var x=a.stateNode;x.props=f,x.state=a.memoizedState,x.refs={},hh(a);var S=s.contextType;typeof S=="object"&&S!==null?x.context=br(S):(S=er(s)?Pi:Bt.current,x.context=Ea(a,S)),x.state=a.memoizedState,S=s.getDerivedStateFromProps,typeof S=="function"&&(kh(a,s,S,f),x.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(s=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),s!==x.state&&zu.enqueueReplaceState(x,x.state,null),Nu(a,f,x,m),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308)}function $a(a,s){try{var f="",m=s;do f+=ve(m),m=m.return;while(m);var x=f}catch(S){x=`
Error generating stack: `+S.message+`
`+S.stack}return{value:a,source:s,stack:x,digest:null}}function Ah(a,s,f){return{value:a,source:null,stack:f??null,digest:s??null}}function Ph(a,s){try{console.error(s.value)}catch(f){setTimeout(function(){throw f})}}var PI=typeof WeakMap=="function"?WeakMap:Map;function a1(a,s,f){f=Sn(-1,f),f.tag=3,f.payload={element:null};var m=s.value;return f.callback=function(){Vu||(Vu=!0,Wh=m),Ph(a,s)},f}function o1(a,s,f){f=Sn(-1,f),f.tag=3;var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var x=s.value;f.payload=function(){return m(x)},f.callback=function(){Ph(a,s)}}var S=a.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(f.callback=function(){Ph(a,s),typeof m!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})}),f}function s1(a,s,f){var m=a.pingCache;if(m===null){m=a.pingCache=new PI;var x=new Set;m.set(s,x)}else x=m.get(s),x===void 0&&(x=new Set,m.set(s,x));x.has(f)||(x.add(f),a=FI.bind(null,a,s,f),s.then(a,a))}function l1(a){do{var s;if((s=a.tag===13)&&(s=a.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return a;a=a.return}while(a!==null);return null}function u1(a,s,f,m,x){return(a.mode&1)===0?(a===s?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(s=Sn(-1,1),s.tag=2,ri(f,s,1))),f.lanes|=1),a):(a.flags|=65536,a.lanes=x,a)}var TI=P.ReactCurrentOwner,tr=!1;function Gt(a,s,f,m){s.child=a===null?Pw(s,null,f,m):Ca(s,a.child,f,m)}function c1(a,s,f,m,x){f=f.render;var S=s.ref;return Ia(s,x),m=bh(a,s,f,m,S,x),f=wh(),a!==null&&!tr?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~x,jn(a,s,x)):(rt&&f&&nh(s),s.flags|=1,Gt(a,s,m,x),s.child)}function d1(a,s,f,m,x){if(a===null){var S=f.type;return typeof S=="function"&&!Jh(S)&&S.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(s.tag=15,s.type=S,f1(a,s,S,m,x)):(a=Qu(f.type,null,m,s,s.mode,x),a.ref=s.ref,a.return=s,s.child=a)}if(S=a.child,(a.lanes&x)===0){var C=S.memoizedProps;if(f=f.compare,f=f!==null?f:cs,f(C,m)&&a.ref===s.ref)return jn(a,s,x)}return s.flags|=1,a=li(S,m),a.ref=s.ref,a.return=s,s.child=a}function f1(a,s,f,m,x){if(a!==null){var S=a.memoizedProps;if(cs(S,m)&&a.ref===s.ref)if(tr=!1,s.pendingProps=m=S,(a.lanes&x)!==0)(a.flags&131072)!==0&&(tr=!0);else return s.lanes=a.lanes,jn(a,s,x)}return Th(a,s,f,m,x)}function h1(a,s,f){var m=s.pendingProps,x=m.children,S=a!==null?a.memoizedState:null;if(m.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Da,cr),cr|=f;else{if((f&1073741824)===0)return a=S!==null?S.baseLanes|f:f,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:a,cachePool:null,transitions:null},s.updateQueue=null,Xe(Da,cr),cr|=a,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=S!==null?S.baseLanes:f,Xe(Da,cr),cr|=m}else S!==null?(m=S.baseLanes|f,s.memoizedState=null):m=f,Xe(Da,cr),cr|=m;return Gt(a,s,x,f),s.child}function p1(a,s){var f=s.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(s.flags|=512,s.flags|=2097152)}function Th(a,s,f,m,x){var S=er(f)?Pi:Bt.current;return S=Ea(s,S),Ia(s,x),f=bh(a,s,f,m,S,x),m=wh(),a!==null&&!tr?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~x,jn(a,s,x)):(rt&&m&&nh(s),s.flags|=1,Gt(a,s,f,x),s.child)}function y1(a,s,f,m,x){if(er(f)){var S=!0;Su(s)}else S=!1;if(Ia(s,x),s.stateNode===null)qu(a,s),n1(s,f,m),Eh(s,f,m,x),m=!0;else if(a===null){var C=s.stateNode,D=s.memoizedProps;C.props=D;var B=C.context,J=f.contextType;typeof J=="object"&&J!==null?J=br(J):(J=er(f)?Pi:Bt.current,J=Ea(s,J));var ie=f.getDerivedStateFromProps,oe=typeof ie=="function"||typeof C.getSnapshotBeforeUpdate=="function";oe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(D!==m||B!==J)&&i1(s,C,m,J),ti=!1;var ne=s.memoizedState;C.state=ne,Nu(s,m,C,x),B=s.memoizedState,D!==m||ne!==B||Zt.current||ti?(typeof ie=="function"&&(kh(s,f,ie,m),B=s.memoizedState),(D=ti||r1(s,f,D,m,ne,B,J))?(oe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(s.flags|=4194308)):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=B),C.props=m,C.state=B,C.context=J,m=D):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{C=s.stateNode,Cw(a,s),D=s.memoizedProps,J=s.type===s.elementType?D:qr(s.type,D),C.props=J,oe=s.pendingProps,ne=C.context,B=f.contextType,typeof B=="object"&&B!==null?B=br(B):(B=er(f)?Pi:Bt.current,B=Ea(s,B));var ce=f.getDerivedStateFromProps;(ie=typeof ce=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(D!==oe||ne!==B)&&i1(s,C,m,B),ti=!1,ne=s.memoizedState,C.state=ne,Nu(s,m,C,x);var pe=s.memoizedState;D!==oe||ne!==pe||Zt.current||ti?(typeof ce=="function"&&(kh(s,f,ce,m),pe=s.memoizedState),(J=ti||r1(s,f,J,m,ne,pe,B)||!1)?(ie||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,pe,B),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,pe,B)),typeof C.componentDidUpdate=="function"&&(s.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof C.componentDidUpdate!="function"||D===a.memoizedProps&&ne===a.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&ne===a.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=pe),C.props=m,C.state=pe,C.context=B,m=J):(typeof C.componentDidUpdate!="function"||D===a.memoizedProps&&ne===a.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&ne===a.memoizedState||(s.flags|=1024),m=!1)}return Ch(a,s,f,m,S,x)}function Ch(a,s,f,m,x,S){p1(a,s);var C=(s.flags&128)!==0;if(!m&&!C)return x&&bw(s,f,!1),jn(a,s,S);m=s.stateNode,TI.current=s;var D=C&&typeof f.getDerivedStateFromError!="function"?null:m.render();return s.flags|=1,a!==null&&C?(s.child=Ca(s,a.child,null,S),s.child=Ca(s,null,D,S)):Gt(a,s,D,S),s.memoizedState=m.state,x&&bw(s,f,!0),s.child}function m1(a){var s=a.stateNode;s.pendingContext?vw(a,s.pendingContext,s.pendingContext!==s.context):s.context&&vw(a,s.context,!1),ph(a,s.containerInfo)}function g1(a,s,f,m,x){return Ta(),sh(x),s.flags|=256,Gt(a,s,f,m),s.child}var Nh={dehydrated:null,treeContext:null,retryLane:0};function Ih(a){return{baseLanes:a,cachePool:null,transitions:null}}function v1(a,s,f){var m=s.pendingProps,x=it.current,S=!1,C=(s.flags&128)!==0,D;if((D=C)||(D=a!==null&&a.memoizedState===null?!1:(x&2)!==0),D?(S=!0,s.flags&=-129):(a===null||a.memoizedState!==null)&&(x|=1),Xe(it,x&1),a===null)return oh(s),a=s.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((s.mode&1)===0?s.lanes=1:a.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(C=m.children,a=m.fallback,S?(m=s.mode,S=s.child,C={mode:"hidden",children:C},(m&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=C):S=Zu(C,m,0,null),a=zi(a,m,f,null),S.return=s,a.return=s,S.sibling=a,s.child=S,s.child.memoizedState=Ih(f),s.memoizedState=Nh,a):Rh(s,C));if(x=a.memoizedState,x!==null&&(D=x.dehydrated,D!==null))return CI(a,s,C,m,D,x,f);if(S){S=m.fallback,C=s.mode,x=a.child,D=x.sibling;var B={mode:"hidden",children:m.children};return(C&1)===0&&s.child!==x?(m=s.child,m.childLanes=0,m.pendingProps=B,s.deletions=null):(m=li(x,B),m.subtreeFlags=x.subtreeFlags&14680064),D!==null?S=li(D,S):(S=zi(S,C,f,null),S.flags|=2),S.return=s,m.return=s,m.sibling=S,s.child=m,m=S,S=s.child,C=a.child.memoizedState,C=C===null?Ih(f):{baseLanes:C.baseLanes|f,cachePool:null,transitions:C.transitions},S.memoizedState=C,S.childLanes=a.childLanes&~f,s.memoizedState=Nh,m}return S=a.child,a=S.sibling,m=li(S,{mode:"visible",children:m.children}),(s.mode&1)===0&&(m.lanes=f),m.return=s,m.sibling=null,a!==null&&(f=s.deletions,f===null?(s.deletions=[a],s.flags|=16):f.push(a)),s.child=m,s.memoizedState=null,m}function Rh(a,s){return s=Zu({mode:"visible",children:s},a.mode,0,null),s.return=a,a.child=s}function Bu(a,s,f,m){return m!==null&&sh(m),Ca(s,a.child,null,f),a=Rh(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function CI(a,s,f,m,x,S,C){if(f)return s.flags&256?(s.flags&=-257,m=Ah(Error(r(422))),Bu(a,s,C,m)):s.memoizedState!==null?(s.child=a.child,s.flags|=128,null):(S=m.fallback,x=s.mode,m=Zu({mode:"visible",children:m.children},x,0,null),S=zi(S,x,C,null),S.flags|=2,m.return=s,S.return=s,m.sibling=S,s.child=m,(s.mode&1)!==0&&Ca(s,a.child,null,C),s.child.memoizedState=Ih(C),s.memoizedState=Nh,S);if((s.mode&1)===0)return Bu(a,s,C,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var D=m.dgst;return m=D,S=Error(r(419)),m=Ah(S,m,void 0),Bu(a,s,C,m)}if(D=(C&a.childLanes)!==0,tr||D){if(m=At,m!==null){switch(C&-C){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|C))!==0?0:x,x!==0&&x!==S.retryLane&&(S.retryLane=x,_n(a,x),Wr(m,a,x,-1))}return Yh(),m=Ah(Error(r(421))),Bu(a,s,C,m)}return x.data==="$?"?(s.flags|=128,s.child=a.child,s=WI.bind(null,a),x._reactRetry=s,null):(a=S.treeContext,ur=Jn(x.nextSibling),lr=s,rt=!0,Br=null,a!==null&&(vr[xr++]=bn,vr[xr++]=wn,vr[xr++]=Ti,bn=a.id,wn=a.overflow,Ti=s),s=Rh(s,m.children),s.flags|=4096,s)}function x1(a,s,f){a.lanes|=s;var m=a.alternate;m!==null&&(m.lanes|=s),dh(a.return,s,f)}function $h(a,s,f,m,x){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:x}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=f,S.tailMode=x)}function b1(a,s,f){var m=s.pendingProps,x=m.revealOrder,S=m.tail;if(Gt(a,s,m.children,f),m=it.current,(m&2)!==0)m=m&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&x1(a,f,s);else if(a.tag===19)x1(a,f,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}if(Xe(it,m),(s.mode&1)===0)s.memoizedState=null;else switch(x){case"forwards":for(f=s.child,x=null;f!==null;)a=f.alternate,a!==null&&Iu(a)===null&&(x=f),f=f.sibling;f=x,f===null?(x=s.child,s.child=null):(x=f.sibling,f.sibling=null),$h(s,!1,x,f,S);break;case"backwards":for(f=null,x=s.child,s.child=null;x!==null;){if(a=x.alternate,a!==null&&Iu(a)===null){s.child=x;break}a=x.sibling,x.sibling=f,f=x,x=a}$h(s,!0,f,null,S);break;case"together":$h(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function qu(a,s){(s.mode&1)===0&&a!==null&&(a.alternate=null,s.alternate=null,s.flags|=2)}function jn(a,s,f){if(a!==null&&(s.dependencies=a.dependencies),$i|=s.lanes,(f&s.childLanes)===0)return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,f=li(a,a.pendingProps),s.child=f,f.return=s;a.sibling!==null;)a=a.sibling,f=f.sibling=li(a,a.pendingProps),f.return=s;f.sibling=null}return s.child}function NI(a,s,f){switch(s.tag){case 3:m1(s),Ta();break;case 5:Rw(s);break;case 1:er(s.type)&&Su(s);break;case 4:ph(s,s.stateNode.containerInfo);break;case 10:var m=s.type._context,x=s.memoizedProps.value;Xe(Pu,m._currentValue),m._currentValue=x;break;case 13:if(m=s.memoizedState,m!==null)return m.dehydrated!==null?(Xe(it,it.current&1),s.flags|=128,null):(f&s.child.childLanes)!==0?v1(a,s,f):(Xe(it,it.current&1),a=jn(a,s,f),a!==null?a.sibling:null);Xe(it,it.current&1);break;case 19:if(m=(f&s.childLanes)!==0,(a.flags&128)!==0){if(m)return b1(a,s,f);s.flags|=128}if(x=s.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Xe(it,it.current),m)break;return null;case 22:case 23:return s.lanes=0,h1(a,s,f)}return jn(a,s,f)}var w1,Mh,_1,S1;w1=function(a,s){for(var f=s.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Mh=function(){},_1=function(a,s,f,m){var x=a.memoizedProps;if(x!==m){a=s.stateNode,Ii(on.current);var S=null;switch(f){case"input":x=Re(a,x),m=Re(a,m),S=[];break;case"select":x=Q({},x,{value:void 0}),m=Q({},m,{value:void 0}),S=[];break;case"textarea":x=Dr(a,x),m=Dr(a,m),S=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(a.onclick=bu)}mf(f,m);var C;f=null;for(J in x)if(!m.hasOwnProperty(J)&&x.hasOwnProperty(J)&&x[J]!=null)if(J==="style"){var D=x[J];for(C in D)D.hasOwnProperty(C)&&(f||(f={}),f[C]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?S||(S=[]):(S=S||[]).push(J,null));for(J in m){var B=m[J];if(D=x?.[J],m.hasOwnProperty(J)&&B!==D&&(B!=null||D!=null))if(J==="style")if(D){for(C in D)!D.hasOwnProperty(C)||B&&B.hasOwnProperty(C)||(f||(f={}),f[C]="");for(C in B)B.hasOwnProperty(C)&&D[C]!==B[C]&&(f||(f={}),f[C]=B[C])}else f||(S||(S=[]),S.push(J,f)),f=B;else J==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,D=D?D.__html:void 0,B!=null&&D!==B&&(S=S||[]).push(J,B)):J==="children"?typeof B!="string"&&typeof B!="number"||(S=S||[]).push(J,""+B):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(i.hasOwnProperty(J)?(B!=null&&J==="onScroll"&&Ze("scroll",a),S||D===B||(S=[])):(S=S||[]).push(J,B))}f&&(S=S||[]).push("style",f);var J=S;(s.updateQueue=J)&&(s.flags|=4)}},S1=function(a,s,f,m){f!==m&&(s.flags|=4)};function Os(a,s){if(!rt)switch(a.tailMode){case"hidden":s=a.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Ut(a){var s=a.alternate!==null&&a.alternate.child===a.child,f=0,m=0;if(s)for(var x=a.child;x!==null;)f|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)f|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=m,a.childLanes=f,s}function II(a,s,f){var m=s.pendingProps;switch(ih(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return er(s.type)&&_u(),Ut(s),null;case 3:return m=s.stateNode,Ra(),et(Zt),et(Bt),gh(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(a===null||a.child===null)&&(Eu(s)?s.flags|=4:a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Br!==null&&(Kh(Br),Br=null))),Mh(a,s),Ut(s),null;case 5:yh(s);var x=Ii(bs.current);if(f=s.type,a!==null&&s.stateNode!=null)_1(a,s,f,m,x),a.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!m){if(s.stateNode===null)throw Error(r(166));return Ut(s),null}if(a=Ii(on.current),Eu(s)){m=s.stateNode,f=s.type;var S=s.memoizedProps;switch(m[an]=s,m[ys]=S,a=(s.mode&1)!==0,f){case"dialog":Ze("cancel",m),Ze("close",m);break;case"iframe":case"object":case"embed":Ze("load",m);break;case"video":case"audio":for(x=0;x<fs.length;x++)Ze(fs[x],m);break;case"source":Ze("error",m);break;case"img":case"image":case"link":Ze("error",m),Ze("load",m);break;case"details":Ze("toggle",m);break;case"input":st(m,S),Ze("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!S.multiple},Ze("invalid",m);break;case"textarea":ya(m,S),Ze("invalid",m)}mf(f,S),x=null;for(var C in S)if(S.hasOwnProperty(C)){var D=S[C];C==="children"?typeof D=="string"?m.textContent!==D&&(S.suppressHydrationWarning!==!0&&xu(m.textContent,D,a),x=["children",D]):typeof D=="number"&&m.textContent!==""+D&&(S.suppressHydrationWarning!==!0&&xu(m.textContent,D,a),x=["children",""+D]):i.hasOwnProperty(C)&&D!=null&&C==="onScroll"&&Ze("scroll",m)}switch(f){case"input":Pe(m),Mr(m,S,!0);break;case"textarea":Pe(m),Vo(m);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(m.onclick=bu)}m=x,s.updateQueue=m,m!==null&&(s.flags|=4)}else{C=x.nodeType===9?x:x.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=ub(f)),a==="http://www.w3.org/1999/xhtml"?f==="script"?(a=C.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof m.is=="string"?a=C.createElement(f,{is:m.is}):(a=C.createElement(f),f==="select"&&(C=a,m.multiple?C.multiple=!0:m.size&&(C.size=m.size))):a=C.createElementNS(a,f),a[an]=s,a[ys]=m,w1(a,s,!1,!1),s.stateNode=a;e:{switch(C=gf(f,m),f){case"dialog":Ze("cancel",a),Ze("close",a),x=m;break;case"iframe":case"object":case"embed":Ze("load",a),x=m;break;case"video":case"audio":for(x=0;x<fs.length;x++)Ze(fs[x],a);x=m;break;case"source":Ze("error",a),x=m;break;case"img":case"image":case"link":Ze("error",a),Ze("load",a),x=m;break;case"details":Ze("toggle",a),x=m;break;case"input":st(a,m),x=Re(a,m),Ze("invalid",a);break;case"option":x=m;break;case"select":a._wrapperState={wasMultiple:!!m.multiple},x=Q({},m,{value:void 0}),Ze("invalid",a);break;case"textarea":ya(a,m),x=Dr(a,m),Ze("invalid",a);break;default:x=m}mf(f,x),D=x;for(S in D)if(D.hasOwnProperty(S)){var B=D[S];S==="style"?fb(a,B):S==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&cb(a,B)):S==="children"?typeof B=="string"?(f!=="textarea"||B!=="")&&Ko(a,B):typeof B=="number"&&Ko(a,""+B):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?B!=null&&S==="onScroll"&&Ze("scroll",a):B!=null&&O(a,S,B,C))}switch(f){case"input":Pe(a),Mr(a,m,!1);break;case"textarea":Pe(a),Vo(a);break;case"option":m.value!=null&&a.setAttribute("value",""+Ae(m.value));break;case"select":a.multiple=!!m.multiple,S=m.value,S!=null?Qt(a,!!m.multiple,S,!1):m.defaultValue!=null&&Qt(a,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(a.onclick=bu)}switch(f){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ut(s),null;case 6:if(a&&s.stateNode!=null)S1(a,s,a.memoizedProps,m);else{if(typeof m!="string"&&s.stateNode===null)throw Error(r(166));if(f=Ii(bs.current),Ii(on.current),Eu(s)){if(m=s.stateNode,f=s.memoizedProps,m[an]=s,(S=m.nodeValue!==f)&&(a=lr,a!==null))switch(a.tag){case 3:xu(m.nodeValue,f,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&xu(m.nodeValue,f,(a.mode&1)!==0)}S&&(s.flags|=4)}else m=(f.nodeType===9?f:f.ownerDocument).createTextNode(m),m[an]=s,s.stateNode=m}return Ut(s),null;case 13:if(et(it),m=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(rt&&ur!==null&&(s.mode&1)!==0&&(s.flags&128)===0)kw(),Ta(),s.flags|=98560,S=!1;else if(S=Eu(s),m!==null&&m.dehydrated!==null){if(a===null){if(!S)throw Error(r(318));if(S=s.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[an]=s}else Ta(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ut(s),S=!1}else Br!==null&&(Kh(Br),Br=null),S=!0;if(!S)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=f,s):(m=m!==null,m!==(a!==null&&a.memoizedState!==null)&&m&&(s.child.flags|=8192,(s.mode&1)!==0&&(a===null||(it.current&1)!==0?bt===0&&(bt=3):Yh())),s.updateQueue!==null&&(s.flags|=4),Ut(s),null);case 4:return Ra(),Mh(a,s),a===null&&hs(s.stateNode.containerInfo),Ut(s),null;case 10:return ch(s.type._context),Ut(s),null;case 17:return er(s.type)&&_u(),Ut(s),null;case 19:if(et(it),S=s.memoizedState,S===null)return Ut(s),null;if(m=(s.flags&128)!==0,C=S.rendering,C===null)if(m)Os(S,!1);else{if(bt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(C=Iu(a),C!==null){for(s.flags|=128,Os(S,!1),m=C.updateQueue,m!==null&&(s.updateQueue=m,s.flags|=4),s.subtreeFlags=0,m=f,f=s.child;f!==null;)S=f,a=m,S.flags&=14680066,C=S.alternate,C===null?(S.childLanes=0,S.lanes=a,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=C.childLanes,S.lanes=C.lanes,S.child=C.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=C.memoizedProps,S.memoizedState=C.memoizedState,S.updateQueue=C.updateQueue,S.type=C.type,a=C.dependencies,S.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),f=f.sibling;return Xe(it,it.current&1|2),s.child}a=a.sibling}S.tail!==null&&ft()>La&&(s.flags|=128,m=!0,Os(S,!1),s.lanes=4194304)}else{if(!m)if(a=Iu(C),a!==null){if(s.flags|=128,m=!0,f=a.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),Os(S,!0),S.tail===null&&S.tailMode==="hidden"&&!C.alternate&&!rt)return Ut(s),null}else 2*ft()-S.renderingStartTime>La&&f!==1073741824&&(s.flags|=128,m=!0,Os(S,!1),s.lanes=4194304);S.isBackwards?(C.sibling=s.child,s.child=C):(f=S.last,f!==null?f.sibling=C:s.child=C,S.last=C)}return S.tail!==null?(s=S.tail,S.rendering=s,S.tail=s.sibling,S.renderingStartTime=ft(),s.sibling=null,f=it.current,Xe(it,m?f&1|2:f&1),s):(Ut(s),null);case 22:case 23:return Xh(),m=s.memoizedState!==null,a!==null&&a.memoizedState!==null!==m&&(s.flags|=8192),m&&(s.mode&1)!==0?(cr&1073741824)!==0&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function RI(a,s){switch(ih(s),s.tag){case 1:return er(s.type)&&_u(),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Ra(),et(Zt),et(Bt),gh(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 5:return yh(s),null;case 13:if(et(it),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ta()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return et(it),null;case 4:return Ra(),null;case 10:return ch(s.type._context),null;case 22:case 23:return Xh(),null;case 24:return null;default:return null}}var Uu=!1,Ft=!1,$I=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Ma(a,s){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(m){ut(a,s,m)}else f.current=null}function Dh(a,s,f){try{f()}catch(m){ut(a,s,m)}}var j1=!1;function MI(a,s){if(Xf=lu,a=rw(),qf(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var x=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var C=0,D=-1,B=-1,J=0,ie=0,oe=a,ne=null;t:for(;;){for(var ce;oe!==f||x!==0&&oe.nodeType!==3||(D=C+x),oe!==S||m!==0&&oe.nodeType!==3||(B=C+m),oe.nodeType===3&&(C+=oe.nodeValue.length),(ce=oe.firstChild)!==null;)ne=oe,oe=ce;for(;;){if(oe===a)break t;if(ne===f&&++J===x&&(D=C),ne===S&&++ie===m&&(B=C),(ce=oe.nextSibling)!==null)break;oe=ne,ne=oe.parentNode}oe=ce}f=D===-1||B===-1?null:{start:D,end:B}}else f=null}f=f||{start:0,end:0}}else f=null;for(Yf={focusedElem:a,selectionRange:f},lu=!1,fe=s;fe!==null;)if(s=fe,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,fe=a;else for(;fe!==null;){s=fe;try{var pe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ye=pe.memoizedProps,ht=pe.memoizedState,K=s.stateNode,W=K.getSnapshotBeforeUpdate(s.elementType===s.type?ye:qr(s.type,ye),ht);K.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Y=s.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(le){ut(s,s.return,le)}if(a=s.sibling,a!==null){a.return=s.return,fe=a;break}fe=s.return}return pe=j1,j1=!1,pe}function ks(a,s,f){var m=s.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&a)===a){var S=x.destroy;x.destroy=void 0,S!==void 0&&Dh(s,f,S)}x=x.next}while(x!==m)}}function Fu(a,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var f=s=s.next;do{if((f.tag&a)===a){var m=f.create;f.destroy=m()}f=f.next}while(f!==s)}}function Lh(a){var s=a.ref;if(s!==null){var f=a.stateNode;switch(a.tag){case 5:a=f;break;default:a=f}typeof s=="function"?s(a):s.current=a}}function O1(a){var s=a.alternate;s!==null&&(a.alternate=null,O1(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&(delete s[an],delete s[ys],delete s[eh],delete s[vI],delete s[xI])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function k1(a){return a.tag===5||a.tag===3||a.tag===4}function E1(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||k1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function zh(a,s,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,s?f.nodeType===8?f.parentNode.insertBefore(a,s):f.insertBefore(a,s):(f.nodeType===8?(s=f.parentNode,s.insertBefore(a,f)):(s=f,s.appendChild(a)),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=bu));else if(m!==4&&(a=a.child,a!==null))for(zh(a,s,f),a=a.sibling;a!==null;)zh(a,s,f),a=a.sibling}function Bh(a,s,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,s?f.insertBefore(a,s):f.appendChild(a);else if(m!==4&&(a=a.child,a!==null))for(Bh(a,s,f),a=a.sibling;a!==null;)Bh(a,s,f),a=a.sibling}var Nt=null,Ur=!1;function ni(a,s,f){for(f=f.child;f!==null;)A1(a,s,f),f=f.sibling}function A1(a,s,f){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(ru,f)}catch{}switch(f.tag){case 5:Ft||Ma(f,s);case 6:var m=Nt,x=Ur;Nt=null,ni(a,s,f),Nt=m,Ur=x,Nt!==null&&(Ur?(a=Nt,f=f.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):Nt.removeChild(f.stateNode));break;case 18:Nt!==null&&(Ur?(a=Nt,f=f.stateNode,a.nodeType===8?Zf(a.parentNode,f):a.nodeType===1&&Zf(a,f),is(a)):Zf(Nt,f.stateNode));break;case 4:m=Nt,x=Ur,Nt=f.stateNode.containerInfo,Ur=!0,ni(a,s,f),Nt=m,Ur=x;break;case 0:case 11:case 14:case 15:if(!Ft&&(m=f.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var S=x,C=S.destroy;S=S.tag,C!==void 0&&((S&2)!==0||(S&4)!==0)&&Dh(f,s,C),x=x.next}while(x!==m)}ni(a,s,f);break;case 1:if(!Ft&&(Ma(f,s),m=f.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=f.memoizedProps,m.state=f.memoizedState,m.componentWillUnmount()}catch(D){ut(f,s,D)}ni(a,s,f);break;case 21:ni(a,s,f);break;case 22:f.mode&1?(Ft=(m=Ft)||f.memoizedState!==null,ni(a,s,f),Ft=m):ni(a,s,f);break;default:ni(a,s,f)}}function P1(a){var s=a.updateQueue;if(s!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new $I),s.forEach(function(m){var x=HI.bind(null,a,m);f.has(m)||(f.add(m),m.then(x,x))})}}function Fr(a,s){var f=s.deletions;if(f!==null)for(var m=0;m<f.length;m++){var x=f[m];try{var S=a,C=s,D=C;e:for(;D!==null;){switch(D.tag){case 5:Nt=D.stateNode,Ur=!1;break e;case 3:Nt=D.stateNode.containerInfo,Ur=!0;break e;case 4:Nt=D.stateNode.containerInfo,Ur=!0;break e}D=D.return}if(Nt===null)throw Error(r(160));A1(S,C,x),Nt=null,Ur=!1;var B=x.alternate;B!==null&&(B.return=null),x.return=null}catch(J){ut(x,s,J)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)T1(s,a),s=s.sibling}function T1(a,s){var f=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Fr(s,a),ln(a),m&4){try{ks(3,a,a.return),Fu(3,a)}catch(ye){ut(a,a.return,ye)}try{ks(5,a,a.return)}catch(ye){ut(a,a.return,ye)}}break;case 1:Fr(s,a),ln(a),m&512&&f!==null&&Ma(f,f.return);break;case 5:if(Fr(s,a),ln(a),m&512&&f!==null&&Ma(f,f.return),a.flags&32){var x=a.stateNode;try{Ko(x,"")}catch(ye){ut(a,a.return,ye)}}if(m&4&&(x=a.stateNode,x!=null)){var S=a.memoizedProps,C=f!==null?f.memoizedProps:S,D=a.type,B=a.updateQueue;if(a.updateQueue=null,B!==null)try{D==="input"&&S.type==="radio"&&S.name!=null&&lt(x,S),gf(D,C);var J=gf(D,S);for(C=0;C<B.length;C+=2){var ie=B[C],oe=B[C+1];ie==="style"?fb(x,oe):ie==="dangerouslySetInnerHTML"?cb(x,oe):ie==="children"?Ko(x,oe):O(x,ie,oe,J)}switch(D){case"input":kt(x,S);break;case"textarea":Ho(x,S);break;case"select":var ne=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!S.multiple;var ce=S.value;ce!=null?Qt(x,!!S.multiple,ce,!1):ne!==!!S.multiple&&(S.defaultValue!=null?Qt(x,!!S.multiple,S.defaultValue,!0):Qt(x,!!S.multiple,S.multiple?[]:"",!1))}x[ys]=S}catch(ye){ut(a,a.return,ye)}}break;case 6:if(Fr(s,a),ln(a),m&4){if(a.stateNode===null)throw Error(r(162));x=a.stateNode,S=a.memoizedProps;try{x.nodeValue=S}catch(ye){ut(a,a.return,ye)}}break;case 3:if(Fr(s,a),ln(a),m&4&&f!==null&&f.memoizedState.isDehydrated)try{is(s.containerInfo)}catch(ye){ut(a,a.return,ye)}break;case 4:Fr(s,a),ln(a);break;case 13:Fr(s,a),ln(a),x=a.child,x.flags&8192&&(S=x.memoizedState!==null,x.stateNode.isHidden=S,!S||x.alternate!==null&&x.alternate.memoizedState!==null||(Fh=ft())),m&4&&P1(a);break;case 22:if(ie=f!==null&&f.memoizedState!==null,a.mode&1?(Ft=(J=Ft)||ie,Fr(s,a),Ft=J):Fr(s,a),ln(a),m&8192){if(J=a.memoizedState!==null,(a.stateNode.isHidden=J)&&!ie&&(a.mode&1)!==0)for(fe=a,ie=a.child;ie!==null;){for(oe=fe=ie;fe!==null;){switch(ne=fe,ce=ne.child,ne.tag){case 0:case 11:case 14:case 15:ks(4,ne,ne.return);break;case 1:Ma(ne,ne.return);var pe=ne.stateNode;if(typeof pe.componentWillUnmount=="function"){m=ne,f=ne.return;try{s=m,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(ye){ut(m,f,ye)}}break;case 5:Ma(ne,ne.return);break;case 22:if(ne.memoizedState!==null){I1(oe);continue}}ce!==null?(ce.return=ne,fe=ce):I1(oe)}ie=ie.sibling}e:for(ie=null,oe=a;;){if(oe.tag===5){if(ie===null){ie=oe;try{x=oe.stateNode,J?(S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(D=oe.stateNode,B=oe.memoizedProps.style,C=B!=null&&B.hasOwnProperty("display")?B.display:null,D.style.display=db("display",C))}catch(ye){ut(a,a.return,ye)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=J?"":oe.memoizedProps}catch(ye){ut(a,a.return,ye)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===a)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===a)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===a)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Fr(s,a),ln(a),m&4&&P1(a);break;case 21:break;default:Fr(s,a),ln(a)}}function ln(a){var s=a.flags;if(s&2){try{e:{for(var f=a.return;f!==null;){if(k1(f)){var m=f;break e}f=f.return}throw Error(r(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(Ko(x,""),m.flags&=-33);var S=E1(a);Bh(a,S,x);break;case 3:case 4:var C=m.stateNode.containerInfo,D=E1(a);zh(a,D,C);break;default:throw Error(r(161))}}catch(B){ut(a,a.return,B)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function DI(a,s,f){fe=a,C1(a)}function C1(a,s,f){for(var m=(a.mode&1)!==0;fe!==null;){var x=fe,S=x.child;if(x.tag===22&&m){var C=x.memoizedState!==null||Uu;if(!C){var D=x.alternate,B=D!==null&&D.memoizedState!==null||Ft;D=Uu;var J=Ft;if(Uu=C,(Ft=B)&&!J)for(fe=x;fe!==null;)C=fe,B=C.child,C.tag===22&&C.memoizedState!==null?R1(x):B!==null?(B.return=C,fe=B):R1(x);for(;S!==null;)fe=S,C1(S),S=S.sibling;fe=x,Uu=D,Ft=J}N1(a)}else(x.subtreeFlags&8772)!==0&&S!==null?(S.return=x,fe=S):N1(a)}}function N1(a){for(;fe!==null;){var s=fe;if((s.flags&8772)!==0){var f=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ft||Fu(5,s);break;case 1:var m=s.stateNode;if(s.flags&4&&!Ft)if(f===null)m.componentDidMount();else{var x=s.elementType===s.type?f.memoizedProps:qr(s.type,f.memoizedProps);m.componentDidUpdate(x,f.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var S=s.updateQueue;S!==null&&Iw(s,S,m);break;case 3:var C=s.updateQueue;if(C!==null){if(f=null,s.child!==null)switch(s.child.tag){case 5:f=s.child.stateNode;break;case 1:f=s.child.stateNode}Iw(s,C,f)}break;case 5:var D=s.stateNode;if(f===null&&s.flags&4){f=D;var B=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&f.focus();break;case"img":B.src&&(f.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var J=s.alternate;if(J!==null){var ie=J.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&is(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ft||s.flags&512&&Lh(s)}catch(ne){ut(s,s.return,ne)}}if(s===a){fe=null;break}if(f=s.sibling,f!==null){f.return=s.return,fe=f;break}fe=s.return}}function I1(a){for(;fe!==null;){var s=fe;if(s===a){fe=null;break}var f=s.sibling;if(f!==null){f.return=s.return,fe=f;break}fe=s.return}}function R1(a){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var f=s.return;try{Fu(4,s)}catch(B){ut(s,f,B)}break;case 1:var m=s.stateNode;if(typeof m.componentDidMount=="function"){var x=s.return;try{m.componentDidMount()}catch(B){ut(s,x,B)}}var S=s.return;try{Lh(s)}catch(B){ut(s,S,B)}break;case 5:var C=s.return;try{Lh(s)}catch(B){ut(s,C,B)}}}catch(B){ut(s,s.return,B)}if(s===a){fe=null;break}var D=s.sibling;if(D!==null){D.return=s.return,fe=D;break}fe=s.return}}var LI=Math.ceil,Wu=P.ReactCurrentDispatcher,qh=P.ReactCurrentOwner,_r=P.ReactCurrentBatchConfig,Le=0,At=null,pt=null,It=0,cr=0,Da=Qn(0),bt=0,Es=null,$i=0,Hu=0,Uh=0,As=null,rr=null,Fh=0,La=1/0,On=null,Vu=!1,Wh=null,ii=null,Ku=!1,ai=null,Gu=0,Ps=0,Hh=null,Xu=-1,Yu=0;function Xt(){return(Le&6)!==0?ft():Xu!==-1?Xu:Xu=ft()}function oi(a){return(a.mode&1)===0?1:(Le&2)!==0&&It!==0?It&-It:wI.transition!==null?(Yu===0&&(Yu=Eb()),Yu):(a=We,a!==0||(a=window.event,a=a===void 0?16:Mb(a.type)),a)}function Wr(a,s,f,m){if(50<Ps)throw Ps=0,Hh=null,Error(r(185));Zo(a,f,m),((Le&2)===0||a!==At)&&(a===At&&((Le&2)===0&&(Hu|=f),bt===4&&si(a,It)),nr(a,m),f===1&&Le===0&&(s.mode&1)===0&&(La=ft()+500,ju&&ei()))}function nr(a,s){var f=a.callbackNode;wN(a,s);var m=au(a,a===At?It:0);if(m===0)f!==null&&jb(f),a.callbackNode=null,a.callbackPriority=0;else if(s=m&-m,a.callbackPriority!==s){if(f!=null&&jb(f),s===1)a.tag===0?bI(M1.bind(null,a)):ww(M1.bind(null,a)),mI(function(){(Le&6)===0&&ei()}),f=null;else{switch(Ab(m)){case 1:f=jf;break;case 4:f=Ob;break;case 16:f=tu;break;case 536870912:f=kb;break;default:f=tu}f=W1(f,$1.bind(null,a))}a.callbackPriority=s,a.callbackNode=f}}function $1(a,s){if(Xu=-1,Yu=0,(Le&6)!==0)throw Error(r(327));var f=a.callbackNode;if(za()&&a.callbackNode!==f)return null;var m=au(a,a===At?It:0);if(m===0)return null;if((m&30)!==0||(m&a.expiredLanes)!==0||s)s=Ju(a,m);else{s=m;var x=Le;Le|=2;var S=L1();(At!==a||It!==s)&&(On=null,La=ft()+500,Di(a,s));do try{qI();break}catch(D){D1(a,D)}while(!0);uh(),Wu.current=S,Le=x,pt!==null?s=0:(At=null,It=0,s=bt)}if(s!==0){if(s===2&&(x=Of(a),x!==0&&(m=x,s=Vh(a,x))),s===1)throw f=Es,Di(a,0),si(a,m),nr(a,ft()),f;if(s===6)si(a,m);else{if(x=a.current.alternate,(m&30)===0&&!zI(x)&&(s=Ju(a,m),s===2&&(S=Of(a),S!==0&&(m=S,s=Vh(a,S))),s===1))throw f=Es,Di(a,0),si(a,m),nr(a,ft()),f;switch(a.finishedWork=x,a.finishedLanes=m,s){case 0:case 1:throw Error(r(345));case 2:Li(a,rr,On);break;case 3:if(si(a,m),(m&130023424)===m&&(s=Fh+500-ft(),10<s)){if(au(a,0)!==0)break;if(x=a.suspendedLanes,(x&m)!==m){Xt(),a.pingedLanes|=a.suspendedLanes&x;break}a.timeoutHandle=Qf(Li.bind(null,a,rr,On),s);break}Li(a,rr,On);break;case 4:if(si(a,m),(m&4194240)===m)break;for(s=a.eventTimes,x=-1;0<m;){var C=31-Lr(m);S=1<<C,C=s[C],C>x&&(x=C),m&=~S}if(m=x,m=ft()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*LI(m/1960))-m,10<m){a.timeoutHandle=Qf(Li.bind(null,a,rr,On),m);break}Li(a,rr,On);break;case 5:Li(a,rr,On);break;default:throw Error(r(329))}}}return nr(a,ft()),a.callbackNode===f?$1.bind(null,a):null}function Vh(a,s){var f=As;return a.current.memoizedState.isDehydrated&&(Di(a,s).flags|=256),a=Ju(a,s),a!==2&&(s=rr,rr=f,s!==null&&Kh(s)),a}function Kh(a){rr===null?rr=a:rr.push.apply(rr,a)}function zI(a){for(var s=a;;){if(s.flags&16384){var f=s.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var m=0;m<f.length;m++){var x=f[m],S=x.getSnapshot;x=x.value;try{if(!zr(S(),x))return!1}catch{return!1}}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function si(a,s){for(s&=~Uh,s&=~Hu,a.suspendedLanes|=s,a.pingedLanes&=~s,a=a.expirationTimes;0<s;){var f=31-Lr(s),m=1<<f;a[f]=-1,s&=~m}}function M1(a){if((Le&6)!==0)throw Error(r(327));za();var s=au(a,0);if((s&1)===0)return nr(a,ft()),null;var f=Ju(a,s);if(a.tag!==0&&f===2){var m=Of(a);m!==0&&(s=m,f=Vh(a,m))}if(f===1)throw f=Es,Di(a,0),si(a,s),nr(a,ft()),f;if(f===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=s,Li(a,rr,On),nr(a,ft()),null}function Gh(a,s){var f=Le;Le|=1;try{return a(s)}finally{Le=f,Le===0&&(La=ft()+500,ju&&ei())}}function Mi(a){ai!==null&&ai.tag===0&&(Le&6)===0&&za();var s=Le;Le|=1;var f=_r.transition,m=We;try{if(_r.transition=null,We=1,a)return a()}finally{We=m,_r.transition=f,Le=s,(Le&6)===0&&ei()}}function Xh(){cr=Da.current,et(Da)}function Di(a,s){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==-1&&(a.timeoutHandle=-1,yI(f)),pt!==null)for(f=pt.return;f!==null;){var m=f;switch(ih(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&_u();break;case 3:Ra(),et(Zt),et(Bt),gh();break;case 5:yh(m);break;case 4:Ra();break;case 13:et(it);break;case 19:et(it);break;case 10:ch(m.type._context);break;case 22:case 23:Xh()}f=f.return}if(At=a,pt=a=li(a.current,null),It=cr=s,bt=0,Es=null,Uh=Hu=$i=0,rr=As=null,Ni!==null){for(s=0;s<Ni.length;s++)if(f=Ni[s],m=f.interleaved,m!==null){f.interleaved=null;var x=m.next,S=f.pending;if(S!==null){var C=S.next;S.next=x,m.next=C}f.pending=m}Ni=null}return a}function D1(a,s){do{var f=pt;try{if(uh(),Ru.current=Lu,$u){for(var m=at.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}$u=!1}if(Ri=0,Et=xt=at=null,ws=!1,_s=0,qh.current=null,f===null||f.return===null){bt=1,Es=s,pt=null;break}e:{var S=a,C=f.return,D=f,B=s;if(s=It,D.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var J=B,ie=D,oe=ie.tag;if((ie.mode&1)===0&&(oe===0||oe===11||oe===15)){var ne=ie.alternate;ne?(ie.updateQueue=ne.updateQueue,ie.memoizedState=ne.memoizedState,ie.lanes=ne.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ce=l1(C);if(ce!==null){ce.flags&=-257,u1(ce,C,D,S,s),ce.mode&1&&s1(S,J,s),s=ce,B=J;var pe=s.updateQueue;if(pe===null){var ye=new Set;ye.add(B),s.updateQueue=ye}else pe.add(B);break e}else{if((s&1)===0){s1(S,J,s),Yh();break e}B=Error(r(426))}}else if(rt&&D.mode&1){var ht=l1(C);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),u1(ht,C,D,S,s),sh($a(B,D));break e}}S=B=$a(B,D),bt!==4&&(bt=2),As===null?As=[S]:As.push(S),S=C;do{switch(S.tag){case 3:S.flags|=65536,s&=-s,S.lanes|=s;var K=a1(S,B,s);Nw(S,K);break e;case 1:D=B;var W=S.type,Y=S.stateNode;if((S.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(ii===null||!ii.has(Y)))){S.flags|=65536,s&=-s,S.lanes|=s;var le=o1(S,D,s);Nw(S,le);break e}}S=S.return}while(S!==null)}B1(f)}catch(me){s=me,pt===f&&f!==null&&(pt=f=f.return);continue}break}while(!0)}function L1(){var a=Wu.current;return Wu.current=Lu,a===null?Lu:a}function Yh(){(bt===0||bt===3||bt===2)&&(bt=4),At===null||($i&268435455)===0&&(Hu&268435455)===0||si(At,It)}function Ju(a,s){var f=Le;Le|=2;var m=L1();(At!==a||It!==s)&&(On=null,Di(a,s));do try{BI();break}catch(x){D1(a,x)}while(!0);if(uh(),Le=f,Wu.current=m,pt!==null)throw Error(r(261));return At=null,It=0,bt}function BI(){for(;pt!==null;)z1(pt)}function qI(){for(;pt!==null&&!fN();)z1(pt)}function z1(a){var s=F1(a.alternate,a,cr);a.memoizedProps=a.pendingProps,s===null?B1(a):pt=s,qh.current=null}function B1(a){var s=a;do{var f=s.alternate;if(a=s.return,(s.flags&32768)===0){if(f=II(f,s,cr),f!==null){pt=f;return}}else{if(f=RI(f,s),f!==null){f.flags&=32767,pt=f;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{bt=6,pt=null;return}}if(s=s.sibling,s!==null){pt=s;return}pt=s=a}while(s!==null);bt===0&&(bt=5)}function Li(a,s,f){var m=We,x=_r.transition;try{_r.transition=null,We=1,UI(a,s,f,m)}finally{_r.transition=x,We=m}return null}function UI(a,s,f,m){do za();while(ai!==null);if((Le&6)!==0)throw Error(r(327));f=a.finishedWork;var x=a.finishedLanes;if(f===null)return null;if(a.finishedWork=null,a.finishedLanes=0,f===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var S=f.lanes|f.childLanes;if(_N(a,S),a===At&&(pt=At=null,It=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Ku||(Ku=!0,W1(tu,function(){return za(),null})),S=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||S){S=_r.transition,_r.transition=null;var C=We;We=1;var D=Le;Le|=4,qh.current=null,MI(a,f),T1(f,a),lI(Yf),lu=!!Xf,Yf=Xf=null,a.current=f,DI(f),hN(),Le=D,We=C,_r.transition=S}else a.current=f;if(Ku&&(Ku=!1,ai=a,Gu=x),S=a.pendingLanes,S===0&&(ii=null),mN(f.stateNode),nr(a,ft()),s!==null)for(m=a.onRecoverableError,f=0;f<s.length;f++)x=s[f],m(x.value,{componentStack:x.stack,digest:x.digest});if(Vu)throw Vu=!1,a=Wh,Wh=null,a;return(Gu&1)!==0&&a.tag!==0&&za(),S=a.pendingLanes,(S&1)!==0?a===Hh?Ps++:(Ps=0,Hh=a):Ps=0,ei(),null}function za(){if(ai!==null){var a=Ab(Gu),s=_r.transition,f=We;try{if(_r.transition=null,We=16>a?16:a,ai===null)var m=!1;else{if(a=ai,ai=null,Gu=0,(Le&6)!==0)throw Error(r(331));var x=Le;for(Le|=4,fe=a.current;fe!==null;){var S=fe,C=S.child;if((fe.flags&16)!==0){var D=S.deletions;if(D!==null){for(var B=0;B<D.length;B++){var J=D[B];for(fe=J;fe!==null;){var ie=fe;switch(ie.tag){case 0:case 11:case 15:ks(8,ie,S)}var oe=ie.child;if(oe!==null)oe.return=ie,fe=oe;else for(;fe!==null;){ie=fe;var ne=ie.sibling,ce=ie.return;if(O1(ie),ie===J){fe=null;break}if(ne!==null){ne.return=ce,fe=ne;break}fe=ce}}}var pe=S.alternate;if(pe!==null){var ye=pe.child;if(ye!==null){pe.child=null;do{var ht=ye.sibling;ye.sibling=null,ye=ht}while(ye!==null)}}fe=S}}if((S.subtreeFlags&2064)!==0&&C!==null)C.return=S,fe=C;else e:for(;fe!==null;){if(S=fe,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:ks(9,S,S.return)}var K=S.sibling;if(K!==null){K.return=S.return,fe=K;break e}fe=S.return}}var W=a.current;for(fe=W;fe!==null;){C=fe;var Y=C.child;if((C.subtreeFlags&2064)!==0&&Y!==null)Y.return=C,fe=Y;else e:for(C=W;fe!==null;){if(D=fe,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Fu(9,D)}}catch(me){ut(D,D.return,me)}if(D===C){fe=null;break e}var le=D.sibling;if(le!==null){le.return=D.return,fe=le;break e}fe=D.return}}if(Le=x,ei(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(ru,a)}catch{}m=!0}return m}finally{We=f,_r.transition=s}}return!1}function q1(a,s,f){s=$a(f,s),s=a1(a,s,1),a=ri(a,s,1),s=Xt(),a!==null&&(Zo(a,1,s),nr(a,s))}function ut(a,s,f){if(a.tag===3)q1(a,a,f);else for(;s!==null;){if(s.tag===3){q1(s,a,f);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ii===null||!ii.has(m))){a=$a(f,a),a=o1(s,a,1),s=ri(s,a,1),a=Xt(),s!==null&&(Zo(s,1,a),nr(s,a));break}}s=s.return}}function FI(a,s,f){var m=a.pingCache;m!==null&&m.delete(s),s=Xt(),a.pingedLanes|=a.suspendedLanes&f,At===a&&(It&f)===f&&(bt===4||bt===3&&(It&130023424)===It&&500>ft()-Fh?Di(a,0):Uh|=f),nr(a,s)}function U1(a,s){s===0&&((a.mode&1)===0?s=1:(s=iu,iu<<=1,(iu&130023424)===0&&(iu=4194304)));var f=Xt();a=_n(a,s),a!==null&&(Zo(a,s,f),nr(a,f))}function WI(a){var s=a.memoizedState,f=0;s!==null&&(f=s.retryLane),U1(a,f)}function HI(a,s){var f=0;switch(a.tag){case 13:var m=a.stateNode,x=a.memoizedState;x!==null&&(f=x.retryLane);break;case 19:m=a.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(s),U1(a,f)}var F1;F1=function(a,s,f){if(a!==null)if(a.memoizedProps!==s.pendingProps||Zt.current)tr=!0;else{if((a.lanes&f)===0&&(s.flags&128)===0)return tr=!1,NI(a,s,f);tr=(a.flags&131072)!==0}else tr=!1,rt&&(s.flags&1048576)!==0&&_w(s,ku,s.index);switch(s.lanes=0,s.tag){case 2:var m=s.type;qu(a,s),a=s.pendingProps;var x=Ea(s,Bt.current);Ia(s,f),x=bh(null,s,m,a,x,f);var S=wh();return s.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,er(m)?(S=!0,Su(s)):S=!1,s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,hh(s),x.updater=zu,s.stateNode=x,x._reactInternals=s,Eh(s,m,a,f),s=Ch(null,s,m,!0,S,f)):(s.tag=0,rt&&S&&nh(s),Gt(null,s,x,f),s=s.child),s;case 16:m=s.elementType;e:{switch(qu(a,s),a=s.pendingProps,x=m._init,m=x(m._payload),s.type=m,x=s.tag=KI(m),a=qr(m,a),x){case 0:s=Th(null,s,m,a,f);break e;case 1:s=y1(null,s,m,a,f);break e;case 11:s=c1(null,s,m,a,f);break e;case 14:s=d1(null,s,m,qr(m.type,a),f);break e}throw Error(r(306,m,""))}return s;case 0:return m=s.type,x=s.pendingProps,x=s.elementType===m?x:qr(m,x),Th(a,s,m,x,f);case 1:return m=s.type,x=s.pendingProps,x=s.elementType===m?x:qr(m,x),y1(a,s,m,x,f);case 3:e:{if(m1(s),a===null)throw Error(r(387));m=s.pendingProps,S=s.memoizedState,x=S.element,Cw(a,s),Nu(s,m,null,f);var C=s.memoizedState;if(m=C.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){x=$a(Error(r(423)),s),s=g1(a,s,m,f,x);break e}else if(m!==x){x=$a(Error(r(424)),s),s=g1(a,s,m,f,x);break e}else for(ur=Jn(s.stateNode.containerInfo.firstChild),lr=s,rt=!0,Br=null,f=Pw(s,null,m,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Ta(),m===x){s=jn(a,s,f);break e}Gt(a,s,m,f)}s=s.child}return s;case 5:return Rw(s),a===null&&oh(s),m=s.type,x=s.pendingProps,S=a!==null?a.memoizedProps:null,C=x.children,Jf(m,x)?C=null:S!==null&&Jf(m,S)&&(s.flags|=32),p1(a,s),Gt(a,s,C,f),s.child;case 6:return a===null&&oh(s),null;case 13:return v1(a,s,f);case 4:return ph(s,s.stateNode.containerInfo),m=s.pendingProps,a===null?s.child=Ca(s,null,m,f):Gt(a,s,m,f),s.child;case 11:return m=s.type,x=s.pendingProps,x=s.elementType===m?x:qr(m,x),c1(a,s,m,x,f);case 7:return Gt(a,s,s.pendingProps,f),s.child;case 8:return Gt(a,s,s.pendingProps.children,f),s.child;case 12:return Gt(a,s,s.pendingProps.children,f),s.child;case 10:e:{if(m=s.type._context,x=s.pendingProps,S=s.memoizedProps,C=x.value,Xe(Pu,m._currentValue),m._currentValue=C,S!==null)if(zr(S.value,C)){if(S.children===x.children&&!Zt.current){s=jn(a,s,f);break e}}else for(S=s.child,S!==null&&(S.return=s);S!==null;){var D=S.dependencies;if(D!==null){C=S.child;for(var B=D.firstContext;B!==null;){if(B.context===m){if(S.tag===1){B=Sn(-1,f&-f),B.tag=2;var J=S.updateQueue;if(J!==null){J=J.shared;var ie=J.pending;ie===null?B.next=B:(B.next=ie.next,ie.next=B),J.pending=B}}S.lanes|=f,B=S.alternate,B!==null&&(B.lanes|=f),dh(S.return,f,s),D.lanes|=f;break}B=B.next}}else if(S.tag===10)C=S.type===s.type?null:S.child;else if(S.tag===18){if(C=S.return,C===null)throw Error(r(341));C.lanes|=f,D=C.alternate,D!==null&&(D.lanes|=f),dh(C,f,s),C=S.sibling}else C=S.child;if(C!==null)C.return=S;else for(C=S;C!==null;){if(C===s){C=null;break}if(S=C.sibling,S!==null){S.return=C.return,C=S;break}C=C.return}S=C}Gt(a,s,x.children,f),s=s.child}return s;case 9:return x=s.type,m=s.pendingProps.children,Ia(s,f),x=br(x),m=m(x),s.flags|=1,Gt(a,s,m,f),s.child;case 14:return m=s.type,x=qr(m,s.pendingProps),x=qr(m.type,x),d1(a,s,m,x,f);case 15:return f1(a,s,s.type,s.pendingProps,f);case 17:return m=s.type,x=s.pendingProps,x=s.elementType===m?x:qr(m,x),qu(a,s),s.tag=1,er(m)?(a=!0,Su(s)):a=!1,Ia(s,f),n1(s,m,x),Eh(s,m,x,f),Ch(null,s,m,!0,a,f);case 19:return b1(a,s,f);case 22:return h1(a,s,f)}throw Error(r(156,s.tag))};function W1(a,s){return Sb(a,s)}function VI(a,s,f,m){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(a,s,f,m){return new VI(a,s,f,m)}function Jh(a){return a=a.prototype,!(!a||!a.isReactComponent)}function KI(a){if(typeof a=="function")return Jh(a)?1:0;if(a!=null){if(a=a.$$typeof,a===R)return 11;if(a===M)return 14}return 2}function li(a,s){var f=a.alternate;return f===null?(f=Sr(a.tag,s,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=s,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&14680064,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,s=a.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function Qu(a,s,f,m,x,S){var C=2;if(m=a,typeof a=="function")Jh(a)&&(C=1);else if(typeof a=="string")C=5;else e:switch(a){case T:return zi(f.children,x,S,s);case N:C=8,x|=8;break;case $:return a=Sr(12,f,s,x|2),a.elementType=$,a.lanes=S,a;case H:return a=Sr(13,f,s,x),a.elementType=H,a.lanes=S,a;case L:return a=Sr(19,f,s,x),a.elementType=L,a.lanes=S,a;case Z:return Zu(f,x,S,s);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case V:C=10;break e;case F:C=9;break e;case R:C=11;break e;case M:C=14;break e;case X:C=16,m=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return s=Sr(C,f,s,x),s.elementType=a,s.type=m,s.lanes=S,s}function zi(a,s,f,m){return a=Sr(7,a,m,s),a.lanes=f,a}function Zu(a,s,f,m){return a=Sr(22,a,m,s),a.elementType=Z,a.lanes=f,a.stateNode={isHidden:!1},a}function Qh(a,s,f){return a=Sr(6,a,null,s),a.lanes=f,a}function Zh(a,s,f){return s=Sr(4,a.children!==null?a.children:[],a.key,s),s.lanes=f,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}function GI(a,s,f,m,x){this.tag=s,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kf(0),this.expirationTimes=kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kf(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function ep(a,s,f,m,x,S,C,D,B){return a=new GI(a,s,f,D,B),s===1?(s=1,S===!0&&(s|=8)):s=0,S=Sr(3,null,null,s),a.current=S,S.stateNode=a,S.memoizedState={element:m,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},hh(S),a}function XI(a,s,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:m==null?null:""+m,children:a,containerInfo:s,implementation:f}}function H1(a){if(!a)return Zn;a=a._reactInternals;e:{if(Ei(a)!==a||a.tag!==1)throw Error(r(170));var s=a;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(er(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(a.tag===1){var f=a.type;if(er(f))return xw(a,f,s)}return s}function V1(a,s,f,m,x,S,C,D,B){return a=ep(f,m,!0,a,x,S,C,D,B),a.context=H1(null),f=a.current,m=Xt(),x=oi(f),S=Sn(m,x),S.callback=s??null,ri(f,S,x),a.current.lanes=x,Zo(a,x,m),nr(a,m),a}function ec(a,s,f,m){var x=s.current,S=Xt(),C=oi(x);return f=H1(f),s.context===null?s.context=f:s.pendingContext=f,s=Sn(S,C),s.payload={element:a},m=m===void 0?null:m,m!==null&&(s.callback=m),a=ri(x,s,C),a!==null&&(Wr(a,x,C,S),Cu(a,x,C)),C}function tc(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function K1(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<s?f:s}}function tp(a,s){K1(a,s),(a=a.alternate)&&K1(a,s)}function YI(){return null}var G1=typeof reportError=="function"?reportError:function(a){console.error(a)};function rp(a){this._internalRoot=a}rc.prototype.render=rp.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));ec(a,s,null,null)},rc.prototype.unmount=rp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;Mi(function(){ec(null,a,null,null)}),s[vn]=null}};function rc(a){this._internalRoot=a}rc.prototype.unstable_scheduleHydration=function(a){if(a){var s=Cb();a={blockedOn:null,target:a,priority:s};for(var f=0;f<Gn.length&&s!==0&&s<Gn[f].priority;f++);Gn.splice(f,0,a),f===0&&Rb(a)}};function np(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function nc(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function X1(){}function JI(a,s,f,m,x){if(x){if(typeof m=="function"){var S=m;m=function(){var J=tc(C);S.call(J)}}var C=V1(s,m,a,0,null,!1,!1,"",X1);return a._reactRootContainer=C,a[vn]=C.current,hs(a.nodeType===8?a.parentNode:a),Mi(),C}for(;x=a.lastChild;)a.removeChild(x);if(typeof m=="function"){var D=m;m=function(){var J=tc(B);D.call(J)}}var B=ep(a,0,!1,null,null,!1,!1,"",X1);return a._reactRootContainer=B,a[vn]=B.current,hs(a.nodeType===8?a.parentNode:a),Mi(function(){ec(s,B,f,m)}),B}function ic(a,s,f,m,x){var S=f._reactRootContainer;if(S){var C=S;if(typeof x=="function"){var D=x;x=function(){var B=tc(C);D.call(B)}}ec(s,C,a,x)}else C=JI(f,s,a,x,m);return tc(C)}Pb=function(a){switch(a.tag){case 3:var s=a.stateNode;if(s.current.memoizedState.isDehydrated){var f=Qo(s.pendingLanes);f!==0&&(Ef(s,f|1),nr(s,ft()),(Le&6)===0&&(La=ft()+500,ei()))}break;case 13:Mi(function(){var m=_n(a,1);if(m!==null){var x=Xt();Wr(m,a,1,x)}}),tp(a,1)}},Af=function(a){if(a.tag===13){var s=_n(a,134217728);if(s!==null){var f=Xt();Wr(s,a,134217728,f)}tp(a,134217728)}},Tb=function(a){if(a.tag===13){var s=oi(a),f=_n(a,s);if(f!==null){var m=Xt();Wr(f,a,s,m)}tp(a,s)}},Cb=function(){return We},Nb=function(a,s){var f=We;try{return We=a,s()}finally{We=f}},bf=function(a,s,f){switch(s){case"input":if(kt(a,f),s=f.name,f.type==="radio"&&s!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<f.length;s++){var m=f[s];if(m!==a&&m.form===a.form){var x=wu(m);if(!x)throw Error(r(90));ae(m),kt(m,x)}}}break;case"textarea":Ho(a,f);break;case"select":s=f.value,s!=null&&Qt(a,!!f.multiple,s,!1)}},mb=Gh,gb=Mi;var QI={usingClientEntryPoint:!1,Events:[ms,Oa,wu,pb,yb,Gh]},Ts={findFiberByHostInstance:Ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZI={bundleType:Ts.bundleType,version:Ts.version,rendererPackageName:Ts.rendererPackageName,rendererConfig:Ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=wb(a),a===null?null:a.stateNode},findFiberByHostInstance:Ts.findFiberByHostInstance||YI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{ru=ac.inject(ZI),nn=ac}catch{}}return ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QI,ir.createPortal=function(a,s){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!np(s))throw Error(r(200));return XI(a,s,null,f)},ir.createRoot=function(a,s){if(!np(a))throw Error(r(299));var f=!1,m="",x=G1;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=ep(a,1,!1,null,null,f,!1,m,x),a[vn]=s.current,hs(a.nodeType===8?a.parentNode:a),new rp(s)},ir.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=wb(s),a=a===null?null:a.stateNode,a},ir.flushSync=function(a){return Mi(a)},ir.hydrate=function(a,s,f){if(!nc(s))throw Error(r(200));return ic(null,a,s,!0,f)},ir.hydrateRoot=function(a,s,f){if(!np(a))throw Error(r(405));var m=f!=null&&f.hydratedSources||null,x=!1,S="",C=G1;if(f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&(C=f.onRecoverableError)),s=V1(s,null,a,1,f??null,x,!1,S,C),a[vn]=s.current,hs(a),m)for(a=0;a<m.length;a++)f=m[a],x=f._getVersion,x=x(f._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[f,x]:s.mutableSourceEagerHydrationData.push(f,x);return new rc(s)},ir.render=function(a,s,f){if(!nc(s))throw Error(r(200));return ic(null,a,s,!1,f)},ir.unmountComponentAtNode=function(a){if(!nc(a))throw Error(r(40));return a._reactRootContainer?(Mi(function(){ic(null,null,a,!1,function(){a._reactRootContainer=null,a[vn]=null})}),!0):!1},ir.unstable_batchedUpdates=Gh,ir.unstable_renderSubtreeIntoContainer=function(a,s,f,m){if(!nc(f))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return ic(a,s,f,!1,m)},ir.version="18.3.1-next-f1338f8080-20240426",ir}var n_;function sR(){if(n_)return op.exports;n_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),op.exports=oR(),op.exports}var i_;function lR(){if(i_)return sc;i_=1;var t=sR();return sc.createRoot=t.createRoot,sc.hydrateRoot=t.hydrateRoot,sc}var uR=lR(),z=ex();const q=Ge(z);function Pd(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function cR(t,e,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(y){try{h(n.next(y))}catch(p){l(p)}}function c(y){try{h(n.throw(y))}catch(p){l(p)}}function h(y){y.done?o(y.value):i(y.value).then(u,c)}h((n=n.apply(t,e||[])).next())})}const dR=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class tx extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class fR extends tx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class a_ extends tx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class o_ extends tx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Sv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Sv||(Sv={}));class hR{constructor(e,{headers:r={},customFetch:n,region:i=Sv.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=dR(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return cR(this,arguments,void 0,function*(r,n={}){var i;let o,l;try{const{headers:u,method:c,body:h,signal:y,timeout:p}=n;let g={},{region:v}=n;v||(v=this.region);const _=new URL(`${this.url}/${r}`);v&&v!=="any"&&(g["x-region"]=v,_.searchParams.set("forceFunctionRegion",v));let w;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(g["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(g["Content-Type"]="application/json",w=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?w=JSON.stringify(h):w=h;let b=y;p&&(l=new AbortController,o=setTimeout(()=>l.abort(),p),y?(b=l.signal,y.addEventListener("abort",()=>l.abort())):b=l.signal);const k=yield this.fetch(_.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:w,signal:b}).catch(j=>{throw new fR(j)}),E=k.headers.get("x-relay-error");if(E&&E==="true")throw new a_(k);if(!k.ok)throw new o_(k);let O=((i=k.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return O==="application/json"?P=yield k.json():O==="application/octet-stream"||O==="application/pdf"?P=yield k.blob():O==="text/event-stream"?P=k:O==="multipart/form-data"?P=yield k.formData():P=yield k.text(),{data:P,error:null,response:k}}catch(u){return{data:null,error:u,response:u instanceof o_||u instanceof a_?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var pR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},yR=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let l=null,u=null,c=null,h=o.status,y=o.statusText;if(o.ok){var p,g;if(r.method!=="HEAD"){var v;const k=await o.text();k===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?u=k:u=JSON.parse(k))}const w=(p=r.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),b=(g=o.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");w&&b&&b.length>1&&(c=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,c=null,h=406,y="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var _;const w=await o.text();try{l=JSON.parse(w),Array.isArray(l)&&o.status===404&&(u=[],l=null,h=200,y="OK")}catch{o.status===404&&w===""?(h=204,y="No Content"):l={message:w}}if(l&&r.isMaybeSingle&&(!(l==null||(_=l.details)===null||_===void 0)&&_.includes("0 rows"))&&(l=null,h=200,y="OK"),l&&r.shouldThrowOnError)throw new pR(l)}return{error:l,data:u,count:c,status:h,statusText:y}});return this.shouldThrowOnError||(i=i.catch(o=>{var l;let u="";const c=o?.cause;if(c){var h,y,p,g;const _=(h=c?.message)!==null&&h!==void 0?h:"",w=(y=c?.code)!==null&&y!==void 0?y:"";u=`${(p=o?.name)!==null&&p!==void 0?p:"FetchError"}: ${o?.message}`,u+=`

Caused by: ${(g=c?.name)!==null&&g!==void 0?g:"Error"}: ${_}`,w&&(u+=` (${w})`),c?.stack&&(u+=`
${c.stack}`)}else{var v;u=(v=o?.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},mR=class extends yR{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var l;const u=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const s_=new RegExp("[,()]");var Ya=class extends mR{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&s_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&s_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},gR=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join(""),{url:u,headers:c}=this.cloneRequestState();return u.searchParams.set("select",l),n&&c.append("Prefer",`count=${n}`),new Ya({method:i,url:u,headers:c,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:o,headers:l}=this.cloneRequestState();if(e&&l.append("Prefer",`count=${e}`),r||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);o.searchParams.set("columns",c.join(","))}}return new Ya({method:i,url:o,headers:l,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var o;const l="POST",{url:u,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&u.searchParams.set("on_conflict",e),n&&c.append("Prefer",`count=${n}`),i||c.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((y,p)=>y.concat(Object.keys(p)),[]);if(h.length>0){const y=[...new Set(h)].map(p=>`"${p}"`);u.searchParams.set("columns",y.join(","))}}return new Ya({method:l,url:u,headers:c,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new Ya({method:n,url:i,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Ya({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},vR=class wP{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new gR(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new wP(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:o}={}){var l;let u;const c=new URL(`${this.url}/rpc/${e}`);let h;const y=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(y)),p=n&&Object.values(r).some(y);p?(u="POST",h=r):n||i?(u=n?"HEAD":"GET",Object.entries(r).filter(([v,_])=>_!==void 0).map(([v,_])=>[v,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([v,_])=>{c.searchParams.append(v,_)})):(u="POST",h=r);const g=new Headers(this.headers);return p?g.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&g.set("Prefer",`count=${o}`),new Ya({method:u,url:c,headers:g,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class xR{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const bR="2.90.1",wR=`realtime-js/${bR}`,_P="1.0.0",_R="2.0.0",l_=_P,jv=1e4,SR=1e3,jR=100;var hi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(hi||(hi={}));var St;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(St||(St={}));var Gr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Gr||(Gr={}));var Ov;(function(t){t.websocket="websocket"})(Ov||(Ov={}));var Vi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Vi||(Vi={}));class OR{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,r,n){var i,o;const l=e.topic,u=(i=e.ref)!==null&&i!==void 0?i:"",c=(o=e.join_ref)!==null&&o!==void 0?o:"",h=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(y).length===0?"":JSON.stringify(y);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+u.length+l.length+h.length+p.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let _=new DataView(v),w=0;_.setUint8(w++,this.KINDS.userBroadcastPush),_.setUint8(w++,c.length),_.setUint8(w++,u.length),_.setUint8(w++,l.length),_.setUint8(w++,h.length),_.setUint8(w++,p.length),_.setUint8(w++,r),Array.from(c,k=>_.setUint8(w++,k.charCodeAt(0))),Array.from(u,k=>_.setUint8(w++,k.charCodeAt(0))),Array.from(l,k=>_.setUint8(w++,k.charCodeAt(0))),Array.from(h,k=>_.setUint8(w++,k.charCodeAt(0))),Array.from(p,k=>_.setUint8(w++,k.charCodeAt(0)));var b=new Uint8Array(v.byteLength+n.byteLength);return b.set(new Uint8Array(v),0),b.set(new Uint8Array(n),v.byteLength),b.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,o,l,u,c]=n;return r({join_ref:i,ref:o,topic:l,event:u,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),o=r.getUint8(2),l=r.getUint8(3),u=r.getUint8(4);let c=this.HEADER_LENGTH+4;const h=n.decode(e.slice(c,c+i));c=c+i;const y=n.decode(e.slice(c,c+o));c=c+o;const p=n.decode(e.slice(c,c+l));c=c+l;const g=e.slice(c,e.byteLength),v=u===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,_={type:this.BROADCAST_EVENT,event:y,payload:v};return l>0&&(_.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class SP{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ye;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ye||(Ye={}));const u_=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,l)=>(o[l]=kR(l,t,e,i),o),{}):{}},kR=(t,e,r,n)=>{const i=e.find(u=>u.name===t),o=i?.type,l=r[t];return o&&!n.includes(o)?jP(o,l):kv(l)},jP=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return TR(e,r)}switch(t){case Ye.bool:return ER(e);case Ye.float4:case Ye.float8:case Ye.int2:case Ye.int4:case Ye.int8:case Ye.numeric:case Ye.oid:return AR(e);case Ye.json:case Ye.jsonb:return PR(e);case Ye.timestamp:return CR(e);case Ye.abstime:case Ye.date:case Ye.daterange:case Ye.int4range:case Ye.int8range:case Ye.money:case Ye.reltime:case Ye.text:case Ye.time:case Ye.timestamptz:case Ye.timetz:case Ye.tsrange:case Ye.tstzrange:return kv(e);default:return kv(e)}},kv=t=>t,ER=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},AR=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},PR=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},TR=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const l=t.slice(1,r);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>jP(e,u))}return t},CR=t=>typeof t=="string"?t.replace(" ","T"):t,OP=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class up{constructor(e,r,n={},i=jv){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var c_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(c_||(c_={}));class Hs{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hs.syncState(this.state,i,o,l),this.pendingDiffs.forEach(c=>{this.state=Hs.syncDiff(this.state,c,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Hs.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const o=this.cloneDeep(e),l=this.transformState(r),u={},c={};return this.map(o,(h,y)=>{l[h]||(c[h]=y)}),this.map(l,(h,y)=>{const p=o[h];if(p){const g=y.map(b=>b.presence_ref),v=p.map(b=>b.presence_ref),_=y.filter(b=>v.indexOf(b.presence_ref)<0),w=p.filter(b=>g.indexOf(b.presence_ref)<0);_.length>0&&(u[h]=_),w.length>0&&(c[h]=w)}else u[h]=y}),this.syncDiff(o,{joins:u,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:o,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(u,c)=>{var h;const y=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(c),y.length>0){const p=e[u].map(v=>v.presence_ref),g=y.filter(v=>p.indexOf(v.presence_ref)<0);e[u].unshift(...g)}n(u,y,c)}),this.map(l,(u,c)=>{let h=e[u];if(!h)return;const y=c.map(p=>p.presence_ref);h=h.filter(p=>y.indexOf(p.presence_ref)<0),e[u]=h,i(u,h,c),h.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var d_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(d_||(d_={}));var Vs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Vs||(Vs={}));var En;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(En||(En={}));class Za{constructor(e,r={config:{}},n){var i,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=St.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new up(this,Gr.join,this.params,this.timeout),this.rejoinTimer=new SP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=St.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=St.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gr.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Hs(this),this.broadcastEndpointURL=OP(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==St.closed){const{config:{broadcast:l,presence:u,private:c}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&i!==void 0?i:[],y=!!this.bindings[Vs.PRESENCE]&&this.bindings[Vs.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},g={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:y}),postgres_changes:h,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>e?.(En.CHANNEL_ERROR,v)),this._onClose(()=>e?.(En.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e?.(En.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(_=w?.length)!==null&&_!==void 0?_:0,k=[];for(let E=0;E<b;E++){const O=w[E],{filter:{event:P,schema:j,table:A,filter:T}}=O,N=v&&v[E];if(N&&N.event===P&&Za.isFilterValueEqual(N.schema,j)&&Za.isFilterValueEqual(N.table,A)&&Za.isFilterValueEqual(N.filter,T))k.push(Object.assign(Object.assign({},O),{id:N.id}));else{this.unsubscribe(),this.state=St.errored,e?.(En.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(En.SUBSCRIBED);return}}).receive("error",v=>{this.state=St.errored,e?.(En.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e?.(En.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===St.joined&&e===Vs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let c=u.statusText;try{const h=await u.json();c=h.error||h.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,c;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=St.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new up(this,Gr.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=St.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(o),l}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new up(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>jR){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,o;const l=e.toLocaleLowerCase(),{close:u,error:c,leave:h,join:y}=Gr;if(n&&[u,c,h,y].indexOf(l)>=0&&n!==this._joinRef())return;let g=this._onMessage(l,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var _,w,b;return((_=v.filter)===null||_===void 0?void 0:_.event)==="*"||((b=(w=v.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===l}).map(v=>v.callback(g,n)):(o=this.bindings[l])===null||o===void 0||o.filter(v=>{var _,w,b,k,E,O,P,j;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const A=v.id,T=(_=v.filter)===null||_===void 0?void 0:_.event;return A&&((w=r.ids)===null||w===void 0?void 0:w.includes(A))&&(T==="*"||T?.toLocaleLowerCase()===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))&&(!(!((k=v.filter)===null||k===void 0)&&k.table)||v.filter.table===((E=r.data)===null||E===void 0?void 0:E.table))}else{const A=(P=(O=v?.filter)===null||O===void 0?void 0:O.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return A==="*"||A===((j=r?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof g=="object"&&"ids"in g){const _=g.data,{schema:w,table:b,commit_timestamp:k,type:E,errors:O}=_;g=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:k,eventType:E,new:{},old:{},errors:O}),this._getPayloadRecords(_))}v.callback(g,n)})}_isClosed(){return this.state===St.closed}_isJoined(){return this.state===St.joined}_isJoining(){return this.state===St.joining}_isLeaving(){return this.state===St.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),o={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Za.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Gr.close,{},e)}_onError(e){this._on(Gr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=St.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=u_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=u_(e.columns,e.old_record)),r}}const cp=()=>{},lc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},NR=[1e3,2e3,5e3,1e4],IR=1e4,RR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $R{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jv,this.transport=null,this.heartbeatIntervalMs=lc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cp,this.ref=0,this.reconnectTimer=null,this.vsn=l_,this.logger=cp,this.conn=null,this.sendBuffer=[],this.serializer=new OR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Ov.websocket}`,this.httpEndpoint=OP(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xR.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case hi.connecting:return Vi.Connecting;case hi.open:return Vi.Open;case hi.closing:return Vi.Closing;default:return Vi.Closed}}isConnected(){return this.connectionState()===Vi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===n);if(i)return i;{const o=new Za(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:i,ref:o}=e,l=()=>{this.encode(e,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${r} ${n} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(SR,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},lc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",h)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:o,ref:l}=r,u=l?`(${l})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${i} ${u}`.trim(),o),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(i,o,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===hi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===hi.open||this.conn.readyState===hi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Gr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([RR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const o={access_token:r,version:wR};r&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Gr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new SP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,o,l,u,c,h,y,p,g,v;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:jv,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:lc.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:cp,this.vsn=(c=e?.vsn)!==null&&c!==void 0?c:l_,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(_=>NR[_-1]||IR),this.vsn){case _P:this.encode=(y=e?.encode)!==null&&y!==void 0?y:((_,w)=>w(JSON.stringify(_))),this.decode=(p=e?.decode)!==null&&p!==void 0?p:((_,w)=>w(JSON.parse(_)));break;case _R:this.encode=(g=e?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Qs=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function MR(t,e,r){const n=new URL(e,t);if(r)for(const[i,o]of Object.entries(r))o!==void 0&&n.searchParams.set(i,o);return n.toString()}async function DR(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function LR(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:o,headers:l}){const u=MR(t.baseUrl,n,i),c=await DR(t.auth),h=await e(u,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...c,...l},body:o?JSON.stringify(o):void 0}),y=await h.text(),p=(h.headers.get("content-type")||"").includes("application/json"),g=p&&y?JSON.parse(y):y;if(!h.ok){const v=p?g:void 0,_=v?.error;throw new Qs(_?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:_?.type,icebergCode:_?.code,details:v})}return{status:h.status,headers:h.headers,data:g}}}}function uc(t){return t.join("")}var zR=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:uc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${uc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${uc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${uc(t.namespace)}`}),!0}catch(e){if(e instanceof Qs&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Qs&&r.status===409)return;throw r}}};function Ba(t){return t.join("")}var BR=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Qs&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Qs&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},qR=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=LR({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new zR(this.client,e),this.tableOps=new BR(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Td=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ot(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var UR=class extends Td{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ev=class extends Td{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const rx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),FR=()=>Response,Av=t=>{if(Array.isArray(t))return t.map(r=>Av(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Av(n)}),e},WR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},HR=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Zs(t){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}function VR(t,e){if(Zs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KR(t){var e=VR(t,"string");return Zs(e)=="symbol"?e:e+""}function GR(t,e,r){return(e=KR(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function je(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f_(Object(r),!0).forEach(function(n){GR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const dp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},XR=async(t,e,r)=>{t instanceof await FR()&&!r?.noResolveJson?t.json().then(n=>{const i=t.status||500,o=n?.statusCode||i+"";e(new UR(dp(n),i,o))}).catch(n=>{e(new Ev(dp(n),n))}):e(new Ev(dp(t),t))},YR=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(WR(n)?(i.headers=je({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),je(je({},i),r))};async function Ul(t,e,r,n,i,o){return new Promise((l,u)=>{t(r,YR(e,n,i,o)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>XR(c,u,n))})}async function el(t,e,r,n){return Ul(t,"GET",e,r,n)}async function Kr(t,e,r,n,i){return Ul(t,"POST",e,n,i,r)}async function Pv(t,e,r,n,i){return Ul(t,"PUT",e,n,i,r)}async function JR(t,e,r,n){return Ul(t,"HEAD",e,je(je({},r),{},{noResolveJson:!0}),n)}async function nx(t,e,r,n,i){return Ul(t,"DELETE",e,n,i,r)}var QR=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}}};let kP;kP=Symbol.toStringTag;var ZR=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[kP]="BlobDownloadBuilder",this.promise=null}asStream(){return new QR(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}}};const e$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},h_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var t$=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=rx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var i=this;try{let o;const l=je(je({},h_),n);let u=je(je({},i.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),c&&o.append("metadata",i.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),c&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(c))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,c&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),n?.headers&&(u=je(je({},u),n.headers));const h=i._removeEmptyFolders(e),y=i._getFinalPath(h),p=await(t=="PUT"?Pv:Kr)(i.fetch,`${i.url}/object/${y}`,o,je({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const o=i._removeEmptyFolders(t),l=i._getFinalPath(o),u=new URL(i.url+`/object/upload/sign/${l}`);u.searchParams.set("token",e);try{let c;const h=je({upsert:h_.upsert},n),y=je(je({},i.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",h.cacheControl)):(c=r,y["cache-control"]=`max-age=${h.cacheControl}`,y["content-type"]=h.contentType),{data:{path:o,fullPath:(await Pv(i.fetch,u.toString(),c,{headers:y})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(ot(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const i=je({},r.headers);e?.upsert&&(i["x-upsert"]="true");const o=await Kr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(r.url+o.url),u=l.searchParams.get("token");if(!u)throw new Td("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await Kr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async copy(t,e,r){var n=this;try{return{data:{path:(await Kr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,r){var n=this;try{let i=n._getFinalPath(t),o=await Kr(n.fetch,`${n.url}/object/sign/${i}`,je({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${n.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,r){var n=this;try{const i=await Kr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>je(je({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),i=n?`?${n}`:"",o=this._getFinalPath(t),l=()=>el(this.fetch,`${this.url}/${r}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new ZR(l,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Av(await el(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await JR(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ot(n)&&n instanceof Ev){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const o=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}async remove(t){var e=this;try{return{data:await nx(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const i=je(je(je({},e$),e),{},{prefix:t||""});return{data:await Kr(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async listV2(t,e){var r=this;try{const n=je({},t);return{data:await Kr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const EP="2.90.1",AP={"X-Client-Info":`storage-js/${EP}`};var r$=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const i=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=je(je({},AP),e),this.fetch=rx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await el(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await el(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Kr(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await Pv(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await Kr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await nx(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},n$=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=je(je({},AP),e),this.fetch=rx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Kr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await el(e.fetch,i,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await nx(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!HR(t))throw new Td("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new qR({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,o){const l=i[o];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(i,u),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const ix={"X-Client-Info":`storage-js/${EP}`,"Content-Type":"application/json"};var PP=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function yr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var fp=class extends PP{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},i$=class extends PP{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const ax=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),a$=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},p_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),o$=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const l=o?.statusCode||o?.code||n+"";e(new fp(p_(o),n,l))}).catch(()=>{const o=n+"";e(new fp(i.statusText||`HTTP ${n} error`,n,o))});else{const o=n+"";e(new fp(i.statusText||`HTTP ${n} error`,n,o))}}else e(new i$(p_(t),t))},s$=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return n?(a$(n)?(i.headers=je({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,je(je({},i),r)):i};async function l$(t,e,r,n,i,o){return new Promise((l,u)=>{t(r,s$(e,n,i,o)).then(c=>{if(!c.ok)throw c;if(n?.noResolveJson)return c;const h=c.headers.get("content-type");return!h||!h.includes("application/json")?{}:c.json()}).then(c=>l(c)).catch(c=>o$(c,u,n))})}async function mr(t,e,r,n,i){return l$(t,"POST",e,n,i,r)}var u$=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=je(je({},ix),e),this.fetch=ax(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await mr(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await mr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yr(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await mr(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await mr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yr(n))return{data:null,error:n};throw n}}},c$=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=je(je({},ix),e),this.fetch=ax(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await mr(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await mr(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await mr(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await mr(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await mr(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}},d$=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=je(je({},ix),e),this.fetch=ax(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await mr(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await mr(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await mr(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await mr(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}},f$=class extends d${constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new h$(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},h$=class extends u${constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,je(je({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,je(je({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new p$(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},p$=class extends c${constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,je(je({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,je(je({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,je(je({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,je(je({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,je(je({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},y$=class extends r${constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new t$(this.url,this.headers,t,this.fetch)}get vectors(){return new f$(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new n$(this.url+"/iceberg",this.headers,this.fetch)}};const TP="2.90.1",Ja=30*1e3,Tv=3,hp=Tv*Ja,m$="http://localhost:9999",g$="supabase.auth.token",v$={"X-Client-Info":`gotrue-js/${TP}`},Cv="X-Supabase-Api-Version",CP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},x$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,b$=600*1e3;class tl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ge(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class w$ extends tl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function _$(t){return ge(t)&&t.name==="AuthApiError"}class Ki extends tl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class qn extends tl{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class dr extends qn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function S$(t){return ge(t)&&t.name==="AuthSessionMissingError"}class qa extends qn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cc extends qn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class dc extends qn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function j$(t){return ge(t)&&t.name==="AuthImplicitGrantRedirectError"}class y_ extends qn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class O$ extends qn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nv extends qn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function pp(t){return ge(t)&&t.name==="AuthRetryableFetchError"}class m_ extends qn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Iv extends qn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const kc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),g_=` 	
\r=`.split(""),k$=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<g_.length;e+=1)t[g_[e].charCodeAt(0)]=-2;for(let e=0;e<kc.length;e+=1)t[kc[e].charCodeAt(0)]=e;return t})();function v_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(kc[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(kc[n]),e.queuedBits-=6}}function NP(t,e,r){const n=k$[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function x_(t){const e=[],r=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{P$(l,n,r)};for(let l=0;l<t.length;l+=1)NP(t.charCodeAt(l),i,o);return e.join("")}function E$(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function A$(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}E$(n,e)}}function P$(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function io(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)NP(t.charCodeAt(i),r,n);return new Uint8Array(e)}function T$(t){const e=[];return A$(t,r=>e.push(r)),new Uint8Array(e)}function Gi(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>v_(i,r,n)),v_(null,r,n),e.join("")}function C$(t){return Math.round(Date.now()/1e3)+t}function N$(){return Symbol("auth-callback")}const $t=()=>typeof window<"u"&&typeof document<"u",Bi={tested:!1,writable:!1},IP=()=>{if(!$t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bi.tested)return Bi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Bi.tested=!0,Bi.writable=!0}catch{Bi.tested=!0,Bi.writable=!1}return Bi.writable};function I$(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const RP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),R$=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Qa=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},qi=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Rt=async(t,e)=>{await t.removeItem(e)};class Cd{constructor(){this.promise=new Cd.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Cd.promiseConstructor=Promise;function yp(t){const e=t.split(".");if(e.length!==3)throw new Iv("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!x$.test(e[n]))throw new Iv("JWT not in base64url format");return{header:JSON.parse(x_(e[0])),payload:JSON.parse(x_(e[1])),signature:io(e[2]),raw:{header:e[0],payload:e[1]}}}async function $$(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function M$(t,e){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await t(o);if(!e(o,null,l)){n(l);return}}catch(l){if(!e(o,l)){i(l);return}}})()})}function D$(t){return("0"+t.toString(16)).substr(-2)}function L$(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let o=0;o<56;o++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,D$).join("")}async function z$(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function B$(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await z$(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ua(t,e,r=!1){const n=L$();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Qa(t,`${e}-code-verifier`,i);const o=await B$(n);return[o,n===o?"plain":"s256"]}const q$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function U$(t){const e=t.headers.get(Cv);if(!e||!e.match(q$))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function F$(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function W$(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const H$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fa(t){if(!H$.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mp(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function V$(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function b_(t){return JSON.parse(JSON.stringify(t))}const Fi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),K$=[502,503,504];async function w_(t){var e;if(!R$(t))throw new Nv(Fi(t),0);if(K$.includes(t.status))throw new Nv(Fi(t),t.status);let r;try{r=await t.json()}catch(o){throw new Ki(Fi(o),o)}let n;const i=U$(t);if(i&&i.getTime()>=CP["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new m_(Fi(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new dr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new m_(Fi(r),t.status,r.weak_password.reasons);throw new w$(Fi(r),t.status||500,n)}const G$=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Se(t,e,r,n){var i;const o=Object.assign({},n?.headers);o[Cv]||(o[Cv]=CP["2024-01-01"].name),n?.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const l=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await X$(t,e,r+u,{headers:o,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function X$(t,e,r,n,i,o){const l=G$(e,n,i,o);let u;try{u=await t(r,Object.assign({},l))}catch(c){throw console.error(c),new Nv(Fi(c),0)}if(u.ok||await w_(u),n?.noResolveJson)return u;try{return await u.json()}catch(c){await w_(c)}}function Vr(t){var e;let r=null;Q$(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=C$(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function __(t){const e=Vr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function yi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Y$(t){return{data:t,error:null}}function J$(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o}=t,l=Pd(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o},c=Object.assign({},l);return{data:{properties:u,user:c},error:null}}function S_(t){return t}function Q$(t){return t.access_token&&t.refresh_token&&t.expires_in}const gp=["global","local","others"];class Z${constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=RP(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=gp[0]){if(gp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gp.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:yi})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Pd(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:J$,redirectTo:r?.redirectTo})}catch(r){if(ge(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yi})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,o,l,u,c;try{const h={nextPage:null,lastPage:0,total:0},y=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:S_});if(y.error)throw y.error;const p=await y.json(),g=(l=y.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(c=(u=y.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(_.split(";")[1].split("=")[1]);h[`${b}Page`]=w}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(ge(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Fa(e);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yi})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Fa(e);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:yi})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Fa(e);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:yi})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Fa(e.userId);try{const{data:r,error:n}=await Se(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Fa(e.userId),Fa(e.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,o,l,u,c;try{const h={nextPage:null,lastPage:0,total:0},y=await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:S_});if(y.error)throw y.error;const p=await y.json(),g=(l=y.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(c=(u=y.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(_.split(";")[1].split("=")[1]);h[`${b}Page`]=w}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(ge(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}}function j_(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Wa={debug:!!(globalThis&&IP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $P extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class eM extends $P{}async function tM(t,e,r){Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new eM(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Wa.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function rM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function MP(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function nM(t){return parseInt(t,16)}function iM(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function aM(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:c,resources:h,scheme:y,uri:p,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=MP(t.address),_=y?`${y}://${n}`:n,w=t.statement?`${t.statement}
`:"",b=`${_} wants you to sign in with your Ethereum account:
${v}

${w}`;let k=`URI: ${p}
Version: ${g}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),u&&(k+=`
Not Before: ${u.toISOString()}`),c&&(k+=`
Request ID: ${c}`),h){let E=`
Resources:`;for(const O of h){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);E+=`
- ${O}`}k+=E}return`${b}
${k}`}class mt extends Error{constructor({message:e,code:r,cause:n,name:i}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=i??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Ec extends mt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function oM({error:t,options:e}){var r,n,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(DP(l)){if(o.rp.id!==l)return new mt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function sM({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(DP(n)){if(r.rpId!==n)return new mt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class lM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const uM=new lM;function cM(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Pd(t,["challenge","user","excludeCredentials"]),o=io(e).buffer,l=Object.assign(Object.assign({},r),{id:io(r.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const h=n[c];u.excludeCredentials[c]=Object.assign(Object.assign({},h),{id:io(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function dM(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Pd(t,["challenge","allowCredentials"]),i=io(e).buffer,o=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:io(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function fM(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Gi(new Uint8Array(t.response.attestationObject)),clientDataJSON:Gi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function hM(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Gi(new Uint8Array(i.authenticatorData)),clientDataJSON:Gi(new Uint8Array(i.clientDataJSON)),signature:Gi(new Uint8Array(i.signature)),userHandle:i.userHandle?Gi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function DP(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function O_(){var t,e;return!!($t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function pM(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ec("Browser returned unexpected credential type",e)}:{data:null,error:new Ec("Empty credential response",e)}}catch(e){return{data:null,error:oM({error:e,options:t})}}}async function yM(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ec("Browser returned unexpected credential type",e)}:{data:null,error:new Ec("Empty credential response",e)}}catch(e){return{data:null,error:sM({error:e,options:t})}}}const mM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ac(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))n[o]=l;else if(r(l))n[o]=l;else if(e(l)){const u=n[o];e(u)?n[o]=Ac(u,l):n[o]=Ac(l)}else n[o]=l}return n}function vM(t,e){return Ac(mM,t,e||{})}function xM(t,e){return Ac(gM,t,e||{})}class bM{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!l)return{data:null,error:u};const c=i??uM.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=vM(l.webauthn.credential_options.publicKey,o?.create),{data:y,error:p}=await pM({publicKey:h,signal:c});return y?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:y}},error:null}:{data:null,error:p}}case"request":{const h=xM(l.webauthn.credential_options.publicKey,o?.request),{data:y,error:p}=await yM(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:c}));return y?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:y}},error:null}:{data:null,error:p}}}}catch(l){return ge(l)?{data:null,error:l}:{data:null,error:new Ki("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!r)return{data:null,error:new tl("rpId is required for WebAuthn authentication")};try{if(!O_())return{data:null,error:new Ki("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:c}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(l){return ge(l)?{data:null,error:l}:{data:null,error:new Ki("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!r)return{data:null,error:new tl("rpId is required for WebAuthn registration")};try{if(!O_())return{data:null,error:new Ki("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(y=>{var p;return(p=y.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:u};const{data:c,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:o});return c?this._verify({factorId:l.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:h}}catch(l){return ge(l)?{data:null,error:l}:{data:null,error:new Ki("Unexpected error in register",l)}}}}rM();const wM={url:m$,storageKey:g$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:v$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function k_(t,e,r){return await r()}const Ha={};class rl{get jwks(){var e,r;return(r=(e=Ha[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ha[this.storageKey]=Object.assign(Object.assign({},Ha[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ha[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ha[this.storageKey]=Object.assign(Object.assign({},Ha[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},wM),e);if(this.storageKey=o.storageKey,this.instanceID=(r=rl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,rl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&$t()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Z$({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=RP(o.fetch),this.lock=o.lock||k_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&$t()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=tM:this.lock=k_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:IP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=j_(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=j_(this.memoryStorage)),$t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${TP}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if($t()&&(r=I$(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),$t()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),j$(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ge(r)?this._returnResult({error:r}):this._returnResult({error:new Ki("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Vr}),{data:l,error:u}=o;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const c=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:h,session:c},error:null})}catch(o){if(ge(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,n,i;try{let o;if("email"in e){const{email:y,password:p,options:g}=e;let v=null,_=null;this.flowType==="pkce"&&([v,_]=await Ua(this.storage,this.storageKey)),o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:y,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:_},xform:Vr})}else if("phone"in e){const{phone:y,password:p,options:g}=e;o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Vr})}else throw new cc("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return await Rt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const c=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:h,session:c},error:null})}catch(o){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ge(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:l,options:u}=e;r=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:__})}else if("phone"in e){const{phone:o,password:l,options:u}=e;r=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:__})}else throw new cc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const o=new qa;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,o,l,u,c,h,y,p,g;let v,_;if("message"in e)v=e.message,_=e.signature;else{const{chain:w,wallet:b,statement:k,options:E}=e;let O;if($t())if(typeof b=="object")O=b;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")O=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=b}const P=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),j=await O.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=MP(j[0]);let T=(n=E?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const $=await O.request({method:"eth_chainId"});T=nM($)}const N={domain:P.host,address:A,statement:k,uri:P.href,version:"1",chainId:T,nonce:(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=E?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(c=E?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(h=E?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(y=E?.signInWithEthereum)===null||y===void 0?void 0:y.resources};v=aM(N),_=await O.request({method:"personal_sign",params:[iM(v),A]})}try{const{data:w,error:b}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:_},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Vr});if(b)throw b;if(!w||!w.session||!w.user){const k=new qa;return this._returnResult({data:{user:null,session:null},error:k})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:b})}catch(w){if(ge(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,i,o,l,u,c,h,y,p,g,v;let _,w;if("message"in e)_=e.message,w=e.signature;else{const{chain:b,wallet:k,statement:E,options:O}=e;let P;if($t())if(typeof k=="object")P=k;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))P=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=k}const j=new URL((r=O?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const A=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),E?{statement:E}:null));let T;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")T=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)T=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)_=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),w=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${j.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(n=O?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=O?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((l=O?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((u=O?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((c=O?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((h=O?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((p=(y=O?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||p===void 0)&&p.length?["Resources",...O.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const A=await P.signMessage(new TextEncoder().encode(_),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=A}}try{const{data:b,error:k}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Gi(w)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Vr});if(k)throw k;if(!b||!b.session||!b.user){const E=new qa;return this._returnResult({data:{user:null,session:null},error:E})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:k})}catch(b){if(ge(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await qi(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new O$;const{data:o,error:l}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Vr});if(await Rt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const u=new qa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ge(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:o,nonce:l}=e,u=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Vr}),{data:c,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c||!c.session||!c.user){const y=new qa;return this._returnResult({data:{user:null,session:null},error:y})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:h})}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,o,l;try{if("email"in e){const{email:u,options:c}=e;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await Ua(this.storage,this.storageKey));const{error:p}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:h,code_challenge_method:y},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:u,options:c}=e,{data:h,error:y}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(o=c?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(l=c?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:y})}throw new cc("You must provide either an email or phone number.")}catch(u){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ge(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var r,n;try{let i,o;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Vr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,h=l.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:h,session:c},error:null})}catch(i){if(ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,o,l;try{let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Ua(this.storage,this.storageKey));const h=await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:Y$});return!((o=h.data)===null||o===void 0)&&o.url&&$t()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(u){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ge(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new dr;const{error:i}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ge(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:o}=e,{error:l}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:n,type:i,options:o}=e,{data:l,error:u}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:u})}throw new cc("You must provide either an email or phone number and a type")}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await qi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<hp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await qi(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=mp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=V$(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yi}):await this._useSession(async r=>{var n,i,o;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dr}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:yi})})}catch(r){if(ge(r))return S$(r)&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new dr;const l=i.session;let u=null,c=null;this.flowType==="pkce"&&e.email!=null&&([u,c]=await Ua(this.storage,this.storageKey));const{data:h,error:y}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:c}),jwt:l.access_token,xform:yi});if(y)throw y;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ge(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new dr;const r=Date.now()/1e3;let n=r,i=!0,o=null;const{payload:l}=yp(e.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{data:u,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:c}=await this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:l,error:u}=r;if(u)throw u;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new dr;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!$t())throw new dc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new dc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new y_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new y_("No code detected.");const{data:E,error:O}=await this._exchangeCodeForSession(e.code);if(O)throw O;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:c,token_type:h}=e;if(!o||!u||!l||!h)throw new dc("No session defined in URL");const y=Math.round(Date.now()/1e3),p=parseInt(u);let g=y+p;c&&(g=parseInt(c));const v=g-y;v*1e3<=Ja&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const _=g-p;y-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,g,y):y-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,g,y);const{data:w,error:b}=await this._getUser(o);if(b)throw b;const k={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:p,expires_at:g,refresh_token:l,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(n){if(ge(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await qi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({error:o});const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(_$(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=N$(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:o},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Ua(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ge(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async o=>{var l,u,c,h,y;const{data:p,error:g}=o;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",v,{headers:this.headers,jwt:(y=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&y!==void 0?y:void 0})});if(i)throw i;return $t()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(ge(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:o}}=r;if(i)throw i;const{options:l,provider:u,token:c,access_token:h,nonce:y}=e,p=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:c,access_token:h,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Vr}),{data:g,error:v}=p;return v?this._returnResult({data:{user:null,session:null},error:v}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new qa}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:v}))}catch(i){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:l}=r;if(l)throw l;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await M$(async i=>(i>0&&await $$(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Vr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&pp(o)&&Date.now()+l-n<Ja})}catch(n){if(this._debug(r,"error",n),ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),$t()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await qi(this.storage,this.storageKey);if(i&&this.userStorage){let l=await qi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Qa(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l?.user)!==null&&e!==void 0?e:mp()}else if(i&&!i.user&&!i.user){const l=await qi(this.storage,this.storageKey+"-user");l&&l?.user?(i.user=l.user,await Rt(this.storage,this.storageKey+"-user"),await Qa(this.storage,this.storageKey,i)):i.user=mp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<hp;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${hp}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),pp(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&l?.user?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new dr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Cd;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new dr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),ge(o)){const l={data:null,error:o};return pp(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(c){o.push(c)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Rt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Qa(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const o=b_(i);await Qa(this.storage,this.storageKey,o)}else{const i=b_(r);await Qa(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Rt(this.storage,this.storageKey),await Rt(this.storage,this.storageKey+"-code-verifier"),await Rt(this.storage,this.storageKey+"-user"),this.userStorage&&await Rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$t()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ja);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Ja);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ja}ms, refresh threshold is ${Tv} ticks`),i<=Tv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $P)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$t()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,l]=await Ua(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(n?.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?this._returnResult({data:null,error:o}):await Se(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:h}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?fM(e.webauthn.credential_response):hM(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:c}=await Se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:c}))})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=await Se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:cM(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:dM(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=yp(n.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Se(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new dr})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new dr});const l=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&$t()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new dr});const l=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&$t()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new dr})})}catch(e){if(ge(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new dr})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+b$>i)return n;const{data:o,error:l}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,n=o.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:_}=await this.getSession();if(_||!v.session)return this._returnResult({data:null,error:_});n=v.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:c}}=yp(n);r?.allowExpired||F$(o.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:o,header:i,signature:l},error:null}}const y=W$(i.alg),p=await crypto.subtle.importKey("jwk",h,y,!0,["verify"]);if(!await crypto.subtle.verify(y,p,l,T$(`${u}.${c}`)))throw new Iv("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}}rl.nextInstanceID={};const _M=rl,SM="2.90.1";let qs="";typeof Deno<"u"?qs="deno":typeof document<"u"?qs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qs="react-native":qs="node";const jM={"X-Client-Info":`supabase-js-${qs}/${SM}`},OM={headers:jM},kM={schema:"public"},EM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},AM={};function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function PM(t,e){if(nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TM(t){var e=PM(t,"string");return nl(e)=="symbol"?e:e+""}function CM(t,e,r){return(e=TM(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E_(Object(r),!0).forEach(function(n){CM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const NM=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),IM=()=>Headers,RM=(t,e,r)=>{const n=NM(r),i=IM();return async(o,l)=>{var u;const c=(u=await e())!==null&&u!==void 0?u:t;let h=new i(l?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${c}`),n(o,ct(ct({},l),{},{headers:h}))}};function $M(t){return t.endsWith("/")?t:t+"/"}function MM(t,e){var r,n;const{db:i,auth:o,realtime:l,global:u}=t,{db:c,auth:h,realtime:y,global:p}=e,g={db:ct(ct({},c),i),auth:ct(ct({},h),o),realtime:ct(ct({},y),l),storage:{},global:ct(ct(ct({},p),u),{},{headers:ct(ct({},(r=p?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function DM(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($M(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var LM=class extends _M{constructor(t){super(t)}},zM=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const o=DM(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:kM,realtime:AM,auth:ct(ct({},EM),{},{storageKey:l}),global:OM},c=MM(r??{},u);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(y,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=c.auth)!==null&&h!==void 0?h:{},this.headers,c.global.fetch)}this.fetch=RM(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ct({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new vR(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new y$(this.storageUrl.href,this.headers,this.fetch,r?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new hR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:o,flowType:l,lock:u,debug:c,throwOnError:h},y,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LM({url:this.authUrl.href,headers:ct(ct({},g),y),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:l,lock:u,debug:c,throwOnError:h,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new $R(this.realtimeUrl.href,ct(ct({},t),{},{params:ct(ct({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const BM=(t,e,r)=>new zM(t,e,r);function qM(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}qM()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Kt="sugvmurszfcneaeyoagv",UM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN1Z3ZtdXJzemZjbmVhZXlvYWd2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0MDUzMTUsImV4cCI6MjA4Mzk4MTMxNX0.mbCqGbmHFrR0Hk_1GqWYRxy6TapS_ajJJHwiG0LKK1w";let vp=null;function Rr(){return vp||(vp=BM(`https://${Kt}.supabase.co`,UM)),vp}const LP=Rr();async function FM(t,e){try{const{data:r,error:n}=await LP.auth.signInWithPassword({email:t,password:e});return n?(console.error("Sign in error:",n.message),{session:null,error:n.message||"Failed to sign in"}):r.session?(console.log(" Sign in successful"),{session:r.session,error:null}):{session:null,error:"No session received from auth provider"}}catch(r){const n=r instanceof Error?r.message:"Unknown error";return console.error("Sign in exception:",r),{session:null,error:n}}}async function A_(){try{const{error:t}=await LP.auth.signOut();return t?(console.error("Sign out error:",t.message),{success:!1,error:t.message||"Failed to sign out"}):(console.log(" Sign out successful"),{success:!0,error:null})}catch(t){const e=t instanceof Error?t.message:"Unknown error";return console.error("Sign out exception:",t),{success:!1,error:e}}}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HM=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),P_=t=>{const e=HM(t);return e.charAt(0).toUpperCase()+e.slice(1)},zP=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=z.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:l,...u},c)=>z.createElement("svg",{ref:c,...VM,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:zP("lucide",i),...u},[...l.map(([h,y])=>z.createElement(h,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const r=z.forwardRef(({className:n,...i},o)=>z.createElement(KM,{ref:o,iconNode:e,className:zP(`lucide-${WM(P_(t))}`,`lucide-${t}`,n),...i}));return r.displayName=P_(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],XM=Ee("activity",GM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],BP=Ee("arrow-right-left",YM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],T_=Ee("box",JM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],il=Ee("calendar",QM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],eo=Ee("chart-column",ZM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qP=Ee("chevron-right",eD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],xp=Ee("circle-arrow-down",tD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],uo=Ee("circle-alert",rD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],bp=Ee("circle-arrow-up",nD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xi=Ee("circle-check-big",iD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],oD=Ee("clipboard-list",aD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Rv=Ee("clock",sD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],uD=Ee("ellipsis-vertical",lD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],dD=Ee("eye-off",cD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nd=Ee("eye",fD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],C_=Ee("factory",hD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xi=Ee("file-text",pD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],mD=Ee("funnel",yD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],vD=Ee("history",gD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],bD=Ee("info",xD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],_D=Ee("key",wD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],jD=Ee("layers",SD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],kD=Ee("layout-dashboard",OD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],wi=Ee("loader-circle",ED);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],PD=Ee("lock",AD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],CD=Ee("log-out",TD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ID=Ee("mail",ND);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],$D=Ee("menu",RD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Nr=Ee("package",MD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],LD=Ee("pen",DD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],al=Ee("plus",zD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],qD=Ee("power",BD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Fl=Ee("refresh-cw",UD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ia=Ee("search",FD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],HD=Ee("shield",WD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Id=Ee("trash-2",VD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],co=Ee("trending-up",KD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Jr=Ee("triangle-alert",GD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],$v=Ee("truck",XD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],JD=Ee("user-check",YD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ZD=Ee("user-plus",QD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],tL=Ee("user-x",eL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nL=Ee("user",rL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],UP=Ee("users",iL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]],FP=Ee("warehouse",aL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],WP=Ee("x",oL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],HP=Ee("zap",sL);class lL extends z.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r),this.setState({error:e,errorInfo:r})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"bg-red-100 p-3 rounded-lg",children:d.jsx(Jr,{className:"text-red-600",size:24})}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Something went wrong"})]}),d.jsx("p",{className:"text-gray-600 mb-6",children:"We encountered an unexpected error. This has been logged and we'll look into it."}),!1,d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:this.handleReset,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[d.jsx(Fl,{size:18}),"Try Again"]}),d.jsx("button",{onClick:()=>window.location.href="/",className:"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Go Home"})]})]})}):this.props.children}}function uL({onLogin:t,isLoading:e=!1,error:r}){const[n,i]=z.useState(""),[o,l]=z.useState(""),[u,c]=z.useState(!1),[h,y]=z.useState(null),p=r||h,g=async v=>{if(v.preventDefault(),y(null),!n.trim()){y("Please enter your email address");return}if(!o){y("Please enter your password");return}if(o.length<6){y("Password must be at least 6 characters");return}await t(n,o)};return d.jsxs("div",{style:{minHeight:"100vh",display:"flex",backgroundColor:"#0a0f1e",position:"relative",overflow:"hidden",fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, sans-serif'},children:[d.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Poppins:wght@400;500;600;700;800;900&display=swap');
      `}),d.jsxs("div",{style:{flex:1,position:"relative",display:"flex",alignItems:"center",overflow:"hidden"},children:[d.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"url(/backgroundlogin.png)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:d.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(10, 15, 30, 0.88) 0%, rgba(30, 41, 59, 0.78) 100%)"}})}),d.jsxs("div",{style:{position:"relative",zIndex:1,padding:"80px 100px",maxWidth:"750px"},children:[d.jsx("h1",{style:{fontSize:"58px",fontWeight:"800",color:"white",lineHeight:1.1,marginBottom:"28px",letterSpacing:"-2px",fontFamily:'"Poppins", sans-serif',textShadow:"0 4px 20px rgba(0, 0, 0, 0.5)"},children:"Supply Chain Management System"}),d.jsx("p",{style:{fontSize:"19px",color:"rgba(255, 255, 255, 0.92)",lineHeight:1.7,maxWidth:"560px",textShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",fontWeight:"400"},children:"Enterprise-grade inventory planning, real-time analytics, and intelligent demand forecasting for manufacturing excellence."}),d.jsx("div",{style:{display:"flex",gap:"12px",marginTop:"40px",flexWrap:"wrap"},children:["Inventory Control","MRP Planning","Demand Forecasting"].map(v=>d.jsx("span",{style:{padding:"8px 16px",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"8px",fontSize:"13px",fontWeight:"500",color:"rgba(255, 255, 255, 0.9)",border:"1px solid rgba(255, 255, 255, 0.15)"},children:v},v))})]})]}),d.jsxs("div",{style:{width:"520px",background:"white",display:"flex",flexDirection:"column",position:"relative",zIndex:1,boxShadow:"-20px 0 60px rgba(0, 0, 0, 0.3)"},children:[d.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"48px 60px 32px",borderBottom:"1px solid #f1f5f9"},children:d.jsx("img",{src:"/logo.png",alt:"Autocrat Engineers",style:{width:"260px",height:"auto",objectFit:"contain",userSelect:"none",pointerEvents:"none",filter:"drop-shadow(0 2px 8px rgba(0, 0, 0, 0.08))"}})}),d.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",padding:"40px 60px 60px"},children:[d.jsxs("div",{style:{marginBottom:"36px"},children:[d.jsx("h2",{style:{fontSize:"32px",fontWeight:"700",color:"#0f172a",marginBottom:"8px",letterSpacing:"-1px",fontFamily:'"Poppins", sans-serif'},children:"Sign In"}),d.jsx("p",{style:{fontSize:"15px",color:"#64748b",fontWeight:"400"},children:"Enter your credentials to access the system"})]}),p&&d.jsxs("div",{style:{padding:"14px 16px",marginBottom:"24px",background:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)",border:"1px solid #fecaca",borderRadius:"10px",color:"#dc2626",display:"flex",gap:"12px",alignItems:"flex-start",fontSize:"14px"},children:[d.jsx(uo,{size:18,style:{flexShrink:0,marginTop:"1px"}}),d.jsx("div",{style:{fontWeight:"500"},children:p})]}),d.jsxs("form",{onSubmit:g,style:{display:"flex",flexDirection:"column",gap:"24px"},children:[d.jsxs("div",{children:[d.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#1e293b",marginBottom:"8px"},children:"Email Address"}),d.jsxs("div",{style:{position:"relative"},children:[d.jsx(ID,{size:20,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8",pointerEvents:"none"}}),d.jsx("input",{type:"email",value:n,onChange:v=>i(v.target.value),placeholder:"you@company.com",disabled:e,style:{width:"100%",padding:"14px 16px 14px 48px",border:"2px solid #e2e8f0",borderRadius:"10px",fontSize:"15px",boxSizing:"border-box",transition:"all 0.2s ease",fontFamily:"inherit",backgroundColor:e?"#f9fafb":"white"},onFocus:v=>{v.currentTarget.style.borderColor="#3b82f6",v.currentTarget.style.outline="none",v.currentTarget.style.boxShadow="0 0 0 4px rgba(59, 130, 246, 0.1)"},onBlur:v=>{v.currentTarget.style.borderColor="#e2e8f0",v.currentTarget.style.boxShadow="none"}})]})]}),d.jsxs("div",{children:[d.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#1e293b",marginBottom:"8px"},children:"Password"}),d.jsxs("div",{style:{position:"relative"},children:[d.jsx(PD,{size:20,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8",pointerEvents:"none"}}),d.jsx("input",{type:u?"text":"password",value:o,onChange:v=>l(v.target.value),placeholder:"Enter your password",disabled:e,style:{width:"100%",padding:"14px 48px",border:"2px solid #e2e8f0",borderRadius:"10px",fontSize:"15px",boxSizing:"border-box",transition:"all 0.2s ease",fontFamily:"inherit",backgroundColor:e?"#f9fafb":"white"},onFocus:v=>{v.currentTarget.style.borderColor="#3b82f6",v.currentTarget.style.outline="none",v.currentTarget.style.boxShadow="0 0 0 4px rgba(59, 130, 246, 0.1)"},onBlur:v=>{v.currentTarget.style.borderColor="#e2e8f0",v.currentTarget.style.boxShadow="none"}}),d.jsx("button",{type:"button",onClick:()=>c(!u),style:{position:"absolute",right:"16px",top:"50%",transform:"translateY(-50%)",border:"none",backgroundColor:"transparent",color:"#94a3b8",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center"},children:u?d.jsx(dD,{size:20}):d.jsx(Nd,{size:20})})]})]}),d.jsx("button",{type:"submit",disabled:e,style:{padding:"16px 24px",background:e?"#94a3b8":"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"600",cursor:e?"not-allowed":"pointer",transition:"all 0.3s ease",marginTop:"8px",fontFamily:"inherit",boxShadow:e?"none":"0 8px 24px rgba(30, 64, 175, 0.35)",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:e?d.jsxs(d.Fragment,{children:[d.jsx(wi,{size:20,style:{animation:"spin 1s linear infinite"}}),"Signing in..."]}):"Sign In"})]}),d.jsx("p",{style:{marginTop:"28px",fontSize:"13px",color:"#94a3b8",textAlign:"center"},children:"Contact your administrator if you need access credentials"})]}),d.jsx("div",{style:{padding:"20px 60px",borderTop:"1px solid #f1f5f9",fontSize:"12px",color:"#94a3b8",textAlign:"center"},children:" 2025 Autocrat Engineers. All rights reserved."})]}),d.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]})}const wp=Rr();function cL(t){const[e,r]=z.useState(null),[n,i]=z.useState(!0),[o,l]=z.useState(null),u=async()=>{if(!t){l("Unauthorized. Please log in again."),i(!1);return}try{i(!0),l(null);const{data:c,error:h}=await wp.from("items").select("*");if(h)throw h;const{data:y,error:p}=await wp.from("inventory").select("*");if(p)throw p;const{data:g,error:v}=await wp.from("blanket_orders").select("*").order("created_at",{ascending:!1}).limit(5);if(v)throw v;const _=c?.length||0;let w=0,b=0;c?.forEach(O=>{const P=y?.find(j=>j.item_code===O.item_code);if(P){const j=P.current_stock||0,A=O.min_stock_level||0,T=O.reorder_point||0;j<=Math.max(A,T)&&w++,b+=j*(O.unit_price||0)}});const k=_-w,E=[];c?.forEach(O=>{const P=y?.find(j=>j.item_code===O.item_code);if(P){const j=P.current_stock||0,A=O.min_stock_level||0,T=O.reorder_point||0;j<=A?E.push({message:`${O.item_name} is critically low (${j} ${O.uom})`,severity:"critical",itemCode:O.item_code,timestamp:new Date().toISOString()}):j<=T&&E.push({message:`${O.item_name} below reorder point (${j} ${O.uom})`,severity:"warning",itemCode:O.item_code,timestamp:new Date().toISOString()})}}),r({summary:{totalItems:_,lowStockCount:w,healthyStockCount:k,totalStockValue:b},alerts:E.sort((O,P)=>O.severity==="critical"?-1:P.severity==="critical"?1:0),recentActivity:{blanketOrders:g||[]}})}catch(c){console.error("Dashboard fetch error:",c),c.code==="PGRST301"?l("Unauthorized. Please log in again."):c.message?.includes("JWT")?l("Session expired. Please log in again."):c.code==="42P01"?l("Database tables not found. Please set up the database schema."):l(c.message||"Failed to load dashboard data")}finally{i(!1)}};return z.useEffect(()=>{u()},[t]),{data:e,loading:n,error:o,refetch:u}}class un extends Error{constructor(e,r,n){super(e),this.statusCode=r,this.details=n,this.name="APIError"}}class dL{baseUrl;defaultHeaders;supabase=Rr();constructor(){this.baseUrl=`https://${Kt}.supabase.co/functions/v1/make-server-9c637d11`,this.defaultHeaders={"Content-Type":"application/json"}}async request(e,r={},n,i=0){let o=n;if(!o){console.log("No token provided, fetching from current session...");const{data:{session:c},error:h}=await this.supabase.auth.getSession();if(h)throw console.error("Error getting session:",h),new un("Failed to get authentication session",401);if(!c)throw console.error("No active session found"),new un("No active session. Please login.",401);o=c.access_token,console.log("Retrieved token from session:",o.substring(0,30)+"...")}const l={...this.defaultHeaders,...r.headers};o&&(l.Authorization=`Bearer ${o}`);const u=`${this.baseUrl}${e}`;console.log(`API Request: ${r.method||"GET"} ${u}`),console.log("Token (first 30 chars):",o?.substring(0,30)+"...");try{const c=await fetch(u,{...r,headers:l});if(console.log(`API Response: ${c.status} ${c.statusText}`),c.status===401&&i===0){console.log(" Received 401 Unauthorized, attempting token refresh...");const{data:y,error:p}=await this.supabase.auth.refreshSession();if(p||!y.session)throw console.error(" Token refresh failed:",p),await this.supabase.auth.signOut(),new un("Session expired. Please login again.",401);return console.log(" Token refreshed successfully, retrying request..."),this.request(e,r,y.session.access_token,i+1)}let h;try{h=await c.json()}catch{throw c.ok?new un("Invalid JSON response from server",c.status):new un(`HTTP ${c.status}: ${c.statusText}`,c.status)}if(!c.ok){const y=h.error||h.message||`HTTP ${c.status}: ${c.statusText}`;throw console.error(` API Error: ${y}`,h),new un(y,c.status,h)}return console.log(` API Success: ${r.method||"GET"} ${u}`),h}catch(c){throw c instanceof un?c:c instanceof TypeError&&c.message.includes("fetch")?(console.error(" Network error:",c),new un("Network error: Please check your connection",0)):(console.error(" Unknown error:",c),new un(c instanceof Error?c.message:"Unknown error occurred",0))}}async get(e,r){return this.request(e,{method:"GET"},r)}async post(e,r,n){return this.request(e,{method:"POST",body:r?JSON.stringify(r):void 0},n)}async put(e,r,n){return this.request(e,{method:"PUT",body:r?JSON.stringify(r):void 0},n)}async delete(e,r){return this.request(e,{method:"DELETE"},r)}}const fL=new dL,hL={async seedDatabase(t){return fL.post("/seed-database",{},t)}};function pL(){return null}function N_({accessToken:t}){const{data:e,loading:r,error:n,refetch:i}=cL(t),[o,l]=z.useState(!1),[u,c]=z.useState(null),h=async()=>{if(confirm("This will load sample manufacturing data into the system. Continue?")){l(!0),c(null);try{const g=await hL.seedDatabase(t);alert(`Success! Loaded:
 ${g.stats.items} items
 ${g.stats.inventory} inventory records
 ${g.stats.blanketOrders} blanket orders
 ${g.stats.releases} releases`),await i(),window.location.reload()}catch(g){console.error("Seed database error:",g),c(g instanceof un?g.message:"Failed to seed database")}finally{l(!1)}}};if(r)return d.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"400px"},children:d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx(wi,{size:48,style:{color:"var(--enterprise-primary)",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),d.jsx("p",{style:{color:"var(--enterprise-gray-600)",fontSize:"var(--font-size-base)"},children:"Loading dashboard..."})]})});if(n)return d.jsx("div",{style:{backgroundColor:"var(--enterprise-error-bg)",border:"1px solid var(--enterprise-error)",borderRadius:"var(--border-radius-lg)",padding:"24px",marginBottom:"24px"},children:d.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"16px"},children:[d.jsx(uo,{size:24,style:{color:"var(--enterprise-error)",flexShrink:0}}),d.jsxs("div",{children:[d.jsx("h3",{style:{color:"var(--enterprise-error)",fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"8px"},children:"Failed to Load Dashboard"}),d.jsx("p",{style:{color:"var(--enterprise-error)",fontSize:"var(--font-size-base)"},children:n})]})]})});const y=[{label:"Total Items",value:e?.summary.totalItems||0,icon:Nr,color:"var(--enterprise-primary)",bgColor:"rgba(30, 58, 138, 0.08)"},{label:"Low Stock Items",value:e?.summary.lowStockCount||0,icon:Jr,color:"var(--enterprise-warning)",bgColor:"var(--enterprise-warning-bg)"},{label:"Healthy Items",value:e?.summary.healthyStockCount||0,icon:xi,color:"var(--enterprise-success)",bgColor:"var(--enterprise-success-bg)"},{label:"Total Stock Value",value:e?.summary.totalStockValue||0,icon:co,color:"var(--enterprise-secondary)",bgColor:"rgba(15, 118, 110, 0.08)",prefix:"$",format:!0}],p=[{title:"Inventory Management",description:"Real-time stock tracking and monitoring",icon:FP,color:"var(--enterprise-primary)",stats:[{label:"Available",value:e?.summary.totalItems||0},{label:"Low Stock",value:e?.summary.lowStockCount||0}]},{title:"Blanket Orders",description:"Multi-line customer order management",icon:Xi,color:"var(--enterprise-secondary)",stats:[{label:"Active Orders",value:e?.recentActivity?.blanketOrders?.length||0},{label:"Total Lines",value:0}]},{title:"Release Schedule",description:"Delivery planning with auto-deduction",icon:il,color:"var(--enterprise-info)",stats:[{label:"Pending",value:0},{label:"Delivered",value:0}]},{title:"Demand Forecasting",description:"Holt-Winters predictive analytics",icon:co,color:"var(--enterprise-accent)",stats:[{label:"Forecasts",value:0},{label:"Accuracy",value:"0%"}]}];return d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"32px"},children:[d.jsxs("div",{children:[d.jsx("h2",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)",marginBottom:"8px"},children:"Welcome to Enterprise ERP"}),d.jsx("p",{style:{fontSize:"var(--font-size-base)",color:"var(--enterprise-gray-600)"},children:"Real-time inventory planning and forecasting system"})]}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"24px"},children:y.map((g,v)=>{const _=g.icon;return d.jsx("div",{style:{backgroundColor:"var(--card-background)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius-lg)",padding:"24px",boxShadow:"var(--shadow-sm)",transition:"all var(--transition-fast)",cursor:"default"},onMouseEnter:w=>{w.currentTarget.style.boxShadow="var(--shadow-md)",w.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:w=>{w.currentTarget.style.boxShadow="var(--shadow-sm)",w.currentTarget.style.transform="translateY(0)"},children:d.jsxs("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between"},children:[d.jsxs("div",{children:[d.jsx("p",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--enterprise-gray-600)",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:g.label}),d.jsxs("p",{style:{fontSize:"2rem",fontWeight:"var(--font-weight-bold)",color:g.color,lineHeight:1},children:[g.prefix||"",g.format?g.value.toLocaleString():g.value]})]}),d.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"var(--border-radius-lg)",backgroundColor:g.bgColor,display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(_,{size:28,style:{color:g.color}})})]})},v)})}),d.jsxs("div",{children:[d.jsx("h3",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)",marginBottom:"16px"},children:"Quick Access"}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"24px"},children:p.map((g,v)=>{const _=g.icon;return d.jsxs("div",{style:{backgroundColor:"var(--card-background)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius-lg)",padding:"24px",boxShadow:"var(--shadow-sm)",transition:"all var(--transition-fast)",cursor:"pointer"},onMouseEnter:w=>{w.currentTarget.style.boxShadow="var(--shadow-md)",w.currentTarget.style.borderColor=g.color},onMouseLeave:w=>{w.currentTarget.style.boxShadow="var(--shadow-sm)",w.currentTarget.style.borderColor="var(--border-color)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"16px",marginBottom:"16px"},children:[d.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"var(--border-radius-md)",backgroundColor:`${g.color}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(_,{size:24,style:{color:g.color}})}),d.jsxs("div",{style:{flex:1},children:[d.jsx("h4",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)",marginBottom:"4px"},children:g.title}),d.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-600)"},children:g.description})]})]}),d.jsx("div",{style:{display:"flex",gap:"16px",paddingTop:"16px",borderTop:"1px solid var(--border-color)"},children:g.stats.map((w,b)=>d.jsxs("div",{style:{flex:1},children:[d.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",marginBottom:"4px"},children:w.label}),d.jsx("p",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)"},children:w.value})]},b))})]},v)})})]}),e?.alerts&&e.alerts.length>0&&d.jsxs("div",{children:[d.jsx("h3",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)",marginBottom:"16px"},children:"System Alerts"}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:e.alerts.slice(0,5).map((g,v)=>d.jsxs("div",{style:{backgroundColor:g.severity==="critical"?"var(--enterprise-error-bg)":"var(--enterprise-warning-bg)",border:`1px solid ${g.severity==="critical"?"var(--enterprise-error)":"var(--enterprise-warning)"}`,borderRadius:"var(--border-radius-md)",padding:"16px",display:"flex",alignItems:"start",gap:"12px"},children:[d.jsx(Jr,{size:20,style:{color:g.severity==="critical"?"var(--enterprise-error)":"var(--enterprise-warning)",flexShrink:0}}),d.jsxs("div",{style:{flex:1},children:[d.jsx("p",{style:{fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-medium)",color:g.severity==="critical"?"var(--enterprise-error)":"var(--enterprise-warning)",marginBottom:"4px"},children:g.message}),d.jsxs("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-600)"},children:[g.itemCode," - ",new Date(g.timestamp).toLocaleString()]})]}),d.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",textTransform:"uppercase",letterSpacing:"0.5px",backgroundColor:"white",color:g.severity==="critical"?"var(--enterprise-error)":"var(--enterprise-warning)"},children:g.severity})]},v))})]}),d.jsx(pL,{onSeedDatabase:h,seeding:o,error:u})]})}function An({children:t,hover:e=!1,className:r="",style:n={}}){const[i,o]=q.useState(!1);return d.jsx("div",{className:r,style:{backgroundColor:"var(--card-background)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius-lg)",padding:"24px",boxShadow:i&&e?"var(--shadow-md)":"var(--shadow-sm)",transition:"all var(--transition-fast)",...n},onMouseEnter:()=>e&&o(!0),onMouseLeave:()=>e&&o(!1),children:t})}function Dt({children:t,variant:e="primary",size:r="md",disabled:n=!1,onClick:i,type:o="button",icon:l,fullWidth:u=!1,style:c={}}){const[h,y]=q.useState(!1),p={primary:{backgroundColor:h&&!n?"var(--enterprise-primary-hover)":"var(--enterprise-primary)",color:"white",border:"none"},secondary:{backgroundColor:h&&!n?"rgba(30, 58, 138, 0.05)":"transparent",color:"var(--enterprise-primary)",border:"1px solid var(--enterprise-primary)"},tertiary:{backgroundColor:h&&!n?"var(--enterprise-gray-200)":"var(--enterprise-gray-100)",color:"var(--enterprise-gray-700)",border:"none"},danger:{backgroundColor:h&&!n?"#b91c1c":"var(--enterprise-error)",color:"white",border:"none"}},g={sm:{padding:"6px 12px",fontSize:"var(--font-size-sm)"},md:{padding:"10px 20px",fontSize:"var(--font-size-base)"},lg:{padding:"14px 28px",fontSize:"var(--font-size-lg)"}};return d.jsxs("button",{type:o,onClick:i,disabled:n,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"var(--border-radius-md)",fontWeight:"var(--font-weight-medium)",cursor:n?"not-allowed":"pointer",opacity:n?.5:1,transition:"all var(--transition-fast)",width:u?"100%":"auto",boxShadow:h&&!n?"var(--shadow-md)":"none",...p[e],...g[r],...c},children:[l,t]})}function Pn({children:t,variant:e="neutral",style:r={}}){const n={success:{backgroundColor:"var(--enterprise-success-bg)",color:"var(--enterprise-success)"},warning:{backgroundColor:"var(--enterprise-warning-bg)",color:"var(--enterprise-warning)"},error:{backgroundColor:"var(--enterprise-error-bg)",color:"var(--enterprise-error)"},info:{backgroundColor:"var(--enterprise-info-bg)",color:"var(--enterprise-info)"},neutral:{backgroundColor:"var(--enterprise-gray-100)",color:"var(--enterprise-gray-700)"}};return d.jsx("span",{style:{display:"inline-flex",alignItems:"center",padding:"4px 12px",borderRadius:"12px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",textTransform:"uppercase",letterSpacing:"0.5px",...n[e],...r},children:t})}function ze({type:t="text",value:e,onChange:r,placeholder:n,required:i=!1,disabled:o=!1,min:l,max:u,step:c,style:h={}}){const[y,p]=q.useState(!1);return d.jsx("input",{type:t,value:e,onChange:r,placeholder:n,required:i,disabled:o,min:l,max:u,step:c,onFocus:()=>p(!0),onBlur:()=>p(!1),style:{width:"100%",padding:"8px 12px",fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-normal)",color:"var(--foreground)",backgroundColor:"var(--background)",border:`1px solid ${y?"var(--enterprise-primary)":"var(--border-color)"}`,borderRadius:"var(--border-radius-md)",outline:"none",transition:"all var(--transition-fast)",boxShadow:y?"0 0 0 3px rgba(30, 58, 138, 0.1)":"none",...h}})}function I_({value:t,onChange:e,children:r,required:n=!1,disabled:i=!1,style:o={}}){const[l,u]=q.useState(!1);return d.jsx("select",{value:t,onChange:e,required:n,disabled:i,onFocus:()=>u(!0),onBlur:()=>u(!1),style:{width:"100%",padding:"8px 12px",fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-normal)",color:"var(--foreground)",backgroundColor:"var(--background)",border:`1px solid ${l?"var(--enterprise-primary)":"var(--border-color)"}`,borderRadius:"var(--border-radius-md)",outline:"none",transition:"all var(--transition-fast)",boxShadow:l?"0 0 0 3px rgba(30, 58, 138, 0.1)":"none",cursor:"pointer",...o},children:r})}function yL({value:t,onChange:e,placeholder:r,rows:n=3,required:i=!1,disabled:o=!1,style:l={}}){const[u,c]=q.useState(!1);return d.jsx("textarea",{value:t,onChange:e,placeholder:r,rows:n,required:i,disabled:o,onFocus:()=>c(!0),onBlur:()=>c(!1),style:{width:"100%",padding:"8px 12px",fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-normal)",color:"var(--foreground)",backgroundColor:"var(--background)",border:`1px solid ${u?"var(--enterprise-primary)":"var(--border-color)"}`,borderRadius:"var(--border-radius-md)",outline:"none",transition:"all var(--transition-fast)",boxShadow:u?"0 0 0 3px rgba(30, 58, 138, 0.1)":"none",resize:"vertical",fontFamily:"var(--font-family-primary)",...l}})}function Me({children:t,required:e=!1,style:r={}}){return d.jsxs("label",{style:{display:"block",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--enterprise-gray-700)",marginBottom:"8px",...r},children:[t,e&&d.jsx("span",{style:{color:"var(--enterprise-error)",marginLeft:"4px"},children:"*"})]})}function Rd({isOpen:t,onClose:e,title:r,children:n,maxWidth:i="600px"}){return t?d.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"16px"},onClick:e,children:d.jsxs("div",{style:{backgroundColor:"var(--card-background)",borderRadius:"var(--border-radius-lg)",boxShadow:"var(--shadow-xl)",maxWidth:i,width:"100%",maxHeight:"90vh",overflow:"auto"},onClick:o=>o.stopPropagation(),children:[d.jsx("div",{style:{padding:"24px",borderBottom:"1px solid var(--border-color)",position:"sticky",top:0,backgroundColor:"var(--card-background)"},children:d.jsx("h2",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)",margin:0},children:r})}),d.jsx("div",{style:{padding:"24px"},children:n})]})}):null}function $d({size:t=48}){return d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"200px"},children:[d.jsx("div",{style:{width:`${t}px`,height:`${t}px`,border:"4px solid var(--enterprise-gray-200)",borderTopColor:"var(--enterprise-primary)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),d.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]})}function VP({icon:t,title:e,description:r,action:n}){return d.jsxs("div",{style:{textAlign:"center",padding:"48px 24px"},children:[d.jsx("div",{style:{marginBottom:"16px",color:"var(--enterprise-gray-400)"},children:t}),d.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)",marginBottom:"8px"},children:e}),r&&d.jsx("p",{style:{fontSize:"var(--font-size-base)",color:"var(--enterprise-gray-600)",marginBottom:n?"16px":0},children:r}),n&&d.jsx(Dt,{onClick:n.onClick,variant:"primary",children:n.label})]})}async function mL(){const t=Rr(),{data:e}=await t.auth.getSession();if(!e?.session)return{data:null,error:"Not signed in. Please sign in to view items."};const{data:r,error:n}=await t.from("items").select("*").order("created_at",{ascending:!1});return n?{data:null,error:n.code==="PGRST301"||n.message?.toLowerCase().includes("policy")?"You do not have permission to view items. Check RLS policies.":n.message}:{data:r,error:null}}async function gL(t){const e=Rr(),{data:r}=await e.auth.getSession();if(!r?.session)return{data:null,error:"Not signed in."};const{data:n,error:i}=await e.from("items").insert(t).select().single();return i?{data:null,error:i.message}:{data:n,error:null}}async function vL(t,e){const r=Rr(),{data:n}=await r.auth.getSession();if(!n?.session)return{data:null,error:"Not signed in."};const{data:i,error:o}=await r.from("items").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();return o?{data:null,error:o.message}:{data:i,error:null}}async function xL(t){const e=Rr(),{data:r}=await e.auth.getSession();if(!r?.session)return{success:!1,error:"Not signed in."};const{error:n}=await e.from("items").delete().eq("id",t);return n?{success:!1,error:n.message}:{success:!0,error:null}}const R_={item_code:"",item_name:"",uom:"PCS",unit_price:null,standard_cost:null,lead_time_days:0,is_active:!0,master_serial_no:"",revision:"",part_number:""},ci={padding:"12px 16px",textAlign:"left",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-700)",textTransform:"uppercase",letterSpacing:"0.5px"},di={padding:"12px 16px",fontSize:"var(--font-size-base)",color:"var(--enterprise-gray-800)"},$_={borderRadius:"var(--border-radius-md)",padding:"16px",marginBottom:"16px"};function bL({isOpen:t,onClose:e,onConfirm:r,item:n}){const[i,o]=z.useState(""),[l,u]=z.useState(""),[c,h]=z.useState("");z.useEffect(()=>{t&&(o(""),u(""),h(""))},[t]);const y=()=>{if(n){if(i.trim()!==n.part_number){h("Part Number does not match. Please enter the exact Part Number to confirm deletion.");return}if(!l.trim()){h("Please provide a reason for deletion.");return}h(""),r(l.trim())}};return n?d.jsx(Rd,{isOpen:t,onClose:e,title:"Confirm Item Deletion",maxWidth:"500px",children:d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[d.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(220,38,38,0.05) 0%, rgba(220,38,38,0.1) 100%)",border:"1px solid rgba(220,38,38,0.2)",borderRadius:"var(--border-radius-md)",padding:"16px",display:"flex",gap:"12px",alignItems:"flex-start"},children:[d.jsx(Jr,{size:24,style:{color:"var(--enterprise-error)",flexShrink:0}}),d.jsxs("div",{children:[d.jsx("p",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-error)",marginBottom:"4px"},children:"This action cannot be undone"}),d.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-600)"},children:"You are about to permanently delete this item. Please confirm by entering the Part Number below."})]})]}),d.jsx("div",{style:{background:"var(--enterprise-gray-50)",borderRadius:"var(--border-radius-md)",padding:"16px"},children:d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[d.jsxs("div",{children:[d.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",textTransform:"uppercase",marginBottom:"4px"},children:"Item Code"}),d.jsx("p",{style:{fontWeight:"var(--font-weight-semibold)"},children:n.item_code})]}),d.jsxs("div",{children:[d.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",textTransform:"uppercase",marginBottom:"4px"},children:"Part Number"}),d.jsx("p",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-primary)"},children:n.part_number})]}),d.jsxs("div",{style:{gridColumn:"1 / -1"},children:[d.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",textTransform:"uppercase",marginBottom:"4px"},children:"MSN"}),d.jsx("p",{style:{fontFamily:"monospace"},children:n.master_serial_no||"-"})]})]})}),d.jsxs("div",{children:[d.jsx(Me,{required:!0,children:"Type Part Number to Confirm"}),d.jsx(ze,{value:i,onChange:p=>o(p.target.value),placeholder:`Enter "${n.part_number}" to confirm`}),d.jsxs("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",marginTop:"4px"},children:["Must match exactly: ",d.jsx("strong",{children:n.part_number})]})]}),d.jsxs("div",{children:[d.jsx(Me,{required:!0,children:"Reason for Deletion"}),d.jsx(yL,{value:l,onChange:p=>u(p.target.value),placeholder:"Please provide the reason for deleting this item...",rows:3})]}),c&&d.jsx("div",{style:{background:"rgba(220,38,38,0.1)",border:"1px solid rgba(220,38,38,0.3)",borderRadius:"var(--border-radius-sm)",padding:"12px",color:"var(--enterprise-error)",fontSize:"var(--font-size-sm)"},children:c}),d.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[d.jsx(Dt,{variant:"tertiary",onClick:e,children:"Cancel"}),d.jsx(Dt,{variant:"danger",onClick:y,disabled:!i.trim()||!l.trim(),icon:d.jsx(Id,{size:16}),children:"Delete Item"})]})]})}):null}function wL({order:t}){const[e,r]=z.useState(!1),n={fontSize:"10px",color:"var(--enterprise-gray-500)",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.4px",fontWeight:500},i={fontSize:"var(--font-size-sm)",fontWeight:600,color:"var(--enterprise-gray-800)",lineHeight:1.3},o={background:"white",padding:"12px 14px",borderRadius:"var(--border-radius-sm)",border:"1px solid var(--enterprise-gray-100)",boxShadow:"0 1px 2px rgba(0,0,0,0.03)"},l={fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.3px"};return d.jsxs("div",{style:{border:e?"1.5px solid var(--enterprise-primary)":"1px solid var(--enterprise-gray-200)",borderRadius:"var(--border-radius-lg)",overflow:"hidden",marginBottom:"10px",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:e?"0 8px 24px rgba(30,58,138,0.12), 0 2px 8px rgba(0,0,0,0.06)":"0 1px 3px rgba(0,0,0,0.04)",background:"white"},children:[d.jsxs("div",{onClick:()=>r(!e),style:{display:"flex",cursor:"pointer",background:e?"linear-gradient(135deg, rgba(30,58,138,0.04) 0%, rgba(30,58,138,0.08) 100%)":"white",transition:"all 0.2s ease",minHeight:"80px"},onMouseEnter:u=>{e||(u.currentTarget.style.background="linear-gradient(135deg, #fafbfc 0%, #f1f5f9 100%)")},onMouseLeave:u=>{e||(u.currentTarget.style.background="white")},children:[d.jsx("div",{style:{width:"36px",minWidth:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRight:"1px solid var(--enterprise-gray-100)",background:e?"var(--enterprise-primary)":"var(--enterprise-gray-50)",transition:"all 0.2s ease"},children:d.jsx("div",{style:{transition:"transform 0.25s ease",transform:e?"rotate(90deg)":"rotate(0deg)"},children:d.jsx(qP,{size:16,style:{color:e?"white":"var(--enterprise-gray-500)"}})})}),d.jsxs("div",{style:{flex:3,padding:"12px 20px",borderRight:"1px solid var(--enterprise-gray-100)",display:"flex",flexDirection:"column",justifyContent:"center"},children:[d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"24px",marginBottom:"8px"},children:[d.jsxs("div",{children:[d.jsx("p",{style:n,children:"SAP Document No"}),d.jsx("p",{style:{...i,color:"var(--enterprise-primary)",fontWeight:700},children:t.sap_doc_no})]}),d.jsxs("div",{children:[d.jsx("p",{style:n,children:"Master Serial No"}),d.jsx("p",{style:{...i,fontFamily:"monospace"},children:t.master_serial_no})]}),d.jsxs("div",{children:[d.jsx("p",{style:n,children:"Part Number"}),d.jsx("p",{style:{...i,color:"var(--enterprise-info, #3b82f6)",fontWeight:700,background:"rgba(59,130,246,0.1)",padding:"2px 8px",borderRadius:"4px",display:"inline-block"},children:t.part_number})]})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"24px"},children:[d.jsxs("div",{children:[d.jsx("p",{style:n,children:"Customer Name"}),d.jsx("p",{style:{...i,color:"var(--enterprise-gray-700)"},children:t.customer_name})]}),d.jsxs("div",{children:[d.jsx("p",{style:n,children:"Line No"}),d.jsx(Pn,{variant:"info",style:{fontWeight:700,fontSize:"12px"},children:t.line_no})]}),d.jsxs("div",{children:[d.jsx("p",{style:n,children:"Blanket Quantity"}),d.jsx("p",{style:{...i,color:"var(--enterprise-success)",fontWeight:700},children:t.blanket_order_qty.toLocaleString()})]})]})]}),d.jsxs("div",{style:{flex:1,padding:"12px 20px",display:"flex",flexDirection:"column",justifyContent:"center",background:"var(--enterprise-gray-50)",minWidth:"180px"},children:[d.jsxs("div",{style:{marginBottom:"8px"},children:[d.jsx("p",{style:n,children:"Customer PO Number"}),d.jsx("p",{style:{...i,fontFamily:"monospace",color:t.customer_po_number===""?"var(--enterprise-gray-400)":"var(--enterprise-gray-800)"},children:t.customer_po_number})]}),d.jsxs("div",{children:[d.jsx("p",{style:n,children:"Order Date"}),d.jsxs("p",{style:{...i,color:"var(--enterprise-gray-700)",display:"flex",alignItems:"center",gap:"6px"},children:[d.jsx(il,{size:12,style:{color:"var(--enterprise-gray-400)"}}),t.order_date?new Date(t.order_date).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):""]})]})]})]}),e&&d.jsxs("div",{style:{background:"linear-gradient(180deg, rgba(30,58,138,0.04) 0%, rgba(30,58,138,0.02) 100%)",borderTop:"1px solid var(--enterprise-gray-200)",padding:"20px 54px 20px 54px",animation:"slideDown 0.25s ease-out"},children:[d.jsxs("p",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-primary)",textTransform:"uppercase",letterSpacing:"0.8px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx(Nr,{size:14})," Order Details"]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"14px",marginBottom:"14px"},children:[d.jsxs("div",{style:o,children:[d.jsx("p",{style:l,children:"Blanket Order Start"}),d.jsx("p",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-800)"},children:t.blanket_order_start?new Date(t.blanket_order_start).toLocaleDateString():"-"})]}),d.jsxs("div",{style:o,children:[d.jsx("p",{style:l,children:"Blanket Order End"}),d.jsx("p",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-800)"},children:t.blanket_order_end?new Date(t.blanket_order_end).toLocaleDateString():"-"})]}),d.jsxs("div",{style:o,children:[d.jsx("p",{style:l,children:"Monthly Usage"}),d.jsx("p",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-info)",fontSize:"var(--font-size-lg)"},children:(t.monthly_usage||0).toLocaleString()})]}),d.jsxs("div",{style:{...o,background:"linear-gradient(135deg, rgba(34,197,94,0.05) 0%, rgba(34,197,94,0.1) 100%)",border:"1px solid rgba(34,197,94,0.2)"},children:[d.jsx("p",{style:{...l,color:"var(--enterprise-success)"},children:"Next Delivery"}),d.jsx("p",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-success)"},children:t.next_delivery?new Date(t.next_delivery).toLocaleDateString():"Not Scheduled"})]})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"14px"},children:[d.jsxs("div",{style:o,children:[d.jsx("p",{style:l,children:"Order Multiples"}),d.jsx("p",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-800)"},children:t.order_multiples||1})]}),d.jsxs("div",{style:o,children:[d.jsx("p",{style:l,children:"Min Stock"}),d.jsx("p",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-warning)"},children:(t.min_stock||0).toLocaleString()})]}),d.jsxs("div",{style:o,children:[d.jsx("p",{style:l,children:"Max Stock"}),d.jsx("p",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-success)"},children:(t.max_stock||0).toLocaleString()})]}),d.jsxs("div",{style:o,children:[d.jsx("p",{style:l,children:"Safety Stock"}),d.jsx("p",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-secondary, #6366f1)"},children:(t.safety_stock||0).toLocaleString()})]})]})]})]})}function _L({isOpen:t,onClose:e,item:r}){const[n,i]=z.useState("details"),[o,l]=z.useState([]),[u,c]=z.useState(!1),[h,y]=z.useState("");z.useEffect(()=>{t||y("")},[t]),z.useEffect(()=>{t&&r&&n==="blanketOrders"&&p()},[t,r,n]);const p=async()=>{if(r){c(!0);try{const v=Rr(),{data:_,error:w}=await v.from("v_item_details").select("*").eq("id",r.id);if(w){console.error("Error fetching from v_item_details:",w),l([]);return}const b=(_||[]).filter(k=>k.blanket_order_id!==null);if(b.length===0)l([]);else{const k=b.map((E,O)=>({id:E.line_id||E.blanket_order_id||`order-${O}`,sap_doc_no:E.sap_doc_no||"",master_serial_no:E.master_serial_no||"",part_number:E.part_number||"",customer_name:E.customer_name||"",line_no:E.line_number??O+1,blanket_order_qty:E.blanket_quantity??E.item_quantity??0,customer_po_number:E.customer_po_number||"",order_date:E.order_date||"",blanket_order_start:E.blanket_order_start||"",blanket_order_end:E.blanket_order_end||"",monthly_usage:E.monthly_usage??0,next_delivery:E.delivery_schedule||"",order_multiples:E.order_multiple??1,min_stock:E.min_stock??0,max_stock:E.max_stock??0,safety_stock:E.safety_stock??0}));l(k)}}catch(v){console.error("Error fetching blanket orders:",v),l([])}finally{c(!1)}}};if(!r)return null;const g=v=>({padding:"12px 20px",border:"none",background:v?"var(--enterprise-primary)":"transparent",color:v?"white":"var(--enterprise-gray-600)",cursor:"pointer",fontWeight:"var(--font-weight-semibold)",borderRadius:"var(--border-radius-md) var(--border-radius-md) 0 0",transition:"all 0.2s ease",fontSize:"var(--font-size-sm)"});return d.jsxs(Rd,{isOpen:t,onClose:e,title:"View Item Details",maxWidth:"1000px",children:[d.jsxs("div",{style:{display:"flex",borderBottom:"2px solid var(--enterprise-gray-200)",marginBottom:"20px"},children:[d.jsx("button",{style:g(n==="details"),onClick:()=>i("details"),children:"Item Details"}),d.jsx("button",{style:g(n==="blanketOrders"),onClick:()=>i("blanketOrders"),children:"Blanket Orders"}),d.jsx("button",{style:g(n==="blanketRelease"),onClick:()=>i("blanketRelease"),children:"Blanket Release"})]}),n==="details"&&d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[d.jsxs("div",{children:[d.jsx(Me,{children:"Item Code"}),d.jsx(ze,{value:r.item_code||"-",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Me,{children:"Part Number"}),d.jsx(ze,{value:r.part_number||"-",disabled:!0})]})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[d.jsxs("div",{children:[d.jsx(Me,{children:"Item Name"}),d.jsx(ze,{value:r.item_name||"-",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Me,{children:"Unit of Measure"}),d.jsx(ze,{value:r.uom||"-",disabled:!0})]})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[d.jsxs("div",{children:[d.jsx(Me,{children:"Master Serial No"}),d.jsx(ze,{value:r.master_serial_no||"-",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Me,{children:"Revision"}),d.jsx(ze,{value:r.revision||"-",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Me,{children:"Lead Time (Days)"}),d.jsx(ze,{value:r.lead_time_days||"-",disabled:!0})]})]}),d.jsxs("div",{style:{borderTop:"1px solid var(--enterprise-gray-200)",paddingTop:"16px",marginTop:"8px"},children:[d.jsx("p",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-600)",marginBottom:"12px"},children:"Pricing"}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[d.jsxs("div",{children:[d.jsx(Me,{children:"Unit Price"}),d.jsx(ze,{value:r.unit_price!=null?`${r.unit_price.toLocaleString()}`:"-",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Me,{children:"Standard Cost"}),d.jsx(ze,{value:r.standard_cost!=null?`${r.standard_cost.toLocaleString()}`:"-",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Me,{children:"Status"}),d.jsx(ze,{value:r.is_active?"Active":"Inactive",disabled:!0})]})]})]}),d.jsxs("div",{children:[d.jsx(Me,{children:"Created At"}),d.jsx(ze,{value:r.created_at?new Date(r.created_at).toLocaleString():"-",disabled:!0})]})]}),n==="blanketOrders"&&d.jsxs("div",{children:[d.jsxs("div",{style:{position:"sticky",top:0,zIndex:10,background:"linear-gradient(180deg, white 0%, rgba(255,255,255,0.95) 100%)",paddingBottom:"16px",marginBottom:"8px",borderBottom:"1px solid var(--enterprise-gray-100)"},children:[d.jsxs("div",{style:{position:"relative"},children:[d.jsx(ia,{size:18,style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)",color:"var(--enterprise-gray-400)"}}),d.jsx("input",{type:"text",value:h,onChange:v=>y(v.target.value),placeholder:"Search by SAP Doc No, MSN, Part Number, Customer Name, or PO Number...",style:{width:"100%",padding:"12px 14px 12px 44px",border:"1.5px solid var(--enterprise-gray-200)",borderRadius:"var(--border-radius-lg)",fontSize:"var(--font-size-sm)",background:"var(--enterprise-gray-50)",transition:"all 0.2s ease",outline:"none"},onFocus:v=>{v.target.style.borderColor="var(--enterprise-primary)",v.target.style.background="white",v.target.style.boxShadow="0 0 0 3px rgba(30,58,138,0.1)"},onBlur:v=>{v.target.style.borderColor="var(--enterprise-gray-200)",v.target.style.background="var(--enterprise-gray-50)",v.target.style.boxShadow="none"}}),h&&d.jsx("button",{onClick:()=>y(""),style:{position:"absolute",right:"14px",top:"50%",transform:"translateY(-50%)",background:"var(--enterprise-gray-200)",border:"none",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"12px",color:"var(--enterprise-gray-600)"},children:""})]}),h&&d.jsxs("p",{style:{fontSize:"12px",color:"var(--enterprise-gray-500)",marginTop:"8px",paddingLeft:"4px"},children:["Filtering by: ",d.jsxs("strong",{children:['"',h,'"']})]})]}),u?d.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[d.jsx($d,{size:32}),d.jsx("p",{style:{marginTop:"12px",color:"var(--enterprise-gray-600)"},children:"Loading blanket orders..."})]}):o.length===0?d.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"var(--enterprise-gray-500)"},children:[d.jsx(Nr,{size:48,style:{marginBottom:"12px",opacity:.5}}),d.jsx("p",{children:"No blanket orders found for this item."})]}):(()=>{const v=h.toLowerCase().trim(),_=v?o.filter(w=>w.sap_doc_no.toLowerCase().includes(v)||w.master_serial_no.toLowerCase().includes(v)||w.part_number.toLowerCase().includes(v)||w.customer_name.toLowerCase().includes(v)||w.customer_po_number.toLowerCase().includes(v)):o;return _.length===0?d.jsxs("div",{style:{textAlign:"center",padding:"48px 24px",color:"var(--enterprise-gray-500)",background:"var(--enterprise-gray-50)",borderRadius:"var(--border-radius-lg)",border:"1px dashed var(--enterprise-gray-200)"},children:[d.jsx(ia,{size:40,style:{marginBottom:"12px",opacity:.4}}),d.jsx("p",{style:{fontWeight:600,color:"var(--enterprise-gray-600)"},children:"No blanket orders match your search"}),d.jsxs("p",{style:{fontSize:"var(--font-size-sm)",marginTop:"4px"},children:["Try adjusting your search terms or ",d.jsx("button",{onClick:()=>y(""),style:{background:"none",border:"none",color:"var(--enterprise-primary)",cursor:"pointer",textDecoration:"underline",fontSize:"inherit"},children:"clear the filter"})]})]}):d.jsxs("div",{children:[d.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px",paddingLeft:"4px"},children:d.jsxs("p",{style:{fontSize:"12px",color:"var(--enterprise-gray-500)"},children:["Showing ",d.jsx("strong",{children:_.length})," of ",d.jsx("strong",{children:o.length})," blanket order",o.length!==1?"s":""]})}),_.map((w,b)=>d.jsx(wL,{order:w},w.id||b))]})})()]}),n==="blanketRelease"&&d.jsxs("div",{style:{textAlign:"center",padding:"60px 40px",background:"var(--enterprise-gray-50)",borderRadius:"var(--border-radius-lg)"},children:[d.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, var(--enterprise-gray-200) 0%, var(--enterprise-gray-300) 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:d.jsx(Rv,{size:36,style:{color:"var(--enterprise-gray-500)"}})}),d.jsx("h3",{style:{color:"var(--enterprise-gray-700)",marginBottom:"8px"},children:"Blanket Release"}),d.jsxs("p",{style:{color:"var(--enterprise-gray-500)",fontSize:"var(--font-size-sm)",maxWidth:"450px",margin:"0 auto",lineHeight:1.6},children:["This section will display delivery details and support planning for future deliveries.",d.jsx("br",{}),d.jsx("strong",{children:"Implementation begins after the Delivery module is ready."})]}),d.jsx(Pn,{variant:"neutral",style:{marginTop:"20px"},children:"Pending Delivery Module"})]}),d.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"20px"},children:d.jsx(Dt,{variant:"primary",onClick:e,children:"Close"})})]})}function SL(){const[t,e]=z.useState([]),[r,n]=z.useState(!0),[i,o]=z.useState(null),[l,u]=z.useState(!1),[c,h]=z.useState(null),[y,p]=z.useState(""),[g,v]=z.useState(R_),[_,w]=z.useState(null),[b,k]=z.useState(!1),[E,O]=z.useState(!1),[P,j]=z.useState(null),A=z.useCallback(async()=>{o(null),n(!0);const L=await mL();if(n(!1),L.error){o(L.error),e([]);return}e(L.data??[])},[]);z.useEffect(()=>{A()},[A]);const T=async L=>{L.preventDefault();const M=c?await vL(c.id,g):await gL(g);if(M.error){o(M.error);return}R(),A()},N=L=>{h(L),v({item_code:L.item_code,item_name:L.item_name||"",uom:L.uom,unit_price:L.unit_price??null,standard_cost:L.standard_cost??null,lead_time_days:L.lead_time_days,is_active:L.is_active,master_serial_no:L.master_serial_no||"",revision:L.revision||"",part_number:L.part_number||""}),u(!0)},$=L=>{j(L),O(!0)},V=async L=>{if(!P)return;console.log("Deletion reason:",L);const M=await xL(P.id);M.error?o(M.error):A(),O(!1),j(null)},F=L=>{w(L),k(!0)},R=()=>{u(!1),h(null),v(R_)},H=t.filter(L=>L.item_code.toLowerCase().includes(y.toLowerCase())||(L.master_serial_no||"").toLowerCase().includes(y.toLowerCase())||(L.part_number||"").toLowerCase().includes(y.toLowerCase()));return r?d.jsx($d,{}):d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsxs("div",{style:{position:"relative",width:"360px"},children:[d.jsx(ia,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--enterprise-gray-400)"}}),d.jsx(ze,{value:y,onChange:L=>p(L.target.value),placeholder:"Search by Item Code, MSN, or Part Number...",style:{paddingLeft:"40px"}})]}),d.jsx(Dt,{variant:"primary",icon:d.jsx(al,{size:20}),onClick:()=>u(!0),children:"Add Item"})]}),i&&d.jsx("div",{style:{backgroundColor:"var(--enterprise-error-bg)",border:"1px solid var(--enterprise-error)",borderRadius:"var(--border-radius-md)",padding:"12px"},children:d.jsx("p",{style:{color:"var(--enterprise-error)",fontSize:"var(--font-size-sm)"},children:i})}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[d.jsx(An,{children:d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[d.jsxs("div",{children:[d.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-600)",fontWeight:"var(--font-weight-medium)",marginBottom:"8px"},children:"Total Items"}),d.jsx("p",{style:{fontSize:"2rem",fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-primary)"},children:t.length})]}),d.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"var(--border-radius-md)",backgroundColor:"rgba(30, 58, 138, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(Nr,{size:24,style:{color:"var(--enterprise-primary)"}})})]})}),d.jsx(An,{children:d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[d.jsxs("div",{children:[d.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-600)",fontWeight:"var(--font-weight-medium)",marginBottom:"8px"},children:"Active Items"}),d.jsx("p",{style:{fontSize:"2rem",fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-success)"},children:t.filter(L=>L.is_active).length})]}),d.jsx(Pn,{variant:"success",children:"Active"})]})}),d.jsx(An,{children:d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[d.jsxs("div",{children:[d.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-600)",fontWeight:"var(--font-weight-medium)",marginBottom:"8px"},children:"Inactive Items"}),d.jsx("p",{style:{fontSize:"2rem",fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-gray-500)"},children:t.filter(L=>!L.is_active).length})]}),d.jsx(Pn,{variant:"neutral",children:"Inactive"})]})})]}),d.jsx(An,{style:{padding:0,overflow:"hidden"},children:H.length===0?d.jsx(VP,{icon:d.jsx(Nr,{size:48}),title:"No Items Found",description:y?"Try adjusting your search":"Create your first item or check sign-in and RLS on public.items",action:y?void 0:{label:"Add Item",onClick:()=>u(!0)}}):d.jsx("div",{style:{overflowX:"auto"},children:d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[d.jsx("thead",{children:d.jsxs("tr",{style:{backgroundColor:"var(--table-header-bg)",borderBottom:"2px solid var(--table-border)"},children:[d.jsx("th",{style:{...ci,minWidth:"100px"},children:"Item Code"}),d.jsx("th",{style:{...ci,minWidth:"120px"},children:"Part Number"}),d.jsx("th",{style:{...ci,minWidth:"100px"},children:"MSN"}),d.jsx("th",{style:{...ci,textAlign:"center",minWidth:"60px"},children:"Rev"}),d.jsx("th",{style:{...ci,textAlign:"center",minWidth:"60px"},children:"UOM"}),d.jsx("th",{style:{...ci,textAlign:"center",minWidth:"80px"},children:"Lead Time"}),d.jsx("th",{style:{...ci,textAlign:"center",minWidth:"80px"},children:"Status"}),d.jsx("th",{style:{...ci,textAlign:"center",minWidth:"200px",width:"200px"},children:"Actions"})]})}),d.jsx("tbody",{children:H.map((L,M)=>d.jsxs("tr",{style:{backgroundColor:M%2===0?"white":"var(--table-stripe)",borderBottom:"1px solid var(--table-border)",transition:"background-color var(--transition-fast)"},onMouseEnter:X=>{X.currentTarget.style.backgroundColor="var(--table-hover)"},onMouseLeave:X=>{X.currentTarget.style.backgroundColor=M%2===0?"white":"var(--table-stripe)"},children:[d.jsx("td",{style:{...di,fontWeight:"var(--font-weight-medium)",color:"var(--enterprise-gray-700)"},children:L.item_code}),d.jsx("td",{style:{...di,fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-primary)"},children:L.part_number||"-"}),d.jsx("td",{style:{...di,fontFamily:"monospace",fontSize:"0.85em",color:"var(--enterprise-gray-600)"},children:L.master_serial_no||"-"}),d.jsx("td",{style:{...di,textAlign:"center"},children:d.jsx(Pn,{variant:"info",children:L.revision||"-"})}),d.jsx("td",{style:{...di,textAlign:"center"},children:L.uom}),d.jsxs("td",{style:{...di,textAlign:"center"},children:[L.lead_time_days," days"]}),d.jsx("td",{style:{...di,textAlign:"center"},children:d.jsx(Pn,{variant:L.is_active?"success":"neutral",children:L.is_active?"Active":"Inactive"})}),d.jsx("td",{style:{...di,textAlign:"center",padding:"8px 12px"},children:d.jsxs("div",{style:{display:"flex",gap:"6px",justifyContent:"center",alignItems:"center"},children:[d.jsx(Dt,{variant:"secondary",size:"sm",icon:d.jsx(LD,{size:14}),onClick:()=>N(L),style:{minWidth:"55px"},children:"Edit"}),d.jsx(Dt,{variant:"danger",size:"sm",icon:d.jsx(Id,{size:14}),onClick:()=>$(L),style:{minWidth:"65px"},children:"Delete"}),d.jsx(Dt,{variant:"tertiary",size:"sm",icon:d.jsx(Nd,{size:14}),onClick:()=>F(L),style:{minWidth:"55px"},children:"View"})]})})]},L.id))})]})})}),d.jsx(Rd,{isOpen:l,onClose:R,title:c?"Edit Item":"Create New Item",maxWidth:"800px",children:d.jsxs("form",{onSubmit:T,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[d.jsxs("div",{style:{...$_,background:"linear-gradient(135deg, rgba(30,58,138,0.03) 0%, rgba(30,58,138,0.08) 100%)",border:"1px solid rgba(30,58,138,0.1)"},children:[d.jsx("p",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-primary)",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Item Identification"}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[d.jsxs("div",{children:[d.jsx(Me,{required:!0,children:"Item Code"}),d.jsx(ze,{value:g.item_code,onChange:L=>v({...g,item_code:L.target.value}),placeholder:"FG-001",required:!0,disabled:!!c,style:c?{backgroundColor:"var(--enterprise-gray-100)",cursor:"not-allowed"}:{}})]}),d.jsxs("div",{children:[d.jsx(Me,{required:!0,children:"Master Serial No"}),d.jsx(ze,{value:g.master_serial_no||"",onChange:L=>v({...g,master_serial_no:L.target.value}),placeholder:"MSN-001",required:!0,disabled:!!c,style:c?{backgroundColor:"var(--enterprise-gray-100)",cursor:"not-allowed"}:{}})]}),d.jsxs("div",{children:[d.jsx(Me,{required:!0,children:"Part Number"}),d.jsx(ze,{value:g.part_number||"",onChange:L=>v({...g,part_number:L.target.value}),placeholder:"FR-REF-123",required:!0,disabled:!!c,style:c?{backgroundColor:"var(--enterprise-gray-100)",cursor:"not-allowed"}:{}})]})]}),d.jsxs("div",{style:{marginTop:"16px"},children:[d.jsx(Me,{children:"Item Name"}),d.jsx(ze,{value:g.item_name,onChange:L=>v({...g,item_name:L.target.value}),placeholder:"Item name / description...",disabled:!!c,style:c?{backgroundColor:"var(--enterprise-gray-100)",cursor:"not-allowed"}:{}})]}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginTop:"16px"},children:d.jsxs("div",{children:[d.jsx(Me,{required:!0,children:"Unit of Measure"}),d.jsxs(I_,{value:g.uom,onChange:L=>v({...g,uom:L.target.value}),required:!0,disabled:!!c,style:c?{backgroundColor:"var(--enterprise-gray-100)",cursor:"not-allowed"}:{},children:[d.jsx("option",{value:"PCS",children:"Pieces (PCS)"}),d.jsx("option",{value:"KG",children:"Kilograms (KG)"}),d.jsx("option",{value:"L",children:"Liters (L)"}),d.jsx("option",{value:"M",children:"Meters (M)"}),d.jsx("option",{value:"BOX",children:"Box (BOX)"})]})]})})]}),d.jsxs("div",{style:{...$_,background:"linear-gradient(135deg, rgba(34,197,94,0.03) 0%, rgba(34,197,94,0.08) 100%)",border:"1px solid rgba(34,197,94,0.15)"},children:[d.jsx("p",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-success)",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:c?" Editable Fields":"Configuration"}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[d.jsxs("div",{children:[d.jsx(Me,{required:!0,children:"Revision"}),d.jsx(ze,{value:g.revision||"",onChange:L=>v({...g,revision:L.target.value}),placeholder:"A / AB / 1A",required:!0})]}),d.jsxs("div",{children:[d.jsx(Me,{required:!0,children:"Lead Time (Days)"}),d.jsx(ze,{type:"number",value:g.lead_time_days,onChange:L=>v({...g,lead_time_days:parseInt(L.target.value)||0}),placeholder:"Enter days",required:!0,min:0})]}),d.jsxs("div",{children:[d.jsx(Me,{children:"Status"}),d.jsxs(I_,{value:g.is_active?"active":"inactive",onChange:L=>v({...g,is_active:L.target.value==="active"}),children:[d.jsx("option",{value:"active",children:"Active"}),d.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginTop:"16px"},children:[d.jsxs("div",{children:[d.jsx(Me,{children:"Unit Price ()"}),d.jsx(ze,{type:"number",value:g.unit_price!=null?String(g.unit_price):"",onChange:L=>v({...g,unit_price:L.target.value?parseFloat(L.target.value):null}),placeholder:"0.00",min:0,step:"0.01"})]}),d.jsxs("div",{children:[d.jsx(Me,{children:"Standard Cost ()"}),d.jsx(ze,{type:"number",value:g.standard_cost!=null?String(g.standard_cost):"",onChange:L=>v({...g,standard_cost:L.target.value?parseFloat(L.target.value):null}),placeholder:"0.00",min:0,step:"0.01"})]})]})]}),d.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"8px"},children:[d.jsx(Dt,{type:"submit",variant:"primary",fullWidth:!0,style:{padding:"12px 24px",fontWeight:"var(--font-weight-semibold)"},children:c?" Update Item":"+ Create Item"}),d.jsx(Dt,{type:"button",variant:"tertiary",fullWidth:!0,onClick:R,style:{padding:"12px 24px"},children:"Cancel"})]})]})}),d.jsx(bL,{isOpen:E,onClose:()=>{O(!1),j(null)},onConfirm:V,item:P}),d.jsx(_L,{isOpen:b,onClose:()=>k(!1),item:_}),d.jsx("style",{children:`
        @keyframes slideDown {
          from {
            opacity: 0;
            max-height: 0;
          }
          to {
            opacity: 1;
            max-height: 500px;
          }
        }
      `})]})}const Er={padding:"14px 16px",textAlign:"left",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-700)",textTransform:"uppercase",letterSpacing:"0.5px",whiteSpace:"nowrap"},Ar={padding:"14px 16px",fontSize:"var(--font-size-base)",color:"var(--enterprise-gray-800)"},fc={fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-bold)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"};function jL({isOpen:t,onClose:e,inventory:r}){const[n,i]=z.useState([]),[o,l]=z.useState(!1),[u,c]=z.useState(!1);z.useEffect(()=>{t&&r&&h()},[t,r]);const h=async()=>{if(r?.item?.id){l(!0);try{const _=Rr(),{data:w,error:b}=await _.from("blanket_order_lines").select("*, blanket_orders (order_number, customer_name, status)").eq("item_id",r.item.id);b?(console.error("Error fetching blanket orders:",b),i([])):i(w||[])}catch(_){console.error("Error:",_),i([])}finally{l(!1)}}};if(!r)return null;const y=n.reduce((_,w)=>_+(w.total_quantity||0),0),p=n.reduce((_,w)=>_+(w.released_quantity||0),0),g=y-p,v=r.item;return d.jsx(Rd,{isOpen:t,onClose:e,title:"Inventory Details",maxWidth:"900px",children:d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[d.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(30,58,138,0.03) 0%, rgba(30,58,138,0.08) 100%)",borderRadius:"var(--border-radius-lg)",padding:"20px",border:"1px solid rgba(30,58,138,0.12)"},children:[d.jsxs("p",{style:{...fc,color:"var(--enterprise-primary)"},children:[d.jsx(Nr,{size:18})," Item Definition"]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[d.jsxs("div",{children:[d.jsx(Me,{children:"Item Code"}),d.jsx(ze,{value:v.itemCode||"-",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Me,{children:"Description"}),d.jsx(ze,{value:v.description||v.itemName||"-",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Me,{children:"Revision"}),d.jsx(ze,{value:v.revision||"-",disabled:!0})]})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginTop:"16px"},children:[d.jsxs("div",{children:[d.jsx(Me,{children:"UOM"}),d.jsx(ze,{value:v.uom||"-",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Me,{children:"MSN"}),d.jsx(ze,{value:v.masterSerialNo||"-",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Me,{children:"Part Number"}),d.jsx(ze,{value:v.partNumber||"-",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Me,{children:"Lead Time"}),d.jsx(ze,{value:`${v.leadTimeDays||0} days`,disabled:!0})]})]}),d.jsxs("div",{style:{marginTop:"16px"},children:[d.jsx(Me,{children:"Status"}),d.jsx(Pn,{variant:v.status==="active"?"success":"neutral",style:{marginTop:"4px"},children:v.status?.toUpperCase()||"UNKNOWN"})]})]}),d.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(234,179,8,0.03) 0%, rgba(234,179,8,0.08) 100%)",borderRadius:"var(--border-radius-lg)",padding:"20px",border:"1px solid rgba(234,179,8,0.15)"},children:[d.jsxs("p",{style:{...fc,color:"var(--enterprise-warning)"},children:[d.jsx(oD,{size:18})," Blanket Order Commitments"]}),o?d.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[d.jsx($d,{size:24}),d.jsx("p",{style:{marginTop:"8px",color:"var(--enterprise-gray-500)",fontSize:"var(--font-size-sm)"},children:"Loading commitments..."})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"16px"},children:[d.jsxs("div",{style:{background:"white",padding:"16px",borderRadius:"var(--border-radius-md)",textAlign:"center",boxShadow:"var(--shadow-sm)"},children:[d.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",marginBottom:"4px",textTransform:"uppercase"},children:"Total Blanket Qty"}),d.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-gray-900)"},children:y})]}),d.jsxs("div",{style:{background:"white",padding:"16px",borderRadius:"var(--border-radius-md)",textAlign:"center",boxShadow:"var(--shadow-sm)"},children:[d.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",marginBottom:"4px",textTransform:"uppercase"},children:"Released Qty"}),d.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-info)"},children:p})]}),d.jsxs("div",{style:{background:"white",padding:"16px",borderRadius:"var(--border-radius-md)",textAlign:"center",boxShadow:"var(--shadow-sm)"},children:[d.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",marginBottom:"4px",textTransform:"uppercase"},children:"Balance Qty"}),d.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-warning)"},children:g})]})]}),n.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>c(!u),style:{background:"none",border:"none",color:"var(--enterprise-primary)",cursor:"pointer",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",display:"flex",alignItems:"center",gap:"4px",marginBottom:u?"12px":"0"},children:u?" Hide Details":" Show Order Details"}),u&&d.jsx("div",{style:{overflowX:"auto",background:"white",borderRadius:"var(--border-radius-md)"},children:d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"var(--font-size-sm)"},children:[d.jsx("thead",{children:d.jsxs("tr",{style:{backgroundColor:"var(--table-header-bg)",borderBottom:"1px solid var(--table-border)"},children:[d.jsx("th",{style:{...Er,padding:"10px 12px"},children:"Customer"}),d.jsx("th",{style:{...Er,padding:"10px 12px"},children:"Order No"}),d.jsx("th",{style:{...Er,padding:"10px 12px",textAlign:"right"},children:"Total Qty"}),d.jsx("th",{style:{...Er,padding:"10px 12px",textAlign:"right"},children:"Released"}),d.jsx("th",{style:{...Er,padding:"10px 12px",textAlign:"right"},children:"Balance"}),d.jsx("th",{style:{...Er,padding:"10px 12px",textAlign:"center"},children:"Status"})]})}),d.jsx("tbody",{children:n.map((_,w)=>d.jsxs("tr",{style:{backgroundColor:w%2===0?"white":"var(--table-stripe)"},children:[d.jsx("td",{style:{...Ar,padding:"10px 12px"},children:_.blanket_orders?.customer_name||"-"}),d.jsx("td",{style:{...Ar,padding:"10px 12px",fontFamily:"monospace"},children:_.blanket_orders?.order_number||"-"}),d.jsx("td",{style:{...Ar,padding:"10px 12px",textAlign:"right"},children:_.total_quantity||0}),d.jsx("td",{style:{...Ar,padding:"10px 12px",textAlign:"right"},children:_.released_quantity||0}),d.jsx("td",{style:{...Ar,padding:"10px 12px",textAlign:"right"},children:(_.total_quantity||0)-(_.released_quantity||0)}),d.jsx("td",{style:{...Ar,padding:"10px 12px",textAlign:"center"},children:d.jsx(Pn,{variant:_.blanket_orders?.status==="ACTIVE"?"success":"neutral",children:_.blanket_orders?.status||"-"})})]},_.line_id))})]})})]}),n.length===0&&d.jsx("p",{style:{color:"var(--enterprise-gray-500)",fontSize:"var(--font-size-sm)",fontStyle:"italic"},children:"No blanket orders found for this item."}),d.jsxs("p",{style:{marginTop:"12px",fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",display:"flex",alignItems:"center",gap:"4px"},children:[d.jsx(bD,{size:12})," Reserved stock is allocated from warehouse availability"]})]})]}),d.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(220,38,38,0.03) 0%, rgba(220,38,38,0.08) 100%)",borderRadius:"var(--border-radius-lg)",padding:"20px",border:"1px solid rgba(220,38,38,0.12)"},children:[d.jsxs("p",{style:{...fc,color:"var(--enterprise-error)"},children:[d.jsx(jD,{size:18})," Stock Distribution & Movements"]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"20px"},children:[d.jsxs("div",{style:{background:"white",padding:"16px",borderRadius:"var(--border-radius-md)",boxShadow:"var(--shadow-sm)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[d.jsx(T_,{size:18,style:{color:"var(--enterprise-primary)"}}),d.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-700)"},children:"Warehouse"})]}),d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[d.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-500)"},children:"Available"}),d.jsx("span",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-success)"},children:r.warehouseAvailable})]}),d.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[d.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-500)"},children:"Reserved"}),d.jsx("span",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-warning)"},children:r.warehouseReserved})]})]}),d.jsxs("div",{style:{background:"white",padding:"16px",borderRadius:"var(--border-radius-md)",boxShadow:"var(--shadow-sm)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[d.jsx($v,{size:18,style:{color:"var(--enterprise-info)"}}),d.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-700)"},children:"In Transit"})]}),d.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[d.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-500)"},children:"Quantity"}),d.jsx("span",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-info)"},children:r.inTransitQty})]})]}),d.jsxs("div",{style:{background:"white",padding:"16px",borderRadius:"var(--border-radius-md)",boxShadow:"var(--shadow-sm)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[d.jsx(C_,{size:18,style:{color:"var(--enterprise-secondary)"}}),d.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-700)"},children:"Production"})]}),d.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[d.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-500)"},children:"Finished Stock"}),d.jsx("span",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-secondary)"},children:r.productionFinished})]})]})]}),d.jsxs("div",{style:{background:"linear-gradient(135deg, #eef4ff 0%, #e0ebff 100%)",borderRadius:"var(--border-radius-md)",padding:"20px",textAlign:"center",border:"1px solid #c7d7fe"},children:[d.jsx("p",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-600)",letterSpacing:"0.4px",marginBottom:"6px",textTransform:"uppercase"},children:"Net Available for Customer"}),d.jsx("p",{style:{fontSize:"2.6rem",fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-primary)",margin:"4px 0"},children:r.netAvailable}),d.jsxs("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)"},children:["= Warehouse Available (",r.warehouseAvailable,") + In Transit (",r.inTransitQty,")  Reserved (",r.warehouseReserved,")"]})]}),d.jsx("p",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--enterprise-gray-600)",marginBottom:"12px"},children:"Inventory Actions"}),d.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[d.jsx(Dt,{variant:"secondary",size:"sm",icon:d.jsx(C_,{size:14}),disabled:!0,children:"Receive from Production"}),d.jsx(Dt,{variant:"secondary",size:"sm",icon:d.jsx(BP,{size:14}),disabled:!0,children:"Transfer to Warehouse"}),d.jsx(Dt,{variant:"secondary",size:"sm",icon:d.jsx($v,{size:14}),disabled:!0,children:"Dispatch to Customer"}),d.jsx(Dt,{variant:"tertiary",size:"sm",style:{opacity:.6},disabled:!0,children:"Adjust Stock (Admin)"})]}),d.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-400)",marginTop:"8px",fontStyle:"italic"},children:"Stock movement actions will be available via the Stock Movements module"})]}),d.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(34,197,94,0.03) 0%, rgba(34,197,94,0.08) 100%)",borderRadius:"var(--border-radius-lg)",padding:"20px",border:"1px solid rgba(34,197,94,0.12)"},children:[d.jsxs("p",{style:{...fc,color:"var(--enterprise-success)"},children:[d.jsx(T_,{size:18})," Physical & Packaging Details"]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[d.jsxs("div",{children:[d.jsx(Me,{children:"Finished Size (LWH)"}),d.jsx(ze,{value:"    ",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Me,{children:"Weight per Unit"}),d.jsx(ze,{value:"",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Me,{children:"Packaging Type"}),d.jsx(ze,{value:"",disabled:!0})]})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginTop:"16px"},children:[d.jsxs("div",{children:[d.jsx(Me,{children:"Pack Size"}),d.jsx(ze,{value:"",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Me,{children:"Min Dispatch Qty"}),d.jsx(ze,{value:"",disabled:!0})]})]}),d.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-400)",marginTop:"12px",fontStyle:"italic"},children:"Physical specifications will be available when logistics data is configured"})]}),d.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"8px"},children:d.jsx(Dt,{variant:"primary",onClick:e,children:"Close"})})]})})}function OL(){const[t,e]=z.useState([]),[r,n]=z.useState(!0),[i,o]=z.useState(!1),[l,u]=z.useState(new Date),[c,h]=z.useState(null),[y,p]=z.useState(!1),g=z.useCallback(async(O=!1)=>{O&&o(!0);try{const P=Rr(),{data:j,error:A}=await P.from("items").select("*").order("item_code",{ascending:!0});if(A)console.error("Error fetching items:",A),e([]);else{const T=(j||[]).map(N=>({id:N.id,itemCode:N.item_code,itemName:N.item_name,description:N.description||N.item_name,uom:N.uom||"PCS",minStock:N.min_stock_level||0,maxStock:N.max_stock_level||0,safetyStock:N.safety_stock||0,leadTimeDays:N.lead_time_days||0,status:N.is_active?"active":"inactive",revision:N.revision||"",masterSerialNo:N.master_serial_no||"",partNumber:N.part_number||"",createdAt:N.created_at}));e(T)}u(new Date)}catch(P){console.error("Error fetching data:",P)}finally{n(!1),o(!1)}},[]);z.useEffect(()=>{g()},[g]);const _=z.useCallback(()=>t.map(O=>{const P=Math.floor(Math.random()*500)+50,j=Math.floor(Math.random()*100),A=Math.floor(Math.random()*50),T=Math.floor(Math.random()*200),N=P+A-j;let $="healthy";return N<=O.minStock?$="critical":N<=O.safetyStock&&($="low"),{id:O.id,item:O,warehouseAvailable:P,warehouseReserved:j,inTransitQty:A,productionFinished:T,netAvailable:N,status:$,updatedAt:new Date().toISOString()}}),[t])(),w=_.filter(O=>O.status==="healthy").length,b=_.filter(O=>O.status==="low").length,k=_.filter(O=>O.status==="critical").length,E=O=>{h(O),p(!0)};return r?d.jsx($d,{}):d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsx("div",{children:d.jsxs("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-600)"},children:["Last updated: ",l.toLocaleString()]})}),d.jsx(Dt,{variant:"secondary",icon:d.jsx(Fl,{size:18,className:i?"spinning":""}),onClick:()=>g(!0),disabled:i,children:i?"Refreshing...":"Refresh"})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px"},children:[d.jsx(An,{children:d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[d.jsxs("div",{children:[d.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-600)",fontWeight:"var(--font-weight-medium)",marginBottom:"8px"},children:"Total Items"}),d.jsx("p",{style:{fontSize:"2rem",fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-primary)"},children:_.length})]}),d.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"var(--border-radius-md)",backgroundColor:"rgba(30, 58, 138, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(Nr,{size:24,style:{color:"var(--enterprise-primary)"}})})]})}),d.jsx(An,{children:d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[d.jsxs("div",{children:[d.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-600)",fontWeight:"var(--font-weight-medium)",marginBottom:"8px"},children:"Healthy Stock"}),d.jsx("p",{style:{fontSize:"2rem",fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-success)"},children:w})]}),d.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"var(--border-radius-md)",backgroundColor:"rgba(34, 197, 94, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(xi,{size:24,style:{color:"var(--enterprise-success)"}})})]})}),d.jsx(An,{children:d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[d.jsxs("div",{children:[d.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-600)",fontWeight:"var(--font-weight-medium)",marginBottom:"8px"},children:"Low Stock"}),d.jsx("p",{style:{fontSize:"2rem",fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-warning)"},children:b})]}),d.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"var(--border-radius-md)",backgroundColor:"rgba(234, 179, 8, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(Jr,{size:24,style:{color:"var(--enterprise-warning)"}})})]})}),d.jsx(An,{children:d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[d.jsxs("div",{children:[d.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-600)",fontWeight:"var(--font-weight-medium)",marginBottom:"8px"},children:"Critical Stock"}),d.jsx("p",{style:{fontSize:"2rem",fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-error)"},children:k})]}),d.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"var(--border-radius-md)",backgroundColor:"rgba(220, 38, 38, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(Jr,{size:24,style:{color:"var(--enterprise-error)"}})})]})})]}),d.jsx(An,{style:{padding:0,overflow:"hidden"},children:_.length===0?d.jsx(VP,{icon:d.jsx(Nr,{size:48}),title:"No Inventory Records",description:"Inventory will be automatically created when you add items"}):d.jsx("div",{style:{overflowX:"auto"},children:d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[d.jsx("thead",{children:d.jsxs("tr",{style:{backgroundColor:"var(--table-header-bg)",borderBottom:"2px solid var(--table-border)"},children:[d.jsx("th",{style:{...Er,minWidth:"100px"},children:"Item Code"}),d.jsx("th",{style:{...Er,minWidth:"180px"},children:"Description"}),d.jsx("th",{style:{...Er,textAlign:"center",minWidth:"60px"},children:"UOM"}),d.jsx("th",{style:{...Er,textAlign:"right",minWidth:"120px"},children:"Net Available"}),d.jsx("th",{style:{...Er,textAlign:"center",minWidth:"100px"},children:"Status"}),d.jsx("th",{style:{...Er,textAlign:"center",minWidth:"80px"},children:"Action"})]})}),d.jsx("tbody",{children:_.map((O,P)=>d.jsxs("tr",{style:{backgroundColor:P%2===0?"white":"var(--table-stripe)",borderBottom:"1px solid var(--table-border)",transition:"background-color var(--transition-fast)"},onMouseEnter:j=>{j.currentTarget.style.backgroundColor="var(--table-hover)"},onMouseLeave:j=>{j.currentTarget.style.backgroundColor=P%2===0?"white":"var(--table-stripe)"},children:[d.jsx("td",{style:{...Ar,fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-primary)"},children:O.item.itemCode}),d.jsx("td",{style:Ar,children:O.item.description||O.item.itemName}),d.jsx("td",{style:{...Ar,textAlign:"center"},children:O.item.uom}),d.jsx("td",{style:{...Ar,textAlign:"right",fontWeight:"var(--font-weight-bold)",color:O.status==="critical"?"var(--enterprise-error)":O.status==="low"?"var(--enterprise-warning)":"var(--enterprise-success)"},children:O.netAvailable}),d.jsx("td",{style:{...Ar,textAlign:"center"},children:d.jsx(Pn,{variant:O.status==="healthy"?"success":O.status==="low"?"warning":"error",children:O.status.toUpperCase()})}),d.jsx("td",{style:{...Ar,textAlign:"center"},children:d.jsx(Dt,{variant:"tertiary",size:"sm",icon:d.jsx(Nd,{size:14}),onClick:()=>E(O),children:"View"})})]},O.id))})]})})}),d.jsxs("div",{style:{backgroundColor:"var(--enterprise-info-bg)",border:"1px solid var(--enterprise-info)",borderRadius:"var(--border-radius-md)",padding:"16px",display:"flex",gap:"12px"},children:[d.jsx(co,{size:20,style:{color:"var(--enterprise-info)",flexShrink:0,marginTop:"2px"}}),d.jsxs("div",{children:[d.jsx("p",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-info)",marginBottom:"4px"},children:"Inventory Management"}),d.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-700)"},children:"Net Available = Warehouse Available + In Transit  Reserved  Inventory is read-only  Use Stock Movements for adjustments  Item creation happens in Item Master"})]})]}),d.jsx(jL,{isOpen:y,onClose:()=>p(!1),inventory:c}),d.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        .spinning {
          animation: spin 1s linear infinite;
        }
      `})]})}function kL({accessToken:t}){const[e,r]=z.useState([]),[n,i]=z.useState([]),[o,l]=z.useState(!0),[u,c]=z.useState(!1),[h,y]=z.useState(!1),[p,g]=z.useState(null),[v,_]=z.useState([]),[w,b]=z.useState(""),[k,E]=z.useState({orderNumber:"",customerName:"",orderDate:new Date().toISOString().split("T")[0],startDate:new Date().toISOString().split("T")[0],endDate:"",status:"ACTIVE",lines:[{itemId:"",totalQuantity:0}]});z.useEffect(()=>{O()},[]);const O=async()=>{try{const[R,H]=await Promise.all([fetch(`https://${Kt}.supabase.co/functions/v1/make-server-9c637d11/blanket-orders`,{headers:{Authorization:`Bearer ${t}`}}),fetch(`https://${Kt}.supabase.co/functions/v1/make-server-9c637d11/items`,{headers:{Authorization:`Bearer ${t}`}})]);if(!R.ok||!H.ok)throw new Error("Failed to fetch data");const L=await R.json(),M=await H.json();r(L.orders||[]),i(M.items||[])}catch(R){console.error("Error fetching data:",R)}finally{l(!1)}},P=async R=>{try{const H=await fetch(`https://${Kt}.supabase.co/functions/v1/make-server-9c637d11/blanket-orders/${R}/lines`,{headers:{Authorization:`Bearer ${t}`}});if(!H.ok)throw new Error("Failed to fetch order lines");const L=await H.json();_(L.lines||[])}catch(H){console.error("Error fetching order lines:",H)}},j=async R=>{R.preventDefault();try{const H=await fetch(`https://${Kt}.supabase.co/functions/v1/make-server-9c637d11/blanket-orders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({orderNumber:k.orderNumber,customerName:k.customerName,orderDate:k.orderDate,startDate:k.startDate,endDate:k.endDate,status:k.status,lines:k.lines.filter(L=>L.itemId&&L.totalQuantity>0)})});if(!H.ok){const L=await H.json();throw new Error(L.error||"Failed to save blanket order")}await O(),T()}catch(H){console.error("Error saving blanket order:",H),alert(H instanceof Error?H.message:"Failed to save blanket order")}},A=async R=>{g(R),await P(R.id),y(!0)},T=()=>{c(!1),E({orderNumber:"",customerName:"",orderDate:new Date().toISOString().split("T")[0],startDate:new Date().toISOString().split("T")[0],endDate:"",status:"ACTIVE",lines:[{itemId:"",totalQuantity:0}]})},N=()=>{E({...k,lines:[...k.lines,{itemId:"",totalQuantity:0}]})},$=R=>{k.lines.length>1&&E({...k,lines:k.lines.filter((H,L)=>L!==R)})},V=(R,H,L)=>{const M=[...k.lines];M[R]={...M[R],[H]:L},E({...k,lines:M})},F=e.filter(R=>R.orderNumber.toLowerCase().includes(w.toLowerCase())||R.customerName.toLowerCase().includes(w.toLowerCase()));return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Blanket Orders"}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Manage long-term customer orders with multiple items"})]}),d.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(al,{size:20}),"New Order"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Active Orders"}),d.jsx("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:e.filter(R=>R.status==="ACTIVE").length})]}),d.jsx(Xi,{className:"text-blue-600",size:24})]})}),d.jsx("div",{className:"bg-green-50 rounded-lg border border-green-200 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Completed"}),d.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:e.filter(R=>R.status==="COMPLETED").length})]}),d.jsx(Xi,{className:"text-green-600",size:24})]})}),d.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Total Orders"}),d.jsx("p",{className:"text-2xl font-bold text-gray-700 mt-1",children:e.length})]}),d.jsx(Xi,{className:"text-gray-600",size:24})]})})]}),d.jsxs("div",{className:"relative",children:[d.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"text",value:w,onChange:R=>b(R.target.value),placeholder:"Search by order number or customer name...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx(wi,{className:"animate-spin text-blue-600",size:32})}):F.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(Xi,{className:"mx-auto text-gray-400 mb-4",size:48}),d.jsx("p",{className:"text-gray-600",children:"No blanket orders found"}),d.jsx("button",{onClick:()=>c(!0),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:"Create your first order"})]}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:d.jsxs("tr",{children:[d.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Order Number"}),d.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Customer"}),d.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Order Date"}),d.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Valid Period"}),d.jsx("th",{className:"text-center px-6 py-4 text-sm font-semibold text-gray-900",children:"Status"}),d.jsx("th",{className:"text-center px-6 py-4 text-sm font-semibold text-gray-900",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200",children:F.map(R=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:R.orderNumber}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:R.customerName}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(R.orderDate).toLocaleDateString()}),d.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[new Date(R.startDate).toLocaleDateString()," - ",new Date(R.endDate).toLocaleDateString()]}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${R.status==="ACTIVE"?"bg-green-100 text-green-700":R.status==="COMPLETED"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:R.status})}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsxs("button",{onClick:()=>A(R),className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Nd,{size:14}),"View Lines"]})})]},R.id))})]})})}),u&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"p-6 border-b border-gray-200 sticky top-0 bg-white",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Blanket Order"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Multi-line order for long-term customer agreements"})]}),d.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Number *"}),d.jsx("input",{type:"text",value:k.orderNumber,onChange:R=>E({...k,orderNumber:R.target.value}),required:!0,placeholder:"BO-2024-001",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),d.jsx("input",{type:"text",value:k.customerName,onChange:R=>E({...k,customerName:R.target.value}),required:!0,placeholder:"ABC Manufacturing Inc.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),d.jsx("input",{type:"date",value:k.orderDate,onChange:R=>E({...k,orderDate:R.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),d.jsxs("select",{value:k.status,onChange:R=>E({...k,status:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[d.jsx("option",{value:"ACTIVE",children:"Active"}),d.jsx("option",{value:"COMPLETED",children:"Completed"}),d.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid From *"}),d.jsx("input",{type:"date",value:k.startDate,onChange:R=>E({...k,startDate:R.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid To *"}),d.jsx("input",{type:"date",value:k.endDate,onChange:R=>E({...k,endDate:R.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]})]}),d.jsxs("div",{className:"border-t pt-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Order Lines"}),d.jsxs("button",{type:"button",onClick:N,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(al,{size:16}),"Add Line"]})]}),d.jsx("div",{className:"space-y-3",children:k.lines.map((R,H)=>d.jsxs("div",{className:"flex gap-3 items-start bg-gray-50 p-3 rounded-lg",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Item *"}),d.jsxs("select",{value:R.itemId,onChange:L=>V(H,"itemId",L.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",children:[d.jsx("option",{value:"",children:"Select item..."}),n.map(L=>d.jsxs("option",{value:L.id,children:[L.itemCode," - ",L.itemName]},L.id))]})]}),d.jsxs("div",{className:"w-32",children:[d.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity *"}),d.jsx("input",{type:"number",value:R.totalQuantity,onChange:L=>V(H,"totalQuantity",parseInt(L.target.value)||0),required:!0,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm"})]}),k.lines.length>1&&d.jsx("button",{type:"button",onClick:()=>$(H),className:"mt-6 p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:d.jsx(Id,{size:18})})]},H))})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Create Order"}),d.jsx("button",{type:"button",onClick:T,className:"flex-1 bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"})]})]})]})}),h&&p&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full",children:[d.jsxs("div",{className:"p-6 border-b border-gray-200",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Order Lines"}),d.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[p.orderNumber," - ",p.customerName]})]}),d.jsx("div",{className:"p-6",children:v.length===0?d.jsxs("div",{className:"text-center py-8",children:[d.jsx(Nr,{className:"mx-auto text-gray-400 mb-3",size:40}),d.jsx("p",{className:"text-gray-600",children:"No order lines found"})]}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-gray-900",children:"Item Code"}),d.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-gray-900",children:"Item Name"}),d.jsx("th",{className:"text-right px-4 py-3 text-sm font-semibold text-gray-900",children:"Total Qty"}),d.jsx("th",{className:"text-right px-4 py-3 text-sm font-semibold text-gray-900",children:"Released"}),d.jsx("th",{className:"text-right px-4 py-3 text-sm font-semibold text-gray-900",children:"Delivered"}),d.jsx("th",{className:"text-right px-4 py-3 text-sm font-semibold text-gray-900",children:"Remaining"}),d.jsx("th",{className:"text-center px-4 py-3 text-sm font-semibold text-gray-900",children:"Progress"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200",children:v.map(R=>{const H=R.deliveredQuantity/R.totalQuantity*100;return d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:R.itemCode||"N/A"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:R.itemName||"Unknown"}),d.jsx("td",{className:"px-4 py-3 text-sm text-right font-bold text-gray-900",children:R.totalQuantity}),d.jsx("td",{className:"px-4 py-3 text-sm text-right text-blue-600",children:R.releasedQuantity}),d.jsx("td",{className:"px-4 py-3 text-sm text-right text-green-600",children:R.deliveredQuantity}),d.jsx("td",{className:"px-4 py-3 text-sm text-right text-orange-600 font-bold",children:R.remainingQuantity}),d.jsx("td",{className:"px-4 py-3",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all",style:{width:`${H}%`}})}),d.jsxs("span",{className:"text-xs text-gray-600 w-12 text-right",children:[H.toFixed(0),"%"]})]})})]},R.id)})})]})})}),d.jsx("div",{className:"p-6 border-t border-gray-200",children:d.jsx("button",{onClick:()=>y(!1),className:"w-full bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Close"})})]})})]})}function EL({accessToken:t}){const[e,r]=z.useState([]),[n,i]=z.useState([]),[o,l]=z.useState(!0),[u,c]=z.useState(!1),[h,y]=z.useState(""),[p,g]=z.useState("ALL"),[v,_]=z.useState({orderLineId:"",releaseNumber:"",releaseDate:new Date().toISOString().split("T")[0],scheduledDeliveryDate:"",quantity:0,status:"PENDING",shippingReference:"",notes:""});z.useEffect(()=>{w()},[p]);const w=async()=>{try{const j=p==="ALL"?`https://${Kt}.supabase.co/functions/v1/make-server-9c637d11/blanket-releases`:`https://${Kt}.supabase.co/functions/v1/make-server-9c637d11/blanket-releases?status=${p}`,[A,T]=await Promise.all([fetch(j,{headers:{Authorization:`Bearer ${t}`}}),fetch(`https://${Kt}.supabase.co/functions/v1/make-server-9c637d11/blanket-orders/lines/available`,{headers:{Authorization:`Bearer ${t}`}})]);if(!A.ok||!T.ok)throw new Error("Failed to fetch data");const N=await A.json(),$=await T.json();r(N.releases||[]),i($.lines||[])}catch(j){console.error("Error fetching data:",j)}finally{l(!1)}},b=async j=>{j.preventDefault();try{const A=await fetch(`https://${Kt}.supabase.co/functions/v1/make-server-9c637d11/blanket-releases`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(v)});if(!A.ok){const T=await A.json();throw new Error(T.error||"Failed to create release")}await w(),E()}catch(A){console.error("Error creating release:",A),alert(A instanceof Error?A.message:"Failed to create release")}},k=async(j,A)=>{if(confirm(`Are you sure you want to mark this release as ${A}?${A==="DELIVERED"?`

 This will automatically deduct stock from inventory!`:""}`))try{const T=await fetch(`https://${Kt}.supabase.co/functions/v1/make-server-9c637d11/blanket-releases/${j}/status`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({status:A,actualDeliveryDate:A==="DELIVERED"?new Date().toISOString().split("T")[0]:void 0})});if(!T.ok){const $=await T.json();throw new Error($.error||"Failed to update status")}const N=await T.json();A==="DELIVERED"&&N.stockDeducted&&alert(` Release delivered successfully!

 Stock deducted: ${N.stockDeducted.quantity} units
 New available stock: ${N.stockDeducted.newStock}`),await w()}catch(T){console.error("Error updating status:",T),alert(T instanceof Error?T.message:"Failed to update status")}},E=()=>{c(!1),_({orderLineId:"",releaseNumber:"",releaseDate:new Date().toISOString().split("T")[0],scheduledDeliveryDate:"",quantity:0,status:"PENDING",shippingReference:"",notes:""})},O=j=>n.find(A=>A.id===j),P=e.filter(j=>j.releaseNumber.toLowerCase().includes(h.toLowerCase())||j.customerName?.toLowerCase().includes(h.toLowerCase())||j.itemCode?.toLowerCase().includes(h.toLowerCase()));return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Blanket Releases"}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Manage delivery schedules with automatic inventory deduction"})]}),d.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(al,{size:20}),"New Release"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsx("div",{className:"bg-yellow-50 rounded-lg border border-yellow-200 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-yellow-700 font-medium",children:"Pending"}),d.jsx("p",{className:"text-2xl font-bold text-yellow-700 mt-1",children:e.filter(j=>j.status==="PENDING").length})]}),d.jsx(il,{className:"text-yellow-600",size:24})]})}),d.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Shipped"}),d.jsx("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:e.filter(j=>j.status==="SHIPPED").length})]}),d.jsx($v,{className:"text-blue-600",size:24})]})}),d.jsx("div",{className:"bg-green-50 rounded-lg border border-green-200 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Delivered"}),d.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:e.filter(j=>j.status==="DELIVERED").length})]}),d.jsx(xi,{className:"text-green-600",size:24})]})}),d.jsx("div",{className:"bg-purple-50 rounded-lg border border-purple-200 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-purple-700 font-medium",children:"Total Releases"}),d.jsx("p",{className:"text-2xl font-bold text-purple-700 mt-1",children:e.length})]}),d.jsx(Nr,{className:"text-purple-600",size:24})]})})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"text",value:h,onChange:j=>y(j.target.value),placeholder:"Search by release number, customer, or item...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),d.jsxs("select",{value:p,onChange:j=>g(j.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[d.jsx("option",{value:"ALL",children:"All Statuses"}),d.jsx("option",{value:"PENDING",children:"Pending"}),d.jsx("option",{value:"SHIPPED",children:"Shipped"}),d.jsx("option",{value:"DELIVERED",children:"Delivered"})]})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[d.jsx(uo,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:20}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Automatic Stock Deduction Enabled"}),d.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["When you mark a release as ",d.jsx("span",{className:"font-bold",children:"DELIVERED"}),", the system will automatically deduct the quantity from available inventory. This ensures real-time inventory accuracy."]})]})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx(wi,{className:"animate-spin text-blue-600",size:32})}):P.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(il,{className:"mx-auto text-gray-400 mb-4",size:48}),d.jsx("p",{className:"text-gray-600",children:"No releases found"}),d.jsx("button",{onClick:()=>c(!0),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:"Create your first release"})]}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:d.jsxs("tr",{children:[d.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Release #"}),d.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Order / Customer"}),d.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Item"}),d.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-gray-900",children:"Quantity"}),d.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Scheduled Date"}),d.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Actual Date"}),d.jsx("th",{className:"text-center px-6 py-4 text-sm font-semibold text-gray-900",children:"Status"}),d.jsx("th",{className:"text-center px-6 py-4 text-sm font-semibold text-gray-900",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200",children:P.map(j=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:j.releaseNumber}),d.jsx("td",{className:"px-6 py-4 text-sm",children:d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:j.orderNumber||"N/A"}),d.jsx("p",{className:"text-gray-600 text-xs",children:j.customerName||"Unknown"})]})}),d.jsx("td",{className:"px-6 py-4 text-sm",children:d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:j.itemCode||"N/A"}),d.jsx("p",{className:"text-gray-600 text-xs",children:j.itemName||"Unknown"})]})}),d.jsx("td",{className:"px-6 py-4 text-sm text-right font-bold text-gray-900",children:j.quantity}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(j.scheduledDeliveryDate).toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:j.actualDeliveryDate?new Date(j.actualDeliveryDate).toLocaleDateString():"-"}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${j.status==="PENDING"?"bg-yellow-100 text-yellow-700":j.status==="SHIPPED"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:[j.status,j.status==="DELIVERED"&&d.jsx("span",{className:"ml-1",title:"Stock automatically deducted",children:""})]})}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[j.status==="PENDING"&&d.jsx("button",{onClick:()=>k(j.id,"SHIPPED"),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:"Ship"}),j.status==="SHIPPED"&&d.jsxs("button",{onClick:()=>k(j.id,"DELIVERED"),className:"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition-colors flex items-center gap-1",children:[d.jsx(Nr,{size:12}),"Deliver"]}),j.status==="DELIVERED"&&d.jsxs("span",{className:"text-green-600 text-xs font-medium flex items-center gap-1",children:[d.jsx(xi,{size:14}),"Stock Deducted"]})]})})]},j.id))})]})})}),u&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full",children:[d.jsxs("div",{className:"p-6 border-b border-gray-200",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Release"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Schedule a delivery from a blanket order line"})]}),d.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Line *"}),d.jsxs("select",{value:v.orderLineId,onChange:j=>{const A=O(j.target.value);_({...v,orderLineId:j.target.value,quantity:A?.remainingQuantity||0})},required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[d.jsx("option",{value:"",children:"Select order line..."}),n.filter(j=>j.remainingQuantity>0).map(j=>d.jsxs("option",{value:j.id,children:[j.orderNumber," - ",j.customerName," - ",j.itemCode," (Available: ",j.remainingQuantity,")"]},j.id))]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Release Number *"}),d.jsx("input",{type:"text",value:v.releaseNumber,onChange:j=>_({...v,releaseNumber:j.target.value}),required:!0,placeholder:"REL-2024-001",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),d.jsx("input",{type:"number",value:v.quantity,onChange:j=>_({...v,quantity:parseInt(j.target.value)||0}),required:!0,min:"1",max:O(v.orderLineId)?.remainingQuantity||0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),v.orderLineId&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Max: ",O(v.orderLineId)?.remainingQuantity||0]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Release Date *"}),d.jsx("input",{type:"date",value:v.releaseDate,onChange:j=>_({...v,releaseDate:j.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scheduled Delivery *"}),d.jsx("input",{type:"date",value:v.scheduledDeliveryDate,onChange:j=>_({...v,scheduledDeliveryDate:j.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Reference"}),d.jsx("input",{type:"text",value:v.shippingReference,onChange:j=>_({...v,shippingReference:j.target.value}),placeholder:"Tracking number, BOL, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),d.jsx("textarea",{value:v.notes,onChange:j=>_({...v,notes:j.target.value}),rows:3,placeholder:"Delivery instructions, special handling, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none"})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Create Release"}),d.jsx("button",{type:"button",onClick:E,className:"flex-1 bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"})]})]})]})})]})}function KP(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=KP(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function De(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=KP(t))&&(n&&(n+=" "),n+=e);return n}var _p,M_;function or(){if(M_)return _p;M_=1;var t=Array.isArray;return _p=t,_p}var Sp,D_;function GP(){if(D_)return Sp;D_=1;var t=typeof oc=="object"&&oc&&oc.Object===Object&&oc;return Sp=t,Sp}var jp,L_;function gn(){if(L_)return jp;L_=1;var t=GP(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return jp=r,jp}var Op,z_;function Wl(){if(z_)return Op;z_=1;var t=gn(),e=t.Symbol;return Op=e,Op}var kp,B_;function AL(){if(B_)return kp;B_=1;var t=Wl(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function o(l){var u=r.call(l,i),c=l[i];try{l[i]=void 0;var h=!0}catch{}var y=n.call(l);return h&&(u?l[i]=c:delete l[i]),y}return kp=o,kp}var Ep,q_;function PL(){if(q_)return Ep;q_=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Ep=r,Ep}var Ap,U_;function Un(){if(U_)return Ap;U_=1;var t=Wl(),e=AL(),r=PL(),n="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function l(u){return u==null?u===void 0?i:n:o&&o in Object(u)?e(u):r(u)}return Ap=l,Ap}var Pp,F_;function Fn(){if(F_)return Pp;F_=1;function t(e){return e!=null&&typeof e=="object"}return Pp=t,Pp}var Tp,W_;function Mo(){if(W_)return Tp;W_=1;var t=Un(),e=Fn(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Tp=n,Tp}var Cp,H_;function ox(){if(H_)return Cp;H_=1;var t=or(),e=Mo(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,l){if(t(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||e(o)?!0:n.test(o)||!r.test(o)||l!=null&&o in Object(l)}return Cp=i,Cp}var Np,V_;function _i(){if(V_)return Np;V_=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Np=t,Np}var Ip,K_;function sx(){if(K_)return Ip;K_=1;var t=Un(),e=_i(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(u){if(!e(u))return!1;var c=t(u);return c==n||c==i||c==r||c==o}return Ip=l,Ip}var Rp,G_;function TL(){if(G_)return Rp;G_=1;var t=gn(),e=t["__core-js_shared__"];return Rp=e,Rp}var $p,X_;function CL(){if(X_)return $p;X_=1;var t=TL(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return $p=r,$p}var Mp,Y_;function XP(){if(Y_)return Mp;Y_=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Mp=r,Mp}var Dp,J_;function NL(){if(J_)return Dp;J_=1;var t=sx(),e=CL(),r=_i(),n=XP(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,h=u.hasOwnProperty,y=RegExp("^"+c.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!r(g)||e(g))return!1;var v=t(g)?y:o;return v.test(n(g))}return Dp=p,Dp}var Lp,Q_;function IL(){if(Q_)return Lp;Q_=1;function t(e,r){return e?.[r]}return Lp=t,Lp}var zp,Z_;function ca(){if(Z_)return zp;Z_=1;var t=NL(),e=IL();function r(n,i){var o=e(n,i);return t(o)?o:void 0}return zp=r,zp}var Bp,eS;function Md(){if(eS)return Bp;eS=1;var t=ca(),e=t(Object,"create");return Bp=e,Bp}var qp,tS;function RL(){if(tS)return qp;tS=1;var t=Md();function e(){this.__data__=t?t(null):{},this.size=0}return qp=e,qp}var Up,rS;function $L(){if(rS)return Up;rS=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Up=t,Up}var Fp,nS;function ML(){if(nS)return Fp;nS=1;var t=Md(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var l=this.__data__;if(t){var u=l[o];return u===e?void 0:u}return n.call(l,o)?l[o]:void 0}return Fp=i,Fp}var Wp,iS;function DL(){if(iS)return Wp;iS=1;var t=Md(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var o=this.__data__;return t?o[i]!==void 0:r.call(o,i)}return Wp=n,Wp}var Hp,aS;function LL(){if(aS)return Hp;aS=1;var t=Md(),e="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&i===void 0?e:i,this}return Hp=r,Hp}var Vp,oS;function zL(){if(oS)return Vp;oS=1;var t=RL(),e=$L(),r=ML(),n=DL(),i=LL();function o(l){var u=-1,c=l==null?0:l.length;for(this.clear();++u<c;){var h=l[u];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Vp=o,Vp}var Kp,sS;function BL(){if(sS)return Kp;sS=1;function t(){this.__data__=[],this.size=0}return Kp=t,Kp}var Gp,lS;function lx(){if(lS)return Gp;lS=1;function t(e,r){return e===r||e!==e&&r!==r}return Gp=t,Gp}var Xp,uS;function Dd(){if(uS)return Xp;uS=1;var t=lx();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return Xp=e,Xp}var Yp,cS;function qL(){if(cS)return Yp;cS=1;var t=Dd(),e=Array.prototype,r=e.splice;function n(i){var o=this.__data__,l=t(o,i);if(l<0)return!1;var u=o.length-1;return l==u?o.pop():r.call(o,l,1),--this.size,!0}return Yp=n,Yp}var Jp,dS;function UL(){if(dS)return Jp;dS=1;var t=Dd();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return Jp=e,Jp}var Qp,fS;function FL(){if(fS)return Qp;fS=1;var t=Dd();function e(r){return t(this.__data__,r)>-1}return Qp=e,Qp}var Zp,hS;function WL(){if(hS)return Zp;hS=1;var t=Dd();function e(r,n){var i=this.__data__,o=t(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return Zp=e,Zp}var ey,pS;function Ld(){if(pS)return ey;pS=1;var t=BL(),e=qL(),r=UL(),n=FL(),i=WL();function o(l){var u=-1,c=l==null?0:l.length;for(this.clear();++u<c;){var h=l[u];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,ey=o,ey}var ty,yS;function ux(){if(yS)return ty;yS=1;var t=ca(),e=gn(),r=t(e,"Map");return ty=r,ty}var ry,mS;function HL(){if(mS)return ry;mS=1;var t=zL(),e=Ld(),r=ux();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return ry=n,ry}var ny,gS;function VL(){if(gS)return ny;gS=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return ny=t,ny}var iy,vS;function zd(){if(vS)return iy;vS=1;var t=VL();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return iy=e,iy}var ay,xS;function KL(){if(xS)return ay;xS=1;var t=zd();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return ay=e,ay}var oy,bS;function GL(){if(bS)return oy;bS=1;var t=zd();function e(r){return t(this,r).get(r)}return oy=e,oy}var sy,wS;function XL(){if(wS)return sy;wS=1;var t=zd();function e(r){return t(this,r).has(r)}return sy=e,sy}var ly,_S;function YL(){if(_S)return ly;_S=1;var t=zd();function e(r,n){var i=t(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return ly=e,ly}var uy,SS;function cx(){if(SS)return uy;SS=1;var t=HL(),e=KL(),r=GL(),n=XL(),i=YL();function o(l){var u=-1,c=l==null?0:l.length;for(this.clear();++u<c;){var h=l[u];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,uy=o,uy}var cy,jS;function YP(){if(jS)return cy;jS=1;var t=cx(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var l=arguments,u=i?i.apply(this,l):l[0],c=o.cache;if(c.has(u))return c.get(u);var h=n.apply(this,l);return o.cache=c.set(u,h)||c,h};return o.cache=new(r.Cache||t),o}return r.Cache=t,cy=r,cy}var dy,OS;function JL(){if(OS)return dy;OS=1;var t=YP(),e=500;function r(n){var i=t(n,function(l){return o.size===e&&o.clear(),l}),o=i.cache;return i}return dy=r,dy}var fy,kS;function QL(){if(kS)return fy;kS=1;var t=JL(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(l,u,c,h){o.push(c?h.replace(r,"$1"):u||l)}),o});return fy=n,fy}var hy,ES;function dx(){if(ES)return hy;ES=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=r(e[n],n,e);return o}return hy=t,hy}var py,AS;function ZL(){if(AS)return py;AS=1;var t=Wl(),e=dx(),r=or(),n=Mo(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return e(u,l)+"";if(n(u))return o?o.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return py=l,py}var yy,PS;function JP(){if(PS)return yy;PS=1;var t=ZL();function e(r){return r==null?"":t(r)}return yy=e,yy}var my,TS;function QP(){if(TS)return my;TS=1;var t=or(),e=ox(),r=QL(),n=JP();function i(o,l){return t(o)?o:e(o,l)?[o]:r(n(o))}return my=i,my}var gy,CS;function Bd(){if(CS)return gy;CS=1;var t=Mo();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return gy=e,gy}var vy,NS;function fx(){if(NS)return vy;NS=1;var t=QP(),e=Bd();function r(n,i){i=t(i,n);for(var o=0,l=i.length;n!=null&&o<l;)n=n[e(i[o++])];return o&&o==l?n:void 0}return vy=r,vy}var xy,IS;function ZP(){if(IS)return xy;IS=1;var t=fx();function e(r,n,i){var o=r==null?void 0:t(r,n);return o===void 0?i:o}return xy=e,xy}var e4=ZP();const Tr=Ge(e4);var by,RS;function t4(){if(RS)return by;RS=1;function t(e){return e==null}return by=t,by}var r4=t4();const Ne=Ge(r4);var wy,$S;function n4(){if($S)return wy;$S=1;var t=Un(),e=or(),r=Fn(),n="[object String]";function i(o){return typeof o=="string"||!e(o)&&r(o)&&t(o)==n}return wy=i,wy}var i4=n4();const aa=Ge(i4);var a4=sx();const Te=Ge(a4);var o4=_i();const Do=Ge(o4);var _y={exports:{}},Ue={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MS;function s4(){if(MS)return Ue;MS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function w(b){if(typeof b=="object"&&b!==null){var k=b.$$typeof;switch(k){case t:switch(b=b.type,b){case r:case i:case n:case h:case y:return b;default:switch(b=b&&b.$$typeof,b){case u:case l:case c:case g:case p:case o:return b;default:return k}}case e:return k}}}return Ue.ContextConsumer=l,Ue.ContextProvider=o,Ue.Element=t,Ue.ForwardRef=c,Ue.Fragment=r,Ue.Lazy=g,Ue.Memo=p,Ue.Portal=e,Ue.Profiler=i,Ue.StrictMode=n,Ue.Suspense=h,Ue.SuspenseList=y,Ue.isAsyncMode=function(){return!1},Ue.isConcurrentMode=function(){return!1},Ue.isContextConsumer=function(b){return w(b)===l},Ue.isContextProvider=function(b){return w(b)===o},Ue.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},Ue.isForwardRef=function(b){return w(b)===c},Ue.isFragment=function(b){return w(b)===r},Ue.isLazy=function(b){return w(b)===g},Ue.isMemo=function(b){return w(b)===p},Ue.isPortal=function(b){return w(b)===e},Ue.isProfiler=function(b){return w(b)===i},Ue.isStrictMode=function(b){return w(b)===n},Ue.isSuspense=function(b){return w(b)===h},Ue.isSuspenseList=function(b){return w(b)===y},Ue.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===h||b===y||b===v||typeof b=="object"&&b!==null&&(b.$$typeof===g||b.$$typeof===p||b.$$typeof===o||b.$$typeof===l||b.$$typeof===c||b.$$typeof===_||b.getModuleId!==void 0)},Ue.typeOf=w,Ue}var DS;function l4(){return DS||(DS=1,_y.exports=s4()),_y.exports}var u4=l4(),Sy,LS;function eT(){if(LS)return Sy;LS=1;var t=Un(),e=Fn(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return Sy=n,Sy}var jy,zS;function c4(){if(zS)return jy;zS=1;var t=eT();function e(r){return t(r)&&r!=+r}return jy=e,jy}var d4=c4();const Lo=Ge(d4);var f4=eT();const h4=Ge(f4);var Zr=function(e){return e===0?0:e>0?1:-1},Yi=function(e){return aa(e)&&e.indexOf("%")===e.length-1},ue=function(e){return h4(e)&&!Lo(e)},p4=function(e){return Ne(e)},jt=function(e){return ue(e)||aa(e)},y4=0,zo=function(e){var r=++y4;return"".concat(e||"").concat(r)},oa=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(e)&&!aa(e))return n;var o;if(Yi(e)){var l=e.indexOf("%");o=r*parseFloat(e.slice(0,l))/100}else o=+e;return Lo(o)&&(o=n),i&&o>r&&(o=r),o},mi=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},m4=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Lt=function(e,r){return ue(e)&&ue(r)?function(n){return e+n*(r-e)}:function(){return r}};function Pc(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Tr(n,e))===r})}var g4=function(e,r){return ue(e)&&ue(r)?e-r:aa(e)&&aa(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ao(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Mv(t){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}var v4=["viewBox","children"],x4=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],BS=["points","pathLength"],Oy={svg:v4,polygon:BS,polyline:BS},hx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Tc=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(z.isValidElement(e)&&(n=e.props),!Do(n))return null;var i={};return Object.keys(n).forEach(function(o){hx.includes(o)&&(i[o]=r||function(l){return n[o](n,l)})}),i},b4=function(e,r,n){return function(i){return e(r,n,i),null}},Cc=function(e,r,n){if(!Do(e)||Mv(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var l=e[o];hx.includes(o)&&typeof l=="function"&&(i||(i={}),i[o]=b4(l,r,n))}),i},w4=["children"],_4=["children"];function qS(t,e){if(t==null)return{};var r=S4(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function S4(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Dv(t){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}var US={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},In=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},FS=null,ky=null,px=function t(e){if(e===FS&&Array.isArray(ky))return ky;var r=[];return z.Children.forEach(e,function(n){Ne(n)||(u4.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),ky=r,FS=e,r};function Cr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return In(i)}):n=[In(e)],px(t).forEach(function(i){var o=Tr(i,"type.displayName")||Tr(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function pr(t,e){var r=Cr(t,e);return r&&r[0]}var WS=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ue(n)||n<=0||!ue(i)||i<=0)},j4=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],O4=function(e){return e&&e.type&&aa(e.type)&&j4.indexOf(e.type)>=0},tT=function(e){return e&&Dv(e)==="object"&&"clipDot"in e},k4=function(e,r,n,i){var o,l=(o=Oy?.[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Te(e)&&(i&&l.includes(r)||x4.includes(r))||n&&hx.includes(r)},Ce=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(z.isValidElement(e)&&(i=e.props),!Do(i))return null;var o={};return Object.keys(i).forEach(function(l){var u;k4((u=i)===null||u===void 0?void 0:u[l],l,r,n)&&(o[l]=i[l])}),o},Lv=function t(e,r){if(e===r)return!0;var n=z.Children.count(e);if(n!==z.Children.count(r))return!1;if(n===0)return!0;if(n===1)return HS(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],l=r[i];if(Array.isArray(o)||Array.isArray(l)){if(!t(o,l))return!1}else if(!HS(o,l))return!1}return!0},HS=function(e,r){if(Ne(e)&&Ne(r))return!0;if(!Ne(e)&&!Ne(r)){var n=e.props||{},i=n.children,o=qS(n,w4),l=r.props||{},u=l.children,c=qS(l,_4);return i&&u?ao(o,c)&&Lv(i,u):!i&&!u?ao(o,c):!1}return!1},VS=function(e,r){var n=[],i={};return px(e).forEach(function(o,l){if(O4(o))n.push(o);else if(o){var u=In(o.type),c=r[u]||{},h=c.handler,y=c.once;if(h&&(!y||!i[u])){var p=h(o,u,l);n.push(p),i[u]=!0}}}),n},E4=function(e){var r=e&&e.type;return r&&US[r]?US[r]:null},A4=function(e,r){return px(r).indexOf(e)},P4=["children","width","height","viewBox","className","style","title","desc"];function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zv.apply(this,arguments)}function T4(t,e){if(t==null)return{};var r=C4(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function C4(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Bv(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,l=t.style,u=t.title,c=t.desc,h=T4(t,P4),y=i||{width:r,height:n,x:0,y:0},p=De("recharts-surface",o);return q.createElement("svg",zv({},Ce(h,!0,"svg"),{className:p,width:r,height:n,style:l,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height)}),q.createElement("title",null,u),q.createElement("desc",null,c),e)}var N4=["children","className"];function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qv.apply(this,arguments)}function I4(t,e){if(t==null)return{};var r=R4(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function R4(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Qe=q.forwardRef(function(t,e){var r=t.children,n=t.className,i=I4(t,N4),o=De("recharts-layer",n);return q.createElement("g",qv({className:o},Ce(i,!0),{ref:e}),r)}),Rn=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},Ey,KS;function $4(){if(KS)return Ey;KS=1;function t(e,r,n){var i=-1,o=e.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(o);++i<o;)l[i]=e[i+r];return l}return Ey=t,Ey}var Ay,GS;function M4(){if(GS)return Ay;GS=1;var t=$4();function e(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:t(r,n,i)}return Ay=e,Ay}var Py,XS;function rT(){if(XS)return Py;XS=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+t+i+o+"]");function c(h){return u.test(h)}return Py=c,Py}var Ty,YS;function D4(){if(YS)return Ty;YS=1;function t(e){return e.split("")}return Ty=t,Ty}var Cy,JS;function L4(){if(JS)return Cy;JS=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",l="["+t+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",h="(?:"+u+"|"+c+")",y="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",_=h+"?",w="["+o+"]?",b="(?:"+v+"(?:"+[y,p,g].join("|")+")"+w+_+")*",k=w+_+b,E="(?:"+[y+u+"?",u,p,g,l].join("|")+")",O=RegExp(c+"(?="+c+")|"+E+k,"g");function P(j){return j.match(O)||[]}return Cy=P,Cy}var Ny,QS;function z4(){if(QS)return Ny;QS=1;var t=D4(),e=rT(),r=L4();function n(i){return e(i)?r(i):t(i)}return Ny=n,Ny}var Iy,ZS;function B4(){if(ZS)return Iy;ZS=1;var t=M4(),e=rT(),r=z4(),n=JP();function i(o){return function(l){l=n(l);var u=e(l)?r(l):void 0,c=u?u[0]:l.charAt(0),h=u?t(u,1).join(""):l.slice(1);return c[o]()+h}}return Iy=i,Iy}var Ry,ej;function q4(){if(ej)return Ry;ej=1;var t=B4(),e=t("toUpperCase");return Ry=e,Ry}var U4=q4();const qd=Ge(U4);function Je(t){return function(){return t}}const nT=Math.cos,Nc=Math.sin,en=Math.sqrt,Ic=Math.PI,Ud=2*Ic,Uv=Math.PI,Fv=2*Uv,Wi=1e-6,F4=Fv-Wi;function iT(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function W4(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return iT;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class H4{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?iT:W4(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,l){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,c=n-e,h=i-r,y=l-e,p=u-r,g=y*y+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>Wi)if(!(Math.abs(p*c-h*y)>Wi)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-l,_=i-u,w=c*c+h*h,b=v*v+_*_,k=Math.sqrt(w),E=Math.sqrt(g),O=o*Math.tan((Uv-Math.acos((w+g-b)/(2*k*E)))/2),P=O/E,j=O/k;Math.abs(P-1)>Wi&&this._append`L${e+P*y},${r+P*p}`,this._append`A${o},${o},0,0,${+(p*v>y*_)},${this._x1=e+j*c},${this._y1=r+j*h}`}}arc(e,r,n,i,o,l){if(e=+e,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),c=n*Math.sin(i),h=e+u,y=r+c,p=1^l,g=l?i-o:o-i;this._x1===null?this._append`M${h},${y}`:(Math.abs(this._x1-h)>Wi||Math.abs(this._y1-y)>Wi)&&this._append`L${h},${y}`,n&&(g<0&&(g=g%Fv+Fv),g>F4?this._append`A${n},${n},0,1,${p},${e-u},${r-c}A${n},${n},0,1,${p},${this._x1=h},${this._y1=y}`:g>Wi&&this._append`A${n},${n},0,${+(g>=Uv)},${p},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function yx(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new H4(e)}function mx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function aT(t){this._context=t}aT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Fd(t){return new aT(t)}function oT(t){return t[0]}function sT(t){return t[1]}function lT(t,e){var r=Je(!0),n=null,i=Fd,o=null,l=yx(u);t=typeof t=="function"?t:t===void 0?oT:Je(t),e=typeof e=="function"?e:e===void 0?sT:Je(e);function u(c){var h,y=(c=mx(c)).length,p,g=!1,v;for(n==null&&(o=i(v=l())),h=0;h<=y;++h)!(h<y&&r(p=c[h],h,c))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+t(p,h,c),+e(p,h,c));if(v)return o=null,v+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Je(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Je(+c),u):e},u.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Je(!!c),u):r},u.curve=function(c){return arguments.length?(i=c,n!=null&&(o=i(n)),u):i},u.context=function(c){return arguments.length?(c==null?n=o=null:o=i(n=c),u):n},u}function hc(t,e,r){var n=null,i=Je(!0),o=null,l=Fd,u=null,c=yx(h);t=typeof t=="function"?t:t===void 0?oT:Je(+t),e=typeof e=="function"?e:Je(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?sT:Je(+r);function h(p){var g,v,_,w=(p=mx(p)).length,b,k=!1,E,O=new Array(w),P=new Array(w);for(o==null&&(u=l(E=c())),g=0;g<=w;++g){if(!(g<w&&i(b=p[g],g,p))===k)if(k=!k)v=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),_=g-1;_>=v;--_)u.point(O[_],P[_]);u.lineEnd(),u.areaEnd()}k&&(O[g]=+t(b,g,p),P[g]=+e(b,g,p),u.point(n?+n(b,g,p):O[g],r?+r(b,g,p):P[g]))}if(E)return u=null,E+""||null}function y(){return lT().defined(i).curve(l).context(o)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:Je(+p),n=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Je(+p),h):t},h.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Je(+p),h):n},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:Je(+p),r=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Je(+p),h):e},h.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Je(+p),h):r},h.lineX0=h.lineY0=function(){return y().x(t).y(e)},h.lineY1=function(){return y().x(t).y(r)},h.lineX1=function(){return y().x(n).y(e)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Je(!!p),h):i},h.curve=function(p){return arguments.length?(l=p,o!=null&&(u=l(o)),h):l},h.context=function(p){return arguments.length?(p==null?o=u=null:u=l(o=p),h):o},h}class uT{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function V4(t){return new uT(t,!0)}function K4(t){return new uT(t,!1)}const gx={draw(t,e){const r=en(e/Ic);t.moveTo(r,0),t.arc(0,0,r,0,Ud)}},G4={draw(t,e){const r=en(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},cT=en(1/3),X4=cT*2,Y4={draw(t,e){const r=en(e/X4),n=r*cT;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},J4={draw(t,e){const r=en(e),n=-r/2;t.rect(n,n,r,r)}},Q4=.8908130915292852,dT=Nc(Ic/10)/Nc(7*Ic/10),Z4=Nc(Ud/10)*dT,e3=-nT(Ud/10)*dT,t3={draw(t,e){const r=en(e*Q4),n=Z4*r,i=e3*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const l=Ud*o/5,u=nT(l),c=Nc(l);t.lineTo(c*r,-u*r),t.lineTo(u*n-c*i,c*n+u*i)}t.closePath()}},$y=en(3),r3={draw(t,e){const r=-en(e/($y*3));t.moveTo(0,r*2),t.lineTo(-$y*r,-r),t.lineTo($y*r,-r),t.closePath()}},jr=-.5,Or=en(3)/2,Wv=1/en(12),n3=(Wv/2+1)*3,i3={draw(t,e){const r=en(e/n3),n=r/2,i=r*Wv,o=n,l=r*Wv+r,u=-o,c=l;t.moveTo(n,i),t.lineTo(o,l),t.lineTo(u,c),t.lineTo(jr*n-Or*i,Or*n+jr*i),t.lineTo(jr*o-Or*l,Or*o+jr*l),t.lineTo(jr*u-Or*c,Or*u+jr*c),t.lineTo(jr*n+Or*i,jr*i-Or*n),t.lineTo(jr*o+Or*l,jr*l-Or*o),t.lineTo(jr*u+Or*c,jr*c-Or*u),t.closePath()}};function a3(t,e){let r=null,n=yx(i);t=typeof t=="function"?t:Je(t||gx),e=typeof e=="function"?e:Je(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Je(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Je(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function Rc(){}function $c(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function fT(t){this._context=t}fT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$c(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$c(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function o3(t){return new fT(t)}function hT(t){this._context=t}hT.prototype={areaStart:Rc,areaEnd:Rc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$c(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function s3(t){return new hT(t)}function pT(t){this._context=t}pT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$c(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function l3(t){return new pT(t)}function yT(t){this._context=t}yT.prototype={areaStart:Rc,areaEnd:Rc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function u3(t){return new yT(t)}function tj(t){return t<0?-1:1}function rj(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),l=(r-t._y1)/(i||n<0&&-0),u=(o*i+l*n)/(n+i);return(tj(o)+tj(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function nj(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function My(t,e,r){var n=t._x0,i=t._y0,o=t._x1,l=t._y1,u=(o-n)/3;t._context.bezierCurveTo(n+u,i+u*e,o-u,l-u*r,o,l)}function Mc(t){this._context=t}Mc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:My(this,this._t0,nj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,My(this,nj(this,r=rj(this,t,e)),r);break;default:My(this,this._t0,r=rj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function mT(t){this._context=new gT(t)}(mT.prototype=Object.create(Mc.prototype)).point=function(t,e){Mc.prototype.point.call(this,e,t)};function gT(t){this._context=t}gT.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function c3(t){return new Mc(t)}function d3(t){return new mT(t)}function vT(t){this._context=t}vT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=ij(t),i=ij(e),o=0,l=1;l<r;++o,++l)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[l],e[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ij(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),l=new Array(r);for(i[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,l[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,l[e]-=n*l[e-1];for(i[r-1]=l[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(l[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function f3(t){return new vT(t)}function Wd(t,e){this._context=t,this._t=e}Wd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function h3(t){return new Wd(t,.5)}function p3(t){return new Wd(t,0)}function y3(t){return new Wd(t,1)}function fo(t,e){if((l=t.length)>1)for(var r=1,n,i,o=t[e[0]],l,u=o.length;r<l;++r)for(i=o,o=t[e[r]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Hv(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function m3(t,e){return t[e]}function g3(t){const e=[];return e.key=t,e}function v3(){var t=Je([]),e=Hv,r=fo,n=m3;function i(o){var l=Array.from(t.apply(this,arguments),g3),u,c=l.length,h=-1,y;for(const p of o)for(u=0,++h;u<c;++u)(l[u][h]=[0,+n(p,l[u].key,h,o)]).data=p;for(u=0,y=mx(e(l));u<c;++u)l[y[u]].index=u;return r(l,y),l}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Je(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:Je(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?Hv:typeof o=="function"?o:Je(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??fo,i):r},i}function x3(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,l;i<o;++i){for(l=r=0;r<n;++r)l+=t[r][i][1]||0;if(l)for(r=0;r<n;++r)t[r][i][1]/=l}fo(t,e)}}function b3(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var l=0,u=0;l<i;++l)u+=t[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}fo(t,e)}}function w3(t,e){if(!(!((l=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,l;n<o;++n){for(var u=0,c=0,h=0;u<l;++u){for(var y=t[e[u]],p=y[n][1]||0,g=y[n-1][1]||0,v=(p-g)/2,_=0;_<u;++_){var w=t[e[_]],b=w[n][1]||0,k=w[n-1][1]||0;v+=b-k}c+=p,h+=v*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=h/c)}i[n-1][1]+=i[n-1][0]=r,fo(t,e)}}function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}var _3=["type","size","sizeType"];function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vv.apply(this,arguments)}function aj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aj(Object(r),!0).forEach(function(n){S3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S3(t,e,r){return e=j3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j3(t){var e=O3(t,"string");return ol(e)=="symbol"?e:e+""}function O3(t,e){if(ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k3(t,e){if(t==null)return{};var r=E3(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function E3(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var xT={symbolCircle:gx,symbolCross:G4,symbolDiamond:Y4,symbolSquare:J4,symbolStar:t3,symbolTriangle:r3,symbolWye:i3},A3=Math.PI/180,P3=function(e){var r="symbol".concat(qd(e));return xT[r]||gx},T3=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*A3;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},C3=function(e,r){xT["symbol".concat(qd(e))]=r},vx=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,l=e.sizeType,u=l===void 0?"area":l,c=k3(e,_3),h=oj(oj({},c),{},{type:n,size:o,sizeType:u}),y=function(){var b=P3(n),k=a3().type(b).size(T3(o,u,n));return k()},p=h.className,g=h.cx,v=h.cy,_=Ce(h,!0);return g===+g&&v===+v&&o===+o?q.createElement("path",Vv({},_,{className:De("recharts-symbols",p),transform:"translate(".concat(g,", ").concat(v,")"),d:y()})):null};vx.registerSymbol=C3;function ho(t){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ho(t)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kv.apply(this,arguments)}function sj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sj(Object(r),!0).forEach(function(n){sl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wT(n.key),n)}}function $3(t,e,r){return e&&R3(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function M3(t,e,r){return e=Dc(e),D3(t,bT()?Reflect.construct(e,r||[],Dc(t).constructor):e.apply(t,r))}function D3(t,e){if(e&&(ho(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L3(t)}function L3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bT=function(){return!!t})()}function Dc(t){return Dc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dc(t)}function z3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gv(t,e)}function Gv(t,e){return Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gv(t,e)}function sl(t,e,r){return e=wT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wT(t){var e=B3(t,"string");return ho(e)=="symbol"?e:e+""}function B3(t,e){if(ho(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kr=32,xx=(function(t){function e(){return I3(this,e),M3(this,e,arguments)}return z3(e,t),$3(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=kr/2,l=kr/6,u=kr/3,c=n.inactive?i:n.color;if(n.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:kr,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(kr,"M").concat(2*u,",").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(kr/8,"h").concat(kr,"v").concat(kr*3/4,"h").concat(-kr,"z"),className:"recharts-legend-icon"});if(q.isValidElement(n.legendIcon)){var h=N3({},n);return delete h.legendIcon,q.cloneElement(n.legendIcon,h)}return q.createElement(vx,{fill:c,cx:o,cy:o,size:kr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,l=i.iconSize,u=i.layout,c=i.formatter,h=i.inactiveColor,y={x:0,y:0,width:kr,height:kr},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(v,_){var w=v.formatter||c,b=De(sl(sl({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",v.inactive));if(v.type==="none")return null;var k=Te(v.value)?null:v.value;Rn(!Te(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=v.inactive?h:v.color;return q.createElement("li",Kv({className:b,style:p,key:"legend-item-".concat(_)},Cc(n.props,v,_)),q.createElement(Bv,{width:l,height:l,viewBox:y,style:g},n.renderIcon(v)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},w?w(k,v,_):k))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,l=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?l:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(z.PureComponent);sl(xx,"displayName","Legend");sl(xx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Dy,lj;function q3(){if(lj)return Dy;lj=1;var t=Ld();function e(){this.__data__=new t,this.size=0}return Dy=e,Dy}var Ly,uj;function U3(){if(uj)return Ly;uj=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Ly=t,Ly}var zy,cj;function F3(){if(cj)return zy;cj=1;function t(e){return this.__data__.get(e)}return zy=t,zy}var By,dj;function W3(){if(dj)return By;dj=1;function t(e){return this.__data__.has(e)}return By=t,By}var qy,fj;function H3(){if(fj)return qy;fj=1;var t=Ld(),e=ux(),r=cx(),n=200;function i(o,l){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<n-1)return c.push([o,l]),this.size=++u.size,this;u=this.__data__=new r(c)}return u.set(o,l),this.size=u.size,this}return qy=i,qy}var Uy,hj;function _T(){if(hj)return Uy;hj=1;var t=Ld(),e=q3(),r=U3(),n=F3(),i=W3(),o=H3();function l(u){var c=this.__data__=new t(u);this.size=c.size}return l.prototype.clear=e,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=i,l.prototype.set=o,Uy=l,Uy}var Fy,pj;function V3(){if(pj)return Fy;pj=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Fy=e,Fy}var Wy,yj;function K3(){if(yj)return Wy;yj=1;function t(e){return this.__data__.has(e)}return Wy=t,Wy}var Hy,mj;function ST(){if(mj)return Hy;mj=1;var t=cx(),e=V3(),r=K3();function n(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new t;++o<l;)this.add(i[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Hy=n,Hy}var Vy,gj;function jT(){if(gj)return Vy;gj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return Vy=t,Vy}var Ky,vj;function OT(){if(vj)return Ky;vj=1;function t(e,r){return e.has(r)}return Ky=t,Ky}var Gy,xj;function kT(){if(xj)return Gy;xj=1;var t=ST(),e=jT(),r=OT(),n=1,i=2;function o(l,u,c,h,y,p){var g=c&n,v=l.length,_=u.length;if(v!=_&&!(g&&_>v))return!1;var w=p.get(l),b=p.get(u);if(w&&b)return w==u&&b==l;var k=-1,E=!0,O=c&i?new t:void 0;for(p.set(l,u),p.set(u,l);++k<v;){var P=l[k],j=u[k];if(h)var A=g?h(j,P,k,u,l,p):h(P,j,k,l,u,p);if(A!==void 0){if(A)continue;E=!1;break}if(O){if(!e(u,function(T,N){if(!r(O,N)&&(P===T||y(P,T,c,h,p)))return O.push(N)})){E=!1;break}}else if(!(P===j||y(P,j,c,h,p))){E=!1;break}}return p.delete(l),p.delete(u),E}return Gy=o,Gy}var Xy,bj;function G3(){if(bj)return Xy;bj=1;var t=gn(),e=t.Uint8Array;return Xy=e,Xy}var Yy,wj;function X3(){if(wj)return Yy;wj=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,o){n[++r]=[o,i]}),n}return Yy=t,Yy}var Jy,_j;function bx(){if(_j)return Jy;_j=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return Jy=t,Jy}var Qy,Sj;function Y3(){if(Sj)return Qy;Sj=1;var t=Wl(),e=G3(),r=lx(),n=kT(),i=X3(),o=bx(),l=1,u=2,c="[object Boolean]",h="[object Date]",y="[object Error]",p="[object Map]",g="[object Number]",v="[object RegExp]",_="[object Set]",w="[object String]",b="[object Symbol]",k="[object ArrayBuffer]",E="[object DataView]",O=t?t.prototype:void 0,P=O?O.valueOf:void 0;function j(A,T,N,$,V,F,R){switch(N){case E:if(A.byteLength!=T.byteLength||A.byteOffset!=T.byteOffset)return!1;A=A.buffer,T=T.buffer;case k:return!(A.byteLength!=T.byteLength||!F(new e(A),new e(T)));case c:case h:case g:return r(+A,+T);case y:return A.name==T.name&&A.message==T.message;case v:case w:return A==T+"";case p:var H=i;case _:var L=$&l;if(H||(H=o),A.size!=T.size&&!L)return!1;var M=R.get(A);if(M)return M==T;$|=u,R.set(A,T);var X=n(H(A),H(T),$,V,F,R);return R.delete(A),X;case b:if(P)return P.call(A)==P.call(T)}return!1}return Qy=j,Qy}var Zy,jj;function ET(){if(jj)return Zy;jj=1;function t(e,r){for(var n=-1,i=r.length,o=e.length;++n<i;)e[o+n]=r[n];return e}return Zy=t,Zy}var em,Oj;function J3(){if(Oj)return em;Oj=1;var t=ET(),e=or();function r(n,i,o){var l=i(n);return e(n)?l:t(l,o(n))}return em=r,em}var tm,kj;function Q3(){if(kj)return tm;kj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=0,l=[];++n<i;){var u=e[n];r(u,n,e)&&(l[o++]=u)}return l}return tm=t,tm}var rm,Ej;function Z3(){if(Ej)return rm;Ej=1;function t(){return[]}return rm=t,rm}var nm,Aj;function ez(){if(Aj)return nm;Aj=1;var t=Q3(),e=Z3(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(u){return n.call(l,u)}))}:e;return nm=o,nm}var im,Pj;function tz(){if(Pj)return im;Pj=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return im=t,im}var am,Tj;function rz(){if(Tj)return am;Tj=1;var t=Un(),e=Fn(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return am=n,am}var om,Cj;function wx(){if(Cj)return om;Cj=1;var t=rz(),e=Fn(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(l){return e(l)&&n.call(l,"callee")&&!i.call(l,"callee")};return om=o,om}var Us={exports:{}},sm,Nj;function nz(){if(Nj)return sm;Nj=1;function t(){return!1}return sm=t,sm}Us.exports;var Ij;function AT(){return Ij||(Ij=1,(function(t,e){var r=gn(),n=nz(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,l=o&&o.exports===i,u=l?r.Buffer:void 0,c=u?u.isBuffer:void 0,h=c||n;t.exports=h})(Us,Us.exports)),Us.exports}var lm,Rj;function _x(){if(Rj)return lm;Rj=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return lm=r,lm}var um,$j;function Sx(){if($j)return um;$j=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return um=e,um}var cm,Mj;function iz(){if(Mj)return cm;Mj=1;var t=Un(),e=Sx(),r=Fn(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",h="[object Map]",y="[object Number]",p="[object Object]",g="[object RegExp]",v="[object Set]",_="[object String]",w="[object WeakMap]",b="[object ArrayBuffer]",k="[object DataView]",E="[object Float32Array]",O="[object Float64Array]",P="[object Int8Array]",j="[object Int16Array]",A="[object Int32Array]",T="[object Uint8Array]",N="[object Uint8ClampedArray]",$="[object Uint16Array]",V="[object Uint32Array]",F={};F[E]=F[O]=F[P]=F[j]=F[A]=F[T]=F[N]=F[$]=F[V]=!0,F[n]=F[i]=F[b]=F[o]=F[k]=F[l]=F[u]=F[c]=F[h]=F[y]=F[p]=F[g]=F[v]=F[_]=F[w]=!1;function R(H){return r(H)&&e(H.length)&&!!F[t(H)]}return cm=R,cm}var dm,Dj;function PT(){if(Dj)return dm;Dj=1;function t(e){return function(r){return e(r)}}return dm=t,dm}var Fs={exports:{}};Fs.exports;var Lj;function az(){return Lj||(Lj=1,(function(t,e){var r=GP(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,l=o&&r.process,u=(function(){try{var c=i&&i.require&&i.require("util").types;return c||l&&l.binding&&l.binding("util")}catch{}})();t.exports=u})(Fs,Fs.exports)),Fs.exports}var fm,zj;function TT(){if(zj)return fm;zj=1;var t=iz(),e=PT(),r=az(),n=r&&r.isTypedArray,i=n?e(n):t;return fm=i,fm}var hm,Bj;function oz(){if(Bj)return hm;Bj=1;var t=tz(),e=wx(),r=or(),n=AT(),i=_x(),o=TT(),l=Object.prototype,u=l.hasOwnProperty;function c(h,y){var p=r(h),g=!p&&e(h),v=!p&&!g&&n(h),_=!p&&!g&&!v&&o(h),w=p||g||v||_,b=w?t(h.length,String):[],k=b.length;for(var E in h)(y||u.call(h,E))&&!(w&&(E=="length"||v&&(E=="offset"||E=="parent")||_&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,k)))&&b.push(E);return b}return hm=c,hm}var pm,qj;function sz(){if(qj)return pm;qj=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return pm=e,pm}var ym,Uj;function CT(){if(Uj)return ym;Uj=1;function t(e,r){return function(n){return e(r(n))}}return ym=t,ym}var mm,Fj;function lz(){if(Fj)return mm;Fj=1;var t=CT(),e=t(Object.keys,Object);return mm=e,mm}var gm,Wj;function uz(){if(Wj)return gm;Wj=1;var t=sz(),e=lz(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!t(o))return e(o);var l=[];for(var u in Object(o))n.call(o,u)&&u!="constructor"&&l.push(u);return l}return gm=i,gm}var vm,Hj;function Hl(){if(Hj)return vm;Hj=1;var t=sx(),e=Sx();function r(n){return n!=null&&e(n.length)&&!t(n)}return vm=r,vm}var xm,Vj;function Hd(){if(Vj)return xm;Vj=1;var t=oz(),e=uz(),r=Hl();function n(i){return r(i)?t(i):e(i)}return xm=n,xm}var bm,Kj;function cz(){if(Kj)return bm;Kj=1;var t=J3(),e=ez(),r=Hd();function n(i){return t(i,r,e)}return bm=n,bm}var wm,Gj;function dz(){if(Gj)return wm;Gj=1;var t=cz(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,l,u,c,h,y){var p=u&e,g=t(o),v=g.length,_=t(l),w=_.length;if(v!=w&&!p)return!1;for(var b=v;b--;){var k=g[b];if(!(p?k in l:n.call(l,k)))return!1}var E=y.get(o),O=y.get(l);if(E&&O)return E==l&&O==o;var P=!0;y.set(o,l),y.set(l,o);for(var j=p;++b<v;){k=g[b];var A=o[k],T=l[k];if(c)var N=p?c(T,A,k,l,o,y):c(A,T,k,o,l,y);if(!(N===void 0?A===T||h(A,T,u,c,y):N)){P=!1;break}j||(j=k=="constructor")}if(P&&!j){var $=o.constructor,V=l.constructor;$!=V&&"constructor"in o&&"constructor"in l&&!(typeof $=="function"&&$ instanceof $&&typeof V=="function"&&V instanceof V)&&(P=!1)}return y.delete(o),y.delete(l),P}return wm=i,wm}var _m,Xj;function fz(){if(Xj)return _m;Xj=1;var t=ca(),e=gn(),r=t(e,"DataView");return _m=r,_m}var Sm,Yj;function hz(){if(Yj)return Sm;Yj=1;var t=ca(),e=gn(),r=t(e,"Promise");return Sm=r,Sm}var jm,Jj;function NT(){if(Jj)return jm;Jj=1;var t=ca(),e=gn(),r=t(e,"Set");return jm=r,jm}var Om,Qj;function pz(){if(Qj)return Om;Qj=1;var t=ca(),e=gn(),r=t(e,"WeakMap");return Om=r,Om}var km,Zj;function yz(){if(Zj)return km;Zj=1;var t=fz(),e=ux(),r=hz(),n=NT(),i=pz(),o=Un(),l=XP(),u="[object Map]",c="[object Object]",h="[object Promise]",y="[object Set]",p="[object WeakMap]",g="[object DataView]",v=l(t),_=l(e),w=l(r),b=l(n),k=l(i),E=o;return(t&&E(new t(new ArrayBuffer(1)))!=g||e&&E(new e)!=u||r&&E(r.resolve())!=h||n&&E(new n)!=y||i&&E(new i)!=p)&&(E=function(O){var P=o(O),j=P==c?O.constructor:void 0,A=j?l(j):"";if(A)switch(A){case v:return g;case _:return u;case w:return h;case b:return y;case k:return p}return P}),km=E,km}var Em,eO;function mz(){if(eO)return Em;eO=1;var t=_T(),e=kT(),r=Y3(),n=dz(),i=yz(),o=or(),l=AT(),u=TT(),c=1,h="[object Arguments]",y="[object Array]",p="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function _(w,b,k,E,O,P){var j=o(w),A=o(b),T=j?y:i(w),N=A?y:i(b);T=T==h?p:T,N=N==h?p:N;var $=T==p,V=N==p,F=T==N;if(F&&l(w)){if(!l(b))return!1;j=!0,$=!1}if(F&&!$)return P||(P=new t),j||u(w)?e(w,b,k,E,O,P):r(w,b,T,k,E,O,P);if(!(k&c)){var R=$&&v.call(w,"__wrapped__"),H=V&&v.call(b,"__wrapped__");if(R||H){var L=R?w.value():w,M=H?b.value():b;return P||(P=new t),O(L,M,k,E,P)}}return F?(P||(P=new t),n(w,b,k,E,O,P)):!1}return Em=_,Em}var Am,tO;function jx(){if(tO)return Am;tO=1;var t=mz(),e=Fn();function r(n,i,o,l,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,o,l,r,u)}return Am=r,Am}var Pm,rO;function gz(){if(rO)return Pm;rO=1;var t=_T(),e=jx(),r=1,n=2;function i(o,l,u,c){var h=u.length,y=h,p=!c;if(o==null)return!y;for(o=Object(o);h--;){var g=u[h];if(p&&g[2]?g[1]!==o[g[0]]:!(g[0]in o))return!1}for(;++h<y;){g=u[h];var v=g[0],_=o[v],w=g[1];if(p&&g[2]){if(_===void 0&&!(v in o))return!1}else{var b=new t;if(c)var k=c(_,w,v,o,l,b);if(!(k===void 0?e(w,_,r|n,c,b):k))return!1}}return!0}return Pm=i,Pm}var Tm,nO;function IT(){if(nO)return Tm;nO=1;var t=_i();function e(r){return r===r&&!t(r)}return Tm=e,Tm}var Cm,iO;function vz(){if(iO)return Cm;iO=1;var t=IT(),e=Hd();function r(n){for(var i=e(n),o=i.length;o--;){var l=i[o],u=n[l];i[o]=[l,u,t(u)]}return i}return Cm=r,Cm}var Nm,aO;function RT(){if(aO)return Nm;aO=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Nm=t,Nm}var Im,oO;function xz(){if(oO)return Im;oO=1;var t=gz(),e=vz(),r=RT();function n(i){var o=e(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(l){return l===i||t(l,i,o)}}return Im=n,Im}var Rm,sO;function bz(){if(sO)return Rm;sO=1;function t(e,r){return e!=null&&r in Object(e)}return Rm=t,Rm}var $m,lO;function wz(){if(lO)return $m;lO=1;var t=QP(),e=wx(),r=or(),n=_x(),i=Sx(),o=Bd();function l(u,c,h){c=t(c,u);for(var y=-1,p=c.length,g=!1;++y<p;){var v=o(c[y]);if(!(g=u!=null&&h(u,v)))break;u=u[v]}return g||++y!=p?g:(p=u==null?0:u.length,!!p&&i(p)&&n(v,p)&&(r(u)||e(u)))}return $m=l,$m}var Mm,uO;function _z(){if(uO)return Mm;uO=1;var t=bz(),e=wz();function r(n,i){return n!=null&&e(n,i,t)}return Mm=r,Mm}var Dm,cO;function Sz(){if(cO)return Dm;cO=1;var t=jx(),e=ZP(),r=_z(),n=ox(),i=IT(),o=RT(),l=Bd(),u=1,c=2;function h(y,p){return n(y)&&i(p)?o(l(y),p):function(g){var v=e(g,y);return v===void 0&&v===p?r(g,y):t(p,v,u|c)}}return Dm=h,Dm}var Lm,dO;function Bo(){if(dO)return Lm;dO=1;function t(e){return e}return Lm=t,Lm}var zm,fO;function jz(){if(fO)return zm;fO=1;function t(e){return function(r){return r?.[e]}}return zm=t,zm}var Bm,hO;function Oz(){if(hO)return Bm;hO=1;var t=fx();function e(r){return function(n){return t(n,r)}}return Bm=e,Bm}var qm,pO;function kz(){if(pO)return qm;pO=1;var t=jz(),e=Oz(),r=ox(),n=Bd();function i(o){return r(o)?t(n(o)):e(o)}return qm=i,qm}var Um,yO;function Si(){if(yO)return Um;yO=1;var t=xz(),e=Sz(),r=Bo(),n=or(),i=kz();function o(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?e(l[0],l[1]):t(l):i(l)}return Um=o,Um}var Fm,mO;function $T(){if(mO)return Fm;mO=1;function t(e,r,n,i){for(var o=e.length,l=n+(i?1:-1);i?l--:++l<o;)if(r(e[l],l,e))return l;return-1}return Fm=t,Fm}var Wm,gO;function Ez(){if(gO)return Wm;gO=1;function t(e){return e!==e}return Wm=t,Wm}var Hm,vO;function Az(){if(vO)return Hm;vO=1;function t(e,r,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===r)return i;return-1}return Hm=t,Hm}var Vm,xO;function Pz(){if(xO)return Vm;xO=1;var t=$T(),e=Ez(),r=Az();function n(i,o,l){return o===o?r(i,o,l):t(i,e,l)}return Vm=n,Vm}var Km,bO;function Tz(){if(bO)return Km;bO=1;var t=Pz();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return Km=e,Km}var Gm,wO;function Cz(){if(wO)return Gm;wO=1;function t(e,r,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(r,e[i]))return!0;return!1}return Gm=t,Gm}var Xm,_O;function Nz(){if(_O)return Xm;_O=1;function t(){}return Xm=t,Xm}var Ym,SO;function Iz(){if(SO)return Ym;SO=1;var t=NT(),e=Nz(),r=bx(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(o){return new t(o)}:e;return Ym=i,Ym}var Jm,jO;function Rz(){if(jO)return Jm;jO=1;var t=ST(),e=Tz(),r=Cz(),n=OT(),i=Iz(),o=bx(),l=200;function u(c,h,y){var p=-1,g=e,v=c.length,_=!0,w=[],b=w;if(y)_=!1,g=r;else if(v>=l){var k=h?null:i(c);if(k)return o(k);_=!1,g=n,b=new t}else b=h?[]:w;e:for(;++p<v;){var E=c[p],O=h?h(E):E;if(E=y||E!==0?E:0,_&&O===O){for(var P=b.length;P--;)if(b[P]===O)continue e;h&&b.push(O),w.push(E)}else g(b,O,y)||(b!==w&&b.push(O),w.push(E))}return w}return Jm=u,Jm}var Qm,OO;function $z(){if(OO)return Qm;OO=1;var t=Si(),e=Rz();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return Qm=r,Qm}var Mz=$z();const kO=Ge(Mz);function MT(t,e,r){return e===!0?kO(t,r):Te(e)?kO(t,e):t}function po(t){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(t)}var Dz=["ref"];function EO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(r),!0).forEach(function(n){Vd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LT(n.key),n)}}function zz(t,e,r){return e&&AO(t.prototype,e),r&&AO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bz(t,e,r){return e=Lc(e),qz(t,DT()?Reflect.construct(e,r||[],Lc(t).constructor):e.apply(t,r))}function qz(t,e){if(e&&(po(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uz(t)}function Uz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DT=function(){return!!t})()}function Lc(t){return Lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lc(t)}function Fz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xv(t,e)}function Xv(t,e){return Xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xv(t,e)}function Vd(t,e,r){return e=LT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LT(t){var e=Wz(t,"string");return po(e)=="symbol"?e:e+""}function Wz(t,e){if(po(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Hz(t,e){if(t==null)return{};var r=Vz(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Kz(t){return t.value}function Gz(t,e){if(q.isValidElement(t))return q.cloneElement(t,e);if(typeof t=="function")return q.createElement(t,e);e.ref;var r=Hz(e,Dz);return q.createElement(xx,r)}var PO=1,ta=(function(t){function e(){var r;Lz(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Bz(this,e,[].concat(i)),Vd(r,"lastBoundingBox",{width:-1,height:-1}),r}return Fz(e,t),zz(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>PO||Math.abs(i.height-this.lastBoundingBox.height)>PO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?kn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,l=i.align,u=i.verticalAlign,c=i.margin,h=i.chartWidth,y=i.chartHeight,p,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&o==="vertical"){var v=this.getBBoxSnapshot();p={left:((h||0)-v.width)/2}}else p=l==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var _=this.getBBoxSnapshot();g={top:((y||0)-_.height)/2}}else g=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return kn(kn({},p),g)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,l=i.width,u=i.height,c=i.wrapperStyle,h=i.payloadUniqBy,y=i.payload,p=kn(kn({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return q.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(v){n.wrapperNode=v}},Gz(o,kn(kn({},this.props),{},{payload:MT(y,h,Kz)})))}}],[{key:"getWithHeight",value:function(n,i){var o=kn(kn({},this.defaultProps),n.props),l=o.layout;return l==="vertical"&&ue(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||i}:null}}])})(z.PureComponent);Vd(ta,"displayName","Legend");Vd(ta,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Zm,TO;function Xz(){if(TO)return Zm;TO=1;var t=Wl(),e=wx(),r=or(),n=t?t.isConcatSpreadable:void 0;function i(o){return r(o)||e(o)||!!(n&&o&&o[n])}return Zm=i,Zm}var eg,CO;function zT(){if(CO)return eg;CO=1;var t=ET(),e=Xz();function r(n,i,o,l,u){var c=-1,h=n.length;for(o||(o=e),u||(u=[]);++c<h;){var y=n[c];i>0&&o(y)?i>1?r(y,i-1,o,l,u):t(u,y):l||(u[u.length]=y)}return u}return eg=r,eg}var tg,NO;function Yz(){if(NO)return tg;NO=1;function t(e){return function(r,n,i){for(var o=-1,l=Object(r),u=i(r),c=u.length;c--;){var h=u[e?c:++o];if(n(l[h],h,l)===!1)break}return r}}return tg=t,tg}var rg,IO;function Jz(){if(IO)return rg;IO=1;var t=Yz(),e=t();return rg=e,rg}var ng,RO;function BT(){if(RO)return ng;RO=1;var t=Jz(),e=Hd();function r(n,i){return n&&t(n,i,e)}return ng=r,ng}var ig,$O;function Qz(){if($O)return ig;$O=1;var t=Hl();function e(r,n){return function(i,o){if(i==null)return i;if(!t(i))return r(i,o);for(var l=i.length,u=n?l:-1,c=Object(i);(n?u--:++u<l)&&o(c[u],u,c)!==!1;);return i}}return ig=e,ig}var ag,MO;function Ox(){if(MO)return ag;MO=1;var t=BT(),e=Qz(),r=e(t);return ag=r,ag}var og,DO;function qT(){if(DO)return og;DO=1;var t=Ox(),e=Hl();function r(n,i){var o=-1,l=e(n)?Array(n.length):[];return t(n,function(u,c,h){l[++o]=i(u,c,h)}),l}return og=r,og}var sg,LO;function Zz(){if(LO)return sg;LO=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return sg=t,sg}var lg,zO;function e6(){if(zO)return lg;zO=1;var t=Mo();function e(r,n){if(r!==n){var i=r!==void 0,o=r===null,l=r===r,u=t(r),c=n!==void 0,h=n===null,y=n===n,p=t(n);if(!h&&!p&&!u&&r>n||u&&c&&y&&!h&&!p||o&&c&&y||!i&&y||!l)return 1;if(!o&&!u&&!p&&r<n||p&&i&&l&&!o&&!u||h&&i&&l||!c&&l||!y)return-1}return 0}return lg=e,lg}var ug,BO;function t6(){if(BO)return ug;BO=1;var t=e6();function e(r,n,i){for(var o=-1,l=r.criteria,u=n.criteria,c=l.length,h=i.length;++o<c;){var y=t(l[o],u[o]);if(y){if(o>=h)return y;var p=i[o];return y*(p=="desc"?-1:1)}}return r.index-n.index}return ug=e,ug}var cg,qO;function r6(){if(qO)return cg;qO=1;var t=dx(),e=fx(),r=Si(),n=qT(),i=Zz(),o=PT(),l=t6(),u=Bo(),c=or();function h(y,p,g){p.length?p=t(p,function(w){return c(w)?function(b){return e(b,w.length===1?w[0]:w)}:w}):p=[u];var v=-1;p=t(p,o(r));var _=n(y,function(w,b,k){var E=t(p,function(O){return O(w)});return{criteria:E,index:++v,value:w}});return i(_,function(w,b){return l(w,b,g)})}return cg=h,cg}var dg,UO;function n6(){if(UO)return dg;UO=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return dg=t,dg}var fg,FO;function i6(){if(FO)return fg;FO=1;var t=n6(),e=Math.max;function r(n,i,o){return i=e(i===void 0?n.length-1:i,0),function(){for(var l=arguments,u=-1,c=e(l.length-i,0),h=Array(c);++u<c;)h[u]=l[i+u];u=-1;for(var y=Array(i+1);++u<i;)y[u]=l[u];return y[i]=o(h),t(n,this,y)}}return fg=r,fg}var hg,WO;function a6(){if(WO)return hg;WO=1;function t(e){return function(){return e}}return hg=t,hg}var pg,HO;function UT(){if(HO)return pg;HO=1;var t=ca(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return pg=e,pg}var yg,VO;function o6(){if(VO)return yg;VO=1;var t=a6(),e=UT(),r=Bo(),n=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:r;return yg=n,yg}var mg,KO;function s6(){if(KO)return mg;KO=1;var t=800,e=16,r=Date.now;function n(i){var o=0,l=0;return function(){var u=r(),c=e-(u-l);if(l=u,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return mg=n,mg}var gg,GO;function l6(){if(GO)return gg;GO=1;var t=o6(),e=s6(),r=e(t);return gg=r,gg}var vg,XO;function u6(){if(XO)return vg;XO=1;var t=Bo(),e=i6(),r=l6();function n(i,o){return r(e(i,o,t),i+"")}return vg=n,vg}var xg,YO;function Kd(){if(YO)return xg;YO=1;var t=lx(),e=Hl(),r=_x(),n=_i();function i(o,l,u){if(!n(u))return!1;var c=typeof l;return(c=="number"?e(u)&&r(l,u.length):c=="string"&&l in u)?t(u[l],o):!1}return xg=i,xg}var bg,JO;function c6(){if(JO)return bg;JO=1;var t=zT(),e=r6(),r=u6(),n=Kd(),i=r(function(o,l){if(o==null)return[];var u=l.length;return u>1&&n(o,l[0],l[1])?l=[]:u>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),e(o,t(l,1),[])});return bg=i,bg}var d6=c6();const kx=Ge(d6);function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yv.apply(this,arguments)}function f6(t,e){return m6(t)||y6(t,e)||p6(t,e)||h6()}function h6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p6(t,e){if(t){if(typeof t=="string")return QO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QO(t,e)}}function QO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y6(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],c=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(y){h=!0,i=y}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function m6(t){if(Array.isArray(t))return t}function ZO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(r),!0).forEach(function(n){g6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g6(t,e,r){return e=v6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v6(t){var e=x6(t,"string");return ll(e)=="symbol"?e:e+""}function x6(t,e){if(ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b6(t){return Array.isArray(t)&&jt(t[0])&&jt(t[1])?t.join(" ~ "):t}var w6=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,l=e.itemStyle,u=l===void 0?{}:l,c=e.labelStyle,h=c===void 0?{}:c,y=e.payload,p=e.formatter,g=e.itemSorter,v=e.wrapperClassName,_=e.labelClassName,w=e.label,b=e.labelFormatter,k=e.accessibilityLayer,E=k===void 0?!1:k,O=function(){if(y&&y.length){var R={padding:0,margin:0},H=(g?kx(y,g):y).map(function(L,M){if(L.type==="none")return null;var X=wg({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},u),Z=L.formatter||p||b6,G=L.value,te=L.name,Q=G,I=te;if(Z&&Q!=null&&I!=null){var U=Z(G,te,L,M,y);if(Array.isArray(U)){var re=f6(U,2);Q=re[0],I=re[1]}else Q=U}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:X},jt(I)?q.createElement("span",{className:"recharts-tooltip-item-name"},I):null,jt(I)?q.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,q.createElement("span",{className:"recharts-tooltip-item-value"},Q),q.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:R},H)}return null},P=wg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),j=wg({margin:0},h),A=!Ne(w),T=A?w:"",N=De("recharts-default-tooltip",v),$=De("recharts-tooltip-label",_);A&&b&&y!==void 0&&y!==null&&(T=b(w,y));var V=E?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",Yv({className:N,style:P},V),q.createElement("p",{className:$,style:j},q.isValidElement(T)?T:"".concat(T)),O())};function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function pc(t,e,r){return e=_6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _6(t){var e=S6(t,"string");return ul(e)=="symbol"?e:e+""}function S6(t,e){if(ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ns="recharts-tooltip-wrapper",j6={visibility:"hidden"};function O6(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return De(Ns,pc(pc(pc(pc({},"".concat(Ns,"-right"),ue(r)&&e&&ue(e.x)&&r>=e.x),"".concat(Ns,"-left"),ue(r)&&e&&ue(e.x)&&r<e.x),"".concat(Ns,"-bottom"),ue(n)&&e&&ue(e.y)&&n>=e.y),"".concat(Ns,"-top"),ue(n)&&e&&ue(e.y)&&n<e.y))}function ek(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,l=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,h=t.viewBoxDimension;if(o&&ue(o[n]))return o[n];var y=r[n]-u-i,p=r[n]+i;if(e[n])return l[n]?y:p;if(l[n]){var g=y,v=c[n];return g<v?Math.max(p,c[n]):Math.max(y,c[n])}var _=p+u,w=c[n]+h;return _>w?Math.max(y,c[n]):Math.max(p,c[n])}function k6(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function E6(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,h,y,p;return l.height>0&&l.width>0&&r?(y=ek({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),p=ek({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),h=k6({translateX:y,translateY:p,useTranslate3d:u})):h=j6,{cssProperties:h,cssClasses:O6({translateX:y,translateY:p,coordinate:r})}}function yo(t){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yo(t)}function tk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(r),!0).forEach(function(n){Qv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WT(n.key),n)}}function T6(t,e,r){return e&&P6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C6(t,e,r){return e=zc(e),N6(t,FT()?Reflect.construct(e,r||[],zc(t).constructor):e.apply(t,r))}function N6(t,e){if(e&&(yo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I6(t)}function I6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FT=function(){return!!t})()}function zc(t){return zc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zc(t)}function R6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jv(t,e)}function Jv(t,e){return Jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jv(t,e)}function Qv(t,e,r){return e=WT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WT(t){var e=$6(t,"string");return yo(e)=="symbol"?e:e+""}function $6(t,e){if(yo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nk=1,M6=(function(t){function e(){var r;A6(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=C6(this,e,[].concat(i)),Qv(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Qv(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,c,h,y;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(h=(y=r.props.coordinate)===null||y===void 0?void 0:y.y)!==null&&h!==void 0?h:0}})}}),r}return R6(e,t),T6(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>nk||Math.abs(n.height-this.state.lastBoundingBox.height)>nk)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,h=i.children,y=i.coordinate,p=i.hasPayload,g=i.isAnimationActive,v=i.offset,_=i.position,w=i.reverseDirection,b=i.useTranslate3d,k=i.viewBox,E=i.wrapperStyle,O=E6({allowEscapeViewBox:l,coordinate:y,offsetTopLeft:v,position:_,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:k}),P=O.cssClasses,j=O.cssProperties,A=rk(rk({transition:g&&o?"transform ".concat(u,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},E);return q.createElement("div",{tabIndex:-1,className:P,style:A,ref:function(N){n.wrapperNode=N}},h)}}])})(z.PureComponent),D6=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},da={isSsr:D6()};function mo(t){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(t)}function ik(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ak(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(r),!0).forEach(function(n){Ex(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VT(n.key),n)}}function B6(t,e,r){return e&&z6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function q6(t,e,r){return e=Bc(e),U6(t,HT()?Reflect.construct(e,r||[],Bc(t).constructor):e.apply(t,r))}function U6(t,e){if(e&&(mo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F6(t)}function F6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HT=function(){return!!t})()}function Bc(t){return Bc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bc(t)}function W6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zv(t,e)}function Zv(t,e){return Zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zv(t,e)}function Ex(t,e,r){return e=VT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VT(t){var e=H6(t,"string");return mo(e)=="symbol"?e:e+""}function H6(t,e){if(mo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function V6(t){return t.dataKey}function K6(t,e){return q.isValidElement(t)?q.cloneElement(t,e):typeof t=="function"?q.createElement(t,e):q.createElement(w6,e)}var cn=(function(t){function e(){return L6(this,e),q6(this,e,arguments)}return W6(e,t),B6(e,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,h=i.content,y=i.coordinate,p=i.filterNull,g=i.isAnimationActive,v=i.offset,_=i.payload,w=i.payloadUniqBy,b=i.position,k=i.reverseDirection,E=i.useTranslate3d,O=i.viewBox,P=i.wrapperStyle,j=_??[];p&&j.length&&(j=MT(_.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),w,V6));var A=j.length>0;return q.createElement(M6,{allowEscapeViewBox:l,animationDuration:u,animationEasing:c,isAnimationActive:g,active:o,coordinate:y,hasPayload:A,offset:v,position:b,reverseDirection:k,useTranslate3d:E,viewBox:O,wrapperStyle:P},K6(h,ak(ak({},this.props),{},{payload:j})))}}])})(z.PureComponent);Ex(cn,"displayName","Tooltip");Ex(cn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!da.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var _g,ok;function G6(){if(ok)return _g;ok=1;var t=gn(),e=function(){return t.Date.now()};return _g=e,_g}var Sg,sk;function X6(){if(sk)return Sg;sk=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Sg=e,Sg}var jg,lk;function Y6(){if(lk)return jg;lk=1;var t=X6(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return jg=r,jg}var Og,uk;function KT(){if(uk)return Og;uk=1;var t=Y6(),e=_i(),r=Mo(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function c(h){if(typeof h=="number")return h;if(r(h))return n;if(e(h)){var y=typeof h.valueOf=="function"?h.valueOf():h;h=e(y)?y+"":y}if(typeof h!="string")return h===0?h:+h;h=t(h);var p=o.test(h);return p||l.test(h)?u(h.slice(2),p?2:8):i.test(h)?n:+h}return Og=c,Og}var kg,ck;function J6(){if(ck)return kg;ck=1;var t=_i(),e=G6(),r=KT(),n="Expected a function",i=Math.max,o=Math.min;function l(u,c,h){var y,p,g,v,_,w,b=0,k=!1,E=!1,O=!0;if(typeof u!="function")throw new TypeError(n);c=r(c)||0,t(h)&&(k=!!h.leading,E="maxWait"in h,g=E?i(r(h.maxWait)||0,c):g,O="trailing"in h?!!h.trailing:O);function P(H){var L=y,M=p;return y=p=void 0,b=H,v=u.apply(M,L),v}function j(H){return b=H,_=setTimeout(N,c),k?P(H):v}function A(H){var L=H-w,M=H-b,X=c-L;return E?o(X,g-M):X}function T(H){var L=H-w,M=H-b;return w===void 0||L>=c||L<0||E&&M>=g}function N(){var H=e();if(T(H))return $(H);_=setTimeout(N,A(H))}function $(H){return _=void 0,O&&y?P(H):(y=p=void 0,v)}function V(){_!==void 0&&clearTimeout(_),b=0,y=w=p=_=void 0}function F(){return _===void 0?v:$(e())}function R(){var H=e(),L=T(H);if(y=arguments,p=this,w=H,L){if(_===void 0)return j(w);if(E)return clearTimeout(_),_=setTimeout(N,c),P(w)}return _===void 0&&(_=setTimeout(N,c)),v}return R.cancel=V,R.flush=F,R}return kg=l,kg}var Eg,dk;function Q6(){if(dk)return Eg;dk=1;var t=J6(),e=_i(),r="Expected a function";function n(i,o,l){var u=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(l)&&(u="leading"in l?!!l.leading:u,c="trailing"in l?!!l.trailing:c),t(i,o,{leading:u,maxWait:o,trailing:c})}return Eg=n,Eg}var Z6=Q6();const GT=Ge(Z6);function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function fk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(r),!0).forEach(function(n){eB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eB(t,e,r){return e=tB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tB(t){var e=rB(t,"string");return cl(e)=="symbol"?e:e+""}function rB(t,e){if(cl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nB(t,e){return sB(t)||oB(t,e)||aB(t,e)||iB()}function iB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aB(t,e){if(t){if(typeof t=="string")return hk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hk(t,e)}}function hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oB(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],c=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(y){h=!0,i=y}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function sB(t){if(Array.isArray(t))return t}var lB=z.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=t.width,l=o===void 0?"100%":o,u=t.height,c=u===void 0?"100%":u,h=t.minWidth,y=h===void 0?0:h,p=t.minHeight,g=t.maxHeight,v=t.children,_=t.debounce,w=_===void 0?0:_,b=t.id,k=t.className,E=t.onResize,O=t.style,P=O===void 0?{}:O,j=z.useRef(null),A=z.useRef();A.current=E,z.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var T=z.useState({containerWidth:i.width,containerHeight:i.height}),N=nB(T,2),$=N[0],V=N[1],F=z.useCallback(function(H,L){V(function(M){var X=Math.round(H),Z=Math.round(L);return M.containerWidth===X&&M.containerHeight===Z?M:{containerWidth:X,containerHeight:Z}})},[]);z.useEffect(function(){var H=function(te){var Q,I=te[0].contentRect,U=I.width,re=I.height;F(U,re),(Q=A.current)===null||Q===void 0||Q.call(A,U,re)};w>0&&(H=GT(H,w,{trailing:!0,leading:!1}));var L=new ResizeObserver(H),M=j.current.getBoundingClientRect(),X=M.width,Z=M.height;return F(X,Z),L.observe(j.current),function(){L.disconnect()}},[F,w]);var R=z.useMemo(function(){var H=$.containerWidth,L=$.containerHeight;if(H<0||L<0)return null;Rn(Yi(l)||Yi(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,c),Rn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=Yi(l)?H:l,X=Yi(c)?L:c;r&&r>0&&(M?X=M/r:X&&(M=X*r),g&&X>g&&(X=g)),Rn(M>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,X,l,c,y,p,r);var Z=!Array.isArray(v)&&In(v.type).endsWith("Chart");return q.Children.map(v,function(G){return q.isValidElement(G)?z.cloneElement(G,yc({width:M,height:X},Z?{style:yc({height:"100%",width:"100%",maxHeight:X,maxWidth:M},G.props.style)}:{})):G})},[r,v,c,g,p,y,$,l]);return q.createElement("div",{id:b?"".concat(b):void 0,className:De("recharts-responsive-container",k),style:yc(yc({},P),{},{width:l,height:c,minWidth:y,minHeight:p,maxHeight:g}),ref:j},R)}),XT=function(e){return null};XT.displayName="Cell";function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function pk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function e0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(r),!0).forEach(function(n){uB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uB(t,e,r){return e=cB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cB(t){var e=dB(t,"string");return dl(e)=="symbol"?e:e+""}function dB(t,e){if(dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Va={widthCache:{},cacheCount:0},fB=2e3,hB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yk="recharts_measurement_span";function pB(t){var e=e0({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Ks=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||da.isSsr)return{width:0,height:0};var n=pB(r),i=JSON.stringify({text:e,copyStyle:n});if(Va.widthCache[i])return Va.widthCache[i];try{var o=document.getElementById(yk);o||(o=document.createElement("span"),o.setAttribute("id",yk),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=e0(e0({},hB),n);Object.assign(o.style,l),o.textContent="".concat(e);var u=o.getBoundingClientRect(),c={width:u.width,height:u.height};return Va.widthCache[i]=c,++Va.cacheCount>fB&&(Va.cacheCount=0,Va.widthCache={}),c}catch{return{width:0,height:0}}},yB=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function qc(t,e){return xB(t)||vB(t,e)||gB(t,e)||mB()}function mB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gB(t,e){if(t){if(typeof t=="string")return mk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mk(t,e)}}function mk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vB(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],c=!0,h=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(y){h=!0,i=y}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function xB(t){if(Array.isArray(t))return t}function bB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_B(n.key),n)}}function wB(t,e,r){return e&&gk(t.prototype,e),r&&gk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _B(t){var e=SB(t,"string");return fl(e)=="symbol"?e:e+""}function SB(t,e){if(fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jB=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,OB=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kB=Object.keys(YT),to="NaN";function EB(t,e){return t*YT[e]}var mc=(function(){function t(e,r){bB(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!jB.test(r)&&(this.num=NaN,this.unit=""),kB.includes(r)&&(this.num=EB(e,r),this.unit="px")}return wB(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=OB.exec(r))!==null&&n!==void 0?n:[],o=qc(i,3),l=o[1],u=o[2];return new t(parseFloat(l),u??"")}}])})();function JT(t){if(t.includes(to))return to;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=vk.exec(e))!==null&&r!==void 0?r:[],i=qc(n,4),o=i[1],l=i[2],u=i[3],c=mc.parse(o??""),h=mc.parse(u??""),y=l==="*"?c.multiply(h):c.divide(h);if(y.isNaN())return to;e=e.replace(vk,y.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,g=(p=xk.exec(e))!==null&&p!==void 0?p:[],v=qc(g,4),_=v[1],w=v[2],b=v[3],k=mc.parse(_??""),E=mc.parse(b??""),O=w==="+"?k.add(E):k.subtract(E);if(O.isNaN())return to;e=e.replace(xk,O.toString())}return e}var bk=/\(([^()]*)\)/;function AB(t){for(var e=t;e.includes("(");){var r=bk.exec(e),n=qc(r,2),i=n[1];e=e.replace(bk,JT(i))}return e}function PB(t){var e=t.replace(/\s+/g,"");return e=AB(e),e=JT(e),e}function TB(t){try{return PB(t)}catch{return to}}function Ag(t){var e=TB(t.slice(5,-1));return e===to?"":e}var CB=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],NB=["dx","dy","angle","className","breakAll"];function t0(){return t0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t0.apply(this,arguments)}function wk(t,e){if(t==null)return{};var r=IB(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _k(t,e){return DB(t)||MB(t,e)||$B(t,e)||RB()}function RB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $B(t,e){if(t){if(typeof t=="string")return Sk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sk(t,e)}}function Sk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MB(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],c=!0,h=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(y){h=!0,i=y}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function DB(t){if(Array.isArray(t))return t}var QT=/[ \f\n\r\t\v\u2028\u2029]+/,ZT=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];Ne(r)||(n?o=r.toString().split(""):o=r.toString().split(QT));var l=o.map(function(c){return{word:c,width:Ks(c,i).width}}),u=n?0:Ks("",i).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},LB=function(e,r,n,i,o){var l=e.maxLines,u=e.children,c=e.style,h=e.breakAll,y=ue(l),p=u,g=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(X,Z){var G=Z.word,te=Z.width,Q=X[X.length-1];if(Q&&(i==null||o||Q.width+te+n<Number(i)))Q.words.push(G),Q.width+=te+n;else{var I={words:[G],width:te};X.push(I)}return X},[])},v=g(r),_=function(M){return M.reduce(function(X,Z){return X.width>Z.width?X:Z})};if(!y)return v;for(var w="",b=function(M){var X=p.slice(0,M),Z=ZT({breakAll:h,style:c,children:X+w}).wordsWithComputedWidth,G=g(Z),te=G.length>l||_(G).width>Number(i);return[te,G]},k=0,E=p.length-1,O=0,P;k<=E&&O<=p.length-1;){var j=Math.floor((k+E)/2),A=j-1,T=b(A),N=_k(T,2),$=N[0],V=N[1],F=b(j),R=_k(F,1),H=R[0];if(!$&&!H&&(k=j+1),$&&H&&(E=j-1),!$&&H){P=V;break}O++}return P||v},jk=function(e){var r=Ne(e)?[]:e.toString().split(QT);return[{words:r}]},zB=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,l=e.breakAll,u=e.maxLines;if((r||n)&&!da.isSsr){var c,h,y=ZT({breakAll:l,children:i,style:o});if(y){var p=y.wordsWithComputedWidth,g=y.spaceWidth;c=p,h=g}else return jk(i);return LB({breakAll:l,children:i,maxLines:u,style:o},c,h,r,n)}return jk(i)},Ok="#808080",Uc=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,l=e.lineHeight,u=l===void 0?"1em":l,c=e.capHeight,h=c===void 0?"0.71em":c,y=e.scaleToFit,p=y===void 0?!1:y,g=e.textAnchor,v=g===void 0?"start":g,_=e.verticalAnchor,w=_===void 0?"end":_,b=e.fill,k=b===void 0?Ok:b,E=wk(e,CB),O=z.useMemo(function(){return zB({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:p,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,p,E.style,E.width]),P=E.dx,j=E.dy,A=E.angle,T=E.className,N=E.breakAll,$=wk(E,NB);if(!jt(n)||!jt(o))return null;var V=n+(ue(P)?P:0),F=o+(ue(j)?j:0),R;switch(w){case"start":R=Ag("calc(".concat(h,")"));break;case"middle":R=Ag("calc(".concat((O.length-1)/2," * -").concat(u," + (").concat(h," / 2))"));break;default:R=Ag("calc(".concat(O.length-1," * -").concat(u,")"));break}var H=[];if(p){var L=O[0].width,M=E.width;H.push("scale(".concat((ue(M)?M/L:1)/L,")"))}return A&&H.push("rotate(".concat(A,", ").concat(V,", ").concat(F,")")),H.length&&($.transform=H.join(" ")),q.createElement("text",t0({},Ce($,!0),{x:V,y:F,className:De("recharts-text",T),textAnchor:v,fill:k.includes("url")?Ok:k}),O.map(function(X,Z){var G=X.words.join(N?"":" ");return q.createElement("tspan",{x:V,dy:Z===0?R:u,key:"".concat(G,"-").concat(Z)},G)}))};function bi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function BB(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ax(t){let e,r,n;t.length!==2?(e=bi,r=(u,c)=>bi(t(u),c),n=(u,c)=>t(u)-c):(e=t===bi||t===BB?t:qB,r=t,n=t);function i(u,c,h=0,y=u.length){if(h<y){if(e(c,c)!==0)return y;do{const p=h+y>>>1;r(u[p],c)<0?h=p+1:y=p}while(h<y)}return h}function o(u,c,h=0,y=u.length){if(h<y){if(e(c,c)!==0)return y;do{const p=h+y>>>1;r(u[p],c)<=0?h=p+1:y=p}while(h<y)}return h}function l(u,c,h=0,y=u.length){const p=i(u,c,h,y-1);return p>h&&n(u[p-1],c)>-n(u[p],c)?p-1:p}return{left:i,center:l,right:o}}function qB(){return 0}function e2(t){return t===null?NaN:+t}function*UB(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const FB=Ax(bi),Vl=FB.right;Ax(e2).center;class kk extends Map{constructor(e,r=VB){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(Ek(this,e))}has(e){return super.has(Ek(this,e))}set(e,r){return super.set(WB(this,e),r)}delete(e){return super.delete(HB(this,e))}}function Ek({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function WB({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function HB({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function VB(t){return t!==null&&typeof t=="object"?t.valueOf():t}function KB(t=bi){if(t===bi)return t2;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function t2(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const GB=Math.sqrt(50),XB=Math.sqrt(10),YB=Math.sqrt(2);function Fc(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),l=o>=GB?10:o>=XB?5:o>=YB?2:1;let u,c,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(t*h),c=Math.round(e*h),u/h<t&&++u,c/h>e&&--c,h=-h):(h=Math.pow(10,i)*l,u=Math.round(t/h),c=Math.round(e/h),u*h<t&&++u,c*h>e&&--c),c<u&&.5<=r&&r<2?Fc(t,e,r*2):[u,c,h]}function r0(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,l]=n?Fc(e,t,r):Fc(t,e,r);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(n)if(l<0)for(let h=0;h<u;++h)c[h]=(o-h)/-l;else for(let h=0;h<u;++h)c[h]=(o-h)*l;else if(l<0)for(let h=0;h<u;++h)c[h]=(i+h)/-l;else for(let h=0;h<u;++h)c[h]=(i+h)*l;return c}function n0(t,e,r){return e=+e,t=+t,r=+r,Fc(t,e,r)[2]}function i0(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?n0(e,t,r):n0(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function Ak(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Pk(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function r2(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?t2:KB(i);n>r;){if(n-r>600){const c=n-r+1,h=e-r+1,y=Math.log(c),p=.5*Math.exp(2*y/3),g=.5*Math.sqrt(y*p*(c-p)/c)*(h-c/2<0?-1:1),v=Math.max(r,Math.floor(e-h*p/c+g)),_=Math.min(n,Math.floor(e+(c-h)*p/c+g));r2(t,e,v,_,i)}const o=t[e];let l=r,u=n;for(Is(t,r,e),i(t[n],o)>0&&Is(t,r,n);l<u;){for(Is(t,l,u),++l,--u;i(t[l],o)<0;)++l;for(;i(t[u],o)>0;)--u}i(t[r],o)===0?Is(t,r,u):(++u,Is(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Is(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function JB(t,e,r){if(t=Float64Array.from(UB(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Pk(t);if(e>=1)return Ak(t);var n,i=(n-1)*e,o=Math.floor(i),l=Ak(r2(t,o).subarray(0,o+1)),u=Pk(t.subarray(o+1));return l+(u-l)*(i-o)}}function QB(t,e,r=e2){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),l=+r(t[o],o,t),u=+r(t[o+1],o+1,t);return l+(u-l)*(i-o)}}function ZB(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function $r(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Wn(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const a0=Symbol("implicit");function Px(){var t=new kk,e=[],r=[],n=a0;function i(o){let l=t.get(o);if(l===void 0){if(n!==a0)return n;t.set(o,l=e.push(o)-1)}return r[l%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new kk;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Px(e,r).unknown(n)},$r.apply(i,arguments),i}function hl(){var t=Px().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,l,u=!1,c=0,h=0,y=.5;delete t.unknown;function p(){var g=e().length,v=i<n,_=v?i:n,w=v?n:i;o=(w-_)/Math.max(1,g-c+h*2),u&&(o=Math.floor(o)),_+=(w-_-o*(g-c))*y,l=o*(1-c),u&&(_=Math.round(_),l=Math.round(l));var b=ZB(g).map(function(k){return _+o*k});return r(v?b.reverse():b)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,u=!0,p()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(g){return arguments.length?(u=!!g,p()):u},t.padding=function(g){return arguments.length?(c=Math.min(1,h=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(h=+g,p()):h},t.align=function(g){return arguments.length?(y=Math.max(0,Math.min(1,g)),p()):y},t.copy=function(){return hl(e(),[n,i]).round(u).paddingInner(c).paddingOuter(h).align(y)},$r.apply(p(),arguments)}function n2(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return n2(e())},t}function Gs(){return n2(hl.apply(null,arguments).paddingInner(1))}function Tx(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function i2(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Kl(){}var pl=.7,Wc=1/pl,oo="\\s*([+-]?\\d+)\\s*",yl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e5=/^#([0-9a-f]{3,8})$/,t5=new RegExp(`^rgb\\(${oo},${oo},${oo}\\)$`),r5=new RegExp(`^rgb\\(${hn},${hn},${hn}\\)$`),n5=new RegExp(`^rgba\\(${oo},${oo},${oo},${yl}\\)$`),i5=new RegExp(`^rgba\\(${hn},${hn},${hn},${yl}\\)$`),a5=new RegExp(`^hsl\\(${yl},${hn},${hn}\\)$`),o5=new RegExp(`^hsla\\(${yl},${hn},${hn},${yl}\\)$`),Tk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Tx(Kl,ml,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ck,formatHex:Ck,formatHex8:s5,formatHsl:l5,formatRgb:Nk,toString:Nk});function Ck(){return this.rgb().formatHex()}function s5(){return this.rgb().formatHex8()}function l5(){return a2(this).formatHsl()}function Nk(){return this.rgb().formatRgb()}function ml(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=e5.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Ik(e):r===3?new ar(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?gc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?gc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=t5.exec(t))?new ar(e[1],e[2],e[3],1):(e=r5.exec(t))?new ar(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=n5.exec(t))?gc(e[1],e[2],e[3],e[4]):(e=i5.exec(t))?gc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=a5.exec(t))?Mk(e[1],e[2]/100,e[3]/100,1):(e=o5.exec(t))?Mk(e[1],e[2]/100,e[3]/100,e[4]):Tk.hasOwnProperty(t)?Ik(Tk[t]):t==="transparent"?new ar(NaN,NaN,NaN,0):null}function Ik(t){return new ar(t>>16&255,t>>8&255,t&255,1)}function gc(t,e,r,n){return n<=0&&(t=e=r=NaN),new ar(t,e,r,n)}function u5(t){return t instanceof Kl||(t=ml(t)),t?(t=t.rgb(),new ar(t.r,t.g,t.b,t.opacity)):new ar}function o0(t,e,r,n){return arguments.length===1?u5(t):new ar(t,e,r,n??1)}function ar(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Tx(ar,o0,i2(Kl,{brighter(t){return t=t==null?Wc:Math.pow(Wc,t),new ar(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?pl:Math.pow(pl,t),new ar(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ar(ra(this.r),ra(this.g),ra(this.b),Hc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rk,formatHex:Rk,formatHex8:c5,formatRgb:$k,toString:$k}));function Rk(){return`#${Ji(this.r)}${Ji(this.g)}${Ji(this.b)}`}function c5(){return`#${Ji(this.r)}${Ji(this.g)}${Ji(this.b)}${Ji((isNaN(this.opacity)?1:this.opacity)*255)}`}function $k(){const t=Hc(this.opacity);return`${t===1?"rgb(":"rgba("}${ra(this.r)}, ${ra(this.g)}, ${ra(this.b)}${t===1?")":`, ${t})`}`}function Hc(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ra(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ji(t){return t=ra(t),(t<16?"0":"")+t.toString(16)}function Mk(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Qr(t,e,r,n)}function a2(t){if(t instanceof Qr)return new Qr(t.h,t.s,t.l,t.opacity);if(t instanceof Kl||(t=ml(t)),!t)return new Qr;if(t instanceof Qr)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),l=NaN,u=o-i,c=(o+i)/2;return u?(e===o?l=(r-n)/u+(r<n)*6:r===o?l=(n-e)/u+2:l=(e-r)/u+4,u/=c<.5?o+i:2-o-i,l*=60):u=c>0&&c<1?0:l,new Qr(l,u,c,t.opacity)}function d5(t,e,r,n){return arguments.length===1?a2(t):new Qr(t,e,r,n??1)}function Qr(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Tx(Qr,d5,i2(Kl,{brighter(t){return t=t==null?Wc:Math.pow(Wc,t),new Qr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?pl:Math.pow(pl,t),new Qr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ar(Pg(t>=240?t-240:t+120,i,n),Pg(t,i,n),Pg(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Qr(Dk(this.h),vc(this.s),vc(this.l),Hc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Hc(this.opacity);return`${t===1?"hsl(":"hsla("}${Dk(this.h)}, ${vc(this.s)*100}%, ${vc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Dk(t){return t=(t||0)%360,t<0?t+360:t}function vc(t){return Math.max(0,Math.min(1,t||0))}function Pg(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Cx=t=>()=>t;function f5(t,e){return function(r){return t+r*e}}function h5(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function p5(t){return(t=+t)==1?o2:function(e,r){return r-e?h5(e,r,t):Cx(isNaN(e)?r:e)}}function o2(t,e){var r=e-t;return r?f5(t,r):Cx(isNaN(t)?e:t)}const Lk=(function t(e){var r=p5(e);function n(i,o){var l=r((i=o0(i)).r,(o=o0(o)).r),u=r(i.g,o.g),c=r(i.b,o.b),h=o2(i.opacity,o.opacity);return function(y){return i.r=l(y),i.g=u(y),i.b=c(y),i.opacity=h(y),i+""}}return n.gamma=t,n})(1);function y5(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function m5(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function g5(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),l;for(l=0;l<n;++l)i[l]=qo(t[l],e[l]);for(;l<r;++l)o[l]=e[l];return function(u){for(l=0;l<n;++l)o[l]=i[l](u);return o}}function v5(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Vc(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function x5(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=qo(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var s0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tg=new RegExp(s0.source,"g");function b5(t){return function(){return t}}function w5(t){return function(e){return t(e)+""}}function _5(t,e){var r=s0.lastIndex=Tg.lastIndex=0,n,i,o,l=-1,u=[],c=[];for(t=t+"",e=e+"";(n=s0.exec(t))&&(i=Tg.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),u[l]?u[l]+=o:u[++l]=o),(n=n[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,c.push({i:l,x:Vc(n,i)})),r=Tg.lastIndex;return r<e.length&&(o=e.slice(r),u[l]?u[l]+=o:u[++l]=o),u.length<2?c[0]?w5(c[0].x):b5(e):(e=c.length,function(h){for(var y=0,p;y<e;++y)u[(p=c[y]).i]=p.x(h);return u.join("")})}function qo(t,e){var r=typeof e,n;return e==null||r==="boolean"?Cx(e):(r==="number"?Vc:r==="string"?(n=ml(e))?(e=n,Lk):_5:e instanceof ml?Lk:e instanceof Date?v5:m5(e)?y5:Array.isArray(e)?g5:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?x5:Vc)(t,e)}function Nx(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function S5(t,e){e===void 0&&(e=t,t=qo);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return o[u](l-u)}}function j5(t){return function(){return t}}function Kc(t){return+t}var zk=[0,1];function Yt(t){return t}function l0(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:j5(isNaN(e)?NaN:.5)}function O5(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function k5(t,e,r){var n=t[0],i=t[1],o=e[0],l=e[1];return i<n?(n=l0(i,n),o=r(l,o)):(n=l0(n,i),o=r(o,l)),function(u){return o(n(u))}}function E5(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<n;)i[l]=l0(t[l],t[l+1]),o[l]=r(e[l],e[l+1]);return function(u){var c=Vl(t,u,1,n)-1;return o[c](i[c](u))}}function Gl(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gd(){var t=zk,e=zk,r=qo,n,i,o,l=Yt,u,c,h;function y(){var g=Math.min(t.length,e.length);return l!==Yt&&(l=O5(t[0],t[g-1])),u=g>2?E5:k5,c=h=null,p}function p(g){return g==null||isNaN(g=+g)?o:(c||(c=u(t.map(n),e,r)))(n(l(g)))}return p.invert=function(g){return l(i((h||(h=u(e,t.map(n),Vc)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,Kc),y()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),y()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),r=Nx,y()},p.clamp=function(g){return arguments.length?(l=g?!0:Yt,y()):l!==Yt},p.interpolate=function(g){return arguments.length?(r=g,y()):r},p.unknown=function(g){return arguments.length?(o=g,p):o},function(g,v){return n=g,i=v,y()}}function Ix(){return Gd()(Yt,Yt)}function A5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Gc(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function go(t){return t=Gc(Math.abs(t)),t?t[1]:NaN}function P5(t,e){return function(r,n){for(var i=r.length,o=[],l=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>n&&(u=Math.max(1,n-c)),o.push(r.substring(i-=u,i+u)),!((c+=u+1)>n));)u=t[l=(l+1)%t.length];return o.reverse().join(e)}}function T5(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var C5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gl(t){if(!(e=C5.exec(t)))throw new Error("invalid format: "+t);var e;return new Rx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}gl.prototype=Rx.prototype;function Rx(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Rx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function N5(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Xc;function I5(t,e){var r=Gc(t,e);if(!r)return Xc=void 0,t.toPrecision(e);var n=r[0],i=r[1],o=i-(Xc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return o===l?n:o>l?n+new Array(o-l+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Gc(t,Math.max(0,e+o-1))[0]}function Bk(t,e){var r=Gc(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const qk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:A5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Bk(t*100,e),r:Bk,s:I5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Uk(t){return t}var Fk=Array.prototype.map,Wk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function R5(t){var e=t.grouping===void 0||t.thousands===void 0?Uk:P5(Fk.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Uk:T5(Fk.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function h(p,g){p=gl(p);var v=p.fill,_=p.align,w=p.sign,b=p.symbol,k=p.zero,E=p.width,O=p.comma,P=p.precision,j=p.trim,A=p.type;A==="n"?(O=!0,A="g"):qk[A]||(P===void 0&&(P=12),j=!0,A="g"),(k||v==="0"&&_==="=")&&(k=!0,v="0",_="=");var T=(g&&g.prefix!==void 0?g.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():""),N=(b==="$"?n:/[%p]/.test(A)?l:"")+(g&&g.suffix!==void 0?g.suffix:""),$=qk[A],V=/[defgprs%]/.test(A);P=P===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function F(R){var H=T,L=N,M,X,Z;if(A==="c")L=$(R)+L,R="";else{R=+R;var G=R<0||1/R<0;if(R=isNaN(R)?c:$(Math.abs(R),P),j&&(R=N5(R)),G&&+R==0&&w!=="+"&&(G=!1),H=(G?w==="("?w:u:w==="-"||w==="("?"":w)+H,L=(A==="s"&&!isNaN(R)&&Xc!==void 0?Wk[8+Xc/3]:"")+L+(G&&w==="("?")":""),V){for(M=-1,X=R.length;++M<X;)if(Z=R.charCodeAt(M),48>Z||Z>57){L=(Z===46?i+R.slice(M+1):R.slice(M))+L,R=R.slice(0,M);break}}}O&&!k&&(R=e(R,1/0));var te=H.length+R.length+L.length,Q=te<E?new Array(E-te+1).join(v):"";switch(O&&k&&(R=e(Q+R,Q.length?E-L.length:1/0),Q=""),_){case"<":R=H+R+L+Q;break;case"=":R=H+Q+R+L;break;case"^":R=Q.slice(0,te=Q.length>>1)+H+R+L+Q.slice(te);break;default:R=Q+H+R+L;break}return o(R)}return F.toString=function(){return p+""},F}function y(p,g){var v=Math.max(-8,Math.min(8,Math.floor(go(g)/3)))*3,_=Math.pow(10,-v),w=h((p=gl(p),p.type="f",p),{suffix:Wk[8+v/3]});return function(b){return w(_*b)}}return{format:h,formatPrefix:y}}var xc,$x,s2;$5({thousands:",",grouping:[3],currency:["$",""]});function $5(t){return xc=R5(t),$x=xc.format,s2=xc.formatPrefix,xc}function M5(t){return Math.max(0,-go(Math.abs(t)))}function D5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(go(e)/3)))*3-go(Math.abs(t)))}function L5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,go(e)-go(t))+1}function l2(t,e,r,n){var i=i0(t,e,r),o;switch(n=gl(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=D5(i,l))&&(n.precision=o),s2(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=L5(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=M5(i))&&(n.precision=o-(n.type==="%")*2);break}}return $x(n)}function ji(t){var e=t.domain;return t.ticks=function(r){var n=e();return r0(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return l2(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,l=n[i],u=n[o],c,h,y=10;for(u<l&&(h=l,l=u,u=h,h=i,i=o,o=h);y-- >0;){if(h=n0(l,u,r),h===c)return n[i]=l,n[o]=u,e(n);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;c=h}return t},t}function Yc(){var t=Ix();return t.copy=function(){return Gl(t,Yc())},$r.apply(t,arguments),ji(t)}function u2(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Kc),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return u2(t).unknown(e)},t=arguments.length?Array.from(t,Kc):[0,1],ji(r)}function c2(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],l;return o<i&&(l=r,r=n,n=l,l=i,i=o,o=l),t[r]=e.floor(i),t[n]=e.ceil(o),t}function Hk(t){return Math.log(t)}function Vk(t){return Math.exp(t)}function z5(t){return-Math.log(-t)}function B5(t){return-Math.exp(-t)}function q5(t){return isFinite(t)?+("1e"+t):t<0?0:t}function U5(t){return t===10?q5:t===Math.E?Math.exp:e=>Math.pow(t,e)}function F5(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Kk(t){return(e,r)=>-t(-e,r)}function Mx(t){const e=t(Hk,Vk),r=e.domain;let n=10,i,o;function l(){return i=F5(n),o=U5(n),r()[0]<0?(i=Kk(i),o=Kk(o),t(z5,B5)):t(Hk,Vk),e}return e.base=function(u){return arguments.length?(n=+u,l()):n},e.domain=function(u){return arguments.length?(r(u),l()):r()},e.ticks=u=>{const c=r();let h=c[0],y=c[c.length-1];const p=y<h;p&&([h,y]=[y,h]);let g=i(h),v=i(y),_,w;const b=u==null?10:+u;let k=[];if(!(n%1)&&v-g<b){if(g=Math.floor(g),v=Math.ceil(v),h>0){for(;g<=v;++g)for(_=1;_<n;++_)if(w=g<0?_/o(-g):_*o(g),!(w<h)){if(w>y)break;k.push(w)}}else for(;g<=v;++g)for(_=n-1;_>=1;--_)if(w=g>0?_/o(-g):_*o(g),!(w<h)){if(w>y)break;k.push(w)}k.length*2<b&&(k=r0(h,y,b))}else k=r0(g,v,Math.min(v-g,b)).map(o);return p?k.reverse():k},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=gl(c)).precision==null&&(c.trim=!0),c=$x(c)),u===1/0)return c;const h=Math.max(1,n*u/e.ticks().length);return y=>{let p=y/o(Math.round(i(y)));return p*n<n-.5&&(p*=n),p<=h?c(y):""}},e.nice=()=>r(c2(r(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function d2(){const t=Mx(Gd()).domain([1,10]);return t.copy=()=>Gl(t,d2()).base(t.base()),$r.apply(t,arguments),t}function Gk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Xk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Dx(t){var e=1,r=t(Gk(e),Xk(e));return r.constant=function(n){return arguments.length?t(Gk(e=+n),Xk(e)):e},ji(r)}function f2(){var t=Dx(Gd());return t.copy=function(){return Gl(t,f2()).constant(t.constant())},$r.apply(t,arguments)}function Yk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function W5(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function H5(t){return t<0?-t*t:t*t}function Lx(t){var e=t(Yt,Yt),r=1;function n(){return r===1?t(Yt,Yt):r===.5?t(W5,H5):t(Yk(r),Yk(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},ji(e)}function zx(){var t=Lx(Gd());return t.copy=function(){return Gl(t,zx()).exponent(t.exponent())},$r.apply(t,arguments),t}function V5(){return zx.apply(null,arguments).exponent(.5)}function Jk(t){return Math.sign(t)*t*t}function K5(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function h2(){var t=Ix(),e=[0,1],r=!1,n;function i(o){var l=K5(t(o));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(o){return t.invert(Jk(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Kc)).map(Jk)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return h2(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},$r.apply(i,arguments),ji(i)}function p2(){var t=[],e=[],r=[],n;function i(){var l=0,u=Math.max(1,e.length);for(r=new Array(u-1);++l<u;)r[l-1]=QB(t,l/u);return o}function o(l){return l==null||isNaN(l=+l)?n:e[Vl(r,l)]}return o.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(bi),i()},o.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},o.unknown=function(l){return arguments.length?(n=l,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return p2().domain(t).range(e).unknown(n)},$r.apply(o,arguments)}function y2(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function l(c){return c!=null&&c<=c?i[Vl(n,c,0,r)]:o}function u(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return l}return l.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},l.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,u()):i.slice()},l.invertExtent=function(c){var h=i.indexOf(c);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},l.unknown=function(c){return arguments.length&&(o=c),l},l.thresholds=function(){return n.slice()},l.copy=function(){return y2().domain([t,e]).range(i).unknown(o)},$r.apply(ji(l),arguments)}function m2(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[Vl(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return m2().domain(t).range(e).unknown(r)},$r.apply(i,arguments)}const Cg=new Date,Ng=new Date;function Ot(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const c=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return c;let h;do c.push(h=new Date(+o)),e(o,u),t(o);while(h<o&&o<l);return c},i.filter=o=>Ot(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!o(l););else for(;--u>=0;)for(;e(l,1),!o(l););}),r&&(i.count=(o,l)=>(Cg.setTime(+o),Ng.setTime(+l),t(Cg),t(Ng),Math.floor(r(Cg,Ng))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?l=>n(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Jc=Ot(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Jc.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ot(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Jc);Jc.range;const Tn=1e3,Pr=Tn*60,Cn=Pr*60,Dn=Cn*24,Bx=Dn*7,Qk=Dn*30,Ig=Dn*365,Qi=Ot(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Tn)},(t,e)=>(e-t)/Tn,t=>t.getUTCSeconds());Qi.range;const qx=Ot(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tn)},(t,e)=>{t.setTime(+t+e*Pr)},(t,e)=>(e-t)/Pr,t=>t.getMinutes());qx.range;const Ux=Ot(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Pr)},(t,e)=>(e-t)/Pr,t=>t.getUTCMinutes());Ux.range;const Fx=Ot(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tn-t.getMinutes()*Pr)},(t,e)=>{t.setTime(+t+e*Cn)},(t,e)=>(e-t)/Cn,t=>t.getHours());Fx.range;const Wx=Ot(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Cn)},(t,e)=>(e-t)/Cn,t=>t.getUTCHours());Wx.range;const Xl=Ot(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pr)/Dn,t=>t.getDate()-1);Xl.range;const Xd=Ot(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Dn,t=>t.getUTCDate()-1);Xd.range;const g2=Ot(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Dn,t=>Math.floor(t/Dn));g2.range;function fa(t){return Ot(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Pr)/Bx)}const Yd=fa(0),Qc=fa(1),G5=fa(2),X5=fa(3),vo=fa(4),Y5=fa(5),J5=fa(6);Yd.range;Qc.range;G5.range;X5.range;vo.range;Y5.range;J5.range;function ha(t){return Ot(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Bx)}const Jd=ha(0),Zc=ha(1),Q5=ha(2),Z5=ha(3),xo=ha(4),e8=ha(5),t8=ha(6);Jd.range;Zc.range;Q5.range;Z5.range;xo.range;e8.range;t8.range;const Hx=Ot(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Hx.range;const Vx=Ot(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Vx.range;const Ln=Ot(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ln.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ot(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ln.range;const zn=Ot(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());zn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ot(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});zn.range;function v2(t,e,r,n,i,o){const l=[[Qi,1,Tn],[Qi,5,5*Tn],[Qi,15,15*Tn],[Qi,30,30*Tn],[o,1,Pr],[o,5,5*Pr],[o,15,15*Pr],[o,30,30*Pr],[i,1,Cn],[i,3,3*Cn],[i,6,6*Cn],[i,12,12*Cn],[n,1,Dn],[n,2,2*Dn],[r,1,Bx],[e,1,Qk],[e,3,3*Qk],[t,1,Ig]];function u(h,y,p){const g=y<h;g&&([h,y]=[y,h]);const v=p&&typeof p.range=="function"?p:c(h,y,p),_=v?v.range(h,+y+1):[];return g?_.reverse():_}function c(h,y,p){const g=Math.abs(y-h)/p,v=Ax(([,,b])=>b).right(l,g);if(v===l.length)return t.every(i0(h/Ig,y/Ig,p));if(v===0)return Jc.every(Math.max(i0(h,y,p),1));const[_,w]=l[g/l[v-1][2]<l[v][2]/g?v-1:v];return _.every(w)}return[u,c]}const[r8,n8]=v2(zn,Vx,Jd,g2,Wx,Ux),[i8,a8]=v2(Ln,Hx,Yd,Xl,Fx,qx);function Rg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function $g(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Rs(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function o8(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,l=t.shortDays,u=t.months,c=t.shortMonths,h=$s(i),y=Ms(i),p=$s(o),g=Ms(o),v=$s(l),_=Ms(l),w=$s(u),b=Ms(u),k=$s(c),E=Ms(c),O={a:Z,A:G,b:te,B:Q,c:null,d:iE,e:iE,f:P8,g:z8,G:q8,H:k8,I:E8,j:A8,L:x2,m:T8,M:C8,p:I,q:U,Q:sE,s:lE,S:N8,u:I8,U:R8,V:$8,w:M8,W:D8,x:null,X:null,y:L8,Y:B8,Z:U8,"%":oE},P={a:re,A:de,b:ve,B:Oe,c:null,d:aE,e:aE,f:V8,g:rq,G:iq,H:F8,I:W8,j:H8,L:w2,m:K8,M:G8,p:$e,q:Ae,Q:sE,s:lE,S:X8,u:Y8,U:J8,V:Q8,w:Z8,W:eq,x:null,X:null,y:tq,Y:nq,Z:aq,"%":oE},j={a:V,A:F,b:R,B:H,c:L,d:rE,e:rE,f:_8,g:tE,G:eE,H:nE,I:nE,j:v8,L:w8,m:g8,M:x8,p:$,q:m8,Q:j8,s:O8,S:b8,u:d8,U:f8,V:h8,w:c8,W:p8,x:M,X,y:tE,Y:eE,Z:y8,"%":S8};O.x=A(r,O),O.X=A(n,O),O.c=A(e,O),P.x=A(r,P),P.X=A(n,P),P.c=A(e,P);function A(se,xe){return function(Pe){var ae=[],Ve=-1,Re=0,st=se.length,lt,kt,Mr;for(Pe instanceof Date||(Pe=new Date(+Pe));++Ve<st;)se.charCodeAt(Ve)===37&&(ae.push(se.slice(Re,Ve)),(kt=Zk[lt=se.charAt(++Ve)])!=null?lt=se.charAt(++Ve):kt=lt==="e"?" ":"0",(Mr=xe[lt])&&(lt=Mr(Pe,kt)),ae.push(lt),Re=Ve+1);return ae.push(se.slice(Re,Ve)),ae.join("")}}function T(se,xe){return function(Pe){var ae=Rs(1900,void 0,1),Ve=N(ae,se,Pe+="",0),Re,st;if(Ve!=Pe.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(xe&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Re=$g(Rs(ae.y,0,1)),st=Re.getUTCDay(),Re=st>4||st===0?Zc.ceil(Re):Zc(Re),Re=Xd.offset(Re,(ae.V-1)*7),ae.y=Re.getUTCFullYear(),ae.m=Re.getUTCMonth(),ae.d=Re.getUTCDate()+(ae.w+6)%7):(Re=Rg(Rs(ae.y,0,1)),st=Re.getDay(),Re=st>4||st===0?Qc.ceil(Re):Qc(Re),Re=Xl.offset(Re,(ae.V-1)*7),ae.y=Re.getFullYear(),ae.m=Re.getMonth(),ae.d=Re.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),st="Z"in ae?$g(Rs(ae.y,0,1)).getUTCDay():Rg(Rs(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(st+5)%7:ae.w+ae.U*7-(st+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,$g(ae)):Rg(ae)}}function N(se,xe,Pe,ae){for(var Ve=0,Re=xe.length,st=Pe.length,lt,kt;Ve<Re;){if(ae>=st)return-1;if(lt=xe.charCodeAt(Ve++),lt===37){if(lt=xe.charAt(Ve++),kt=j[lt in Zk?xe.charAt(Ve++):lt],!kt||(ae=kt(se,Pe,ae))<0)return-1}else if(lt!=Pe.charCodeAt(ae++))return-1}return ae}function $(se,xe,Pe){var ae=h.exec(xe.slice(Pe));return ae?(se.p=y.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function V(se,xe,Pe){var ae=v.exec(xe.slice(Pe));return ae?(se.w=_.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function F(se,xe,Pe){var ae=p.exec(xe.slice(Pe));return ae?(se.w=g.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function R(se,xe,Pe){var ae=k.exec(xe.slice(Pe));return ae?(se.m=E.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function H(se,xe,Pe){var ae=w.exec(xe.slice(Pe));return ae?(se.m=b.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function L(se,xe,Pe){return N(se,e,xe,Pe)}function M(se,xe,Pe){return N(se,r,xe,Pe)}function X(se,xe,Pe){return N(se,n,xe,Pe)}function Z(se){return l[se.getDay()]}function G(se){return o[se.getDay()]}function te(se){return c[se.getMonth()]}function Q(se){return u[se.getMonth()]}function I(se){return i[+(se.getHours()>=12)]}function U(se){return 1+~~(se.getMonth()/3)}function re(se){return l[se.getUTCDay()]}function de(se){return o[se.getUTCDay()]}function ve(se){return c[se.getUTCMonth()]}function Oe(se){return u[se.getUTCMonth()]}function $e(se){return i[+(se.getUTCHours()>=12)]}function Ae(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var xe=A(se+="",O);return xe.toString=function(){return se},xe},parse:function(se){var xe=T(se+="",!1);return xe.toString=function(){return se},xe},utcFormat:function(se){var xe=A(se+="",P);return xe.toString=function(){return se},xe},utcParse:function(se){var xe=T(se+="",!0);return xe.toString=function(){return se},xe}}}var Zk={"-":"",_:" ",0:"0"},Ct=/^\s*\d+/,s8=/^%/,l8=/[\\^$*+?|[\]().{}]/g;function qe(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function u8(t){return t.replace(l8,"\\$&")}function $s(t){return new RegExp("^(?:"+t.map(u8).join("|")+")","i")}function Ms(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function c8(t,e,r){var n=Ct.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function d8(t,e,r){var n=Ct.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function f8(t,e,r){var n=Ct.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function h8(t,e,r){var n=Ct.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function p8(t,e,r){var n=Ct.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function eE(t,e,r){var n=Ct.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function tE(t,e,r){var n=Ct.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function y8(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function m8(t,e,r){var n=Ct.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function g8(t,e,r){var n=Ct.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function rE(t,e,r){var n=Ct.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function v8(t,e,r){var n=Ct.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function nE(t,e,r){var n=Ct.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function x8(t,e,r){var n=Ct.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function b8(t,e,r){var n=Ct.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function w8(t,e,r){var n=Ct.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function _8(t,e,r){var n=Ct.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function S8(t,e,r){var n=s8.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function j8(t,e,r){var n=Ct.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function O8(t,e,r){var n=Ct.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function iE(t,e){return qe(t.getDate(),e,2)}function k8(t,e){return qe(t.getHours(),e,2)}function E8(t,e){return qe(t.getHours()%12||12,e,2)}function A8(t,e){return qe(1+Xl.count(Ln(t),t),e,3)}function x2(t,e){return qe(t.getMilliseconds(),e,3)}function P8(t,e){return x2(t,e)+"000"}function T8(t,e){return qe(t.getMonth()+1,e,2)}function C8(t,e){return qe(t.getMinutes(),e,2)}function N8(t,e){return qe(t.getSeconds(),e,2)}function I8(t){var e=t.getDay();return e===0?7:e}function R8(t,e){return qe(Yd.count(Ln(t)-1,t),e,2)}function b2(t){var e=t.getDay();return e>=4||e===0?vo(t):vo.ceil(t)}function $8(t,e){return t=b2(t),qe(vo.count(Ln(t),t)+(Ln(t).getDay()===4),e,2)}function M8(t){return t.getDay()}function D8(t,e){return qe(Qc.count(Ln(t)-1,t),e,2)}function L8(t,e){return qe(t.getFullYear()%100,e,2)}function z8(t,e){return t=b2(t),qe(t.getFullYear()%100,e,2)}function B8(t,e){return qe(t.getFullYear()%1e4,e,4)}function q8(t,e){var r=t.getDay();return t=r>=4||r===0?vo(t):vo.ceil(t),qe(t.getFullYear()%1e4,e,4)}function U8(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+qe(e/60|0,"0",2)+qe(e%60,"0",2)}function aE(t,e){return qe(t.getUTCDate(),e,2)}function F8(t,e){return qe(t.getUTCHours(),e,2)}function W8(t,e){return qe(t.getUTCHours()%12||12,e,2)}function H8(t,e){return qe(1+Xd.count(zn(t),t),e,3)}function w2(t,e){return qe(t.getUTCMilliseconds(),e,3)}function V8(t,e){return w2(t,e)+"000"}function K8(t,e){return qe(t.getUTCMonth()+1,e,2)}function G8(t,e){return qe(t.getUTCMinutes(),e,2)}function X8(t,e){return qe(t.getUTCSeconds(),e,2)}function Y8(t){var e=t.getUTCDay();return e===0?7:e}function J8(t,e){return qe(Jd.count(zn(t)-1,t),e,2)}function _2(t){var e=t.getUTCDay();return e>=4||e===0?xo(t):xo.ceil(t)}function Q8(t,e){return t=_2(t),qe(xo.count(zn(t),t)+(zn(t).getUTCDay()===4),e,2)}function Z8(t){return t.getUTCDay()}function eq(t,e){return qe(Zc.count(zn(t)-1,t),e,2)}function tq(t,e){return qe(t.getUTCFullYear()%100,e,2)}function rq(t,e){return t=_2(t),qe(t.getUTCFullYear()%100,e,2)}function nq(t,e){return qe(t.getUTCFullYear()%1e4,e,4)}function iq(t,e){var r=t.getUTCDay();return t=r>=4||r===0?xo(t):xo.ceil(t),qe(t.getUTCFullYear()%1e4,e,4)}function aq(){return"+0000"}function oE(){return"%"}function sE(t){return+t}function lE(t){return Math.floor(+t/1e3)}var Ka,S2,j2;oq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oq(t){return Ka=o8(t),S2=Ka.format,Ka.parse,j2=Ka.utcFormat,Ka.utcParse,Ka}function sq(t){return new Date(t)}function lq(t){return t instanceof Date?+t:+new Date(+t)}function Kx(t,e,r,n,i,o,l,u,c,h){var y=Ix(),p=y.invert,g=y.domain,v=h(".%L"),_=h(":%S"),w=h("%I:%M"),b=h("%I %p"),k=h("%a %d"),E=h("%b %d"),O=h("%B"),P=h("%Y");function j(A){return(c(A)<A?v:u(A)<A?_:l(A)<A?w:o(A)<A?b:n(A)<A?i(A)<A?k:E:r(A)<A?O:P)(A)}return y.invert=function(A){return new Date(p(A))},y.domain=function(A){return arguments.length?g(Array.from(A,lq)):g().map(sq)},y.ticks=function(A){var T=g();return t(T[0],T[T.length-1],A??10)},y.tickFormat=function(A,T){return T==null?j:h(T)},y.nice=function(A){var T=g();return(!A||typeof A.range!="function")&&(A=e(T[0],T[T.length-1],A??10)),A?g(c2(T,A)):y},y.copy=function(){return Gl(y,Kx(t,e,r,n,i,o,l,u,c,h))},y}function uq(){return $r.apply(Kx(i8,a8,Ln,Hx,Yd,Xl,Fx,qx,Qi,S2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cq(){return $r.apply(Kx(r8,n8,zn,Vx,Jd,Xd,Wx,Ux,Qi,j2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qd(){var t=0,e=1,r,n,i,o,l=Yt,u=!1,c;function h(p){return p==null||isNaN(p=+p)?c:l(i===0?.5:(p=(o(p)-r)*i,u?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(p){return arguments.length?(u=!!p,h):u},h.interpolator=function(p){return arguments.length?(l=p,h):l};function y(p){return function(g){var v,_;return arguments.length?([v,_]=g,l=p(v,_),h):[l(0),l(1)]}}return h.range=y(qo),h.rangeRound=y(Nx),h.unknown=function(p){return arguments.length?(c=p,h):c},function(p){return o=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),h}}function Oi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function O2(){var t=ji(Qd()(Yt));return t.copy=function(){return Oi(t,O2())},Wn.apply(t,arguments)}function k2(){var t=Mx(Qd()).domain([1,10]);return t.copy=function(){return Oi(t,k2()).base(t.base())},Wn.apply(t,arguments)}function E2(){var t=Dx(Qd());return t.copy=function(){return Oi(t,E2()).constant(t.constant())},Wn.apply(t,arguments)}function Gx(){var t=Lx(Qd());return t.copy=function(){return Oi(t,Gx()).exponent(t.exponent())},Wn.apply(t,arguments)}function dq(){return Gx.apply(null,arguments).exponent(.5)}function A2(){var t=[],e=Yt;function r(n){if(n!=null&&!isNaN(n=+n))return e((Vl(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(bi),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>JB(t,o/n))},r.copy=function(){return A2(e).domain(t)},Wn.apply(r,arguments)}function Zd(){var t=0,e=.5,r=1,n=1,i,o,l,u,c,h=Yt,y,p=!1,g;function v(w){return isNaN(w=+w)?g:(w=.5+((w=+y(w))-o)*(n*w<n*o?u:c),h(p?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([t,e,r]=w,i=y(t=+t),o=y(e=+e),l=y(r=+r),u=i===o?0:.5/(o-i),c=o===l?0:.5/(l-o),n=o<i?-1:1,v):[t,e,r]},v.clamp=function(w){return arguments.length?(p=!!w,v):p},v.interpolator=function(w){return arguments.length?(h=w,v):h};function _(w){return function(b){var k,E,O;return arguments.length?([k,E,O]=b,h=S5(w,[k,E,O]),v):[h(0),h(.5),h(1)]}}return v.range=_(qo),v.rangeRound=_(Nx),v.unknown=function(w){return arguments.length?(g=w,v):g},function(w){return y=w,i=w(t),o=w(e),l=w(r),u=i===o?0:.5/(o-i),c=o===l?0:.5/(l-o),n=o<i?-1:1,v}}function P2(){var t=ji(Zd()(Yt));return t.copy=function(){return Oi(t,P2())},Wn.apply(t,arguments)}function T2(){var t=Mx(Zd()).domain([.1,1,10]);return t.copy=function(){return Oi(t,T2()).base(t.base())},Wn.apply(t,arguments)}function C2(){var t=Dx(Zd());return t.copy=function(){return Oi(t,C2()).constant(t.constant())},Wn.apply(t,arguments)}function Xx(){var t=Lx(Zd());return t.copy=function(){return Oi(t,Xx()).exponent(t.exponent())},Wn.apply(t,arguments)}function fq(){return Xx.apply(null,arguments).exponent(.5)}const uE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hl,scaleDiverging:P2,scaleDivergingLog:T2,scaleDivergingPow:Xx,scaleDivergingSqrt:fq,scaleDivergingSymlog:C2,scaleIdentity:u2,scaleImplicit:a0,scaleLinear:Yc,scaleLog:d2,scaleOrdinal:Px,scalePoint:Gs,scalePow:zx,scaleQuantile:p2,scaleQuantize:y2,scaleRadial:h2,scaleSequential:O2,scaleSequentialLog:k2,scaleSequentialPow:Gx,scaleSequentialQuantile:A2,scaleSequentialSqrt:dq,scaleSequentialSymlog:E2,scaleSqrt:V5,scaleSymlog:f2,scaleThreshold:m2,scaleTime:uq,scaleUtc:cq,tickFormat:l2},Symbol.toStringTag,{value:"Module"}));var Mg,cE;function N2(){if(cE)return Mg;cE=1;var t=Mo();function e(r,n,i){for(var o=-1,l=r.length;++o<l;){var u=r[o],c=n(u);if(c!=null&&(h===void 0?c===c&&!t(c):i(c,h)))var h=c,y=u}return y}return Mg=e,Mg}var Dg,dE;function hq(){if(dE)return Dg;dE=1;function t(e,r){return e>r}return Dg=t,Dg}var Lg,fE;function pq(){if(fE)return Lg;fE=1;var t=N2(),e=hq(),r=Bo();function n(i){return i&&i.length?t(i,r,e):void 0}return Lg=n,Lg}var yq=pq();const gi=Ge(yq);var zg,hE;function mq(){if(hE)return zg;hE=1;function t(e,r){return e<r}return zg=t,zg}var Bg,pE;function gq(){if(pE)return Bg;pE=1;var t=N2(),e=mq(),r=Bo();function n(i){return i&&i.length?t(i,r,e):void 0}return Bg=n,Bg}var vq=gq();const ef=Ge(vq);var qg,yE;function xq(){if(yE)return qg;yE=1;var t=dx(),e=Si(),r=qT(),n=or();function i(o,l){var u=n(o)?t:r;return u(o,e(l,3))}return qg=i,qg}var Ug,mE;function bq(){if(mE)return Ug;mE=1;var t=zT(),e=xq();function r(n,i){return t(e(n,i),1)}return Ug=r,Ug}var wq=bq();const _q=Ge(wq);var Fg,gE;function Sq(){if(gE)return Fg;gE=1;var t=jx();function e(r,n){return t(r,n)}return Fg=e,Fg}var jq=Sq();const bo=Ge(jq);var Uo=1e9,Oq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Jx,nt=!0,Ir="[DecimalError] ",na=Ir+"Invalid argument: ",Yx=Ir+"Exponent out of range: ",Fo=Math.floor,Hi=Math.pow,kq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gr,Tt=1e7,tt=7,I2=9007199254740991,ed=Fo(I2/tt),he={};he.absoluteValue=he.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};he.comparedTo=he.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};he.decimalPlaces=he.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*tt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};he.dividedBy=he.div=function(t){return $n(this,new this.constructor(t))};he.dividedToIntegerBy=he.idiv=function(t){var e=this,r=e.constructor;return Ke($n(e,new r(t),0,1),r.precision)};he.equals=he.eq=function(t){return!this.cmp(t)};he.exponent=function(){return vt(this)};he.greaterThan=he.gt=function(t){return this.cmp(t)>0};he.greaterThanOrEqualTo=he.gte=function(t){return this.cmp(t)>=0};he.isInteger=he.isint=function(){return this.e>this.d.length-2};he.isNegative=he.isneg=function(){return this.s<0};he.isPositive=he.ispos=function(){return this.s>0};he.isZero=function(){return this.s===0};he.lessThan=he.lt=function(t){return this.cmp(t)<0};he.lessThanOrEqualTo=he.lte=function(t){return this.cmp(t)<1};he.logarithm=he.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(gr))throw Error(Ir+"NaN");if(r.s<1)throw Error(Ir+(r.s?"NaN":"-Infinity"));return r.eq(gr)?new n(0):(nt=!1,e=$n(vl(r,o),vl(t,o),o),nt=!0,Ke(e,i))};he.minus=he.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?M2(e,t):R2(e,(t.s=-t.s,t))};he.modulo=he.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Ir+"NaN");return r.s?(nt=!1,e=$n(r,t,0,1).times(t),nt=!0,r.minus(e)):Ke(new n(r),i)};he.naturalExponential=he.exp=function(){return $2(this)};he.naturalLogarithm=he.ln=function(){return vl(this)};he.negated=he.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};he.plus=he.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?R2(e,t):M2(e,(t.s=-t.s,t))};he.precision=he.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(na+t);if(e=vt(i)+1,n=i.d.length-1,r=n*tt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};he.squareRoot=he.sqrt=function(){var t,e,r,n,i,o,l,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Ir+"NaN")}for(t=vt(u),nt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=dn(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Fo((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=l=r+3;;)if(o=n,n=o.plus($n(u,o,l+2)).times(.5),dn(o.d).slice(0,l)===(e=dn(n.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Ke(o,r+1,0),o.times(o).eq(u)){n=o;break}}else if(e!="9999")break;l+=4}return nt=!0,Ke(n,r)};he.times=he.mul=function(t){var e,r,n,i,o,l,u,c,h,y=this,p=y.constructor,g=y.d,v=(t=new p(t)).d;if(!y.s||!t.s)return new p(0);for(t.s*=y.s,r=y.e+t.e,c=g.length,h=v.length,c<h&&(o=g,g=v,v=o,l=c,c=h,h=l),o=[],l=c+h,n=l;n--;)o.push(0);for(n=h;--n>=0;){for(e=0,i=c+n;i>n;)u=o[i]+v[n]*g[i-n-1]+e,o[i--]=u%Tt|0,e=u/Tt|0;o[i]=(o[i]+e)%Tt|0}for(;!o[--l];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,nt?Ke(t,p.precision):t};he.toDecimalPlaces=he.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(yn(t,0,Uo),e===void 0?e=n.rounding:yn(e,0,8),Ke(r,t+vt(r)+1,e))};he.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=sa(n,!0):(yn(t,0,Uo),e===void 0?e=i.rounding:yn(e,0,8),n=Ke(new i(n),t+1,e),r=sa(n,!0,t+1)),r};he.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?sa(i):(yn(t,0,Uo),e===void 0?e=o.rounding:yn(e,0,8),n=Ke(new o(i),t+vt(i)+1,e),r=sa(n.abs(),!1,t+vt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};he.toInteger=he.toint=function(){var t=this,e=t.constructor;return Ke(new e(t),vt(t)+1,e.rounding)};he.toNumber=function(){return+this};he.toPower=he.pow=function(t){var e,r,n,i,o,l,u=this,c=u.constructor,h=12,y=+(t=new c(t));if(!t.s)return new c(gr);if(u=new c(u),!u.s){if(t.s<1)throw Error(Ir+"Infinity");return u}if(u.eq(gr))return u;if(n=c.precision,t.eq(gr))return Ke(u,n);if(e=t.e,r=t.d.length-1,l=e>=r,o=u.s,l){if((r=y<0?-y:y)<=I2){for(i=new c(gr),e=Math.ceil(n/tt+4),nt=!1;r%2&&(i=i.times(u),xE(i.d,e)),r=Fo(r/2),r!==0;)u=u.times(u),xE(u.d,e);return nt=!0,t.s<0?new c(gr).div(i):Ke(i,n)}}else if(o<0)throw Error(Ir+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,nt=!1,i=t.times(vl(u,n+h)),nt=!0,i=$2(i),i.s=o,i};he.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=vt(i),n=sa(i,r<=o.toExpNeg||r>=o.toExpPos)):(yn(t,1,Uo),e===void 0?e=o.rounding:yn(e,0,8),i=Ke(new o(i),t,e),r=vt(i),n=sa(i,t<=r||r<=o.toExpNeg,t)),n};he.toSignificantDigits=he.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(yn(t,1,Uo),e===void 0?e=n.rounding:yn(e,0,8)),Ke(new n(r),t,e)};he.toString=he.valueOf=he.val=he.toJSON=he[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=vt(t),r=t.constructor;return sa(t,e<=r.toExpNeg||e>=r.toExpPos)};function R2(t,e){var r,n,i,o,l,u,c,h,y=t.constructor,p=y.precision;if(!t.s||!e.s)return e.s||(e=new y(t)),nt?Ke(e,p):e;if(c=t.d,h=e.d,l=t.e,i=e.e,c=c.slice(),o=l-i,o){for(o<0?(n=c,o=-o,u=h.length):(n=h,i=l,u=c.length),l=Math.ceil(p/tt),u=l>u?l+1:u+1,o>u&&(o=u,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(u=c.length,o=h.length,u-o<0&&(o=u,n=h,h=c,c=n),r=0;o;)r=(c[--o]=c[o]+h[o]+r)/Tt|0,c[o]%=Tt;for(r&&(c.unshift(r),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,nt?Ke(e,p):e}function yn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(na+t)}function dn(t){var e,r,n,i=t.length-1,o="",l=t[0];if(i>0){for(o+=l,e=1;e<i;e++)n=t[e]+"",r=tt-n.length,r&&(o+=pi(r)),o+=n;l=t[e],n=l+"",r=tt-n.length,r&&(o+=pi(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var $n=(function(){function t(n,i){var o,l=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+l,n[u]=o%Tt|0,l=o/Tt|0;return l&&n.unshift(l),n}function e(n,i,o,l){var u,c;if(o!=l)c=o>l?1:-1;else for(u=c=0;u<o;u++)if(n[u]!=i[u]){c=n[u]>i[u]?1:-1;break}return c}function r(n,i,o){for(var l=0;o--;)n[o]-=l,l=n[o]<i[o]?1:0,n[o]=l*Tt+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,l){var u,c,h,y,p,g,v,_,w,b,k,E,O,P,j,A,T,N,$=n.constructor,V=n.s==i.s?1:-1,F=n.d,R=i.d;if(!n.s)return new $(n);if(!i.s)throw Error(Ir+"Division by zero");for(c=n.e-i.e,T=R.length,j=F.length,v=new $(V),_=v.d=[],h=0;R[h]==(F[h]||0);)++h;if(R[h]>(F[h]||0)&&--c,o==null?E=o=$.precision:l?E=o+(vt(n)-vt(i))+1:E=o,E<0)return new $(0);if(E=E/tt+2|0,h=0,T==1)for(y=0,R=R[0],E++;(h<j||y)&&E--;h++)O=y*Tt+(F[h]||0),_[h]=O/R|0,y=O%R|0;else{for(y=Tt/(R[0]+1)|0,y>1&&(R=t(R,y),F=t(F,y),T=R.length,j=F.length),P=T,w=F.slice(0,T),b=w.length;b<T;)w[b++]=0;N=R.slice(),N.unshift(0),A=R[0],R[1]>=Tt/2&&++A;do y=0,u=e(R,w,T,b),u<0?(k=w[0],T!=b&&(k=k*Tt+(w[1]||0)),y=k/A|0,y>1?(y>=Tt&&(y=Tt-1),p=t(R,y),g=p.length,b=w.length,u=e(p,w,g,b),u==1&&(y--,r(p,T<g?N:R,g))):(y==0&&(u=y=1),p=R.slice()),g=p.length,g<b&&p.unshift(0),r(w,p,b),u==-1&&(b=w.length,u=e(R,w,T,b),u<1&&(y++,r(w,T<b?N:R,b))),b=w.length):u===0&&(y++,w=[0]),_[h++]=y,u&&w[0]?w[b++]=F[P]||0:(w=[F[P]],b=1);while((P++<j||w[0]!==void 0)&&E--)}return _[0]||_.shift(),v.e=c,Ke(v,l?o+vt(v)+1:o)}})();function $2(t,e){var r,n,i,o,l,u,c=0,h=0,y=t.constructor,p=y.precision;if(vt(t)>16)throw Error(Yx+vt(t));if(!t.s)return new y(gr);for(nt=!1,u=p,l=new y(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(n=Math.log(Hi(2,h))/Math.LN10*2+5|0,u+=n,r=i=o=new y(gr),y.precision=u;;){if(i=Ke(i.times(t),u),r=r.times(++c),l=o.plus($n(i,r,u)),dn(l.d).slice(0,u)===dn(o.d).slice(0,u)){for(;h--;)o=Ke(o.times(o),u);return y.precision=p,e==null?(nt=!0,Ke(o,p)):o}o=l}}function vt(t){for(var e=t.e*tt,r=t.d[0];r>=10;r/=10)e++;return e}function Wg(t,e,r){if(e>t.LN10.sd())throw nt=!0,r&&(t.precision=r),Error(Ir+"LN10 precision limit exceeded");return Ke(new t(t.LN10),e)}function pi(t){for(var e="";t--;)e+="0";return e}function vl(t,e){var r,n,i,o,l,u,c,h,y,p=1,g=10,v=t,_=v.d,w=v.constructor,b=w.precision;if(v.s<1)throw Error(Ir+(v.s?"NaN":"-Infinity"));if(v.eq(gr))return new w(0);if(e==null?(nt=!1,h=b):h=e,v.eq(10))return e==null&&(nt=!0),Wg(w,h);if(h+=g,w.precision=h,r=dn(_),n=r.charAt(0),o=vt(v),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=dn(v.d),n=r.charAt(0),p++;o=vt(v),n>1?(v=new w("0."+r),o++):v=new w(n+"."+r.slice(1))}else return c=Wg(w,h+2,b).times(o+""),v=vl(new w(n+"."+r.slice(1)),h-g).plus(c),w.precision=b,e==null?(nt=!0,Ke(v,b)):v;for(u=l=v=$n(v.minus(gr),v.plus(gr),h),y=Ke(v.times(v),h),i=3;;){if(l=Ke(l.times(y),h),c=u.plus($n(l,new w(i),h)),dn(c.d).slice(0,h)===dn(u.d).slice(0,h))return u=u.times(2),o!==0&&(u=u.plus(Wg(w,h+2,b).times(o+""))),u=$n(u,new w(p),h),w.precision=b,e==null?(nt=!0,Ke(u,b)):u;u=c,i+=2}}function vE(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Fo(r/tt),t.d=[],n=(r+1)%tt,r<0&&(n+=tt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=tt;n<i;)t.d.push(+e.slice(n,n+=tt));e=e.slice(n),n=tt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),nt&&(t.e>ed||t.e<-ed))throw Error(Yx+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ke(t,e,r){var n,i,o,l,u,c,h,y,p=t.d;for(l=1,o=p[0];o>=10;o/=10)l++;if(n=e-l,n<0)n+=tt,i=e,h=p[y=0];else{if(y=Math.ceil((n+1)/tt),o=p.length,y>=o)return t;for(h=o=p[y],l=1;o>=10;o/=10)l++;n%=tt,i=n-tt+l}if(r!==void 0&&(o=Hi(10,l-i-1),u=h/o%10|0,c=e<0||p[y+1]!==void 0||h%o,c=r<4?(u||c)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||c||r==6&&(n>0?i>0?h/Hi(10,l-i):0:p[y-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return c?(o=vt(t),p.length=1,e=e-o-1,p[0]=Hi(10,(tt-e%tt)%tt),t.e=Fo(-e/tt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=y,o=1,y--):(p.length=y+1,o=Hi(10,tt-n),p[y]=i>0?(h/Hi(10,l-i)%Hi(10,i)|0)*o:0),c)for(;;)if(y==0){(p[0]+=o)==Tt&&(p[0]=1,++t.e);break}else{if(p[y]+=o,p[y]!=Tt)break;p[y--]=0,o=1}for(n=p.length;p[--n]===0;)p.pop();if(nt&&(t.e>ed||t.e<-ed))throw Error(Yx+vt(t));return t}function M2(t,e){var r,n,i,o,l,u,c,h,y,p,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),nt?Ke(e,v):e;if(c=t.d,p=e.d,n=e.e,h=t.e,c=c.slice(),l=h-n,l){for(y=l<0,y?(r=c,l=-l,u=p.length):(r=p,n=h,u=c.length),i=Math.max(Math.ceil(v/tt),u)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=c.length,u=p.length,y=i<u,y&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){y=c[i]<p[i];break}l=0}for(y&&(r=c,c=p,p=r,e.s=-e.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>l;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=Tt-1;--c[o],c[i]+=Tt}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,nt?Ke(e,v):e):new g(0)}function sa(t,e,r){var n,i=vt(t),o=dn(t.d),l=o.length;return e?(r&&(n=r-l)>0?o=o.charAt(0)+"."+o.slice(1)+pi(n):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+pi(-i-1)+o,r&&(n=r-l)>0&&(o+=pi(n))):i>=l?(o+=pi(i+1-l),r&&(n=r-i-1)>0&&(o=o+"."+pi(n))):((n=i+1)<l&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(o+="."),o+=pi(n))),t.s<0?"-"+o:o}function xE(t,e){if(t.length>e)return t.length=e,!0}function D2(t){var e,r,n;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(na+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return vE(l,o.toString())}else if(typeof o!="string")throw Error(na+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,kq.test(o))vE(l,o);else throw Error(na+o)}if(i.prototype=he,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=D2,i.config=i.set=Eq,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Eq(t){if(!t||typeof t!="object")throw Error(Ir+"Object expected");var e,r,n,i=["precision",1,Uo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Fo(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(na+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(na+r+": "+n);return this}var Jx=D2(Oq);gr=new Jx(1);const He=Jx;function Aq(t){return Nq(t)||Cq(t)||Tq(t)||Pq()}function Pq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tq(t,e){if(t){if(typeof t=="string")return u0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u0(t,e)}}function Cq(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Nq(t){if(Array.isArray(t))return u0(t)}function u0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Iq=function(e){return e},L2={},z2=function(e){return e===L2},bE=function(e){return function r(){return arguments.length===0||arguments.length===1&&z2(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Rq=function t(e,r){return e===1?r:bE(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var l=i.filter(function(u){return u!==L2}).length;return l>=e?r.apply(void 0,i):t(e-l,bE(function(){for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];var y=i.map(function(p){return z2(p)?c.shift():p});return r.apply(void 0,Aq(y).concat(c))}))})},tf=function(e){return Rq(e.length,e)},c0=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},$q=tf(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Mq=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Iq;var i=r.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce(function(u,c){return c(u)},o.apply(void 0,arguments))}},d0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},B2=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r&&o.every(function(u,c){return u===r[c]})||(r=o,n=e.apply(void 0,o)),n}};function Dq(t){var e;return t===0?e=1:e=Math.floor(new He(t).abs().log(10).toNumber())+1,e}function Lq(t,e,r){for(var n=new He(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var zq=tf(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Bq=tf(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),qq=tf(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const rf={rangeStep:Lq,getDigitCount:Dq,interpolateNumber:zq,uninterpolateNumber:Bq,uninterpolateTruncation:qq};function f0(t){return Wq(t)||Fq(t)||q2(t)||Uq()}function Uq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fq(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Wq(t){if(Array.isArray(t))return h0(t)}function xl(t,e){return Kq(t)||Vq(t,e)||q2(t,e)||Hq()}function Hq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q2(t,e){if(t){if(typeof t=="string")return h0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h0(t,e)}}function h0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vq(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var l=t[Symbol.iterator](),u;!(n=(u=l.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,o=c}finally{try{!n&&l.return!=null&&l.return()}finally{if(i)throw o}}return r}}function Kq(t){if(Array.isArray(t))return t}function U2(t){var e=xl(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function F2(t,e,r){if(t.lte(0))return new He(0);var n=rf.getDigitCount(t.toNumber()),i=new He(10).pow(n),o=t.div(i),l=n!==1?.05:.1,u=new He(Math.ceil(o.div(l).toNumber())).add(r).mul(l),c=u.mul(i);return e?c:new He(Math.ceil(c))}function Gq(t,e,r){var n=1,i=new He(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new He(10).pow(rf.getDigitCount(t)-1),i=new He(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new He(Math.floor(t)))}else t===0?i=new He(Math.floor((e-1)/2)):r||(i=new He(Math.floor(t)));var l=Math.floor((e-1)/2),u=Mq($q(function(c){return i.add(new He(c-l).mul(n)).toNumber()}),c0);return u(0,e)}function W2(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new He(0),tickMin:new He(0),tickMax:new He(0)};var o=F2(new He(e).sub(t).div(r-1),n,i),l;t<=0&&e>=0?l=new He(0):(l=new He(t).add(e).div(2),l=l.sub(new He(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),c=Math.ceil(new He(e).sub(l).div(o).toNumber()),h=u+c+1;return h>r?W2(t,e,r,n,i+1):(h<r&&(c=e>0?c+(r-h):c,u=e>0?u:u+(r-h)),{step:o,tickMin:l.sub(new He(u).mul(o)),tickMax:l.add(new He(c).mul(o))})}function Xq(t){var e=xl(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),u=U2([r,n]),c=xl(u,2),h=c[0],y=c[1];if(h===-1/0||y===1/0){var p=y===1/0?[h].concat(f0(c0(0,i-1).map(function(){return 1/0}))):[].concat(f0(c0(0,i-1).map(function(){return-1/0})),[y]);return r>n?d0(p):p}if(h===y)return Gq(h,i,o);var g=W2(h,y,l,o),v=g.step,_=g.tickMin,w=g.tickMax,b=rf.rangeStep(_,w.add(new He(.1).mul(v)),v);return r>n?d0(b):b}function Yq(t,e){var r=xl(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=U2([n,i]),u=xl(l,2),c=u[0],h=u[1];if(c===-1/0||h===1/0)return[n,i];if(c===h)return[c];var y=Math.max(e,2),p=F2(new He(h).sub(c).div(y-1),o,0),g=[].concat(f0(rf.rangeStep(new He(c),new He(h).sub(new He(.99).mul(p)),p)),[h]);return n>i?d0(g):g}var Jq=B2(Xq),Qq=B2(Yq),Zq="Invariant failed";function la(t,e){throw new Error(Zq)}var eU=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function wo(t){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(t)}function td(){return td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},td.apply(this,arguments)}function tU(t,e){return aU(t)||iU(t,e)||nU(t,e)||rU()}function rU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nU(t,e){if(t){if(typeof t=="string")return wE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wE(t,e)}}function wE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iU(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],c=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(y){h=!0,i=y}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function aU(t){if(Array.isArray(t))return t}function oU(t,e){if(t==null)return{};var r=sU(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K2(n.key),n)}}function cU(t,e,r){return e&&uU(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dU(t,e,r){return e=rd(e),fU(t,H2()?Reflect.construct(e,r||[],rd(t).constructor):e.apply(t,r))}function fU(t,e){if(e&&(wo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hU(t)}function hU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H2=function(){return!!t})()}function rd(t){return rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rd(t)}function pU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p0(t,e)}function p0(t,e){return p0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p0(t,e)}function V2(t,e,r){return e=K2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K2(t){var e=yU(t,"string");return wo(e)=="symbol"?e:e+""}function yU(t,e){if(wo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yl=(function(t){function e(){return lU(this,e),dU(this,e,arguments)}return pU(e,t),cU(e,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,l=n.width,u=n.dataKey,c=n.data,h=n.dataPointFormatter,y=n.xAxis,p=n.yAxis,g=oU(n,eU),v=Ce(g,!1);this.props.direction==="x"&&y.type!=="number"&&la();var _=c.map(function(w){var b=h(w,u),k=b.x,E=b.y,O=b.value,P=b.errorVal;if(!P)return null;var j=[],A,T;if(Array.isArray(P)){var N=tU(P,2);A=N[0],T=N[1]}else A=T=P;if(o==="vertical"){var $=y.scale,V=E+i,F=V+l,R=V-l,H=$(O-A),L=$(O+T);j.push({x1:L,y1:F,x2:L,y2:R}),j.push({x1:H,y1:V,x2:L,y2:V}),j.push({x1:H,y1:F,x2:H,y2:R})}else if(o==="horizontal"){var M=p.scale,X=k+i,Z=X-l,G=X+l,te=M(O-A),Q=M(O+T);j.push({x1:Z,y1:Q,x2:G,y2:Q}),j.push({x1:X,y1:te,x2:X,y2:Q}),j.push({x1:Z,y1:te,x2:G,y2:te})}return q.createElement(Qe,td({className:"recharts-errorBar",key:"bar-".concat(j.map(function(I){return"".concat(I.x1,"-").concat(I.x2,"-").concat(I.y1,"-").concat(I.y2)}))},v),j.map(function(I){return q.createElement("line",td({},I,{key:"line-".concat(I.x1,"-").concat(I.x2,"-").concat(I.y1,"-").concat(I.y2)}))}))});return q.createElement(Qe,{className:"recharts-errorBars"},_)}}])})(q.Component);V2(Yl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});V2(Yl,"displayName","ErrorBar");function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function _E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(r),!0).forEach(function(n){mU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mU(t,e,r){return e=gU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gU(t){var e=vU(t,"string");return bl(e)=="symbol"?e:e+""}function vU(t,e){if(bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G2=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,l=pr(r,ta);if(!l)return null;var u=ta.defaultProps,c=u!==void 0?Ui(Ui({},u),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:o==="children"?h=(n||[]).reduce(function(y,p){var g=p.item,v=p.props,_=v.sectors||v.data||[];return y.concat(_.map(function(w){return{type:l.props.iconType||g.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):h=(n||[]).map(function(y){var p=y.item,g=p.type.defaultProps,v=g!==void 0?Ui(Ui({},g),p.props):{},_=v.dataKey,w=v.name,b=v.legendType,k=v.hide;return{inactive:k,dataKey:_,type:c.iconType||b||"square",color:Qx(p),value:w||_,payload:v}}),Ui(Ui(Ui({},c),ta.getWithHeight(l,i)),{},{payload:h,item:l})};function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function SE(t){return _U(t)||wU(t)||bU(t)||xU()}function xU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bU(t,e){if(t){if(typeof t=="string")return y0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y0(t,e)}}function wU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _U(t){if(Array.isArray(t))return y0(t)}function y0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(r),!0).forEach(function(n){so(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function so(t,e,r){return e=SU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SU(t){var e=jU(t,"string");return wl(e)=="symbol"?e:e+""}function jU(t,e){if(wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jt(t,e,r){return Ne(t)||Ne(e)?r:jt(e)?Tr(t,e,r):Te(e)?e(t):r}function Xs(t,e,r,n){var i=_q(t,function(u){return Jt(u,e)});if(r==="number"){var o=i.filter(function(u){return ue(u)||parseFloat(u)});return o.length?[ef(o),gi(o)]:[1/0,-1/0]}var l=n?i.filter(function(u){return!Ne(u)}):i;return l.map(function(u){return jt(u)||u instanceof Date?u:""})}var OU=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,h=0;h<u;h++){var y=h>0?i[h-1].coordinate:i[u-1].coordinate,p=i[h].coordinate,g=h>=u-1?i[0].coordinate:i[h+1].coordinate,v=void 0;if(Zr(p-y)!==Zr(g-p)){var _=[];if(Zr(g-p)===Zr(c[1]-c[0])){v=g;var w=p+c[1]-c[0];_[0]=Math.min(w,(w+y)/2),_[1]=Math.max(w,(w+y)/2)}else{v=y;var b=g+c[1]-c[0];_[0]=Math.min(p,(b+p)/2),_[1]=Math.max(p,(b+p)/2)}var k=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>k[0]&&e<=k[1]||e>=_[0]&&e<=_[1]){l=i[h].index;break}}else{var E=Math.min(y,g),O=Math.max(y,g);if(e>(E+p)/2&&e<=(O+p)/2){l=i[h].index;break}}}else for(var P=0;P<u;P++)if(P===0&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P>0&&P<u-1&&e>(n[P].coordinate+n[P-1].coordinate)/2&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P===u-1&&e>(n[P].coordinate+n[P-1].coordinate)/2){l=n[P].index;break}return l},Qx=function(e){var r,n=e,i=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?dt(dt({},e.type.defaultProps),e.props):e.props,l=o.stroke,u=o.fill,c;switch(i){case"Line":c=l;break;case"Area":case"Radar":c=l&&l!=="none"?l:u;break;default:c=u;break}return c},kU=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var l={},u=Object.keys(o),c=0,h=u.length;c<h;c++)for(var y=o[u[c]].stackGroups,p=Object.keys(y),g=0,v=p.length;g<v;g++){var _=y[p[g]],w=_.items,b=_.cateAxisId,k=w.filter(function(T){return In(T.type).indexOf("Bar")>=0});if(k&&k.length){var E=k[0].type.defaultProps,O=E!==void 0?dt(dt({},E),k[0].props):k[0].props,P=O.barSize,j=O[b];l[j]||(l[j]=[]);var A=Ne(P)?r:P;l[j].push({item:k[0],stackList:k.slice(1),barSize:Ne(A)?void 0:oa(A,n,0)})}}return l},EU=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,l=o===void 0?[]:o,u=e.maxBarSize,c=l.length;if(c<1)return null;var h=oa(r,i,0,!0),y,p=[];if(l[0].barSize===+l[0].barSize){var g=!1,v=i/c,_=l.reduce(function(P,j){return P+j.barSize||0},0);_+=(c-1)*h,_>=i&&(_-=(c-1)*h,h=0),_>=i&&v>0&&(g=!0,v*=.9,_=c*v);var w=(i-_)/2>>0,b={offset:w-h,size:0};y=l.reduce(function(P,j){var A={item:j.item,position:{offset:b.offset+b.size+h,size:g?v:j.barSize}},T=[].concat(SE(P),[A]);return b=T[T.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){T.push({item:N,position:b})}),T},p)}else{var k=oa(n,i,0,!0);i-2*k-(c-1)*h<=0&&(h=0);var E=(i-2*k-(c-1)*h)/c;E>1&&(E>>=0);var O=u===+u?Math.min(E,u):E;y=l.reduce(function(P,j,A){var T=[].concat(SE(P),[{item:j.item,position:{offset:k+(E+h)*A+(E-O)/2,size:O}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){T.push({item:N,position:T[T.length-1].position})}),T},p)}return y},AU=function(e,r,n,i){var o=n.children,l=n.width,u=n.margin,c=l-(u.left||0)-(u.right||0),h=G2({children:o,legendWidth:c});if(h){var y=i||{},p=y.width,g=y.height,v=h.align,_=h.verticalAlign,w=h.layout;if((w==="vertical"||w==="horizontal"&&_==="middle")&&v!=="center"&&ue(e[v]))return dt(dt({},e),{},so({},v,e[v]+(p||0)));if((w==="horizontal"||w==="vertical"&&v==="center")&&_!=="middle"&&ue(e[_]))return dt(dt({},e),{},so({},_,e[_]+(g||0)))}return e},PU=function(e,r,n){return Ne(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},X2=function(e,r,n,i,o){var l=r.props.children,u=Cr(l,Yl).filter(function(h){return PU(i,o,h.props.direction)});if(u&&u.length){var c=u.map(function(h){return h.props.dataKey});return e.reduce(function(h,y){var p=Jt(y,n);if(Ne(p))return h;var g=Array.isArray(p)?[ef(p),gi(p)]:[p,p],v=c.reduce(function(_,w){var b=Jt(y,w,0),k=g[0]-Math.abs(Array.isArray(b)?b[0]:b),E=g[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(k,_[0]),Math.max(E,_[1])]},[1/0,-1/0]);return[Math.min(v[0],h[0]),Math.max(v[1],h[1])]},[1/0,-1/0])}return null},TU=function(e,r,n,i,o){var l=r.map(function(u){return X2(e,u,n,o,i)}).filter(function(u){return!Ne(u)});return l&&l.length?l.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},Y2=function(e,r,n,i,o){var l=r.map(function(c){var h=c.props.dataKey;return n==="number"&&h&&X2(e,c,h,i)||Xs(e,h,n,o)});if(n==="number")return l.reduce(function(c,h){return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);var u={};return l.reduce(function(c,h){for(var y=0,p=h.length;y<p;y++)u[h[y]]||(u[h[y]]=!0,c.push(h[y]));return c},[])},J2=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Q2=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var o,l,u=e.map(function(c){return c.coordinate===r&&(o=!0),c.coordinate===n&&(l=!0),c.coordinate});return o||u.push(r),l||u.push(n),u},Nn=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,l=e.type,u=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(r||n)&&l==="category"&&i.bandwidth?i.bandwidth()/c:0;if(h=e.axisType==="angleAxis"&&u?.length>=2?Zr(u[0]-u[1])*2*h:h,r&&(e.ticks||e.niceTicks)){var y=(e.ticks||e.niceTicks).map(function(p){var g=o?o.indexOf(p):p;return{coordinate:i(g)+h,value:p,offset:h}});return y.filter(function(p){return!Lo(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,g){return{coordinate:i(p)+h,value:p,index:g,offset:h}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+h,value:p,offset:h}}):i.domain().map(function(p,g){return{coordinate:i(p)+h,value:o?o[p]:p,index:g,offset:h}})},Hg=new WeakMap,bc=function(e,r){if(typeof r!="function")return e;Hg.has(e)||Hg.set(e,new WeakMap);var n=Hg.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},CU=function(e,r,n){var i=e.scale,o=e.type,l=e.layout,u=e.axisType;if(i==="auto")return l==="radial"&&u==="radiusAxis"?{scale:hl(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:Yc(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Gs(),realScaleType:"point"}:o==="category"?{scale:hl(),realScaleType:"band"}:{scale:Yc(),realScaleType:"linear"};if(aa(i)){var c="scale".concat(qd(i));return{scale:(uE[c]||Gs)(),realScaleType:uE[c]?c:"point"}}return Te(i)?{scale:i}:{scale:Gs(),realScaleType:"point"}},OE=1e-4,NU=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-OE,l=Math.max(i[0],i[1])+OE,u=e(r[0]),c=e(r[n-1]);(u<o||u>l||c<o||c>l)&&e.domain([r[0],r[n-1]])}},IU=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},RU=function(e,r){if(!r||r.length!==2||!ue(r[0])||!ue(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!ue(e[0])||e[0]<n)&&(o[0]=n),(!ue(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},$U=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,l=0,u=0;u<r;++u){var c=Lo(e[u][n][1])?e[u][n][0]:e[u][n][1];c>=0?(e[u][n][0]=o,e[u][n][1]=o+c,o=e[u][n][1]):(e[u][n][0]=l,e[u][n][1]=l+c,l=e[u][n][1])}},MU=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,l=0;l<r;++l){var u=Lo(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=o,e[l][n][1]=o+u,o=e[l][n][1]):(e[l][n][0]=0,e[l][n][1]=0)}},DU={sign:$U,expand:x3,none:fo,silhouette:b3,wiggle:w3,positive:MU},LU=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),o=DU[n],l=v3().keys(i).value(function(u,c){return+Jt(u,c,0)}).order(Hv).offset(o);return l(e)},zU=function(e,r,n,i,o,l){if(!e)return null;var u=l?r.reverse():r,c={},h=u.reduce(function(p,g){var v,_=(v=g.type)!==null&&v!==void 0&&v.defaultProps?dt(dt({},g.type.defaultProps),g.props):g.props,w=_.stackId,b=_.hide;if(b)return p;var k=_[n],E=p[k]||{hasStack:!1,stackGroups:{}};if(jt(w)){var O=E.stackGroups[w]||{numericAxisId:n,cateAxisId:i,items:[]};O.items.push(g),E.hasStack=!0,E.stackGroups[w]=O}else E.stackGroups[zo("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[g]};return dt(dt({},p),{},so({},k,E))},c),y={};return Object.keys(h).reduce(function(p,g){var v=h[g];if(v.hasStack){var _={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(w,b){var k=v.stackGroups[b];return dt(dt({},w),{},so({},b,{numericAxisId:n,cateAxisId:i,items:k.items,stackedData:LU(e,k.items,o)}))},_)}return dt(dt({},p),{},so({},g,v))},y)},BU=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,l=r.originalDomain,u=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=e.domain();if(!h.length)return null;var y=Jq(h,o,u);return e.domain([ef(y),gi(y)]),{niceTicks:y}}if(o&&i==="number"){var p=e.domain(),g=Qq(p,o,u);return{niceTicks:g}}return null};function nd(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,o=t.index,l=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ne(i[e.dataKey])){var u=Pc(r,"value",i[e.dataKey]);if(u)return u.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var c=Jt(i,Ne(l)?e.dataKey:l);return Ne(c)?null:e.scale(c)}var kE=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,l=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var c=Jt(l,r.dataKey,r.domain[u]);return Ne(c)?null:r.scale(c)-o/2+i},qU=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},UU=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?dt(dt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(jt(o)){var l=r[o];if(l){var u=l.items.indexOf(e);return u>=0?l.stackedData[u]:null}}return null},FU=function(e){return e.reduce(function(r,n){return[ef(n.concat([r[0]]).filter(ue)),gi(n.concat([r[1]]).filter(ue))]},[1/0,-1/0])},Z2=function(e,r,n){return Object.keys(e).reduce(function(i,o){var l=e[o],u=l.stackedData,c=u.reduce(function(h,y){var p=FU(y.slice(r,n+1));return[Math.min(h[0],p[0]),Math.max(h[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},EE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,m0=function(e,r,n){if(Te(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ue(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(EE.test(e[0])){var o=+EE.exec(e[0])[1];i[0]=r[0]-o}else Te(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ue(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(AE.test(e[1])){var l=+AE.exec(e[1])[1];i[1]=r[1]+l}else Te(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},id=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=kx(r,function(p){return p.coordinate}),l=1/0,u=1,c=o.length;u<c;u++){var h=o[u],y=o[u-1];l=Math.min((h.coordinate||0)-(y.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},PE=function(e,r,n){return!e||!e.length||bo(e,Tr(n,"type.defaultProps.domain"))?r:e},eC=function(e,r){var n=e.type.defaultProps?dt(dt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,o=n.name,l=n.unit,u=n.formatter,c=n.tooltipType,h=n.chartType,y=n.hide;return dt(dt({},Ce(e,!1)),{},{dataKey:i,unit:l,formatter:u,name:o||i,color:Qx(e),value:Jt(r,i),type:c,payload:r,chartType:h,hide:y})};function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function TE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TE(Object(r),!0).forEach(function(n){WU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WU(t,e,r){return e=HU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HU(t){var e=VU(t,"string");return _l(e)=="symbol"?e:e+""}function VU(t,e){if(_l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ad=Math.PI/180,KU=function(e){return e*180/Math.PI},zt=function(e,r,n,i){return{x:e+Math.cos(-ad*i)*n,y:r+Math.sin(-ad*i)*n}},GU=function(e,r){var n=e.x,i=e.y,o=r.x,l=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-l,2))},XU=function(e,r){var n=e.x,i=e.y,o=r.cx,l=r.cy,u=GU({x:n,y:i},{x:o,y:l});if(u<=0)return{radius:u};var c=(n-o)/u,h=Math.acos(c);return i>l&&(h=2*Math.PI-h),{radius:u,angle:KU(h),angleInRadian:h}},YU=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),l=Math.min(i,o);return{startAngle:r-l*360,endAngle:n-l*360}},JU=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),l=Math.floor(i/360),u=Math.min(o,l);return e+u*360},NE=function(e,r){var n=e.x,i=e.y,o=XU({x:n,y:i},r),l=o.radius,u=o.angle,c=r.innerRadius,h=r.outerRadius;if(l<c||l>h)return!1;if(l===0)return!0;var y=YU(r),p=y.startAngle,g=y.endAngle,v=u,_;if(p<=g){for(;v>g;)v-=360;for(;v<p;)v+=360;_=v>=p&&v<=g}else{for(;v>p;)v-=360;for(;v<g;)v+=360;_=v>=g&&v<=p}return _?CE(CE({},r),{},{radius:l,angle:JU(v,r)}):null};function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}var QU=["offset"];function ZU(t){return nF(t)||rF(t)||tF(t)||eF()}function eF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tF(t,e){if(t){if(typeof t=="string")return g0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g0(t,e)}}function rF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nF(t){if(Array.isArray(t))return g0(t)}function g0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iF(t,e){if(t==null)return{};var r=aF(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aF(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(r),!0).forEach(function(n){oF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oF(t,e,r){return e=sF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sF(t){var e=lF(t,"string");return Sl(e)=="symbol"?e:e+""}function lF(t,e){if(Sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jl.apply(this,arguments)}var uF=function(e){var r=e.value,n=e.formatter,i=Ne(e.children)?r:e.children;return Te(n)?n(i):i},cF=function(e,r){var n=Zr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},dF=function(e,r,n){var i=e.position,o=e.viewBox,l=e.offset,u=e.className,c=o,h=c.cx,y=c.cy,p=c.innerRadius,g=c.outerRadius,v=c.startAngle,_=c.endAngle,w=c.clockWise,b=(p+g)/2,k=cF(v,_),E=k>=0?1:-1,O,P;i==="insideStart"?(O=v+E*l,P=w):i==="insideEnd"?(O=_-E*l,P=!w):i==="end"&&(O=_+E*l,P=w),P=k<=0?P:!P;var j=zt(h,y,b,O),A=zt(h,y,b,O+(P?1:-1)*359),T="M".concat(j.x,",").concat(j.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(P?0:1,`,
    `).concat(A.x,",").concat(A.y),N=Ne(e.id)?zo("recharts-radial-line-"):e.id;return q.createElement("text",jl({},n,{dominantBaseline:"central",className:De("recharts-radial-bar-label",u)}),q.createElement("defs",null,q.createElement("path",{id:N,d:T})),q.createElement("textPath",{xlinkHref:"#".concat(N)},r))},fF=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,l=o.cx,u=o.cy,c=o.innerRadius,h=o.outerRadius,y=o.startAngle,p=o.endAngle,g=(y+p)/2;if(i==="outside"){var v=zt(l,u,h+n,g),_=v.x,w=v.y;return{x:_,y:w,textAnchor:_>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var b=(c+h)/2,k=zt(l,u,b,g),E=k.x,O=k.y;return{x:E,y:O,textAnchor:"middle",verticalAnchor:"middle"}},hF=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,l=r,u=l.x,c=l.y,h=l.width,y=l.height,p=y>=0?1:-1,g=p*i,v=p>0?"end":"start",_=p>0?"start":"end",w=h>=0?1:-1,b=w*i,k=w>0?"end":"start",E=w>0?"start":"end";if(o==="top"){var O={x:u+h/2,y:c-p*i,textAnchor:"middle",verticalAnchor:v};return _t(_t({},O),n?{height:Math.max(c-n.y,0),width:h}:{})}if(o==="bottom"){var P={x:u+h/2,y:c+y+g,textAnchor:"middle",verticalAnchor:_};return _t(_t({},P),n?{height:Math.max(n.y+n.height-(c+y),0),width:h}:{})}if(o==="left"){var j={x:u-b,y:c+y/2,textAnchor:k,verticalAnchor:"middle"};return _t(_t({},j),n?{width:Math.max(j.x-n.x,0),height:y}:{})}if(o==="right"){var A={x:u+h+b,y:c+y/2,textAnchor:E,verticalAnchor:"middle"};return _t(_t({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:y}:{})}var T=n?{width:h,height:y}:{};return o==="insideLeft"?_t({x:u+b,y:c+y/2,textAnchor:E,verticalAnchor:"middle"},T):o==="insideRight"?_t({x:u+h-b,y:c+y/2,textAnchor:k,verticalAnchor:"middle"},T):o==="insideTop"?_t({x:u+h/2,y:c+g,textAnchor:"middle",verticalAnchor:_},T):o==="insideBottom"?_t({x:u+h/2,y:c+y-g,textAnchor:"middle",verticalAnchor:v},T):o==="insideTopLeft"?_t({x:u+b,y:c+g,textAnchor:E,verticalAnchor:_},T):o==="insideTopRight"?_t({x:u+h-b,y:c+g,textAnchor:k,verticalAnchor:_},T):o==="insideBottomLeft"?_t({x:u+b,y:c+y-g,textAnchor:E,verticalAnchor:v},T):o==="insideBottomRight"?_t({x:u+h-b,y:c+y-g,textAnchor:k,verticalAnchor:v},T):Do(o)&&(ue(o.x)||Yi(o.x))&&(ue(o.y)||Yi(o.y))?_t({x:u+oa(o.x,h),y:c+oa(o.y,y),textAnchor:"end",verticalAnchor:"end"},T):_t({x:u+h/2,y:c+y/2,textAnchor:"middle",verticalAnchor:"middle"},T)},pF=function(e){return"cx"in e&&ue(e.cx)};function Ht(t){var e=t.offset,r=e===void 0?5:e,n=iF(t,QU),i=_t({offset:r},n),o=i.viewBox,l=i.position,u=i.value,c=i.children,h=i.content,y=i.className,p=y===void 0?"":y,g=i.textBreakAll;if(!o||Ne(u)&&Ne(c)&&!z.isValidElement(h)&&!Te(h))return null;if(z.isValidElement(h))return z.cloneElement(h,i);var v;if(Te(h)){if(v=z.createElement(h,i),z.isValidElement(v))return v}else v=uF(i);var _=pF(o),w=Ce(i,!0);if(_&&(l==="insideStart"||l==="insideEnd"||l==="end"))return dF(i,v,w);var b=_?fF(i):hF(i);return q.createElement(Uc,jl({className:De("recharts-label",p)},w,b,{breakAll:g}),v)}Ht.displayName="Label";var tC=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,l=e.endAngle,u=e.r,c=e.radius,h=e.innerRadius,y=e.outerRadius,p=e.x,g=e.y,v=e.top,_=e.left,w=e.width,b=e.height,k=e.clockWise,E=e.labelViewBox;if(E)return E;if(ue(w)&&ue(b)){if(ue(p)&&ue(g))return{x:p,y:g,width:w,height:b};if(ue(v)&&ue(_))return{x:v,y:_,width:w,height:b}}return ue(p)&&ue(g)?{x:p,y:g,width:0,height:0}:ue(r)&&ue(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:l||i||0,innerRadius:h||0,outerRadius:y||c||u||0,clockWise:k}:e.viewBox?e.viewBox:{}},yF=function(e,r){return e?e===!0?q.createElement(Ht,{key:"label-implicit",viewBox:r}):jt(e)?q.createElement(Ht,{key:"label-implicit",viewBox:r,value:e}):z.isValidElement(e)?e.type===Ht?z.cloneElement(e,{key:"label-implicit",viewBox:r}):q.createElement(Ht,{key:"label-implicit",content:e,viewBox:r}):Te(e)?q.createElement(Ht,{key:"label-implicit",content:e,viewBox:r}):Do(e)?q.createElement(Ht,jl({viewBox:r},e,{key:"label-implicit"})):null:null},mF=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=tC(e),l=Cr(i,Ht).map(function(c,h){return z.cloneElement(c,{viewBox:r||o,key:"label-".concat(h)})});if(!n)return l;var u=yF(e.label,r||o);return[u].concat(ZU(l))};Ht.parseViewBox=tC;Ht.renderCallByParent=mF;var Vg,RE;function gF(){if(RE)return Vg;RE=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Vg=t,Vg}var vF=gF();const xF=Ge(vF);function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}var bF=["valueAccessor"],wF=["data","dataKey","clockWise","id","textBreakAll"];function _F(t){return kF(t)||OF(t)||jF(t)||SF()}function SF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jF(t,e){if(t){if(typeof t=="string")return v0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v0(t,e)}}function OF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kF(t){if(Array.isArray(t))return v0(t)}function v0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function od(){return od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},od.apply(this,arguments)}function $E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ME(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(r),!0).forEach(function(n){EF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EF(t,e,r){return e=AF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AF(t){var e=PF(t,"string");return Ol(e)=="symbol"?e:e+""}function PF(t,e){if(Ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DE(t,e){if(t==null)return{};var r=TF(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TF(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var CF=function(e){return Array.isArray(e.value)?xF(e.value):e.value};function Mn(t){var e=t.valueAccessor,r=e===void 0?CF:e,n=DE(t,bF),i=n.data,o=n.dataKey,l=n.clockWise,u=n.id,c=n.textBreakAll,h=DE(n,wF);return!i||!i.length?null:q.createElement(Qe,{className:"recharts-label-list"},i.map(function(y,p){var g=Ne(o)?r(y,p):Jt(y&&y.payload,o),v=Ne(u)?{}:{id:"".concat(u,"-").concat(p)};return q.createElement(Ht,od({},Ce(y,!0),h,v,{parentViewBox:y.parentViewBox,value:g,textBreakAll:c,viewBox:Ht.parseViewBox(Ne(l)?y:ME(ME({},y),{},{clockWise:l})),key:"label-".concat(p),index:p}))}))}Mn.displayName="LabelList";function NF(t,e){return t?t===!0?q.createElement(Mn,{key:"labelList-implicit",data:e}):q.isValidElement(t)||Te(t)?q.createElement(Mn,{key:"labelList-implicit",data:e,content:t}):Do(t)?q.createElement(Mn,od({data:e},t,{key:"labelList-implicit"})):null:null}function IF(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Cr(n,Mn).map(function(l,u){return z.cloneElement(l,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var o=NF(t.label,e);return[o].concat(_F(i))}Mn.renderCallByParent=IF;function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function x0(){return x0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x0.apply(this,arguments)}function LE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(r),!0).forEach(function(n){RF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RF(t,e,r){return e=$F(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $F(t){var e=MF(t,"string");return kl(e)=="symbol"?e:e+""}function MF(t,e){if(kl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DF=function(e,r){var n=Zr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},wc=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,l=e.sign,u=e.isExternal,c=e.cornerRadius,h=e.cornerIsExternal,y=c*(u?1:-1)+i,p=Math.asin(c/y)/ad,g=h?o:o+l*p,v=zt(r,n,y,g),_=zt(r,n,i,g),w=h?o-l*p:o,b=zt(r,n,y*Math.cos(p*ad),w);return{center:v,circleTangency:_,lineTangency:b,theta:p}},rC=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,l=e.startAngle,u=e.endAngle,c=DF(l,u),h=l+c,y=zt(r,n,o,l),p=zt(r,n,o,h),g="M ".concat(y.x,",").concat(y.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(l>h),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var v=zt(r,n,i,l),_=zt(r,n,i,h);g+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(l<=h),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},LF=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,l=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,h=e.startAngle,y=e.endAngle,p=Zr(y-h),g=wc({cx:r,cy:n,radius:o,angle:h,sign:p,cornerRadius:l,cornerIsExternal:c}),v=g.circleTangency,_=g.lineTangency,w=g.theta,b=wc({cx:r,cy:n,radius:o,angle:y,sign:-p,cornerRadius:l,cornerIsExternal:c}),k=b.circleTangency,E=b.lineTangency,O=b.theta,P=c?Math.abs(h-y):Math.abs(h-y)-w-O;if(P<0)return u?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):rC({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:h,endAngle:y});var j="M ".concat(_.x,",").concat(_.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(P>180),",").concat(+(p<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var A=wc({cx:r,cy:n,radius:i,angle:h,sign:p,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),T=A.circleTangency,N=A.lineTangency,$=A.theta,V=wc({cx:r,cy:n,radius:i,angle:y,sign:-p,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),F=V.circleTangency,R=V.lineTangency,H=V.theta,L=c?Math.abs(h-y):Math.abs(h-y)-$-H;if(L<0&&l===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(R.x,",").concat(R.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(p>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(N.x,",").concat(N.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},zF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nC=function(e){var r=zE(zE({},zF),e),n=r.cx,i=r.cy,o=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,c=r.forceCornerRadius,h=r.cornerIsExternal,y=r.startAngle,p=r.endAngle,g=r.className;if(l<o||y===p)return null;var v=De("recharts-sector",g),_=l-o,w=oa(u,_,0,!0),b;return w>0&&Math.abs(y-p)<360?b=LF({cx:n,cy:i,innerRadius:o,outerRadius:l,cornerRadius:Math.min(w,_/2),forceCornerRadius:c,cornerIsExternal:h,startAngle:y,endAngle:p}):b=rC({cx:n,cy:i,innerRadius:o,outerRadius:l,startAngle:y,endAngle:p}),q.createElement("path",x0({},Ce(r,!0),{className:v,d:b,role:"img"}))};function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b0.apply(this,arguments)}function BE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BE(Object(r),!0).forEach(function(n){BF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BF(t,e,r){return e=qF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qF(t){var e=UF(t,"string");return El(e)=="symbol"?e:e+""}function UF(t,e){if(El(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UE={curveBasisClosed:s3,curveBasisOpen:l3,curveBasis:o3,curveBumpX:V4,curveBumpY:K4,curveLinearClosed:u3,curveLinear:Fd,curveMonotoneX:c3,curveMonotoneY:d3,curveNatural:f3,curveStep:h3,curveStepAfter:y3,curveStepBefore:p3},_c=function(e){return e.x===+e.x&&e.y===+e.y},Ds=function(e){return e.x},Ls=function(e){return e.y},FF=function(e,r){if(Te(e))return e;var n="curve".concat(qd(e));return(n==="curveMonotone"||n==="curveBump")&&r?UE["".concat(n).concat(r==="vertical"?"Y":"X")]:UE[n]||Fd},WF=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,l=e.baseLine,u=e.layout,c=e.connectNulls,h=c===void 0?!1:c,y=FF(n,u),p=h?o.filter(function(w){return _c(w)}):o,g;if(Array.isArray(l)){var v=h?l.filter(function(w){return _c(w)}):l,_=p.map(function(w,b){return qE(qE({},w),{},{base:v[b]})});return u==="vertical"?g=hc().y(Ls).x1(Ds).x0(function(w){return w.base.x}):g=hc().x(Ds).y1(Ls).y0(function(w){return w.base.y}),g.defined(_c).curve(y),g(_)}return u==="vertical"&&ue(l)?g=hc().y(Ls).x1(Ds).x0(l):ue(l)?g=hc().x(Ds).y1(Ls).y0(l):g=lT().x(Ds).y(Ls),g.defined(_c).curve(y),g(p)},lo=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var l=n&&n.length?WF(e):i;return z.createElement("path",b0({},Ce(e,!1),Tc(e),{className:De("recharts-curve",r),d:l,ref:o}))},Kg={exports:{}},Gg,FE;function HF(){if(FE)return Gg;FE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gg=t,Gg}var Xg,WE;function VF(){if(WE)return Xg;WE=1;var t=HF();function e(){}function r(){}return r.resetWarningCache=e,Xg=function(){function n(l,u,c,h,y,p){if(p!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},Xg}var HE;function KF(){return HE||(HE=1,Kg.exports=VF()()),Kg.exports}var GF=KF();const Fe=Ge(GF),{getOwnPropertyNames:XF,getOwnPropertySymbols:YF}=Object,{hasOwnProperty:JF}=Object.prototype;function Yg(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function Sc(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:o}=i,l=o.get(r),u=o.get(n);if(l&&u)return l===n&&u===r;o.set(r,n),o.set(n,r);const c=t(r,n,i);return o.delete(r),o.delete(n),c}}function QF(t){return t?.[Symbol.toStringTag]}function VE(t){return XF(t).concat(YF(t))}const ZF=Object.hasOwn||((t,e)=>JF.call(t,e));function pa(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const eW="__v",tW="__o",rW="_owner",{getOwnPropertyDescriptor:KE,keys:GE}=Object;function nW(t,e){return t.byteLength===e.byteLength&&sd(new Uint8Array(t),new Uint8Array(e))}function iW(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function aW(t,e){return t.byteLength===e.byteLength&&sd(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function oW(t,e){return pa(t.getTime(),e.getTime())}function sW(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function lW(t,e){return t===e}function XE(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),o=t.entries();let l,u,c=0;for(;(l=o.next())&&!l.done;){const h=e.entries();let y=!1,p=0;for(;(u=h.next())&&!u.done;){if(i[p]){p++;continue}const g=l.value,v=u.value;if(r.equals(g[0],v[0],c,p,t,e,r)&&r.equals(g[1],v[1],g[0],v[0],t,e,r)){y=i[p]=!0;break}p++}if(!y)return!1;c++}return!0}const uW=pa;function cW(t,e,r){const n=GE(t);let i=n.length;if(GE(e).length!==i)return!1;for(;i-- >0;)if(!iC(t,e,r,n[i]))return!1;return!0}function zs(t,e,r){const n=VE(t);let i=n.length;if(VE(e).length!==i)return!1;let o,l,u;for(;i-- >0;)if(o=n[i],!iC(t,e,r,o)||(l=KE(t,o),u=KE(e,o),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function dW(t,e){return pa(t.valueOf(),e.valueOf())}function fW(t,e){return t.source===e.source&&t.flags===e.flags}function YE(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),o=t.values();let l,u;for(;(l=o.next())&&!l.done;){const c=e.values();let h=!1,y=0;for(;(u=c.next())&&!u.done;){if(!i[y]&&r.equals(l.value,u.value,l.value,u.value,t,e,r)){h=i[y]=!0;break}y++}if(!h)return!1}return!0}function sd(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function hW(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function iC(t,e,r,n){return(n===rW||n===tW||n===eW)&&(t.$$typeof||e.$$typeof)?!0:ZF(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const pW="[object ArrayBuffer]",yW="[object Arguments]",mW="[object Boolean]",gW="[object DataView]",vW="[object Date]",xW="[object Error]",bW="[object Map]",wW="[object Number]",_W="[object Object]",SW="[object RegExp]",jW="[object Set]",OW="[object String]",kW={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},EW="[object URL]",AW=Object.prototype.toString;function PW({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:c,arePrimitiveWrappersEqual:h,areRegExpsEqual:y,areSetsEqual:p,areTypedArraysEqual:g,areUrlsEqual:v,unknownTagComparators:_}){return function(b,k,E){if(b===k)return!0;if(b==null||k==null)return!1;const O=typeof b;if(O!==typeof k)return!1;if(O!=="object")return O==="number"?u(b,k,E):O==="function"?o(b,k,E):!1;const P=b.constructor;if(P!==k.constructor)return!1;if(P===Object)return c(b,k,E);if(Array.isArray(b))return e(b,k,E);if(P===Date)return n(b,k,E);if(P===RegExp)return y(b,k,E);if(P===Map)return l(b,k,E);if(P===Set)return p(b,k,E);const j=AW.call(b);if(j===vW)return n(b,k,E);if(j===SW)return y(b,k,E);if(j===bW)return l(b,k,E);if(j===jW)return p(b,k,E);if(j===_W)return typeof b.then!="function"&&typeof k.then!="function"&&c(b,k,E);if(j===EW)return v(b,k,E);if(j===xW)return i(b,k,E);if(j===yW)return c(b,k,E);if(kW[j])return g(b,k,E);if(j===pW)return t(b,k,E);if(j===gW)return r(b,k,E);if(j===mW||j===wW||j===OW)return h(b,k,E);if(_){let A=_[j];if(!A){const T=QF(b);T&&(A=_[T])}if(A)return A(b,k,E)}return!1}}function TW({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:nW,areArraysEqual:r?zs:iW,areDataViewsEqual:aW,areDatesEqual:oW,areErrorsEqual:sW,areFunctionsEqual:lW,areMapsEqual:r?Yg(XE,zs):XE,areNumbersEqual:uW,areObjectsEqual:r?zs:cW,arePrimitiveWrappersEqual:dW,areRegExpsEqual:fW,areSetsEqual:r?Yg(YE,zs):YE,areTypedArraysEqual:r?Yg(sd,zs):sd,areUrlsEqual:hW,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=Sc(n.areArraysEqual),o=Sc(n.areMapsEqual),l=Sc(n.areObjectsEqual),u=Sc(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return n}function CW(t){return function(e,r,n,i,o,l,u){return t(e,r,u)}}function NW({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(u,c){const{cache:h=t?new WeakMap:void 0,meta:y}=r();return e(u,c,{cache:h,equals:n,meta:y,strict:i})};if(t)return function(u,c){return e(u,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const o={cache:void 0,equals:n,meta:void 0,strict:i};return function(u,c){return e(u,c,o)}}const IW=ki();ki({strict:!0});ki({circular:!0});ki({circular:!0,strict:!0});ki({createInternalComparator:()=>pa});ki({strict:!0,createInternalComparator:()=>pa});ki({circular:!0,createInternalComparator:()=>pa});ki({circular:!0,createInternalComparator:()=>pa,strict:!0});function ki(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,o=TW(t),l=PW(o),u=r?r(l):CW(l);return NW({circular:e,comparator:l,createState:n,equals:u,strict:i})}function RW(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function JE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):RW(i)};requestAnimationFrame(n)}function w0(t){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w0(t)}function $W(t){return zW(t)||LW(t)||DW(t)||MW()}function MW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DW(t,e){if(t){if(typeof t=="string")return QE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QE(t,e)}}function QE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zW(t){if(Array.isArray(t))return t}function BW(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,u=$W(l),c=u[0],h=u.slice(1);if(typeof c=="number"){JE(i.bind(null,h),c);return}i(c),JE(i.bind(null,h));return}w0(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function ZE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(r),!0).forEach(function(n){aC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aC(t,e,r){return e=qW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qW(t){var e=UW(t,"string");return Al(e)==="symbol"?e:String(e)}function UW(t,e){if(Al(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Al(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FW=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},WW=function(e){return e},HW=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ys=function(e,r){return Object.keys(r).reduce(function(n,i){return eA(eA({},n),{},aC({},i,e(i,r[i])))},{})},tA=function(e,r,n){return e.map(function(i){return"".concat(HW(i)," ").concat(r,"ms ").concat(n)}).join(",")};function VW(t,e){return XW(t)||GW(t,e)||oC(t,e)||KW()}function KW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],c=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(y){h=!0,i=y}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function XW(t){if(Array.isArray(t))return t}function YW(t){return ZW(t)||QW(t)||oC(t)||JW()}function JW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oC(t,e){if(t){if(typeof t=="string")return _0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _0(t,e)}}function QW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZW(t){if(Array.isArray(t))return _0(t)}function _0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ld=1e-4,sC=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},lC=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},rA=function(e,r){return function(n){var i=sC(e,r);return lC(i,n)}},e7=function(e,r){return function(n){var i=sC(e,r),o=[].concat(YW(i.map(function(l,u){return l*u}).slice(1)),[0]);return lC(o,n)}},nA=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,l=1,u=1;break;case"ease":i=.25,o=.1,l=.25,u=1;break;case"ease-in":i=.42,o=0,l=1,u=1;break;case"ease-out":i=.42,o=0,l=.58,u=1;break;case"ease-in-out":i=0,o=0,l=.58,u=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var h=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),y=VW(h,4);i=y[0],o=y[1],l=y[2],u=y[3]}}}var p=rA(i,l),g=rA(o,u),v=e7(i,l),_=function(k){return k>1?1:k<0?0:k},w=function(k){for(var E=k>1?1:k,O=E,P=0;P<8;++P){var j=p(O)-E,A=v(O);if(Math.abs(j-E)<ld||A<ld)return g(O);O=_(O-j/A)}return g(O)};return w.isStepper=!1,w},t7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,l=e.dt,u=l===void 0?17:l,c=function(y,p,g){var v=-(y-p)*n,_=g*o,w=g+(v-_)*u/1e3,b=g*u/1e3+y;return Math.abs(b-p)<ld&&Math.abs(w)<ld?[p,0]:[b,w]};return c.isStepper=!0,c.dt=u,c},r7=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return nA(i);case"spring":return t7();default:if(i.split("(")[0]==="cubic-bezier")return nA(i)}return typeof i=="function"?i:null};function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function iA(t){return a7(t)||i7(t)||uC(t)||n7()}function n7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a7(t){if(Array.isArray(t))return j0(t)}function aA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aA(Object(r),!0).forEach(function(n){S0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S0(t,e,r){return e=o7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o7(t){var e=s7(t,"string");return Pl(e)==="symbol"?e:String(e)}function s7(t,e){if(Pl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l7(t,e){return d7(t)||c7(t,e)||uC(t,e)||u7()}function u7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uC(t,e){if(t){if(typeof t=="string")return j0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j0(t,e)}}function j0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c7(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],c=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(y){h=!0,i=y}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function d7(t){if(Array.isArray(t))return t}var ud=function(e,r,n){return e+(r-e)*n},O0=function(e){var r=e.from,n=e.to;return r!==n},f7=function t(e,r,n){var i=Ys(function(o,l){if(O0(l)){var u=e(l.from,l.to,l.velocity),c=l7(u,2),h=c[0],y=c[1];return Mt(Mt({},l),{},{from:h,velocity:y})}return l},r);return n<1?Ys(function(o,l){return O0(l)?Mt(Mt({},l),{},{velocity:ud(l.velocity,i[o].velocity,n),from:ud(l.from,i[o].from,n)}):l},r):t(e,i,n-1)};const h7=(function(t,e,r,n,i){var o=FW(t,e),l=o.reduce(function(b,k){return Mt(Mt({},b),{},S0({},k,[t[k],e[k]]))},{}),u=o.reduce(function(b,k){return Mt(Mt({},b),{},S0({},k,{from:t[k],velocity:0,to:e[k]}))},{}),c=-1,h,y,p=function(){return null},g=function(){return Ys(function(k,E){return E.from},u)},v=function(){return!Object.values(u).filter(O0).length},_=function(k){h||(h=k);var E=k-h,O=E/r.dt;u=f7(r,u,O),i(Mt(Mt(Mt({},t),e),g())),h=k,v()||(c=requestAnimationFrame(p))},w=function(k){y||(y=k);var E=(k-y)/n,O=Ys(function(j,A){return ud.apply(void 0,iA(A).concat([r(E)]))},l);if(i(Mt(Mt(Mt({},t),e),O)),E<1)c=requestAnimationFrame(p);else{var P=Ys(function(j,A){return ud.apply(void 0,iA(A).concat([r(1)]))},l);i(Mt(Mt(Mt({},t),e),P))}};return p=r.isStepper?_:w,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}});function _o(t){"@babel/helpers - typeof";return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(t)}var p7=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function y7(t,e){if(t==null)return{};var r=m7(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m7(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Jg(t){return b7(t)||x7(t)||v7(t)||g7()}function g7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v7(t,e){if(t){if(typeof t=="string")return k0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k0(t,e)}}function x7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b7(t){if(Array.isArray(t))return k0(t)}function k0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(r),!0).forEach(function(n){Ws(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ws(t,e,r){return e=cC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cC(n.key),n)}}function S7(t,e,r){return e&&_7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cC(t){var e=j7(t,"string");return _o(e)==="symbol"?e:String(e)}function j7(t,e){if(_o(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_o(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E0(t,e)}function E0(t,e){return E0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},E0(t,e)}function k7(t){var e=E7();return function(){var n=cd(t),i;if(e){var o=cd(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return A0(this,i)}}function A0(t,e){if(e&&(_o(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P0(t)}function P0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cd(t){return cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cd(t)}var mn=(function(t){O7(r,t);var e=k7(r);function r(n,i){var o;w7(this,r),o=e.call(this,n,i);var l=o.props,u=l.isActive,c=l.attributeName,h=l.from,y=l.to,p=l.steps,g=l.children,v=l.duration;if(o.handleStyleChange=o.handleStyleChange.bind(P0(o)),o.changeStyle=o.changeStyle.bind(P0(o)),!u||v<=0)return o.state={style:{}},typeof g=="function"&&(o.state={style:y}),A0(o);if(p&&p.length)o.state={style:p[0].style};else if(h){if(typeof g=="function")return o.state={style:h},A0(o);o.state={style:c?Ws({},c,h):h}}else o.state={style:{}};return o}return S7(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,l=i.canBegin;this.mounted=!0,!(!o||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,l=o.isActive,u=o.canBegin,c=o.attributeName,h=o.shouldReAnimate,y=o.to,p=o.from,g=this.state.style;if(u){if(!l){var v={style:c?Ws({},c,y):y};this.state&&g&&(c&&g[c]!==y||!c&&g!==y)&&this.setState(v);return}if(!(IW(i.to,y)&&i.canBegin&&i.isActive)){var _=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=_||h?p:i.to;if(this.state&&g){var b={style:c?Ws({},c,w):w};(c&&g[c]!==w||!c&&g!==w)&&this.setState(b)}this.runAnimation(Hr(Hr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,l=i.from,u=i.to,c=i.duration,h=i.easing,y=i.begin,p=i.onAnimationEnd,g=i.onAnimationStart,v=h7(l,u,r7(h),c,this.changeStyle),_=function(){o.stopJSAnimation=v()};this.manager.start([g,y,_,c,p])}},{key:"runStepAnimation",value:function(i){var o=this,l=i.steps,u=i.begin,c=i.onAnimationStart,h=l[0],y=h.style,p=h.duration,g=p===void 0?0:p,v=function(w,b,k){if(k===0)return w;var E=b.duration,O=b.easing,P=O===void 0?"ease":O,j=b.style,A=b.properties,T=b.onAnimationEnd,N=k>0?l[k-1]:b,$=A||Object.keys(j);if(typeof P=="function"||P==="spring")return[].concat(Jg(w),[o.runJSAnimation.bind(o,{from:N.style,to:j,duration:E,easing:P}),E]);var V=tA($,E,P),F=Hr(Hr(Hr({},N.style),j),{},{transition:V});return[].concat(Jg(w),[F,E,T]).filter(WW)};return this.manager.start([c].concat(Jg(l.reduce(v,[y,Math.max(g,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=BW());var o=i.begin,l=i.duration,u=i.attributeName,c=i.to,h=i.easing,y=i.onAnimationStart,p=i.onAnimationEnd,g=i.steps,v=i.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof h=="function"||typeof v=="function"||h==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var w=u?Ws({},u,c):c,b=tA(Object.keys(w),l,h);_.start([y,o,Hr(Hr({},w),{},{transition:b}),l,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=y7(i,p7),h=z.Children.count(o),y=this.state.style;if(typeof o=="function")return o(y);if(!u||h===0||l<=0)return o;var p=function(v){var _=v.props,w=_.style,b=w===void 0?{}:w,k=_.className,E=z.cloneElement(v,Hr(Hr({},c),{},{style:Hr(Hr({},b),y),className:k}));return E};return h===1?p(z.Children.only(o)):q.createElement("div",null,z.Children.map(o,function(g){return p(g)}))}}]),r})(z.PureComponent);mn.displayName="Animate";mn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};mn.propTypes={from:Fe.oneOfType([Fe.object,Fe.string]),to:Fe.oneOfType([Fe.object,Fe.string]),attributeName:Fe.string,duration:Fe.number,begin:Fe.number,easing:Fe.oneOfType([Fe.string,Fe.func]),steps:Fe.arrayOf(Fe.shape({duration:Fe.number.isRequired,style:Fe.object.isRequired,easing:Fe.oneOfType([Fe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Fe.func]),properties:Fe.arrayOf("string"),onAnimationEnd:Fe.func})),children:Fe.oneOfType([Fe.node,Fe.func]),isActive:Fe.bool,canBegin:Fe.bool,onAnimationEnd:Fe.func,shouldReAnimate:Fe.bool,onAnimationStart:Fe.func,onAnimationReStart:Fe.func};function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dd.apply(this,arguments)}function A7(t,e){return N7(t)||C7(t,e)||T7(t,e)||P7()}function P7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T7(t,e){if(t){if(typeof t=="string")return sA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sA(t,e)}}function sA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function C7(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],c=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(y){h=!0,i=y}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function N7(t){if(Array.isArray(t))return t}function lA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lA(Object(r),!0).forEach(function(n){I7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I7(t,e,r){return e=R7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R7(t){var e=$7(t,"string");return Tl(e)=="symbol"?e:e+""}function $7(t,e){if(Tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cA=function(e,r,n,i,o){var l=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,c=n>=0?1:-1,h=i>=0&&n>=0||i<0&&n<0?1:0,y;if(l>0&&o instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=o[g]>l?l:o[g];y="M".concat(e,",").concat(r+u*p[0]),p[0]>0&&(y+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(h,",").concat(e+c*p[0],",").concat(r)),y+="L ".concat(e+n-c*p[1],",").concat(r),p[1]>0&&(y+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(r+u*p[1])),y+="L ".concat(e+n,",").concat(r+i-u*p[2]),p[2]>0&&(y+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(h,`,
        `).concat(e+n-c*p[2],",").concat(r+i)),y+="L ".concat(e+c*p[3],",").concat(r+i),p[3]>0&&(y+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(r+i-u*p[3])),y+="Z"}else if(l>0&&o===+o&&o>0){var _=Math.min(l,o);y="M ".concat(e,",").concat(r+u*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e+c*_,",").concat(r,`
            L `).concat(e+n-c*_,",").concat(r,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e+n,",").concat(r+u*_,`
            L `).concat(e+n,",").concat(r+i-u*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e+n-c*_,",").concat(r+i,`
            L `).concat(e+c*_,",").concat(r+i,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e,",").concat(r+i-u*_," Z")}else y="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return y},M7=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,l=r.y,u=r.width,c=r.height;if(Math.abs(u)>0&&Math.abs(c)>0){var h=Math.min(o,o+u),y=Math.max(o,o+u),p=Math.min(l,l+c),g=Math.max(l,l+c);return n>=h&&n<=y&&i>=p&&i<=g}return!1},D7={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Zx=function(e){var r=uA(uA({},D7),e),n=z.useRef(),i=z.useState(-1),o=A7(i,2),l=o[0],u=o[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&u(P)}catch{}},[]);var c=r.x,h=r.y,y=r.width,p=r.height,g=r.radius,v=r.className,_=r.animationEasing,w=r.animationDuration,b=r.animationBegin,k=r.isAnimationActive,E=r.isUpdateAnimationActive;if(c!==+c||h!==+h||y!==+y||p!==+p||y===0||p===0)return null;var O=De("recharts-rectangle",v);return E?q.createElement(mn,{canBegin:l>0,from:{width:y,height:p,x:c,y:h},to:{width:y,height:p,x:c,y:h},duration:w,animationEasing:_,isActive:E},function(P){var j=P.width,A=P.height,T=P.x,N=P.y;return q.createElement(mn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:k,easing:_},q.createElement("path",dd({},Ce(r,!0),{className:O,d:cA(T,N,j,A,g),ref:n})))}):q.createElement("path",dd({},Ce(r,!0),{className:O,d:cA(c,h,y,p,g)}))};function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T0.apply(this,arguments)}var nf=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,l=De("recharts-dot",o);return r===+r&&n===+n&&i===+i?z.createElement("circle",T0({},Ce(e,!1),Tc(e),{className:l,cx:r,cy:n,r:i})):null};function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}var L7=["x","y","top","left","width","height","className"];function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C0.apply(this,arguments)}function dA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dA(Object(r),!0).forEach(function(n){B7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B7(t,e,r){return e=q7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q7(t){var e=U7(t,"string");return Cl(e)=="symbol"?e:e+""}function U7(t,e){if(Cl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F7(t,e){if(t==null)return{};var r=W7(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function W7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var H7=function(e,r,n,i,o,l){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(l,",").concat(r,"h").concat(n)},V7=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,l=e.top,u=l===void 0?0:l,c=e.left,h=c===void 0?0:c,y=e.width,p=y===void 0?0:y,g=e.height,v=g===void 0?0:g,_=e.className,w=F7(e,L7),b=z7({x:n,y:o,top:u,left:h,width:p,height:v},w);return!ue(n)||!ue(o)||!ue(p)||!ue(v)||!ue(u)||!ue(h)?null:q.createElement("path",C0({},Ce(b,!0),{className:De("recharts-cross",_),d:H7(n,o,p,v,u,h)}))},Qg,fA;function K7(){if(fA)return Qg;fA=1;var t=CT(),e=t(Object.getPrototypeOf,Object);return Qg=e,Qg}var Zg,hA;function G7(){if(hA)return Zg;hA=1;var t=Un(),e=K7(),r=Fn(),n="[object Object]",i=Function.prototype,o=Object.prototype,l=i.toString,u=o.hasOwnProperty,c=l.call(Object);function h(y){if(!r(y)||t(y)!=n)return!1;var p=e(y);if(p===null)return!0;var g=u.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==c}return Zg=h,Zg}var X7=G7();const Y7=Ge(X7);var ev,pA;function J7(){if(pA)return ev;pA=1;var t=Un(),e=Fn(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return ev=n,ev}var Q7=J7();const Z7=Ge(Q7);function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function fd(){return fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fd.apply(this,arguments)}function e9(t,e){return i9(t)||n9(t,e)||r9(t,e)||t9()}function t9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r9(t,e){if(t){if(typeof t=="string")return yA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yA(t,e)}}function yA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],c=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(y){h=!0,i=y}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function i9(t){if(Array.isArray(t))return t}function mA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mA(Object(r),!0).forEach(function(n){a9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a9(t,e,r){return e=o9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o9(t){var e=s9(t,"string");return Nl(e)=="symbol"?e:e+""}function s9(t,e){if(Nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vA=function(e,r,n,i,o){var l=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-l/2,",").concat(r+o),u+="L ".concat(e+n-l/2-i,",").concat(r+o),u+="L ".concat(e,",").concat(r," Z"),u},l9={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},u9=function(e){var r=gA(gA({},l9),e),n=z.useRef(),i=z.useState(-1),o=e9(i,2),l=o[0],u=o[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&u(O)}catch{}},[]);var c=r.x,h=r.y,y=r.upperWidth,p=r.lowerWidth,g=r.height,v=r.className,_=r.animationEasing,w=r.animationDuration,b=r.animationBegin,k=r.isUpdateAnimationActive;if(c!==+c||h!==+h||y!==+y||p!==+p||g!==+g||y===0&&p===0||g===0)return null;var E=De("recharts-trapezoid",v);return k?q.createElement(mn,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:h},to:{upperWidth:y,lowerWidth:p,height:g,x:c,y:h},duration:w,animationEasing:_,isActive:k},function(O){var P=O.upperWidth,j=O.lowerWidth,A=O.height,T=O.x,N=O.y;return q.createElement(mn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:_},q.createElement("path",fd({},Ce(r,!0),{className:E,d:vA(T,N,P,j,A),ref:n})))}):q.createElement("g",null,q.createElement("path",fd({},Ce(r,!0),{className:E,d:vA(c,h,y,p,g)})))},c9=["option","shapeType","propTransformer","activeClassName","isActive"];function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function d9(t,e){if(t==null)return{};var r=f9(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f9(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xA(Object(r),!0).forEach(function(n){h9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h9(t,e,r){return e=p9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p9(t){var e=y9(t,"string");return Il(e)=="symbol"?e:e+""}function y9(t,e){if(Il(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m9(t,e){return hd(hd({},e),t)}function g9(t,e){return t==="symbols"}function bA(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return q.createElement(Zx,r);case"trapezoid":return q.createElement(u9,r);case"sector":return q.createElement(nC,r);case"symbols":if(g9(e))return q.createElement(vx,r);break;default:return null}}function v9(t){return z.isValidElement(t)?t.props:t}function x9(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?m9:n,o=t.activeClassName,l=o===void 0?"recharts-active-shape":o,u=t.isActive,c=d9(t,c9),h;if(z.isValidElement(e))h=z.cloneElement(e,hd(hd({},c),v9(e)));else if(Te(e))h=e(c);else if(Y7(e)&&!Z7(e)){var y=i(e,c);h=q.createElement(bA,{shapeType:r,elementProps:y})}else{var p=c;h=q.createElement(bA,{shapeType:r,elementProps:p})}return u?q.createElement(Qe,{className:l},h):h}function af(t,e){return e!=null&&"trapezoids"in t.props}function of(t,e){return e!=null&&"sectors"in t.props}function Rl(t,e){return e!=null&&"points"in t.props}function b9(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function w9(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function _9(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function S9(t,e){var r;return af(t,e)?r=b9:of(t,e)?r=w9:Rl(t,e)&&(r=_9),r}function j9(t,e){var r;return af(t,e)?r="trapezoids":of(t,e)?r="sectors":Rl(t,e)&&(r="points"),r}function O9(t,e){if(af(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(of(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Rl(t,e)?e.payload:{}}function k9(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=j9(r,e),o=O9(r,e),l=n.filter(function(c,h){var y=bo(o,c),p=r.props[i].filter(function(_){var w=S9(r,e);return w(_,e)}),g=r.props[i].indexOf(p[p.length-1]),v=h===g;return y&&v}),u=n.indexOf(l[l.length-1]);return u}var tv,wA;function E9(){if(wA)return tv;wA=1;var t=Math.ceil,e=Math.max;function r(n,i,o,l){for(var u=-1,c=e(t((i-n)/(o||1)),0),h=Array(c);c--;)h[l?c:++u]=n,n+=o;return h}return tv=r,tv}var rv,_A;function dC(){if(_A)return rv;_A=1;var t=KT(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*r}return i===i?i:0}return rv=n,rv}var nv,SA;function A9(){if(SA)return nv;SA=1;var t=E9(),e=Kd(),r=dC();function n(i){return function(o,l,u){return u&&typeof u!="number"&&e(o,l,u)&&(l=u=void 0),o=r(o),l===void 0?(l=o,o=0):l=r(l),u=u===void 0?o<l?1:-1:r(u),t(o,l,u,i)}}return nv=n,nv}var iv,jA;function P9(){if(jA)return iv;jA=1;var t=A9(),e=t();return iv=e,iv}var T9=P9();const pd=Ge(T9);function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function OA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OA(Object(r),!0).forEach(function(n){fC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fC(t,e,r){return e=C9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C9(t){var e=N9(t,"string");return $l(e)=="symbol"?e:e+""}function N9(t,e){if($l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I9=["Webkit","Moz","O","ms"],R9=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=I9.reduce(function(o,l){return kA(kA({},o),{},fC({},l+n,r))},{});return i[e]=r,i};function So(t){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},So(t)}function yd(){return yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yd.apply(this,arguments)}function EA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function av(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EA(Object(r),!0).forEach(function(n){hr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pC(n.key),n)}}function M9(t,e,r){return e&&AA(t.prototype,e),r&&AA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function D9(t,e,r){return e=md(e),L9(t,hC()?Reflect.construct(e,r||[],md(t).constructor):e.apply(t,r))}function L9(t,e){if(e&&(So(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z9(t)}function z9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hC=function(){return!!t})()}function md(t){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},md(t)}function B9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N0(t,e)}function N0(t,e){return N0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},N0(t,e)}function hr(t,e,r){return e=pC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pC(t){var e=q9(t,"string");return So(e)=="symbol"?e:e+""}function q9(t,e){if(So(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(So(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var U9=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,l=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,h=Gs().domain(pd(0,c)).range([o,o+l-u]),y=h.domain().map(function(p){return h(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(i),scale:h,scaleValues:y}},PA=function(e){return e.changedTouches&&!!e.changedTouches.length},jo=(function(t){function e(r){var n;return $9(this,e),n=D9(this,e,[r]),hr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),hr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),hr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,l=i.onDragEnd,u=i.startIndex;l?.({endIndex:o,startIndex:u})}),n.detachDragEndListener()}),hr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),hr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),hr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),hr(n,"handleSlideDragStart",function(i){var o=PA(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return B9(e,t),M9(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,l=this.state.scaleValues,u=this.props,c=u.gap,h=u.data,y=h.length-1,p=Math.min(i,o),g=Math.max(i,o),v=e.getIndexInRange(l,p),_=e.getIndexInRange(l,g);return{startIndex:v-v%c,endIndex:_===y?y:_-_%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,l=i.tickFormatter,u=i.dataKey,c=Jt(o[n],u,n);return Te(l)?l(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,l=i.startX,u=i.endX,c=this.props,h=c.x,y=c.width,p=c.travellerWidth,g=c.startIndex,v=c.endIndex,_=c.onChange,w=n.pageX-o;w>0?w=Math.min(w,h+y-p-u,h+y-p-l):w<0&&(w=Math.max(w,h-l,h-u));var b=this.getIndex({startX:l+w,endX:u+w});(b.startIndex!==g||b.endIndex!==v)&&_&&_(b),this.setState({startX:l+w,endX:u+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=PA(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,l=i.movingTravellerId,u=i.endX,c=i.startX,h=this.state[l],y=this.props,p=y.x,g=y.width,v=y.travellerWidth,_=y.onChange,w=y.gap,b=y.data,k={startX:this.state.startX,endX:this.state.endX},E=n.pageX-o;E>0?E=Math.min(E,p+g-v-h):E<0&&(E=Math.max(E,p-h)),k[l]=h+E;var O=this.getIndex(k),P=O.startIndex,j=O.endIndex,A=function(){var N=b.length-1;return l==="startX"&&(u>c?P%w===0:j%w===0)||u<c&&j===N||l==="endX"&&(u>c?j%w===0:P%w===0)||u>c&&j===N};this.setState(hr(hr({},l,h+E),"brushMoveStartX",n.pageX),function(){_&&A()&&_(O)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,l=this.state,u=l.scaleValues,c=l.startX,h=l.endX,y=this.state[i],p=u.indexOf(y);if(p!==-1){var g=p+n;if(!(g===-1||g>=u.length)){var v=u[g];i==="startX"&&v>=h||i==="endX"&&v<=c||this.setState(hr({},i,v),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,c=n.fill,h=n.stroke;return q.createElement("rect",{stroke:h,fill:c,x:i,y:o,width:l,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,c=n.data,h=n.children,y=n.padding,p=z.Children.only(h);return p?q.cloneElement(p,{x:i,y:o,width:l,height:u,margin:y,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,l,u=this,c=this.props,h=c.y,y=c.travellerWidth,p=c.height,g=c.traveller,v=c.ariaLabel,_=c.data,w=c.startIndex,b=c.endIndex,k=Math.max(n,this.props.x),E=av(av({},Ce(this.props,!1)),{},{x:k,y:h,width:y,height:p}),O=v||"Min value: ".concat((o=_[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((l=_[b])===null||l===void 0?void 0:l.name);return q.createElement(Qe,{tabIndex:0,role:"slider","aria-label":O,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),u.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,E))}},{key:"renderSlide",value:function(n,i){var o=this.props,l=o.y,u=o.height,c=o.stroke,h=o.travellerWidth,y=Math.min(n,i)+h,p=Math.max(Math.abs(i-n)-h,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:y,y:l,width:p,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,l=n.y,u=n.height,c=n.travellerWidth,h=n.stroke,y=this.state,p=y.startX,g=y.endX,v=5,_={pointerEvents:"none",fill:h};return q.createElement(Qe,{className:"recharts-brush-texts"},q.createElement(Uc,yd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,g)-v,y:l+u/2},_),this.getTextOfTick(i)),q.createElement(Uc,yd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,g)+c+v,y:l+u/2},_),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,l=n.children,u=n.x,c=n.y,h=n.width,y=n.height,p=n.alwaysShowText,g=this.state,v=g.startX,_=g.endX,w=g.isTextActive,b=g.isSlideMoving,k=g.isTravellerMoving,E=g.isTravellerFocused;if(!i||!i.length||!ue(u)||!ue(c)||!ue(h)||!ue(y)||h<=0||y<=0)return null;var O=De("recharts-brush",o),P=q.Children.count(l)===1,j=R9("userSelect","none");return q.createElement(Qe,{className:O,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(v,_),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(_,"endX"),(w||b||k||E||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,l=n.width,u=n.height,c=n.stroke,h=Math.floor(o+u/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:i,y:o,width:l,height:u,fill:c,stroke:"none"}),q.createElement("line",{x1:i+1,y1:h,x2:i+l-1,y2:h,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:i+1,y1:h+2,x2:i+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return q.isValidElement(n)?o=q.cloneElement(n,i):Te(n)?o=n(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,l=n.width,u=n.x,c=n.travellerWidth,h=n.updateId,y=n.startIndex,p=n.endIndex;if(o!==i.prevData||h!==i.prevUpdateId)return av({prevData:o,prevTravellerWidth:c,prevUpdateId:h,prevX:u,prevWidth:l},o&&o.length?U9({data:o,width:l,x:u,travellerWidth:c,startIndex:y,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||u!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([u,u+l-c]);var g=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:h,prevX:u,prevWidth:l,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,l=0,u=o-1;u-l>1;){var c=Math.floor((l+u)/2);n[c]>i?u=c:l=c}return i>=n[u]?u:l}}])})(z.PureComponent);hr(jo,"displayName","Brush");hr(jo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ov,TA;function F9(){if(TA)return ov;TA=1;var t=Ox();function e(r,n){var i;return t(r,function(o,l,u){return i=n(o,l,u),!i}),!!i}return ov=e,ov}var sv,CA;function W9(){if(CA)return sv;CA=1;var t=jT(),e=Si(),r=F9(),n=or(),i=Kd();function o(l,u,c){var h=n(l)?t:r;return c&&i(l,u,c)&&(u=void 0),h(l,e(u,3))}return sv=o,sv}var H9=W9();const V9=Ge(H9);var pn=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},lv,NA;function K9(){if(NA)return lv;NA=1;var t=UT();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return lv=e,lv}var uv,IA;function G9(){if(IA)return uv;IA=1;var t=K9(),e=BT(),r=Si();function n(i,o){var l={};return o=r(o,3),e(i,function(u,c,h){t(l,c,o(u,c,h))}),l}return uv=n,uv}var X9=G9();const Y9=Ge(X9);var cv,RA;function J9(){if(RA)return cv;RA=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return cv=t,cv}var dv,$A;function Q9(){if($A)return dv;$A=1;var t=Ox();function e(r,n){var i=!0;return t(r,function(o,l,u){return i=!!n(o,l,u),i}),i}return dv=e,dv}var fv,MA;function Z9(){if(MA)return fv;MA=1;var t=J9(),e=Q9(),r=Si(),n=or(),i=Kd();function o(l,u,c){var h=n(l)?t:e;return c&&i(l,u,c)&&(u=void 0),h(l,r(u,3))}return fv=o,fv}var eH=Z9();const yC=Ge(eH);var tH=["x","y"];function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I0.apply(this,arguments)}function DA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DA(Object(r),!0).forEach(function(n){rH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rH(t,e,r){return e=nH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nH(t){var e=iH(t,"string");return Ml(e)=="symbol"?e:e+""}function iH(t,e){if(Ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aH(t,e){if(t==null)return{};var r=oH(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sH(t,e){var r=t.x,n=t.y,i=aH(t,tH),o="".concat(r),l=parseInt(o,10),u="".concat(n),c=parseInt(u,10),h="".concat(e.height||i.height),y=parseInt(h,10),p="".concat(e.width||i.width),g=parseInt(p,10);return Bs(Bs(Bs(Bs(Bs({},e),i),l?{x:l}:{}),c?{y:c}:{}),{},{height:y,width:g,name:e.name,radius:e.radius})}function LA(t){return q.createElement(x9,I0({shapeType:"rectangle",propTransformer:sH,activeClassName:"recharts-active-bar"},t))}var lH=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var o=ue(n)||p4(n);return o?e(n,i):(o||la(),r)}},uH=["value","background"],mC;function Oo(t){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oo(t)}function cH(t,e){if(t==null)return{};var r=dH(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gd.apply(this,arguments)}function zA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zA(Object(r),!0).forEach(function(n){vi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vC(n.key),n)}}function hH(t,e,r){return e&&BA(t.prototype,e),r&&BA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pH(t,e,r){return e=vd(e),yH(t,gC()?Reflect.construct(e,r||[],vd(t).constructor):e.apply(t,r))}function yH(t,e){if(e&&(Oo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mH(t)}function mH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gC=function(){return!!t})()}function vd(t){return vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vd(t)}function gH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R0(t,e)}function R0(t,e){return R0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R0(t,e)}function vi(t,e,r){return e=vC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vC(t){var e=vH(t,"string");return Oo(e)=="symbol"?e:e+""}function vH(t,e){if(Oo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jl=(function(t){function e(){var r;fH(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=pH(this,e,[].concat(i)),vi(r,"state",{isAnimationFinished:!1}),vi(r,"id",zo("recharts-bar-")),vi(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),vi(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return gH(e,t),hH(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,l=o.shape,u=o.dataKey,c=o.activeIndex,h=o.activeBar,y=Ce(this.props,!1);return n&&n.map(function(p,g){var v=g===c,_=v?h:l,w=yt(yt(yt({},y),p),{},{isActive:v,option:_,index:g,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return q.createElement(Qe,gd({className:"recharts-bar-rectangle"},Cc(i.props,p,g),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(g)}),q.createElement(LA,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,l=i.layout,u=i.isAnimationActive,c=i.animationBegin,h=i.animationDuration,y=i.animationEasing,p=i.animationId,g=this.state.prevData;return q.createElement(mn,{begin:c,duration:h,isActive:u,easing:y,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var _=v.t,w=o.map(function(b,k){var E=g&&g[k];if(E){var O=Lt(E.x,b.x),P=Lt(E.y,b.y),j=Lt(E.width,b.width),A=Lt(E.height,b.height);return yt(yt({},b),{},{x:O(_),y:P(_),width:j(_),height:A(_)})}if(l==="horizontal"){var T=Lt(0,b.height),N=T(_);return yt(yt({},b),{},{y:b.y+b.height-N,height:N})}var $=Lt(0,b.width),V=$(_);return yt(yt({},b),{},{width:V})});return q.createElement(Qe,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,l=this.state.prevData;return o&&i&&i.length&&(!l||!bo(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,l=i.dataKey,u=i.activeIndex,c=Ce(this.props.background,!1);return o.map(function(h,y){h.value;var p=h.background,g=cH(h,uH);if(!p)return null;var v=yt(yt(yt(yt(yt({},g),{},{fill:"#eee"},p),c),Cc(n.props,h,y)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:y,className:"recharts-bar-background-rectangle"});return q.createElement(LA,gd({key:"background-bar-".concat(y),option:n.props.background,isActive:y===u},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.data,u=o.xAxis,c=o.yAxis,h=o.layout,y=o.children,p=Cr(y,Yl);if(!p)return null;var g=h==="vertical"?l[0].height/2:l[0].width/2,v=function(b,k){var E=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:E,errorVal:Jt(b,k)}},_={clipPath:n?"url(#clipPath-".concat(i,")"):null};return q.createElement(Qe,_,p.map(function(w){return q.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:l,xAxis:u,yAxis:c,layout:h,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,l=n.className,u=n.xAxis,c=n.yAxis,h=n.left,y=n.top,p=n.width,g=n.height,v=n.isAnimationActive,_=n.background,w=n.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,k=De("recharts-bar",l),E=u&&u.allowDataOverflow,O=c&&c.allowDataOverflow,P=E||O,j=Ne(w)?this.id:w;return q.createElement(Qe,{className:k},E||O?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(j)},q.createElement("rect",{x:E?h:h-p/2,y:O?y:y-g/2,width:E?p:p*2,height:O?g:g*2}))):null,q.createElement(Qe,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(j,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,j),(!v||b)&&Mn.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(z.PureComponent);mC=Jl;vi(Jl,"displayName","Bar");vi(Jl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!da.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});vi(Jl,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,l=t.yAxis,u=t.xAxisTicks,c=t.yAxisTicks,h=t.stackedData,y=t.dataStartIndex,p=t.displayedData,g=t.offset,v=IU(n,r);if(!v)return null;var _=e.layout,w=r.type.defaultProps,b=w!==void 0?yt(yt({},w),r.props):r.props,k=b.dataKey,E=b.children,O=b.minPointSize,P=_==="horizontal"?l:o,j=h?P.scale.domain():null,A=qU({numericAxis:P}),T=Cr(E,XT),N=p.map(function($,V){var F,R,H,L,M,X;h?F=RU(h[y+V],j):(F=Jt($,k),Array.isArray(F)||(F=[A,F]));var Z=lH(O,mC.defaultProps.minPointSize)(F[1],V);if(_==="horizontal"){var G,te=[l.scale(F[0]),l.scale(F[1])],Q=te[0],I=te[1];R=kE({axis:o,ticks:u,bandSize:i,offset:v.offset,entry:$,index:V}),H=(G=I??Q)!==null&&G!==void 0?G:void 0,L=v.size;var U=Q-I;if(M=Number.isNaN(U)?0:U,X={x:R,y:l.y,width:L,height:l.height},Math.abs(Z)>0&&Math.abs(M)<Math.abs(Z)){var re=Zr(M||Z)*(Math.abs(Z)-Math.abs(M));H-=re,M+=re}}else{var de=[o.scale(F[0]),o.scale(F[1])],ve=de[0],Oe=de[1];if(R=ve,H=kE({axis:l,ticks:c,bandSize:i,offset:v.offset,entry:$,index:V}),L=Oe-ve,M=v.size,X={x:o.x,y:H,width:o.width,height:M},Math.abs(Z)>0&&Math.abs(L)<Math.abs(Z)){var $e=Zr(L||Z)*(Math.abs(Z)-Math.abs(L));L+=$e}}return yt(yt(yt({},$),{},{x:R,y:H,width:L,height:M,value:h?F:F[1],payload:$,background:X},T&&T[V]&&T[V].props),{},{tooltipPayload:[eC(r,$)],tooltipPosition:{x:R+L/2,y:H+M/2}})});return yt({data:N,layout:_},g)});function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function xH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xC(n.key),n)}}function bH(t,e,r){return e&&qA(t.prototype,e),r&&qA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function UA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UA(Object(r),!0).forEach(function(n){sf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sf(t,e,r){return e=xC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xC(t){var e=wH(t,"string");return Dl(e)=="symbol"?e:e+""}function wH(t,e){if(Dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _H=function(e,r,n,i,o){var l=e.width,u=e.height,c=e.layout,h=e.children,y=Object.keys(r),p={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},g=!!pr(h,Jl);return y.reduce(function(v,_){var w=r[_],b=w.orientation,k=w.domain,E=w.padding,O=E===void 0?{}:E,P=w.mirror,j=w.reversed,A="".concat(b).concat(P?"Mirror":""),T,N,$,V,F;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var R=k[1]-k[0],H=1/0,L=w.categoricalDomain.sort(g4);if(L.forEach(function(de,ve){ve>0&&(H=Math.min((de||0)-(L[ve-1]||0),H))}),Number.isFinite(H)){var M=H/R,X=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(T=M*X/2),w.padding==="no-gap"){var Z=oa(e.barCategoryGap,M*X),G=M*X/2;T=G-Z-(G-Z)/X*Z}}}i==="xAxis"?N=[n.left+(O.left||0)+(T||0),n.left+n.width-(O.right||0)-(T||0)]:i==="yAxis"?N=c==="horizontal"?[n.top+n.height-(O.bottom||0),n.top+(O.top||0)]:[n.top+(O.top||0)+(T||0),n.top+n.height-(O.bottom||0)-(T||0)]:N=w.range,j&&(N=[N[1],N[0]]);var te=CU(w,o,g),Q=te.scale,I=te.realScaleType;Q.domain(k).range(N),NU(Q);var U=BU(Q,Xr(Xr({},w),{},{realScaleType:I}));i==="xAxis"?(F=b==="top"&&!P||b==="bottom"&&P,$=n.left,V=p[A]-F*w.height):i==="yAxis"&&(F=b==="left"&&!P||b==="right"&&P,$=p[A]-F*w.width,V=n.top);var re=Xr(Xr(Xr({},w),U),{},{realScaleType:I,x:$,y:V,scale:Q,width:i==="xAxis"?n.width:w.width,height:i==="yAxis"?n.height:w.height});return re.bandSize=id(re,U),!w.hide&&i==="xAxis"?p[A]+=(F?-1:1)*re.height:w.hide||(p[A]+=(F?-1:1)*re.width),Xr(Xr({},v),{},sf({},_,re))},{})},bC=function(e,r){var n=e.x,i=e.y,o=r.x,l=r.y;return{x:Math.min(n,o),y:Math.min(i,l),width:Math.abs(o-n),height:Math.abs(l-i)}},SH=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return bC({x:r,y:n},{x:i,y:o})},wC=(function(){function t(e){xH(this,t),this.scale=e}return bH(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();sf(wC,"EPS",1e-4);var eb=function(e){var r=Object.keys(e).reduce(function(n,i){return Xr(Xr({},n),{},sf({},i,wC.create(e[i])))},{});return Xr(Xr({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.bandAware,u=o.position;return Y9(i,function(c,h){return r[h].apply(c,{bandAware:l,position:u})})},isInRange:function(i){return yC(i,function(o,l){return r[l].isInRange(o)})}})};function jH(t){return(t%180+180)%180}var OH=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=jH(i),l=o*Math.PI/180,u=Math.atan(n/r),c=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(c)},hv,FA;function kH(){if(FA)return hv;FA=1;var t=Si(),e=Hl(),r=Hd();function n(i){return function(o,l,u){var c=Object(o);if(!e(o)){var h=t(l,3);o=r(o),l=function(p){return h(c[p],p,c)}}var y=i(o,l,u);return y>-1?c[h?o[y]:y]:void 0}}return hv=n,hv}var pv,WA;function EH(){if(WA)return pv;WA=1;var t=dC();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return pv=e,pv}var yv,HA;function AH(){if(HA)return yv;HA=1;var t=$T(),e=Si(),r=EH(),n=Math.max;function i(o,l,u){var c=o==null?0:o.length;if(!c)return-1;var h=u==null?0:r(u);return h<0&&(h=n(c+h,0)),t(o,e(l,3),h)}return yv=i,yv}var mv,VA;function PH(){if(VA)return mv;VA=1;var t=kH(),e=AH(),r=t(e);return mv=r,mv}var TH=PH();const CH=Ge(TH);var NH=YP();const IH=Ge(NH);var RH=IH(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),tb=z.createContext(void 0),rb=z.createContext(void 0),_C=z.createContext(void 0),SC=z.createContext({}),jC=z.createContext(void 0),OC=z.createContext(0),kC=z.createContext(0),KA=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,l=e.clipPathId,u=e.children,c=e.width,h=e.height,y=RH(o);return q.createElement(tb.Provider,{value:n},q.createElement(rb.Provider,{value:i},q.createElement(SC.Provider,{value:o},q.createElement(_C.Provider,{value:y},q.createElement(jC.Provider,{value:l},q.createElement(OC.Provider,{value:h},q.createElement(kC.Provider,{value:c},u)))))))},$H=function(){return z.useContext(jC)},EC=function(e){var r=z.useContext(tb);r==null&&la();var n=r[e];return n==null&&la(),n},MH=function(){var e=z.useContext(tb);return mi(e)},DH=function(){var e=z.useContext(rb),r=CH(e,function(n){return yC(n.domain,Number.isFinite)});return r||mi(e)},AC=function(e){var r=z.useContext(rb);r==null&&la();var n=r[e];return n==null&&la(),n},LH=function(){var e=z.useContext(_C);return e},zH=function(){return z.useContext(SC)},nb=function(){return z.useContext(kC)},ib=function(){return z.useContext(OC)};function ko(t){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(t)}function BH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TC(n.key),n)}}function UH(t,e,r){return e&&qH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FH(t,e,r){return e=xd(e),WH(t,PC()?Reflect.construct(e,r||[],xd(t).constructor):e.apply(t,r))}function WH(t,e){if(e&&(ko(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HH(t)}function HH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PC=function(){return!!t})()}function xd(t){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xd(t)}function VH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$0(t,e)}function $0(t,e){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$0(t,e)}function GA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GA(Object(r),!0).forEach(function(n){ab(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ab(t,e,r){return e=TC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TC(t){var e=KH(t,"string");return ko(e)=="symbol"?e:e+""}function KH(t,e){if(ko(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function GH(t,e){return QH(t)||JH(t,e)||YH(t,e)||XH()}function XH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YH(t,e){if(t){if(typeof t=="string")return YA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YA(t,e)}}function YA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],c=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(y){h=!0,i=y}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function QH(t){if(Array.isArray(t))return t}function M0(){return M0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M0.apply(this,arguments)}var ZH=function(e,r){var n;return q.isValidElement(e)?n=q.cloneElement(e,r):Te(e)?n=e(r):n=q.createElement("line",M0({},r,{className:"recharts-reference-line-line"})),n},eV=function(e,r,n,i,o,l,u,c,h){var y=o.x,p=o.y,g=o.width,v=o.height;if(n){var _=h.y,w=e.y.apply(_,{position:l});if(pn(h,"discard")&&!e.y.isInRange(w))return null;var b=[{x:y+g,y:w},{x:y,y:w}];return c==="left"?b.reverse():b}if(r){var k=h.x,E=e.x.apply(k,{position:l});if(pn(h,"discard")&&!e.x.isInRange(E))return null;var O=[{x:E,y:p+v},{x:E,y:p}];return u==="top"?O.reverse():O}if(i){var P=h.segment,j=P.map(function(A){return e.apply(A,{position:l})});return pn(h,"discard")&&V9(j,function(A){return!e.isInRange(A)})?null:j}return null};function tV(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,o=t.yAxisId,l=t.shape,u=t.className,c=t.alwaysShow,h=$H(),y=EC(i),p=AC(o),g=LH();if(!h||!g)return null;Rn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=eb({x:y.scale,y:p.scale}),_=jt(e),w=jt(r),b=n&&n.length===2,k=eV(v,_,w,b,g,t.position,y.orientation,p.orientation,t);if(!k)return null;var E=GH(k,2),O=E[0],P=O.x,j=O.y,A=E[1],T=A.x,N=A.y,$=pn(t,"hidden")?"url(#".concat(h,")"):void 0,V=XA(XA({clipPath:$},Ce(t,!0)),{},{x1:P,y1:j,x2:T,y2:N});return q.createElement(Qe,{className:De("recharts-reference-line",u)},ZH(l,V),Ht.renderCallByParent(t,SH({x1:P,y1:j,x2:T,y2:N})))}var ob=(function(t){function e(){return BH(this,e),FH(this,e,arguments)}return VH(e,t),UH(e,[{key:"render",value:function(){return q.createElement(tV,this.props)}}])})(q.Component);ab(ob,"displayName","ReferenceLine");ab(ob,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function D0(){return D0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D0.apply(this,arguments)}function Eo(t){"@babel/helpers - typeof";return Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eo(t)}function JA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JA(Object(r),!0).forEach(function(n){lf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NC(n.key),n)}}function iV(t,e,r){return e&&nV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aV(t,e,r){return e=bd(e),oV(t,CC()?Reflect.construct(e,r||[],bd(t).constructor):e.apply(t,r))}function oV(t,e){if(e&&(Eo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sV(t)}function sV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CC=function(){return!!t})()}function bd(t){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bd(t)}function lV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L0(t,e)}function L0(t,e){return L0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L0(t,e)}function lf(t,e,r){return e=NC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NC(t){var e=uV(t,"string");return Eo(e)=="symbol"?e:e+""}function uV(t,e){if(Eo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cV=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,l=eb({x:i.scale,y:o.scale}),u=l.apply({x:r,y:n},{bandAware:!0});return pn(e,"discard")&&!l.isInRange(u)?null:u},uf=(function(t){function e(){return rV(this,e),aV(this,e,arguments)}return lV(e,t),iV(e,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,l=n.r,u=n.alwaysShow,c=n.clipPathId,h=jt(i),y=jt(o);if(Rn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!y)return null;var p=cV(this.props);if(!p)return null;var g=p.x,v=p.y,_=this.props,w=_.shape,b=_.className,k=pn(this.props,"hidden")?"url(#".concat(c,")"):void 0,E=QA(QA({clipPath:k},Ce(this.props,!0)),{},{cx:g,cy:v});return q.createElement(Qe,{className:De("recharts-reference-dot",b)},e.renderDot(w,E),Ht.renderCallByParent(this.props,{x:g-l,y:v-l,width:2*l,height:2*l}))}}])})(q.Component);lf(uf,"displayName","ReferenceDot");lf(uf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});lf(uf,"renderDot",function(t,e){var r;return q.isValidElement(t)?r=q.cloneElement(t,e):Te(t)?r=t(e):r=q.createElement(nf,D0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z0.apply(this,arguments)}function Ao(t){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao(t)}function ZA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZA(Object(r),!0).forEach(function(n){cf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RC(n.key),n)}}function hV(t,e,r){return e&&fV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pV(t,e,r){return e=wd(e),yV(t,IC()?Reflect.construct(e,r||[],wd(t).constructor):e.apply(t,r))}function yV(t,e){if(e&&(Ao(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mV(t)}function mV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IC=function(){return!!t})()}function wd(t){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wd(t)}function gV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B0(t,e)}function B0(t,e){return B0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},B0(t,e)}function cf(t,e,r){return e=RC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RC(t){var e=vV(t,"string");return Ao(e)=="symbol"?e:e+""}function vV(t,e){if(Ao(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xV=function(e,r,n,i,o){var l=o.x1,u=o.x2,c=o.y1,h=o.y2,y=o.xAxis,p=o.yAxis;if(!y||!p)return null;var g=eb({x:y.scale,y:p.scale}),v={x:e?g.x.apply(l,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(c,{position:"start"}):g.y.rangeMin},_={x:r?g.x.apply(u,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(h,{position:"end"}):g.y.rangeMax};return pn(o,"discard")&&(!g.isInRange(v)||!g.isInRange(_))?null:bC(v,_)},df=(function(t){function e(){return dV(this,e),pV(this,e,arguments)}return gV(e,t),hV(e,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,l=n.y1,u=n.y2,c=n.className,h=n.alwaysShow,y=n.clipPathId;Rn(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=jt(i),g=jt(o),v=jt(l),_=jt(u),w=this.props.shape;if(!p&&!g&&!v&&!_&&!w)return null;var b=xV(p,g,v,_,this.props);if(!b&&!w)return null;var k=pn(this.props,"hidden")?"url(#".concat(y,")"):void 0;return q.createElement(Qe,{className:De("recharts-reference-area",c)},e.renderRect(w,eP(eP({clipPath:k},Ce(this.props,!0)),b)),Ht.renderCallByParent(this.props,b))}}])})(q.Component);cf(df,"displayName","ReferenceArea");cf(df,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cf(df,"renderRect",function(t,e){var r;return q.isValidElement(t)?r=q.cloneElement(t,e):Te(t)?r=t(e):r=q.createElement(Zx,z0({},e,{className:"recharts-reference-area-rect"})),r});function $C(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function bV(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return OH(n,r)}function wV(t,e,r){var n=r==="width",i=t.x,o=t.y,l=t.width,u=t.height;return e===1?{start:n?i:o,end:n?i+l:o+u}:{start:n?i+l:o+u,end:n?i:o}}function _d(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function _V(t,e){return $C(t,e+1)}function SV(t,e,r,n,i){for(var o=(n||[]).slice(),l=e.start,u=e.end,c=0,h=1,y=l,p=function(){var _=n?.[c];if(_===void 0)return{v:$C(n,h)};var w=c,b,k=function(){return b===void 0&&(b=r(_,w)),b},E=_.coordinate,O=c===0||_d(t,E,k,y,u);O||(c=0,y=l,h+=1),O&&(y=E+t*(k()/2+i),c+=h)},g;h<=o.length;)if(g=p(),g)return g.v;return[]}function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function tP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(r),!0).forEach(function(n){jV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jV(t,e,r){return e=OV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OV(t){var e=kV(t,"string");return Ll(e)=="symbol"?e:e+""}function kV(t,e){if(Ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EV(t,e,r,n,i){for(var o=(n||[]).slice(),l=o.length,u=e.start,c=e.end,h=function(g){var v=o[g],_,w=function(){return _===void 0&&(_=r(v,g)),_};if(g===l-1){var b=t*(v.coordinate+t*w()/2-c);o[g]=v=Wt(Wt({},v),{},{tickCoord:b>0?v.coordinate-b*t:v.coordinate})}else o[g]=v=Wt(Wt({},v),{},{tickCoord:v.coordinate});var k=_d(t,v.tickCoord,w,u,c);k&&(c=v.tickCoord-t*(w()/2+i),o[g]=Wt(Wt({},v),{},{isShow:!0}))},y=l-1;y>=0;y--)h(y);return o}function AV(t,e,r,n,i,o){var l=(n||[]).slice(),u=l.length,c=e.start,h=e.end;if(o){var y=n[u-1],p=r(y,u-1),g=t*(y.coordinate+t*p/2-h);l[u-1]=y=Wt(Wt({},y),{},{tickCoord:g>0?y.coordinate-g*t:y.coordinate});var v=_d(t,y.tickCoord,function(){return p},c,h);v&&(h=y.tickCoord-t*(p/2+i),l[u-1]=Wt(Wt({},y),{},{isShow:!0}))}for(var _=o?u-1:u,w=function(E){var O=l[E],P,j=function(){return P===void 0&&(P=r(O,E)),P};if(E===0){var A=t*(O.coordinate-t*j()/2-c);l[E]=O=Wt(Wt({},O),{},{tickCoord:A<0?O.coordinate-A*t:O.coordinate})}else l[E]=O=Wt(Wt({},O),{},{tickCoord:O.coordinate});var T=_d(t,O.tickCoord,j,c,h);T&&(c=O.tickCoord+t*(j()/2+i),l[E]=Wt(Wt({},O),{},{isShow:!0}))},b=0;b<_;b++)w(b);return l}function sb(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,l=t.minTickGap,u=t.orientation,c=t.interval,h=t.tickFormatter,y=t.unit,p=t.angle;if(!i||!i.length||!n)return[];if(ue(c)||da.isSsr)return _V(i,typeof c=="number"&&ue(c)?c:0);var g=[],v=u==="top"||u==="bottom"?"width":"height",_=y&&v==="width"?Ks(y,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(O,P){var j=Te(h)?h(O.value,P):O.value;return v==="width"?bV(Ks(j,{fontSize:e,letterSpacing:r}),_,p):Ks(j,{fontSize:e,letterSpacing:r})[v]},b=i.length>=2?Zr(i[1].coordinate-i[0].coordinate):1,k=wV(o,b,v);return c==="equidistantPreserveStart"?SV(b,k,w,i,l):(c==="preserveStart"||c==="preserveStartEnd"?g=AV(b,k,w,i,l,c==="preserveStartEnd"):g=EV(b,k,w,i,l),g.filter(function(E){return E.isShow}))}var PV=["viewBox"],TV=["viewBox"],CV=["ticks"];function Po(t){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Po(t)}function ro(){return ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ro.apply(this,arguments)}function rP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(r),!0).forEach(function(n){lb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gv(t,e){if(t==null)return{};var r=NV(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DC(n.key),n)}}function RV(t,e,r){return e&&nP(t.prototype,e),r&&nP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $V(t,e,r){return e=Sd(e),MV(t,MC()?Reflect.construct(e,r||[],Sd(t).constructor):e.apply(t,r))}function MV(t,e){if(e&&(Po(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DV(t)}function DV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MC=function(){return!!t})()}function Sd(t){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sd(t)}function LV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q0(t,e)}function q0(t,e){return q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},q0(t,e)}function lb(t,e,r){return e=DC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DC(t){var e=zV(t,"string");return Po(e)=="symbol"?e:e+""}function zV(t,e){if(Po(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wo=(function(t){function e(r){var n;return IV(this,e),n=$V(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return LV(e,t),RV(e,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,l=gv(n,PV),u=this.props,c=u.viewBox,h=gv(u,TV);return!ao(o,c)||!ao(l,h)||!ao(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,l=i.y,u=i.width,c=i.height,h=i.orientation,y=i.tickSize,p=i.mirror,g=i.tickMargin,v,_,w,b,k,E,O=p?-1:1,P=n.tickSize||y,j=ue(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":v=_=n.coordinate,b=l+ +!p*c,w=b-O*P,E=w-O*g,k=j;break;case"left":w=b=n.coordinate,_=o+ +!p*u,v=_-O*P,k=v-O*g,E=j;break;case"right":w=b=n.coordinate,_=o+ +p*u,v=_+O*P,k=v+O*g,E=j;break;default:v=_=n.coordinate,b=l+ +p*c,w=b+O*P,E=w+O*g,k=j;break}return{line:{x1:v,y1:w,x2:_,y2:b},tick:{x:k,y:E}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,l;switch(i){case"left":l=o?"start":"end";break;case"right":l=o?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=o?"start":"end";break;default:l=o?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,c=n.orientation,h=n.mirror,y=n.axisLine,p=wt(wt(wt({},Ce(this.props,!1)),Ce(y,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!h||c==="bottom"&&h);p=wt(wt({},p),{},{x1:i,y1:o+g*u,x2:i+l,y2:o+g*u})}else{var v=+(c==="left"&&!h||c==="right"&&h);p=wt(wt({},p),{},{x1:i+v*l,y1:o,x2:i+v*l,y2:o+u})}return q.createElement("line",ro({},p,{className:De("recharts-cartesian-axis-line",Tr(y,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var l=this,u=this.props,c=u.tickLine,h=u.stroke,y=u.tick,p=u.tickFormatter,g=u.unit,v=sb(wt(wt({},this.props),{},{ticks:n}),i,o),_=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=Ce(this.props,!1),k=Ce(y,!1),E=wt(wt({},b),{},{fill:"none"},Ce(c,!1)),O=v.map(function(P,j){var A=l.getTickLineCoord(P),T=A.line,N=A.tick,$=wt(wt(wt(wt({textAnchor:_,verticalAnchor:w},b),{},{stroke:"none",fill:h},k),N),{},{index:j,payload:P,visibleTicksCount:v.length,tickFormatter:p});return q.createElement(Qe,ro({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},Cc(l.props,P,j)),c&&q.createElement("line",ro({},E,T,{className:De("recharts-cartesian-axis-tick-line",Tr(c,"className"))})),y&&e.renderTickItem(y,$,"".concat(Te(p)?p(P.value,j):P.value).concat(g||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},O)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,l=i.width,u=i.height,c=i.ticksGenerator,h=i.className,y=i.hide;if(y)return null;var p=this.props,g=p.ticks,v=gv(p,CV),_=g;return Te(c)&&(_=g&&g.length>0?c(this.props):c(v)),l<=0||u<=0||!_||!_.length?null:q.createElement(Qe,{className:De("recharts-cartesian-axis",h),ref:function(b){n.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),Ht.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var l,u=De(i.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(n)?l=q.cloneElement(n,wt(wt({},i),{},{className:u})):Te(n)?l=n(wt(wt({},i),{},{className:u})):l=q.createElement(Uc,ro({},i,{className:"recharts-cartesian-axis-tick-value"}),o),l}}])})(z.Component);lb(Wo,"displayName","CartesianAxis");lb(Wo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var BV=["x1","y1","x2","y2","key"],qV=["offset"];function ua(t){"@babel/helpers - typeof";return ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ua(t)}function iP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(r),!0).forEach(function(n){UV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UV(t,e,r){return e=FV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FV(t){var e=WV(t,"string");return ua(e)=="symbol"?e:e+""}function WV(t,e){if(ua(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ua(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zi(){return Zi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zi.apply(this,arguments)}function aP(t,e){if(t==null)return{};var r=HV(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var VV=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,o=e.y,l=e.width,u=e.height,c=e.ry;return q.createElement("rect",{x:i,y:o,ry:c,width:l,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function LC(t,e){var r;if(q.isValidElement(t))r=q.cloneElement(t,e);else if(Te(t))r=t(e);else{var n=e.x1,i=e.y1,o=e.x2,l=e.y2,u=e.key,c=aP(e,BV),h=Ce(c,!1);h.offset;var y=aP(h,qV);r=q.createElement("line",Zi({},y,{x1:n,y1:i,x2:o,y2:l,fill:"none",key:u}))}return r}function KV(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(u,c){var h=Vt(Vt({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(c),index:c});return LC(i,h)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function GV(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,o=t.verticalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(u,c){var h=Vt(Vt({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(c),index:c});return LC(i,h)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function XV(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,o=t.width,l=t.height,u=t.horizontalPoints,c=t.horizontal,h=c===void 0?!0:c;if(!h||!e||!e.length)return null;var y=u.map(function(g){return Math.round(g+i-i)}).sort(function(g,v){return g-v});i!==y[0]&&y.unshift(0);var p=y.map(function(g,v){var _=!y[v+1],w=_?i+l-g:y[v+1]-g;if(w<=0)return null;var b=v%e.length;return q.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:w,width:o,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function YV(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,o=t.x,l=t.y,u=t.width,c=t.height,h=t.verticalPoints;if(!r||!n||!n.length)return null;var y=h.map(function(g){return Math.round(g+o-o)}).sort(function(g,v){return g-v});o!==y[0]&&y.unshift(0);var p=y.map(function(g,v){var _=!y[v+1],w=_?o+u-g:y[v+1]-g;if(w<=0)return null;var b=v%n.length;return q.createElement("rect",{key:"react-".concat(v),x:g,y:l,width:w,height:c,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var JV=function(e,r){var n=e.xAxis,i=e.width,o=e.height,l=e.offset;return Q2(sb(Vt(Vt(Vt({},Wo.defaultProps),n),{},{ticks:Nn(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.left,l.left+l.width,r)},QV=function(e,r){var n=e.yAxis,i=e.width,o=e.height,l=e.offset;return Q2(sb(Vt(Vt(Vt({},Wo.defaultProps),n),{},{ticks:Nn(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.top,l.top+l.height,r)},Ga={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zC(t){var e,r,n,i,o,l,u=nb(),c=ib(),h=zH(),y=Vt(Vt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ga.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Ga.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Ga.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ga.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ga.vertical,verticalFill:(l=t.verticalFill)!==null&&l!==void 0?l:Ga.verticalFill,x:ue(t.x)?t.x:h.left,y:ue(t.y)?t.y:h.top,width:ue(t.width)?t.width:h.width,height:ue(t.height)?t.height:h.height}),p=y.x,g=y.y,v=y.width,_=y.height,w=y.syncWithTicks,b=y.horizontalValues,k=y.verticalValues,E=MH(),O=DH();if(!ue(v)||v<=0||!ue(_)||_<=0||!ue(p)||p!==+p||!ue(g)||g!==+g)return null;var P=y.verticalCoordinatesGenerator||JV,j=y.horizontalCoordinatesGenerator||QV,A=y.horizontalPoints,T=y.verticalPoints;if((!A||!A.length)&&Te(j)){var N=b&&b.length,$=j({yAxis:O?Vt(Vt({},O),{},{ticks:N?b:O.ticks}):void 0,width:u,height:c,offset:h},N?!0:w);Rn(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ua($),"]")),Array.isArray($)&&(A=$)}if((!T||!T.length)&&Te(P)){var V=k&&k.length,F=P({xAxis:E?Vt(Vt({},E),{},{ticks:V?k:E.ticks}):void 0,width:u,height:c,offset:h},V?!0:w);Rn(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ua(F),"]")),Array.isArray(F)&&(T=F)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(VV,{fill:y.fill,fillOpacity:y.fillOpacity,x:y.x,y:y.y,width:y.width,height:y.height,ry:y.ry}),q.createElement(KV,Zi({},y,{offset:h,horizontalPoints:A,xAxis:E,yAxis:O})),q.createElement(GV,Zi({},y,{offset:h,verticalPoints:T,xAxis:E,yAxis:O})),q.createElement(XV,Zi({},y,{horizontalPoints:A})),q.createElement(YV,Zi({},y,{verticalPoints:T})))}zC.displayName="CartesianGrid";var ZV=["type","layout","connectNulls","ref"],eK=["key"];function To(t){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(t)}function oP(t,e){if(t==null)return{};var r=tK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Js(){return Js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Js.apply(this,arguments)}function sP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(r),!0).forEach(function(n){Yr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xa(t){return aK(t)||iK(t)||nK(t)||rK()}function rK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nK(t,e){if(t){if(typeof t=="string")return U0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U0(t,e)}}function iK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aK(t){if(Array.isArray(t))return U0(t)}function U0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qC(n.key),n)}}function sK(t,e,r){return e&&lP(t.prototype,e),r&&lP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lK(t,e,r){return e=jd(e),uK(t,BC()?Reflect.construct(e,r||[],jd(t).constructor):e.apply(t,r))}function uK(t,e){if(e&&(To(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cK(t)}function cK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BC=function(){return!!t})()}function jd(t){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(t)}function dK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F0(t,e)}function F0(t,e){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F0(t,e)}function Yr(t,e,r){return e=qC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qC(t){var e=fK(t,"string");return To(e)=="symbol"?e:e+""}function fK(t,e){if(To(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(To(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zl=(function(t){function e(){var r;oK(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=lK(this,e,[].concat(i)),Yr(r,"state",{isAnimationFinished:!0,totalLength:0}),Yr(r,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),Yr(r,"getStrokeDasharray",function(l,u,c){var h=c.reduce(function(k,E){return k+E});if(!h)return r.generateSimpleStrokeDasharray(u,l);for(var y=Math.floor(l/h),p=l%h,g=u-l,v=[],_=0,w=0;_<c.length;w+=c[_],++_)if(w+c[_]>p){v=[].concat(Xa(c.slice(0,_)),[p-w]);break}var b=v.length%2===0?[0,g]:[g];return[].concat(Xa(e.repeat(c,y)),Xa(v),b).map(function(k){return"".concat(k,"px")}).join(", ")}),Yr(r,"id",zo("recharts-line-")),Yr(r,"pathRef",function(l){r.mainCurve=l}),Yr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Yr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return dK(e,t),sK(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.points,u=o.xAxis,c=o.yAxis,h=o.layout,y=o.children,p=Cr(y,Yl);if(!p)return null;var g=function(w,b){return{x:w.x,y:w.y,value:w.value,errorVal:Jt(w.payload,b)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return q.createElement(Qe,v,p.map(function(_){return q.cloneElement(_,{key:"bar-".concat(_.props.dataKey),data:l,xAxis:u,yAxis:c,layout:h,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,i,o){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,c=u.dot,h=u.points,y=u.dataKey,p=Ce(this.props,!1),g=Ce(c,!0),v=h.map(function(w,b){var k=fr(fr(fr({key:"dot-".concat(b),r:3},p),g),{},{index:b,cx:w.x,cy:w.y,value:w.value,dataKey:y,payload:w.payload,points:h});return e.renderDotItem(c,k)}),_={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return q.createElement(Qe,Js({className:"recharts-line-dots",key:"dots"},_),v)}},{key:"renderCurveStatically",value:function(n,i,o,l){var u=this.props,c=u.type,h=u.layout,y=u.connectNulls;u.ref;var p=oP(u,ZV),g=fr(fr(fr({},Ce(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:n},l),{},{type:c,layout:h,connectNulls:y});return q.createElement(lo,Js({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var o=this,l=this.props,u=l.points,c=l.strokeDasharray,h=l.isAnimationActive,y=l.animationBegin,p=l.animationDuration,g=l.animationEasing,v=l.animationId,_=l.animateNewValues,w=l.width,b=l.height,k=this.state,E=k.prevPoints,O=k.totalLength;return q.createElement(mn,{begin:y,duration:p,isActive:h,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var j=P.t;if(E){var A=E.length/u.length,T=u.map(function(R,H){var L=Math.floor(H*A);if(E[L]){var M=E[L],X=Lt(M.x,R.x),Z=Lt(M.y,R.y);return fr(fr({},R),{},{x:X(j),y:Z(j)})}if(_){var G=Lt(w*2,R.x),te=Lt(b/2,R.y);return fr(fr({},R),{},{x:G(j),y:te(j)})}return fr(fr({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(T,n,i)}var N=Lt(0,O),$=N(j),V;if(c){var F="".concat(c).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});V=o.getStrokeDasharray($,O,F)}else V=o.generateSimpleStrokeDasharray(O,$);return o.renderCurveStatically(u,n,i,{strokeDasharray:V})})}},{key:"renderCurve",value:function(n,i){var o=this.props,l=o.points,u=o.isAnimationActive,c=this.state,h=c.prevPoints,y=c.totalLength;return u&&l&&l.length&&(!h&&y>0||!bo(h,l))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(l,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,l=i.dot,u=i.points,c=i.className,h=i.xAxis,y=i.yAxis,p=i.top,g=i.left,v=i.width,_=i.height,w=i.isAnimationActive,b=i.id;if(o||!u||!u.length)return null;var k=this.state.isAnimationFinished,E=u.length===1,O=De("recharts-line",c),P=h&&h.allowDataOverflow,j=y&&y.allowDataOverflow,A=P||j,T=Ne(b)?this.id:b,N=(n=Ce(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},$=N.r,V=$===void 0?3:$,F=N.strokeWidth,R=F===void 0?2:F,H=tT(l)?l:{},L=H.clipDot,M=L===void 0?!0:L,X=V*2+R;return q.createElement(Qe,{className:O},P||j?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(T)},q.createElement("rect",{x:P?g:g-v/2,y:j?p:p-_/2,width:P?v:v*2,height:j?_:_*2})),!M&&q.createElement("clipPath",{id:"clipPath-dots-".concat(T)},q.createElement("rect",{x:g-X/2,y:p-X/2,width:v+X,height:_+X}))):null,!E&&this.renderCurve(A,T),this.renderErrorBar(A,T),(E||l)&&this.renderDots(A,M,T),(!w||k)&&Mn.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var o=n.length%2!==0?[].concat(Xa(n),[0]):n,l=[],u=0;u<i;++u)l=[].concat(Xa(l),Xa(o));return l}},{key:"renderDotItem",value:function(n,i){var o;if(q.isValidElement(n))o=q.cloneElement(n,i);else if(Te(n))o=n(i);else{var l=i.key,u=oP(i,eK),c=De("recharts-line-dot",typeof n!="boolean"?n.className:"");o=q.createElement(nf,Js({key:l},u,{className:c}))}return o}}])})(z.PureComponent);Yr(zl,"displayName","Line");Yr(zl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!da.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Yr(zl,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.dataKey,u=t.bandSize,c=t.displayedData,h=t.offset,y=e.layout,p=c.map(function(g,v){var _=Jt(g,l);return y==="horizontal"?{x:nd({axis:r,ticks:i,bandSize:u,entry:g,index:v}),y:Ne(_)?null:n.scale(_),value:_,payload:g}:{x:Ne(_)?null:r.scale(_),y:nd({axis:n,ticks:o,bandSize:u,entry:g,index:v}),value:_,payload:g}});return fr({points:p,layout:y},h)});var hK=["layout","type","stroke","connectNulls","isRange","ref"],pK=["key"],UC;function Co(t){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(t)}function FC(t,e){if(t==null)return{};var r=yK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ea(){return ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ea.apply(this,arguments)}function uP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(r),!0).forEach(function(n){fn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HC(n.key),n)}}function gK(t,e,r){return e&&cP(t.prototype,e),r&&cP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vK(t,e,r){return e=Od(e),xK(t,WC()?Reflect.construct(e,r||[],Od(t).constructor):e.apply(t,r))}function xK(t,e){if(e&&(Co(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bK(t)}function bK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WC=function(){return!!t})()}function Od(t){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(t)}function wK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W0(t,e)}function W0(t,e){return W0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},W0(t,e)}function fn(t,e,r){return e=HC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HC(t){var e=_K(t,"string");return Co(e)=="symbol"?e:e+""}function _K(t,e){if(Co(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bn=(function(t){function e(){var r;mK(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=vK(this,e,[].concat(i)),fn(r,"state",{isAnimationFinished:!0}),fn(r,"id",zo("recharts-area-")),fn(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Te(l)&&l()}),fn(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Te(l)&&l()}),r}return wK(e,t),gK(e,[{key:"renderDots",value:function(n,i,o){var l=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(l&&!u)return null;var c=this.props,h=c.dot,y=c.points,p=c.dataKey,g=Ce(this.props,!1),v=Ce(h,!0),_=y.map(function(b,k){var E=fi(fi(fi({key:"dot-".concat(k),r:3},g),v),{},{index:k,cx:b.x,cy:b.y,dataKey:p,value:b.value,payload:b.payload,points:y});return e.renderDotItem(h,E)}),w={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return q.createElement(Qe,ea({className:"recharts-area-dots"},w),_)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,o=i.baseLine,l=i.points,u=i.strokeWidth,c=l[0].x,h=l[l.length-1].x,y=n*Math.abs(c-h),p=gi(l.map(function(g){return g.y||0}));return ue(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(gi(o.map(function(g){return g.y||0})),p)),ue(p)?q.createElement("rect",{x:c<h?c:c-y,y:0,width:y,height:Math.floor(p+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,o=i.baseLine,l=i.points,u=i.strokeWidth,c=l[0].y,h=l[l.length-1].y,y=n*Math.abs(c-h),p=gi(l.map(function(g){return g.x||0}));return ue(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(gi(o.map(function(g){return g.x||0})),p)),ue(p)?q.createElement("rect",{x:0,y:c<h?c:c-y,width:p+(u?parseInt("".concat(u),10):1),height:Math.floor(y)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,o,l){var u=this.props,c=u.layout,h=u.type,y=u.stroke,p=u.connectNulls,g=u.isRange;u.ref;var v=FC(u,hK);return q.createElement(Qe,{clipPath:o?"url(#clipPath-".concat(l,")"):null},q.createElement(lo,ea({},Ce(v,!0),{points:n,connectNulls:p,type:h,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),y!=="none"&&q.createElement(lo,ea({},Ce(this.props,!1),{className:"recharts-area-curve",layout:c,type:h,connectNulls:p,fill:"none",points:n})),y!=="none"&&g&&q.createElement(lo,ea({},Ce(this.props,!1),{className:"recharts-area-curve",layout:c,type:h,connectNulls:p,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var o=this,l=this.props,u=l.points,c=l.baseLine,h=l.isAnimationActive,y=l.animationBegin,p=l.animationDuration,g=l.animationEasing,v=l.animationId,_=this.state,w=_.prevPoints,b=_.prevBaseLine;return q.createElement(mn,{begin:y,duration:p,isActive:h,easing:g,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var E=k.t;if(w){var O=w.length/u.length,P=u.map(function(N,$){var V=Math.floor($*O);if(w[V]){var F=w[V],R=Lt(F.x,N.x),H=Lt(F.y,N.y);return fi(fi({},N),{},{x:R(E),y:H(E)})}return N}),j;if(ue(c)&&typeof c=="number"){var A=Lt(b,c);j=A(E)}else if(Ne(c)||Lo(c)){var T=Lt(b,0);j=T(E)}else j=c.map(function(N,$){var V=Math.floor($*O);if(b[V]){var F=b[V],R=Lt(F.x,N.x),H=Lt(F.y,N.y);return fi(fi({},N),{},{x:R(E),y:H(E)})}return N});return o.renderAreaStatically(P,j,n,i)}return q.createElement(Qe,null,q.createElement("defs",null,q.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(E))),q.createElement(Qe,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(u,c,n,i)))})}},{key:"renderArea",value:function(n,i){var o=this.props,l=o.points,u=o.baseLine,c=o.isAnimationActive,h=this.state,y=h.prevPoints,p=h.prevBaseLine,g=h.totalLength;return c&&l&&l.length&&(!y&&g>0||!bo(y,l)||!bo(p,u))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(l,u,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,l=i.dot,u=i.points,c=i.className,h=i.top,y=i.left,p=i.xAxis,g=i.yAxis,v=i.width,_=i.height,w=i.isAnimationActive,b=i.id;if(o||!u||!u.length)return null;var k=this.state.isAnimationFinished,E=u.length===1,O=De("recharts-area",c),P=p&&p.allowDataOverflow,j=g&&g.allowDataOverflow,A=P||j,T=Ne(b)?this.id:b,N=(n=Ce(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},$=N.r,V=$===void 0?3:$,F=N.strokeWidth,R=F===void 0?2:F,H=tT(l)?l:{},L=H.clipDot,M=L===void 0?!0:L,X=V*2+R;return q.createElement(Qe,{className:O},P||j?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(T)},q.createElement("rect",{x:P?y:y-v/2,y:j?h:h-_/2,width:P?v:v*2,height:j?_:_*2})),!M&&q.createElement("clipPath",{id:"clipPath-dots-".concat(T)},q.createElement("rect",{x:y-X/2,y:h-X/2,width:v+X,height:_+X}))):null,E?null:this.renderArea(A,T),(l||E)&&this.renderDots(A,M,T),(!w||k)&&Mn.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(z.PureComponent);UC=Bn;fn(Bn,"displayName","Area");fn(Bn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!da.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});fn(Bn,"getBaseValue",function(t,e,r,n){var i=t.layout,o=t.baseValue,l=e.props.baseValue,u=l??o;if(ue(u)&&typeof u=="number")return u;var c=i==="horizontal"?n:r,h=c.scale.domain();if(c.type==="number"){var y=Math.max(h[0],h[1]),p=Math.min(h[0],h[1]);return u==="dataMin"?p:u==="dataMax"||y<0?y:Math.max(Math.min(h[0],h[1]),0)}return u==="dataMin"?h[0]:u==="dataMax"?h[1]:h[0]});fn(Bn,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.bandSize,c=t.dataKey,h=t.stackedData,y=t.dataStartIndex,p=t.displayedData,g=t.offset,v=e.layout,_=h&&h.length,w=UC.getBaseValue(e,r,n,i),b=v==="horizontal",k=!1,E=p.map(function(P,j){var A;_?A=h[y+j]:(A=Jt(P,c),Array.isArray(A)?k=!0:A=[w,A]);var T=A[1]==null||_&&Jt(P,c)==null;return b?{x:nd({axis:n,ticks:o,bandSize:u,entry:P,index:j}),y:T?null:i.scale(A[1]),value:A,payload:P}:{x:T?null:n.scale(A[1]),y:nd({axis:i,ticks:l,bandSize:u,entry:P,index:j}),value:A,payload:P}}),O;return _||k?O=E.map(function(P){var j=Array.isArray(P.value)?P.value[0]:null;return b?{x:P.x,y:j!=null&&P.y!=null?i.scale(j):null}:{x:j!=null?n.scale(j):null,y:P.y}}):O=b?i.scale(w):n.scale(w),fi({points:E,baseLine:O,layout:v,isRange:k},g)});fn(Bn,"renderDotItem",function(t,e){var r;if(q.isValidElement(t))r=q.cloneElement(t,e);else if(Te(t))r=t(e);else{var n=De("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=FC(e,pK);r=q.createElement(nf,ea({},o,{key:i,className:n}))}return r});function No(t){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(t)}function SK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GC(n.key),n)}}function OK(t,e,r){return e&&jK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kK(t,e,r){return e=kd(e),EK(t,VC()?Reflect.construct(e,r||[],kd(t).constructor):e.apply(t,r))}function EK(t,e){if(e&&(No(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AK(t)}function AK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VC=function(){return!!t})()}function kd(t){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kd(t)}function PK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H0(t,e)}function H0(t,e){return H0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},H0(t,e)}function KC(t,e,r){return e=GC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GC(t){var e=TK(t,"string");return No(e)=="symbol"?e:e+""}function TK(t,e){if(No(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(No(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function V0(){return V0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V0.apply(this,arguments)}function CK(t){var e=t.xAxisId,r=nb(),n=ib(),i=EC(e);return i==null?null:z.createElement(Wo,V0({},i,{className:De("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return Nn(l,!0)}}))}var ff=(function(t){function e(){return SK(this,e),kK(this,e,arguments)}return PK(e,t),OK(e,[{key:"render",value:function(){return z.createElement(CK,this.props)}}])})(z.Component);KC(ff,"displayName","XAxis");KC(ff,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Io(t){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(t)}function NK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JC(n.key),n)}}function RK(t,e,r){return e&&IK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $K(t,e,r){return e=Ed(e),MK(t,XC()?Reflect.construct(e,r||[],Ed(t).constructor):e.apply(t,r))}function MK(t,e){if(e&&(Io(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DK(t)}function DK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XC=function(){return!!t})()}function Ed(t){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(t)}function LK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K0(t,e)}function K0(t,e){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K0(t,e)}function YC(t,e,r){return e=JC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JC(t){var e=zK(t,"string");return Io(e)=="symbol"?e:e+""}function zK(t,e){if(Io(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function G0(){return G0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G0.apply(this,arguments)}var BK=function(e){var r=e.yAxisId,n=nb(),i=ib(),o=AC(r);return o==null?null:z.createElement(Wo,G0({},o,{className:De("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return Nn(u,!0)}}))},hf=(function(t){function e(){return NK(this,e),$K(this,e,arguments)}return LK(e,t),RK(e,[{key:"render",value:function(){return z.createElement(BK,this.props)}}])})(z.Component);YC(hf,"displayName","YAxis");YC(hf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function dP(t){return WK(t)||FK(t)||UK(t)||qK()}function qK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UK(t,e){if(t){if(typeof t=="string")return X0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X0(t,e)}}function FK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WK(t){if(Array.isArray(t))return X0(t)}function X0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Y0=function(e,r,n,i,o){var l=Cr(e,ob),u=Cr(e,uf),c=[].concat(dP(l),dP(u)),h=Cr(e,df),y="".concat(i,"Id"),p=i[0],g=r;if(c.length&&(g=c.reduce(function(w,b){if(b.props[y]===n&&pn(b.props,"extendDomain")&&ue(b.props[p])){var k=b.props[p];return[Math.min(w[0],k),Math.max(w[1],k)]}return w},g)),h.length){var v="".concat(p,"1"),_="".concat(p,"2");g=h.reduce(function(w,b){if(b.props[y]===n&&pn(b.props,"extendDomain")&&ue(b.props[v])&&ue(b.props[_])){var k=b.props[v],E=b.props[_];return[Math.min(w[0],k,E),Math.max(w[1],k,E)]}return w},g)}return o&&o.length&&(g=o.reduce(function(w,b){return ue(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},g)),g},vv={exports:{}},fP;function HK(){return fP||(fP=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,h,y){this.fn=c,this.context=h,this.once=y||!1}function o(c,h,y,p,g){if(typeof y!="function")throw new TypeError("The listener must be a function");var v=new i(y,p||c,g),_=r?r+h:h;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],v]:c._events[_].push(v):(c._events[_]=v,c._eventsCount++),c}function l(c,h){--c._eventsCount===0?c._events=new n:delete c._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],y,p;if(this._eventsCount===0)return h;for(p in y=this._events)e.call(y,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(y)):h},u.prototype.listeners=function(h){var y=r?r+h:h,p=this._events[y];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,_=new Array(v);g<v;g++)_[g]=p[g].fn;return _},u.prototype.listenerCount=function(h){var y=r?r+h:h,p=this._events[y];return p?p.fn?1:p.length:0},u.prototype.emit=function(h,y,p,g,v,_){var w=r?r+h:h;if(!this._events[w])return!1;var b=this._events[w],k=arguments.length,E,O;if(b.fn){switch(b.once&&this.removeListener(h,b.fn,void 0,!0),k){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,y),!0;case 3:return b.fn.call(b.context,y,p),!0;case 4:return b.fn.call(b.context,y,p,g),!0;case 5:return b.fn.call(b.context,y,p,g,v),!0;case 6:return b.fn.call(b.context,y,p,g,v,_),!0}for(O=1,E=new Array(k-1);O<k;O++)E[O-1]=arguments[O];b.fn.apply(b.context,E)}else{var P=b.length,j;for(O=0;O<P;O++)switch(b[O].once&&this.removeListener(h,b[O].fn,void 0,!0),k){case 1:b[O].fn.call(b[O].context);break;case 2:b[O].fn.call(b[O].context,y);break;case 3:b[O].fn.call(b[O].context,y,p);break;case 4:b[O].fn.call(b[O].context,y,p,g);break;default:if(!E)for(j=1,E=new Array(k-1);j<k;j++)E[j-1]=arguments[j];b[O].fn.apply(b[O].context,E)}}return!0},u.prototype.on=function(h,y,p){return o(this,h,y,p,!1)},u.prototype.once=function(h,y,p){return o(this,h,y,p,!0)},u.prototype.removeListener=function(h,y,p,g){var v=r?r+h:h;if(!this._events[v])return this;if(!y)return l(this,v),this;var _=this._events[v];if(_.fn)_.fn===y&&(!g||_.once)&&(!p||_.context===p)&&l(this,v);else{for(var w=0,b=[],k=_.length;w<k;w++)(_[w].fn!==y||g&&!_[w].once||p&&_[w].context!==p)&&b.push(_[w]);b.length?this._events[v]=b.length===1?b[0]:b:l(this,v)}return this},u.prototype.removeAllListeners=function(h){var y;return h?(y=r?r+h:h,this._events[y]&&l(this,y)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(vv)),vv.exports}var VK=HK();const KK=Ge(VK);var xv=new KK,bv="recharts.syncMouseEvents";function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function GK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QC(n.key),n)}}function YK(t,e,r){return e&&XK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wv(t,e,r){return e=QC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QC(t){var e=JK(t,"string");return Bl(e)=="symbol"?e:e+""}function JK(t,e){if(Bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QK=(function(){function t(){GK(this,t),wv(this,"activeIndex",0),wv(this,"coordinateList",[]),wv(this,"layout","horizontal")}return YK(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,l=r.container,u=l===void 0?null:l,c=r.layout,h=c===void 0?null:c,y=r.offset,p=y===void 0?null:y,g=r.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=h??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,l=i.y,u=i.height,c=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,y=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=o+c+h,g=l+this.offset.top+u/2+y;this.mouseHandlerCallback({pageX:p,pageY:g})}}}])})();function ZK(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&ue(n)&&ue(i))return!0}return!1}function eG(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function ZC(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,l=zt(e,r,n,i),u=zt(e,r,n,o);return{points:[l,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function tG(t,e,r){var n,i,o,l;if(t==="horizontal")n=e.x,o=n,i=r.top,l=r.top+r.height;else if(t==="vertical")i=e.y,l=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,h=e.innerRadius,y=e.outerRadius,p=e.angle,g=zt(u,c,h,p),v=zt(u,c,y,p);n=g.x,i=g.y,o=v.x,l=v.y}else return ZC(e);return[{x:n,y:i},{x:o,y:l}]}function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function hP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(r),!0).forEach(function(n){rG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rG(t,e,r){return e=nG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nG(t){var e=iG(t,"string");return ql(e)=="symbol"?e:e+""}function iG(t,e){if(ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aG(t){var e,r,n=t.element,i=t.tooltipEventType,o=t.isActive,l=t.activeCoordinate,u=t.activePayload,c=t.offset,h=t.activeTooltipIndex,y=t.tooltipAxisBandSize,p=t.layout,g=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!o||!l||g!=="ScatterChart"&&i!=="axis")return null;var _,w=lo;if(g==="ScatterChart")_=l,w=V7;else if(g==="BarChart")_=eG(p,l,c,y),w=Zx;else if(p==="radial"){var b=ZC(l),k=b.cx,E=b.cy,O=b.radius,P=b.startAngle,j=b.endAngle;_={cx:k,cy:E,startAngle:P,endAngle:j,innerRadius:O,outerRadius:O},w=nC}else _={points:tG(p,l,c)},w=lo;var A=jc(jc(jc(jc({stroke:"#ccc",pointerEvents:"none"},c),_),Ce(v,!1)),{},{payload:u,payloadIndex:h,className:De("recharts-tooltip-cursor",v.className)});return z.isValidElement(v)?z.cloneElement(v,A):z.createElement(w,A)}var oG=["item"],sG=["children","className","width","height","style","compact","title","desc"];function Ro(t){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(t)}function no(){return no=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},no.apply(this,arguments)}function pP(t,e){return cG(t)||uG(t,e)||tN(t,e)||lG()}function lG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],c=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(y){h=!0,i=y}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function cG(t){if(Array.isArray(t))return t}function yP(t,e){if(t==null)return{};var r=dG(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rN(n.key),n)}}function pG(t,e,r){return e&&hG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yG(t,e,r){return e=Ad(e),mG(t,eN()?Reflect.construct(e,r||[],Ad(t).constructor):e.apply(t,r))}function mG(t,e){if(e&&(Ro(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gG(t)}function gG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eN=function(){return!!t})()}function Ad(t){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ad(t)}function vG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J0(t,e)}function J0(t,e){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J0(t,e)}function $o(t){return wG(t)||bG(t)||tN(t)||xG()}function xG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tN(t,e){if(t){if(typeof t=="string")return Q0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q0(t,e)}}function bG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wG(t){if(Array.isArray(t))return Q0(t)}function Q0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(r),!0).forEach(function(n){_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _e(t,e,r){return e=rN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rN(t){var e=_G(t,"string");return Ro(e)=="symbol"?e:e+""}function _G(t,e){if(Ro(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SG={xAxis:["bottom","top"],yAxis:["left","right"]},jG={width:"100%",height:"100%"},nN={x:0,y:0};function Oc(t){return t}var OG=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},kG=function(e,r,n,i){var o=r.find(function(y){return y&&y.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var l=o.coordinate,u=i.radius;return ee(ee(ee({},i),zt(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}var c=o.coordinate,h=i.angle;return ee(ee(ee({},i),zt(i.cx,i.cy,c,h)),{},{angle:h,radius:c})}return nN},pf=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,l=(n??[]).reduce(function(u,c){var h=c.props.data;return h&&h.length?[].concat($o(u),$o(h)):u},[]);return l.length>0?l:e&&e.length&&ue(i)&&ue(o)?e.slice(i,o+1):[]};function iN(t){return t==="number"?[0,"auto"]:void 0}var Z0=function(e,r,n,i){var o=e.graphicalItems,l=e.tooltipAxis,u=pf(r,e);return n<0||!o||!o.length||n>=u.length?null:o.reduce(function(c,h){var y,p=(y=h.props.data)!==null&&y!==void 0?y:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(l.dataKey&&!l.allowDuplicatedCategory){var v=p===void 0?u:p;g=Pc(v,l.dataKey,i)}else g=p&&p[n]||u[n];return g?[].concat($o(c),[eC(h,g)]):c},[])},gP=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},l=OG(o,n),u=e.orderedTooltipTicks,c=e.tooltipAxis,h=e.tooltipTicks,y=OU(l,u,h,c);if(y>=0&&h){var p=h[y]&&h[y].value,g=Z0(e,r,y,p),v=kG(n,u,y,o);return{activeTooltipIndex:y,activeLabel:p,activePayload:g,activeCoordinate:v}}return null},EG=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,h=r.dataEndIndex,y=e.layout,p=e.children,g=e.stackOffset,v=J2(y,o);return n.reduce(function(_,w){var b,k=w.type.defaultProps!==void 0?ee(ee({},w.type.defaultProps),w.props):w.props,E=k.type,O=k.dataKey,P=k.allowDataOverflow,j=k.allowDuplicatedCategory,A=k.scale,T=k.ticks,N=k.includeHidden,$=k[l];if(_[$])return _;var V=pf(e.data,{graphicalItems:i.filter(function(U){var re,de=l in U.props?U.props[l]:(re=U.type.defaultProps)===null||re===void 0?void 0:re[l];return de===$}),dataStartIndex:c,dataEndIndex:h}),F=V.length,R,H,L;ZK(k.domain,P,E)&&(R=m0(k.domain,null,P),v&&(E==="number"||A!=="auto")&&(L=Xs(V,O,"category")));var M=iN(E);if(!R||R.length===0){var X,Z=(X=k.domain)!==null&&X!==void 0?X:M;if(O){if(R=Xs(V,O,E),E==="category"&&v){var G=m4(R);j&&G?(H=R,R=pd(0,F)):j||(R=PE(Z,R,w).reduce(function(U,re){return U.indexOf(re)>=0?U:[].concat($o(U),[re])},[]))}else if(E==="category")j?R=R.filter(function(U){return U!==""&&!Ne(U)}):R=PE(Z,R,w).reduce(function(U,re){return U.indexOf(re)>=0||re===""||Ne(re)?U:[].concat($o(U),[re])},[]);else if(E==="number"){var te=TU(V,i.filter(function(U){var re,de,ve=l in U.props?U.props[l]:(re=U.type.defaultProps)===null||re===void 0?void 0:re[l],Oe="hide"in U.props?U.props.hide:(de=U.type.defaultProps)===null||de===void 0?void 0:de.hide;return ve===$&&(N||!Oe)}),O,o,y);te&&(R=te)}v&&(E==="number"||A!=="auto")&&(L=Xs(V,O,"category"))}else v?R=pd(0,F):u&&u[$]&&u[$].hasStack&&E==="number"?R=g==="expand"?[0,1]:Z2(u[$].stackGroups,c,h):R=Y2(V,i.filter(function(U){var re=l in U.props?U.props[l]:U.type.defaultProps[l],de="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return re===$&&(N||!de)}),E,y,!0);if(E==="number")R=Y0(p,R,$,o,T),Z&&(R=m0(Z,R,P));else if(E==="category"&&Z){var Q=Z,I=R.every(function(U){return Q.indexOf(U)>=0});I&&(R=Q)}}return ee(ee({},_),{},_e({},$,ee(ee({},k),{},{axisType:o,domain:R,categoricalDomain:L,duplicateDomain:H,originalDomain:(b=k.domain)!==null&&b!==void 0?b:M,isCategorical:v,layout:y})))},{})},AG=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,h=r.dataEndIndex,y=e.layout,p=e.children,g=pf(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:h}),v=g.length,_=J2(y,o),w=-1;return n.reduce(function(b,k){var E=k.type.defaultProps!==void 0?ee(ee({},k.type.defaultProps),k.props):k.props,O=E[l],P=iN("number");if(!b[O]){w++;var j;return _?j=pd(0,v):u&&u[O]&&u[O].hasStack?(j=Z2(u[O].stackGroups,c,h),j=Y0(p,j,O,o)):(j=m0(P,Y2(g,n.filter(function(A){var T,N,$=l in A.props?A.props[l]:(T=A.type.defaultProps)===null||T===void 0?void 0:T[l],V="hide"in A.props?A.props.hide:(N=A.type.defaultProps)===null||N===void 0?void 0:N.hide;return $===O&&!V}),"number",y),i.defaultProps.allowDataOverflow),j=Y0(p,j,O,o)),ee(ee({},b),{},_e({},O,ee(ee({axisType:o},i.defaultProps),{},{hide:!0,orientation:Tr(SG,"".concat(o,".").concat(w%2),null),domain:j,originalDomain:P,isCategorical:_,layout:y})))}return b},{})},PG=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,c=r.dataStartIndex,h=r.dataEndIndex,y=e.children,p="".concat(i,"Id"),g=Cr(y,o),v={};return g&&g.length?v=EG(e,{axes:g,graphicalItems:l,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:h}):l&&l.length&&(v=AG(e,{Axis:o,graphicalItems:l,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:h})),v},TG=function(e){var r=mi(e),n=Nn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:kx(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:id(r,n)}},vP=function(e){var r=e.children,n=e.defaultShowTooltip,i=pr(r,jo),o=0,l=0;return e.data&&e.data.length!==0&&(l=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},CG=function(e){return!e||!e.length?!1:e.some(function(r){var n=In(r&&r.type);return n&&n.indexOf("Bar")>=0})},xP=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},NG=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,l=o===void 0?{}:o,u=e.yAxisMap,c=u===void 0?{}:u,h=n.width,y=n.height,p=n.children,g=n.margin||{},v=pr(p,jo),_=pr(p,ta),w=Object.keys(c).reduce(function(j,A){var T=c[A],N=T.orientation;return!T.mirror&&!T.hide?ee(ee({},j),{},_e({},N,j[N]+T.width)):j},{left:g.left||0,right:g.right||0}),b=Object.keys(l).reduce(function(j,A){var T=l[A],N=T.orientation;return!T.mirror&&!T.hide?ee(ee({},j),{},_e({},N,Tr(j,"".concat(N))+T.height)):j},{top:g.top||0,bottom:g.bottom||0}),k=ee(ee({},b),w),E=k.bottom;v&&(k.bottom+=v.props.height||jo.defaultProps.height),_&&r&&(k=AU(k,i,n,r));var O=h-k.left-k.right,P=y-k.top-k.bottom;return ee(ee({brushBottom:E},k),{},{width:Math.max(O,0),height:Math.max(P,0)})},IG=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},RG=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,l=e.validateTooltipEventTypes,u=l===void 0?["axis"]:l,c=e.axisComponents,h=e.legendContent,y=e.formatAxisMap,p=e.defaultProps,g=function(k,E){var O=E.graphicalItems,P=E.stackGroups,j=E.offset,A=E.updateId,T=E.dataStartIndex,N=E.dataEndIndex,$=k.barSize,V=k.layout,F=k.barGap,R=k.barCategoryGap,H=k.maxBarSize,L=xP(V),M=L.numericAxisName,X=L.cateAxisName,Z=CG(O),G=[];return O.forEach(function(te,Q){var I=pf(k.data,{graphicalItems:[te],dataStartIndex:T,dataEndIndex:N}),U=te.type.defaultProps!==void 0?ee(ee({},te.type.defaultProps),te.props):te.props,re=U.dataKey,de=U.maxBarSize,ve=U["".concat(M,"Id")],Oe=U["".concat(X,"Id")],$e={},Ae=c.reduce(function(Qt,Dr){var ya=E["".concat(Dr.axisType,"Map")],Ho=U["".concat(Dr.axisType,"Id")];ya&&ya[Ho]||Dr.axisType==="zAxis"||la();var Vo=ya[Ho];return ee(ee({},Qt),{},_e(_e({},Dr.axisType,Vo),"".concat(Dr.axisType,"Ticks"),Nn(Vo)))},$e),se=Ae[X],xe=Ae["".concat(X,"Ticks")],Pe=P&&P[ve]&&P[ve].hasStack&&UU(te,P[ve].stackGroups),ae=In(te.type).indexOf("Bar")>=0,Ve=id(se,xe),Re=[],st=Z&&kU({barSize:$,stackGroups:P,totalSize:IG(Ae,X)});if(ae){var lt,kt,Mr=Ne(de)?H:de,tn=(lt=(kt=id(se,xe,!0))!==null&&kt!==void 0?kt:Mr)!==null&&lt!==void 0?lt:0;Re=EU({barGap:F,barCategoryGap:R,bandSize:tn!==Ve?tn:Ve,sizeList:st[Oe],maxBarSize:Mr}),tn!==Ve&&(Re=Re.map(function(Qt){return ee(ee({},Qt),{},{position:ee(ee({},Qt.position),{},{offset:Qt.position.offset-tn/2})})}))}var rn=te&&te.type&&te.type.getComposedData;rn&&G.push({props:ee(ee({},rn(ee(ee({},Ae),{},{displayedData:I,props:k,dataKey:re,item:te,bandSize:Ve,barPosition:Re,offset:j,stackedData:Pe,layout:V,dataStartIndex:T,dataEndIndex:N}))),{},_e(_e(_e({key:te.key||"item-".concat(Q)},M,Ae[M]),X,Ae[X]),"animationId",A)),childIndex:A4(te,k.children),item:te})}),G},v=function(k,E){var O=k.props,P=k.dataStartIndex,j=k.dataEndIndex,A=k.updateId;if(!WS({props:O}))return null;var T=O.children,N=O.layout,$=O.stackOffset,V=O.data,F=O.reverseStackOrder,R=xP(N),H=R.numericAxisName,L=R.cateAxisName,M=Cr(T,n),X=zU(V,M,"".concat(H,"Id"),"".concat(L,"Id"),$,F),Z=c.reduce(function(U,re){var de="".concat(re.axisType,"Map");return ee(ee({},U),{},_e({},de,PG(O,ee(ee({},re),{},{graphicalItems:M,stackGroups:re.axisType===H&&X,dataStartIndex:P,dataEndIndex:j}))))},{}),G=NG(ee(ee({},Z),{},{props:O,graphicalItems:M}),E?.legendBBox);Object.keys(Z).forEach(function(U){Z[U]=y(O,Z[U],G,U.replace("Map",""),r)});var te=Z["".concat(L,"Map")],Q=TG(te),I=g(O,ee(ee({},Z),{},{dataStartIndex:P,dataEndIndex:j,updateId:A,graphicalItems:M,stackGroups:X,offset:G}));return ee(ee({formattedGraphicalItems:I,graphicalItems:M,offset:G,stackGroups:X},Q),Z)},_=(function(b){function k(E){var O,P,j;return fG(this,k),j=yG(this,k,[E]),_e(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_e(j,"accessibilityManager",new QK),_e(j,"handleLegendBBoxUpdate",function(A){if(A){var T=j.state,N=T.dataStartIndex,$=T.dataEndIndex,V=T.updateId;j.setState(ee({legendBBox:A},v({props:j.props,dataStartIndex:N,dataEndIndex:$,updateId:V},ee(ee({},j.state),{},{legendBBox:A}))))}}),_e(j,"handleReceiveSyncEvent",function(A,T,N){if(j.props.syncId===A){if(N===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(T)}}),_e(j,"handleBrushChange",function(A){var T=A.startIndex,N=A.endIndex;if(T!==j.state.dataStartIndex||N!==j.state.dataEndIndex){var $=j.state.updateId;j.setState(function(){return ee({dataStartIndex:T,dataEndIndex:N},v({props:j.props,dataStartIndex:T,dataEndIndex:N,updateId:$},j.state))}),j.triggerSyncEvent({dataStartIndex:T,dataEndIndex:N})}}),_e(j,"handleMouseEnter",function(A){var T=j.getMouseInfo(A);if(T){var N=ee(ee({},T),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var $=j.props.onMouseEnter;Te($)&&$(N,A)}}),_e(j,"triggeredAfterMouseMove",function(A){var T=j.getMouseInfo(A),N=T?ee(ee({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var $=j.props.onMouseMove;Te($)&&$(N,A)}),_e(j,"handleItemMouseEnter",function(A){j.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),_e(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),_e(j,"handleMouseMove",function(A){A.persist(),j.throttleTriggeredAfterMouseMove(A)}),_e(j,"handleMouseLeave",function(A){j.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};j.setState(T),j.triggerSyncEvent(T);var N=j.props.onMouseLeave;Te(N)&&N(T,A)}),_e(j,"handleOuterEvent",function(A){var T=E4(A),N=Tr(j.props,"".concat(T));if(T&&Te(N)){var $,V;/.*touch.*/i.test(T)?V=j.getMouseInfo(A.changedTouches[0]):V=j.getMouseInfo(A),N(($=V)!==null&&$!==void 0?$:{},A)}}),_e(j,"handleClick",function(A){var T=j.getMouseInfo(A);if(T){var N=ee(ee({},T),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var $=j.props.onClick;Te($)&&$(N,A)}}),_e(j,"handleMouseDown",function(A){var T=j.props.onMouseDown;if(Te(T)){var N=j.getMouseInfo(A);T(N,A)}}),_e(j,"handleMouseUp",function(A){var T=j.props.onMouseUp;if(Te(T)){var N=j.getMouseInfo(A);T(N,A)}}),_e(j,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),_e(j,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&j.handleMouseDown(A.changedTouches[0])}),_e(j,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&j.handleMouseUp(A.changedTouches[0])}),_e(j,"handleDoubleClick",function(A){var T=j.props.onDoubleClick;if(Te(T)){var N=j.getMouseInfo(A);T(N,A)}}),_e(j,"handleContextMenu",function(A){var T=j.props.onContextMenu;if(Te(T)){var N=j.getMouseInfo(A);T(N,A)}}),_e(j,"triggerSyncEvent",function(A){j.props.syncId!==void 0&&xv.emit(bv,j.props.syncId,A,j.eventEmitterSymbol)}),_e(j,"applySyncEvent",function(A){var T=j.props,N=T.layout,$=T.syncMethod,V=j.state.updateId,F=A.dataStartIndex,R=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)j.setState(ee({dataStartIndex:F,dataEndIndex:R},v({props:j.props,dataStartIndex:F,dataEndIndex:R,updateId:V},j.state)));else if(A.activeTooltipIndex!==void 0){var H=A.chartX,L=A.chartY,M=A.activeTooltipIndex,X=j.state,Z=X.offset,G=X.tooltipTicks;if(!Z)return;if(typeof $=="function")M=$(G,A);else if($==="value"){M=-1;for(var te=0;te<G.length;te++)if(G[te].value===A.activeLabel){M=te;break}}var Q=ee(ee({},Z),{},{x:Z.left,y:Z.top}),I=Math.min(H,Q.x+Q.width),U=Math.min(L,Q.y+Q.height),re=G[M]&&G[M].value,de=Z0(j.state,j.props.data,M),ve=G[M]?{x:N==="horizontal"?G[M].coordinate:I,y:N==="horizontal"?U:G[M].coordinate}:nN;j.setState(ee(ee({},A),{},{activeLabel:re,activeCoordinate:ve,activePayload:de,activeTooltipIndex:M}))}else j.setState(A)}),_e(j,"renderCursor",function(A){var T,N=j.state,$=N.isTooltipActive,V=N.activeCoordinate,F=N.activePayload,R=N.offset,H=N.activeTooltipIndex,L=N.tooltipAxisBandSize,M=j.getTooltipEventType(),X=(T=A.props.active)!==null&&T!==void 0?T:$,Z=j.props.layout,G=A.key||"_recharts-cursor";return q.createElement(aG,{key:G,activeCoordinate:V,activePayload:F,activeTooltipIndex:H,chartName:r,element:A,isActive:X,layout:Z,offset:R,tooltipAxisBandSize:L,tooltipEventType:M})}),_e(j,"renderPolarAxis",function(A,T,N){var $=Tr(A,"type.axisType"),V=Tr(j.state,"".concat($,"Map")),F=A.type.defaultProps,R=F!==void 0?ee(ee({},F),A.props):A.props,H=V&&V[R["".concat($,"Id")]];return z.cloneElement(A,ee(ee({},H),{},{className:De($,H.className),key:A.key||"".concat(T,"-").concat(N),ticks:Nn(H,!0)}))}),_e(j,"renderPolarGrid",function(A){var T=A.props,N=T.radialLines,$=T.polarAngles,V=T.polarRadius,F=j.state,R=F.radiusAxisMap,H=F.angleAxisMap,L=mi(R),M=mi(H),X=M.cx,Z=M.cy,G=M.innerRadius,te=M.outerRadius;return z.cloneElement(A,{polarAngles:Array.isArray($)?$:Nn(M,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(V)?V:Nn(L,!0).map(function(Q){return Q.coordinate}),cx:X,cy:Z,innerRadius:G,outerRadius:te,key:A.key||"polar-grid",radialLines:N})}),_e(j,"renderLegend",function(){var A=j.state.formattedGraphicalItems,T=j.props,N=T.children,$=T.width,V=T.height,F=j.props.margin||{},R=$-(F.left||0)-(F.right||0),H=G2({children:N,formattedGraphicalItems:A,legendWidth:R,legendContent:h});if(!H)return null;var L=H.item,M=yP(H,oG);return z.cloneElement(L,ee(ee({},M),{},{chartWidth:$,chartHeight:V,margin:F,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),_e(j,"renderTooltip",function(){var A,T=j.props,N=T.children,$=T.accessibilityLayer,V=pr(N,cn);if(!V)return null;var F=j.state,R=F.isTooltipActive,H=F.activeCoordinate,L=F.activePayload,M=F.activeLabel,X=F.offset,Z=(A=V.props.active)!==null&&A!==void 0?A:R;return z.cloneElement(V,{viewBox:ee(ee({},X),{},{x:X.left,y:X.top}),active:Z,label:M,payload:Z?L:[],coordinate:H,accessibilityLayer:$})}),_e(j,"renderBrush",function(A){var T=j.props,N=T.margin,$=T.data,V=j.state,F=V.offset,R=V.dataStartIndex,H=V.dataEndIndex,L=V.updateId;return z.cloneElement(A,{key:A.key||"_recharts-brush",onChange:bc(j.handleBrushChange,A.props.onChange),data:$,x:ue(A.props.x)?A.props.x:F.left,y:ue(A.props.y)?A.props.y:F.top+F.height+F.brushBottom-(N.bottom||0),width:ue(A.props.width)?A.props.width:F.width,startIndex:R,endIndex:H,updateId:"brush-".concat(L)})}),_e(j,"renderReferenceElement",function(A,T,N){if(!A)return null;var $=j,V=$.clipPathId,F=j.state,R=F.xAxisMap,H=F.yAxisMap,L=F.offset,M=A.type.defaultProps||{},X=A.props,Z=X.xAxisId,G=Z===void 0?M.xAxisId:Z,te=X.yAxisId,Q=te===void 0?M.yAxisId:te;return z.cloneElement(A,{key:A.key||"".concat(T,"-").concat(N),xAxis:R[G],yAxis:H[Q],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:V})}),_e(j,"renderActivePoints",function(A){var T=A.item,N=A.activePoint,$=A.basePoint,V=A.childIndex,F=A.isRange,R=[],H=T.props.key,L=T.item.type.defaultProps!==void 0?ee(ee({},T.item.type.defaultProps),T.item.props):T.item.props,M=L.activeDot,X=L.dataKey,Z=ee(ee({index:V,dataKey:X,cx:N.x,cy:N.y,r:4,fill:Qx(T.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},Ce(M,!1)),Tc(M));return R.push(k.renderActiveDot(M,Z,"".concat(H,"-activePoint-").concat(V))),$?R.push(k.renderActiveDot(M,ee(ee({},Z),{},{cx:$.x,cy:$.y}),"".concat(H,"-basePoint-").concat(V))):F&&R.push(null),R}),_e(j,"renderGraphicChild",function(A,T,N){var $=j.filterFormatItem(A,T,N);if(!$)return null;var V=j.getTooltipEventType(),F=j.state,R=F.isTooltipActive,H=F.tooltipAxis,L=F.activeTooltipIndex,M=F.activeLabel,X=j.props.children,Z=pr(X,cn),G=$.props,te=G.points,Q=G.isRange,I=G.baseLine,U=$.item.type.defaultProps!==void 0?ee(ee({},$.item.type.defaultProps),$.item.props):$.item.props,re=U.activeDot,de=U.hide,ve=U.activeBar,Oe=U.activeShape,$e=!!(!de&&R&&Z&&(re||ve||Oe)),Ae={};V!=="axis"&&Z&&Z.props.trigger==="click"?Ae={onClick:bc(j.handleItemMouseEnter,A.props.onClick)}:V!=="axis"&&(Ae={onMouseLeave:bc(j.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:bc(j.handleItemMouseEnter,A.props.onMouseEnter)});var se=z.cloneElement(A,ee(ee({},$.props),Ae));function xe(Dr){return typeof H.dataKey=="function"?H.dataKey(Dr.payload):null}if($e)if(L>=0){var Pe,ae;if(H.dataKey&&!H.allowDuplicatedCategory){var Ve=typeof H.dataKey=="function"?xe:"payload.".concat(H.dataKey.toString());Pe=Pc(te,Ve,M),ae=Q&&I&&Pc(I,Ve,M)}else Pe=te?.[L],ae=Q&&I&&I[L];if(Oe||ve){var Re=A.props.activeIndex!==void 0?A.props.activeIndex:L;return[z.cloneElement(A,ee(ee(ee({},$.props),Ae),{},{activeIndex:Re})),null,null]}if(!Ne(Pe))return[se].concat($o(j.renderActivePoints({item:$,activePoint:Pe,basePoint:ae,childIndex:L,isRange:Q})))}else{var st,lt=(st=j.getItemByXY(j.state.activeCoordinate))!==null&&st!==void 0?st:{graphicalItem:se},kt=lt.graphicalItem,Mr=kt.item,tn=Mr===void 0?A:Mr,rn=kt.childIndex,Qt=ee(ee(ee({},$.props),Ae),{},{activeIndex:rn});return[z.cloneElement(tn,Qt),null,null]}return Q?[se,null,null]:[se,null]}),_e(j,"renderCustomized",function(A,T,N){return z.cloneElement(A,ee(ee({key:"recharts-customized-".concat(N)},j.props),j.state))}),_e(j,"renderMap",{CartesianGrid:{handler:Oc,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Oc},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Oc},YAxis:{handler:Oc},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((O=E.id)!==null&&O!==void 0?O:zo("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=GT(j.triggeredAfterMouseMove,(P=E.throttleDelay)!==null&&P!==void 0?P:1e3/60),j.state={},j}return vG(k,b),pG(k,[{key:"componentDidMount",value:function(){var O,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var O=this.props,P=O.children,j=O.data,A=O.height,T=O.layout,N=pr(P,cn);if(N){var $=N.props.defaultIndex;if(!(typeof $!="number"||$<0||$>this.state.tooltipTicks.length-1)){var V=this.state.tooltipTicks[$]&&this.state.tooltipTicks[$].value,F=Z0(this.state,j,$,V),R=this.state.tooltipTicks[$].coordinate,H=(this.state.offset.top+A)/2,L=T==="horizontal",M=L?{x:R,y:H}:{y:R,x:H},X=this.state.formattedGraphicalItems.find(function(G){var te=G.item;return te.type.name==="Scatter"});X&&(M=ee(ee({},M),X.props.points[$].tooltipPosition),F=X.props.points[$].tooltipPayload);var Z={activeTooltipIndex:$,isTooltipActive:!0,activeLabel:V,activePayload:F,activeCoordinate:M};this.setState(Z),this.renderCursor(N),this.accessibilityManager.setIndex($)}}}},{key:"getSnapshotBeforeUpdate",value:function(O,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==O.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==O.margin){var j,A;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(O){Lv([pr(O.children,cn)],[pr(this.props.children,cn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var O=pr(this.props.children,cn);if(O&&typeof O.props.shared=="boolean"){var P=O.props.shared?"axis":"item";return u.indexOf(P)>=0?P:o}return o}},{key:"getMouseInfo",value:function(O){if(!this.container)return null;var P=this.container,j=P.getBoundingClientRect(),A=yB(j),T={chartX:Math.round(O.pageX-A.left),chartY:Math.round(O.pageY-A.top)},N=j.width/P.offsetWidth||1,$=this.inRange(T.chartX,T.chartY,N);if(!$)return null;var V=this.state,F=V.xAxisMap,R=V.yAxisMap,H=this.getTooltipEventType(),L=gP(this.state,this.props.data,this.props.layout,$);if(H!=="axis"&&F&&R){var M=mi(F).scale,X=mi(R).scale,Z=M&&M.invert?M.invert(T.chartX):null,G=X&&X.invert?X.invert(T.chartY):null;return ee(ee({},T),{},{xValue:Z,yValue:G},L)}return L?ee(ee({},T),L):null}},{key:"inRange",value:function(O,P){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,T=O/j,N=P/j;if(A==="horizontal"||A==="vertical"){var $=this.state.offset,V=T>=$.left&&T<=$.left+$.width&&N>=$.top&&N<=$.top+$.height;return V?{x:T,y:N}:null}var F=this.state,R=F.angleAxisMap,H=F.radiusAxisMap;if(R&&H){var L=mi(R);return NE({x:T,y:N},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var O=this.props.children,P=this.getTooltipEventType(),j=pr(O,cn),A={};j&&P==="axis"&&(j.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Tc(this.props,this.handleOuterEvent);return ee(ee({},T),A)}},{key:"addListener",value:function(){xv.on(bv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){xv.removeListener(bv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(O,P,j){for(var A=this.state.formattedGraphicalItems,T=0,N=A.length;T<N;T++){var $=A[T];if($.item===O||$.props.key===O.key||P===In($.item.type)&&j===$.childIndex)return $}return null}},{key:"renderClipPath",value:function(){var O=this.clipPathId,P=this.state.offset,j=P.left,A=P.top,T=P.height,N=P.width;return q.createElement("defs",null,q.createElement("clipPath",{id:O},q.createElement("rect",{x:j,y:A,height:T,width:N})))}},{key:"getXScales",value:function(){var O=this.state.xAxisMap;return O?Object.entries(O).reduce(function(P,j){var A=pP(j,2),T=A[0],N=A[1];return ee(ee({},P),{},_e({},T,N.scale))},{}):null}},{key:"getYScales",value:function(){var O=this.state.yAxisMap;return O?Object.entries(O).reduce(function(P,j){var A=pP(j,2),T=A[0],N=A[1];return ee(ee({},P),{},_e({},T,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(O){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[O])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(O){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[O])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(O){var P=this.state,j=P.formattedGraphicalItems,A=P.activeItem;if(j&&j.length)for(var T=0,N=j.length;T<N;T++){var $=j[T],V=$.props,F=$.item,R=F.type.defaultProps!==void 0?ee(ee({},F.type.defaultProps),F.props):F.props,H=In(F.type);if(H==="Bar"){var L=(V.data||[]).find(function(G){return M7(O,G)});if(L)return{graphicalItem:$,payload:L}}else if(H==="RadialBar"){var M=(V.data||[]).find(function(G){return NE(O,G)});if(M)return{graphicalItem:$,payload:M}}else if(af($,A)||of($,A)||Rl($,A)){var X=k9({graphicalItem:$,activeTooltipItem:A,itemData:R.data}),Z=R.activeIndex===void 0?X:R.activeIndex;return{graphicalItem:ee(ee({},$),{},{childIndex:Z}),payload:Rl($,A)?R.data[X]:$.props.data[X]}}}return null}},{key:"render",value:function(){var O=this;if(!WS(this))return null;var P=this.props,j=P.children,A=P.className,T=P.width,N=P.height,$=P.style,V=P.compact,F=P.title,R=P.desc,H=yP(P,sG),L=Ce(H,!1);if(V)return q.createElement(KA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(Bv,no({},L,{width:T,height:N,title:F,desc:R}),this.renderClipPath(),VS(j,this.renderMap)));if(this.props.accessibilityLayer){var M,X;L.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,L.role=(X=this.props.role)!==null&&X!==void 0?X:"application",L.onKeyDown=function(G){O.accessibilityManager.keyboardEvent(G)},L.onFocus=function(){O.accessibilityManager.focus()}}var Z=this.parseEventsOfWrapper();return q.createElement(KA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",no({className:De("recharts-wrapper",A),style:ee({position:"relative",cursor:"default",width:T,height:N},$)},Z,{ref:function(te){O.container=te}}),q.createElement(Bv,no({},L,{width:T,height:N,title:F,desc:R,style:jG}),this.renderClipPath(),VS(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(z.Component);_e(_,"displayName",r),_e(_,"defaultProps",ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),_e(_,"getDerivedStateFromProps",function(b,k){var E=b.dataKey,O=b.data,P=b.children,j=b.width,A=b.height,T=b.layout,N=b.stackOffset,$=b.margin,V=k.dataStartIndex,F=k.dataEndIndex;if(k.updateId===void 0){var R=vP(b);return ee(ee(ee({},R),{},{updateId:0},v(ee(ee({props:b},R),{},{updateId:0}),k)),{},{prevDataKey:E,prevData:O,prevWidth:j,prevHeight:A,prevLayout:T,prevStackOffset:N,prevMargin:$,prevChildren:P})}if(E!==k.prevDataKey||O!==k.prevData||j!==k.prevWidth||A!==k.prevHeight||T!==k.prevLayout||N!==k.prevStackOffset||!ao($,k.prevMargin)){var H=vP(b),L={chartX:k.chartX,chartY:k.chartY,isTooltipActive:k.isTooltipActive},M=ee(ee({},gP(k,O,T)),{},{updateId:k.updateId+1}),X=ee(ee(ee({},H),L),M);return ee(ee(ee({},X),v(ee({props:b},X),k)),{},{prevDataKey:E,prevData:O,prevWidth:j,prevHeight:A,prevLayout:T,prevStackOffset:N,prevMargin:$,prevChildren:P})}if(!Lv(P,k.prevChildren)){var Z,G,te,Q,I=pr(P,jo),U=I&&(Z=(G=I.props)===null||G===void 0?void 0:G.startIndex)!==null&&Z!==void 0?Z:V,re=I&&(te=(Q=I.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&te!==void 0?te:F,de=U!==V||re!==F,ve=!Ne(O),Oe=ve&&!de?k.updateId:k.updateId+1;return ee(ee({updateId:Oe},v(ee(ee({props:b},k),{},{updateId:Oe,dataStartIndex:U,dataEndIndex:re}),k)),{},{prevChildren:P,dataStartIndex:U,dataEndIndex:re})}return null}),_e(_,"renderActiveDot",function(b,k,E){var O;return z.isValidElement(b)?O=z.cloneElement(b,k):Te(b)?O=b(k):O=q.createElement(nf,k),q.createElement(Qe,{className:"recharts-active-dot",key:E},O)});var w=z.forwardRef(function(k,E){return q.createElement(_,no({},k,{ref:E}))});return w.displayName=_.displayName,w},$G=RG({chartName:"AreaChart",GraphicalChild:Bn,axisComponents:[{axisType:"xAxis",AxisComp:ff},{axisType:"yAxis",AxisComp:hf}],formatAxisMap:_H});function MG({accessToken:t}){const[e,r]=z.useState([]),[n,i]=z.useState(""),[o,l]=z.useState(null),[u,c]=z.useState(!1),[h,y]=z.useState(!1),[p,g]=z.useState(6),[v,_]=z.useState(12);z.useEffect(()=>{w()},[]);const w=async()=>{try{const O=await fetch(`https://${Kt}.supabase.co/functions/v1/make-server-9c637d11/items`,{headers:{Authorization:`Bearer ${t}`}});if(!O.ok)throw new Error("Failed to fetch items");const P=await O.json();r(P.items||[])}catch(O){console.error("Error fetching items:",O)}},b=async()=>{if(!n){alert("Please select an item first");return}y(!0);try{const O=await fetch(`https://${Kt}.supabase.co/functions/v1/make-server-9c637d11/forecast/generate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({itemId:n,periods:p,seasonalPeriods:v})});if(!O.ok){const j=await O.json();throw new Error(j.error||"Failed to generate forecast")}const P=await O.json();l(P)}catch(O){console.error("Error generating forecast:",O),alert(O instanceof Error?O.message:"Failed to generate forecast")}finally{y(!1)}},k=()=>{if(!o)return[];const O=[],P=o.historicalDemand.length;for(let j=0;j<P;j++)O.push({period:`Period ${j+1}`,index:j+1,actual:o.historicalDemand[j],forecast:null,lowerBound:null,upperBound:null});for(let j=0;j<o.forecast.length;j++)O.push({period:`Forecast ${j+1}`,index:P+j+1,actual:null,forecast:o.forecast[j],lowerBound:o.lowerBound[j],upperBound:o.upperBound[j]});return O},E=e.find(O=>O.id===n);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Demand Forecasting"}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Holt-Winters Triple Exponential Smoothing Algorithm"})]}),d.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 px-4 py-2 rounded-lg border border-blue-200",children:[d.jsx(HP,{className:"text-blue-600",size:20}),d.jsx("span",{className:"text-sm font-semibold text-blue-900",children:"AI-Powered"})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Item *"}),d.jsxs("select",{value:n,onChange:O=>i(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[d.jsx("option",{value:"",children:"Choose an item to forecast..."}),e.map(O=>d.jsxs("option",{value:O.id,children:[O.itemCode," - ",O.itemName]},O.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Forecast Periods"}),d.jsx("input",{type:"number",value:p,onChange:O=>g(parseInt(O.target.value)||6),min:"1",max:"24",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"1-24 periods ahead"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seasonal Periods"}),d.jsx("input",{type:"number",value:v,onChange:O=>_(parseInt(O.target.value)||12),min:"2",max:"12",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Seasonality cycle"})]})]}),d.jsx("div",{className:"mt-4",children:d.jsx("button",{onClick:b,disabled:!n||h,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed font-medium",children:h?d.jsxs(d.Fragment,{children:[d.jsx(wi,{className:"animate-spin",size:20}),"Generating Forecast..."]}):d.jsxs(d.Fragment,{children:[d.jsx(co,{size:20}),"Generate Forecast"]})})})]}),d.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(XM,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:20}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-blue-900",children:"Holt-Winters Triple Exponential Smoothing"}),d.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Advanced time series forecasting that captures ",d.jsx("strong",{children:"level"}),", ",d.jsx("strong",{children:"trend"}),", and ",d.jsx("strong",{children:"seasonality"})," patterns in your demand data. Automatically optimizes  (alpha),  (beta), and  (gamma) parameters for maximum accuracy."]})]})]})}),o&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Algorithm"}),d.jsx("p",{className:"text-lg font-bold text-gray-900 mt-1",children:o.algorithm})]}),d.jsx(eo,{className:"text-blue-600",size:24})]})}),d.jsx("div",{className:"bg-green-50 rounded-lg border border-green-200 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Alpha ()"}),d.jsx("p",{className:"text-lg font-bold text-green-700 mt-1",children:o.parameters.alpha?.toFixed(3)||"N/A"})]}),d.jsx("div",{className:"text-xs text-green-600",children:"Level"})]})}),d.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Beta ()"}),d.jsx("p",{className:"text-lg font-bold text-blue-700 mt-1",children:o.parameters.beta?.toFixed(3)||"N/A"})]}),d.jsx("div",{className:"text-xs text-blue-600",children:"Trend"})]})}),d.jsx("div",{className:"bg-purple-50 rounded-lg border border-purple-200 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-purple-700 font-medium",children:"Gamma ()"}),d.jsx("p",{className:"text-lg font-bold text-purple-700 mt-1",children:o.parameters.gamma?.toFixed(3)||"N/A"})]}),d.jsx("div",{className:"text-xs text-purple-600",children:"Season"})]})})]}),o.metrics&&d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Forecast Accuracy Metrics"}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"MAE"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.metrics.mae?.toFixed(2)||"N/A"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mean Absolute Error"})]}),d.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"MSE"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.metrics.mse?.toFixed(2)||"N/A"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mean Squared Error"})]}),d.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"RMSE"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.metrics.rmse?.toFixed(2)||"N/A"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Root Mean Squared Error"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Demand Forecast"}),d.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[E?.itemCode," - ",E?.itemName]})]}),d.jsxs("div",{className:"text-sm text-gray-500",children:["Generated: ",new Date(o.generatedAt).toLocaleString()]})]}),d.jsx(lB,{width:"100%",height:400,children:d.jsxs($G,{data:k(),children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"colorForecast",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),d.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),d.jsxs("linearGradient",{id:"colorActual",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),d.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),d.jsx(zC,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),d.jsx(ff,{dataKey:"period",tick:{fontSize:12},angle:-45,textAnchor:"end",height:80}),d.jsx(hf,{tick:{fontSize:12}}),d.jsx(cn,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),d.jsx(ta,{}),d.jsx(Bn,{type:"monotone",dataKey:"actual",stroke:"#10b981",strokeWidth:2,fill:"url(#colorActual)",name:"Historical Demand",dot:{fill:"#10b981",r:4}}),d.jsx(Bn,{type:"monotone",dataKey:"forecast",stroke:"#3b82f6",strokeWidth:2,fill:"url(#colorForecast)",name:"Forecast",dot:{fill:"#3b82f6",r:4},strokeDasharray:"5 5"}),d.jsx(zl,{type:"monotone",dataKey:"lowerBound",stroke:"#94a3b8",strokeWidth:1,dot:!1,name:"Lower Bound (80%)",strokeDasharray:"3 3"}),d.jsx(zl,{type:"monotone",dataKey:"upperBound",stroke:"#94a3b8",strokeWidth:1,dot:!1,name:"Upper Bound (80%)",strokeDasharray:"3 3"})]})}),d.jsxs("div",{className:"mt-4 flex items-center gap-6 text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),d.jsx("span",{className:"text-gray-600",children:"Historical Demand"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),d.jsx("span",{className:"text-gray-600",children:"Forecast"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-4 h-1 bg-gray-400 rounded"}),d.jsx("span",{className:"text-gray-600",children:"80% Confidence Interval"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Forecast Details"})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-gray-900",children:"Period"}),d.jsx("th",{className:"text-right px-6 py-3 text-sm font-semibold text-gray-900",children:"Forecast"}),d.jsx("th",{className:"text-right px-6 py-3 text-sm font-semibold text-gray-900",children:"Lower Bound"}),d.jsx("th",{className:"text-right px-6 py-3 text-sm font-semibold text-gray-900",children:"Upper Bound"}),d.jsx("th",{className:"text-center px-6 py-3 text-sm font-semibold text-gray-900",children:"Confidence"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200",children:o.forecast.map((O,P)=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsxs("td",{className:"px-6 py-3 text-sm font-medium text-gray-900",children:["Period ",o.historicalDemand.length+P+1]}),d.jsx("td",{className:"px-6 py-3 text-sm text-right font-bold text-blue-600",children:O.toFixed(2)}),d.jsx("td",{className:"px-6 py-3 text-sm text-right text-gray-600",children:o.lowerBound[P].toFixed(2)}),d.jsx("td",{className:"px-6 py-3 text-sm text-right text-gray-600",children:o.upperBound[P].toFixed(2)}),d.jsx("td",{className:"px-6 py-3 text-center",children:d.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700",children:"80%"})})]},P))})]})})]})]}),!o&&!h&&d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[d.jsx(co,{className:"mx-auto text-gray-400 mb-4",size:64}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Forecast Generated Yet"}),d.jsx("p",{className:"text-gray-600",children:'Select an item and click "Generate Forecast" to see AI-powered demand predictions'})]})]})}function DG({accessToken:t}){const[e,r]=z.useState(null),[n,i]=z.useState(!1),[o,l]=z.useState("ALL"),u=async()=>{i(!0);try{const p=await fetch(`https://${Kt}.supabase.co/functions/v1/make-server-9c637d11/planning/mrp`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({})});if(!p.ok){const v=await p.json();throw new Error(v.error||"Failed to run MRP")}const g=await p.json();r(g)}catch(p){console.error("Error running MRP:",p),alert(p instanceof Error?p.message:"Failed to run MRP")}finally{i(!1)}},c=p=>{switch(p){case"CRITICAL":return"bg-red-100 text-red-700 border-red-300";case"HIGH":return"bg-orange-100 text-orange-700 border-orange-300";case"MEDIUM":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"LOW":return"bg-blue-100 text-blue-700 border-blue-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},h=p=>{switch(p){case"CRITICAL":return d.jsx(Jr,{className:"text-red-600",size:20});case"HIGH":return d.jsx(Jr,{className:"text-orange-600",size:20});case"MEDIUM":return d.jsx(Rv,{className:"text-yellow-600",size:20});case"LOW":return d.jsx(xi,{className:"text-blue-600",size:20});default:return null}},y=e?.recommendations.filter(p=>o==="ALL"||p.priority===o)||[];return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"MRP Planning"}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Material Requirements Planning with Min/Max Logic"})]}),d.jsxs("div",{className:"flex items-center gap-2 bg-purple-50 px-4 py-2 rounded-lg border border-purple-200",children:[d.jsx(HP,{className:"text-purple-600",size:20}),d.jsx("span",{className:"text-sm font-semibold text-purple-900",children:"Intelligent Planning"})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[d.jsx("div",{className:"flex items-center gap-4",children:d.jsx("button",{onClick:u,disabled:n,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed font-medium",children:n?d.jsxs(d.Fragment,{children:[d.jsx(wi,{className:"animate-spin",size:20}),"Running MRP Analysis..."]}):d.jsxs(d.Fragment,{children:[d.jsx(eo,{size:20}),"Run MRP Planning"]})})}),e&&d.jsxs("div",{className:"mt-4 text-sm text-gray-600 flex items-center justify-between",children:[d.jsxs("span",{children:["Last run: ",new Date(e.generatedAt).toLocaleString()]}),d.jsxs("button",{onClick:u,className:"flex items-center gap-1 text-blue-600 hover:text-blue-700",children:[d.jsx(Fl,{size:14}),"Refresh"]})]})]}),d.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(eo,{className:"text-purple-600 flex-shrink-0 mt-0.5",size:20}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-purple-900",children:"How MRP Works"}),d.jsxs("p",{className:"text-sm text-purple-700 mt-1",children:["The system analyzes ",d.jsx("strong",{children:"current stock"}),", ",d.jsx("strong",{children:"min/max levels"}),", ",d.jsx("strong",{children:"safety stock"}),",",d.jsx("strong",{children:" forecasted demand"}),", and ",d.jsx("strong",{children:"lead times"})," to generate intelligent replenishment recommendations. Priorities are automatically assigned based on urgency and risk of stockout."]})]})]})}),e&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[d.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Items"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.summary.totalItems})]}),d.jsx(eo,{className:"text-gray-600",size:24})]})}),d.jsx("div",{className:"bg-red-50 rounded-lg border border-red-200 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-red-700 font-medium",children:"Critical"}),d.jsx("p",{className:"text-2xl font-bold text-red-700 mt-1",children:e.summary.criticalCount})]}),d.jsx(Jr,{className:"text-red-600",size:24})]})}),d.jsx("div",{className:"bg-orange-50 rounded-lg border border-orange-200 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-orange-700 font-medium",children:"High"}),d.jsx("p",{className:"text-2xl font-bold text-orange-700 mt-1",children:e.summary.highCount})]}),d.jsx(Jr,{className:"text-orange-600",size:24})]})}),d.jsx("div",{className:"bg-yellow-50 rounded-lg border border-yellow-200 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-yellow-700 font-medium",children:"Medium"}),d.jsx("p",{className:"text-2xl font-bold text-yellow-700 mt-1",children:e.summary.mediumCount})]}),d.jsx(Rv,{className:"text-yellow-600",size:24})]})}),d.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Low"}),d.jsx("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:e.summary.lowCount})]}),d.jsx(xi,{className:"text-blue-600",size:24})]})})]}),e&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter by Priority:"}),d.jsx("div",{className:"flex gap-2",children:["ALL","CRITICAL","HIGH","MEDIUM","LOW"].map(p=>d.jsx("button",{onClick:()=>l(p),className:`px-3 py-1 text-sm font-medium rounded-lg transition-colors ${o===p?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:p},p))})]}),e&&y.length>0&&d.jsx("div",{className:"space-y-4",children:y.map(p=>d.jsxs("div",{className:`bg-white rounded-xl shadow-sm border-2 p-6 ${c(p.priority)}`,children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[d.jsx("div",{className:"p-3 rounded-lg bg-white border border-gray-200",children:h(p.priority)}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900",children:p.itemCode}),d.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-bold rounded-full ${c(p.priority)}`,children:[p.priority," PRIORITY"]})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-3",children:p.itemName}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-gray-500",children:"Current Stock"}),d.jsx("p",{className:"text-lg font-bold text-gray-900",children:p.currentStock})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-gray-500",children:"Min / Max"}),d.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[p.minStock," / ",p.maxStock]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-gray-500",children:"Safety Stock"}),d.jsx("p",{className:"text-lg font-bold text-gray-900",children:p.safetyStock})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-gray-500",children:"Forecasted Demand"}),d.jsx("p",{className:"text-lg font-bold text-blue-600",children:p.forecastedDemand})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-gray-500",children:"Lead Time"}),d.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[p.leadTimeDays," days"]})]})]}),d.jsxs("div",{className:"bg-white/50 rounded-lg p-3 mb-3",children:[d.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Reason:"}),d.jsx("p",{className:"text-sm text-gray-900",children:p.reason})]}),p.daysUntilStockout!==void 0&&p.daysUntilStockout<30&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-700",children:[d.jsx(Jr,{size:16}),d.jsxs("span",{className:"font-medium",children:["Estimated stockout in ",p.daysUntilStockout," days"]})]})]})]}),d.jsxs("div",{className:"text-right ml-4",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Recommended Order"}),d.jsx("p",{className:"text-4xl font-bold text-green-600",children:p.recommendedOrder}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"units"}),p.targetDate&&d.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Target: ",new Date(p.targetDate).toLocaleDateString()]})]})]}),d.jsxs("div",{className:"flex gap-3 mt-4 pt-4 border-t border-gray-200",children:[d.jsx("button",{className:"flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Create Purchase Order"}),d.jsx("button",{className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Schedule Production"}),d.jsx("button",{className:"px-6 bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Ignore"})]})]},p.itemId))}),!e&&!n&&d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[d.jsx(eo,{className:"mx-auto text-gray-400 mb-4",size:64}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No MRP Analysis Yet"}),d.jsx("p",{className:"text-gray-600",children:'Click "Run MRP Planning" to generate intelligent replenishment recommendations'})]}),e&&y.length===0&&d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[d.jsx(xi,{className:"mx-auto text-green-500 mb-4",size:64}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Recommendations"}),d.jsx("p",{className:"text-gray-600",children:o==="ALL"?"All items are within acceptable stock levels!":`No items with ${o} priority at this time.`})]})]})}function LG({accessToken:t}){const[e,r]=z.useState([]),[n,i]=z.useState([]),[o,l]=z.useState([]),[u,c]=z.useState(!0),[h,y]=z.useState(!1),[p,g]=z.useState(""),[v,_]=z.useState(""),[w,b]=z.useState(""),[k,E]=z.useState("IN"),[O,P]=z.useState(0),[j,A]=z.useState(""),[T,N]=z.useState("Manual"),[$,V]=z.useState("");z.useEffect(()=>{F()},[p]);const F=async()=>{try{c(!0);const I=`https://${Kt}.supabase.co/functions/v1/make-server-9c637d11`,[U,re,de]=await Promise.all([fetch(`${I}/stock-movements${p?`?itemId=${p}`:""}`,{headers:{Authorization:`Bearer ${t}`}}),fetch(`${I}/items`,{headers:{Authorization:`Bearer ${t}`}}),fetch(`${I}/inventory`,{headers:{Authorization:`Bearer ${t}`}})]);if(!U.ok||!re.ok||!de.ok)throw new Error("Failed to fetch data");const ve=await U.json(),Oe=await re.json(),$e=await de.json();r(ve.movements||[]),i(Oe.items||[]),l($e.inventory||[])}catch(I){console.error("Error fetching data:",I)}finally{c(!1)}},R=async I=>{if(I.preventDefault(),!(!w||O<=0))try{const U=await fetch(`https://${Kt}.supabase.co/functions/v1/make-server-9c637d11/inventory/adjust`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({itemId:w,movementType:k,transactionType:T,quantity:O,reason:j,referenceType:T,referenceId:$||void 0})}),re=await U.json();if(!U.ok){const de=re.error||"Failed to create stock movement";console.error("Stock movement creation failed:",de),alert(`Error: ${de}`);return}await F(),H()}catch(U){console.error("Error creating stock movement:",U),alert(`Failed to create stock movement: ${U instanceof Error?U.message:"Unknown error"}`)}},H=()=>{y(!1),b(""),E("IN"),P(0),A(""),N("Manual"),V("")},L=I=>n.find(U=>U.id===I),M=I=>o.find(U=>U.itemId===I),X=I=>new Date(I).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Z=e.filter(I=>{if(!v)return!0;const U=L(I.itemId),re=v.toLowerCase();return U?.itemCode.toLowerCase().includes(re)||U?.itemName.toLowerCase().includes(re)||I.reason.toLowerCase().includes(re)||I.referenceType.toLowerCase().includes(re)||I.referenceId.toLowerCase().includes(re)}),G=e.length,te=e.filter(I=>I.movementType==="IN").reduce((I,U)=>I+U.quantity,0),Q=e.filter(I=>I.movementType==="OUT").reduce((I,U)=>I+U.quantity,0);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Stock Movement Ledger"}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Complete audit trail of all inventory transactions"})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:F,className:"flex items-center gap-2 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:[d.jsx(Fl,{size:20}),"Refresh"]}),d.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(al,{size:20}),"New Movement"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Movements"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:G})]}),d.jsx(vD,{className:"text-blue-600",size:24})]})}),d.jsx("div",{className:"bg-green-50 rounded-lg border border-green-200 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Total Inward"}),d.jsxs("p",{className:"text-2xl font-bold text-green-700 mt-1",children:["+",te.toLocaleString()]})]}),d.jsx(bp,{className:"text-green-600",size:24})]})}),d.jsx("div",{className:"bg-red-50 rounded-lg border border-red-200 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-red-700 font-medium",children:"Total Outward"}),d.jsxs("p",{className:"text-2xl font-bold text-red-700 mt-1",children:["-",Q.toLocaleString()]})]}),d.jsx(xp,{className:"text-red-600",size:24})]})})]}),d.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(mD,{size:16,className:"inline mr-1"}),"Filter by Item"]}),d.jsxs("select",{value:p,onChange:I=>g(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[d.jsx("option",{value:"",children:"All Items"}),n.map(I=>d.jsxs("option",{value:I.id,children:[I.itemCode," - ",I.itemName]},I.id))]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(ia,{size:16,className:"inline mr-1"}),"Search Movements"]}),d.jsx("input",{type:"text",value:v,onChange:I=>_(I.target.value),placeholder:"Search by item, reason, reference...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]})]})}),d.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:u?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx(wi,{className:"animate-spin text-blue-600",size:32})}):Z.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(Xi,{className:"mx-auto text-gray-400 mb-4",size:48}),d.jsx("p",{className:"text-gray-600",children:"No stock movements found"}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:v||p?"Try adjusting your filters":"Create your first stock movement to get started"})]}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:d.jsxs("tr",{children:[d.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Date & Time"}),d.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Item"}),d.jsx("th",{className:"text-center px-6 py-4 text-sm font-semibold text-gray-900",children:"Type"}),d.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-gray-900",children:"Quantity"}),d.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-gray-900",children:"Balance After"}),d.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Reference"}),d.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Reason"}),d.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Created By"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200",children:Z.map(I=>{const U=L(I.itemId),re=I.movementType==="IN";return d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:X(I.createdAt)}),d.jsxs("td",{className:"px-6 py-4 text-sm",children:[d.jsx("div",{className:"font-medium text-gray-900",children:U?.itemCode||"N/A"}),d.jsx("div",{className:"text-gray-500 text-xs",children:U?.itemName})]}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-1 text-xs font-medium rounded-full ${re?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:re?d.jsxs(d.Fragment,{children:[d.jsx(bp,{size:14}),"IN"]}):d.jsxs(d.Fragment,{children:[d.jsx(xp,{size:14}),"OUT"]})})}),d.jsxs("td",{className:"px-6 py-4 text-sm text-right",children:[d.jsxs("span",{className:`font-bold ${re?"text-green-600":"text-red-600"}`,children:[re?"+":"-",I.quantity.toLocaleString()]}),d.jsx("span",{className:"text-gray-500 ml-1",children:U?.uom})]}),d.jsx("td",{className:"px-6 py-4 text-sm text-right font-bold text-gray-900",children:I.balanceAfter.toLocaleString()}),d.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[d.jsx("div",{className:"font-medium",children:I.referenceType}),I.referenceId&&d.jsx("div",{className:"text-xs text-gray-500",children:I.referenceId})]}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 max-w-xs truncate",children:I.reason||"-"}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:I.createdByName})]},I.id)})})]})})}),h&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"p-6 border-b border-gray-200",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Stock Movement"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Record a new inventory transaction"})]}),d.jsxs("form",{onSubmit:R,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Item *"}),d.jsxs("select",{value:w,onChange:I=>b(I.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[d.jsx("option",{value:"",children:"Select an item"}),n.map(I=>{const U=M(I.id);return d.jsxs("option",{value:I.id,children:[I.itemCode," - ",I.itemName," (Current: ",U?.currentStock||0," ",I.uom,")"]},I.id)})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Movement Type *"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("button",{type:"button",onClick:()=>E("IN"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${k==="IN"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[d.jsx(bp,{size:16,className:"inline mr-1"}),"IN"]}),d.jsxs("button",{type:"button",onClick:()=>E("OUT"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${k==="OUT"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[d.jsx(xp,{size:16,className:"inline mr-1"}),"OUT"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),d.jsx("input",{type:"number",value:O,onChange:I=>P(parseInt(I.target.value)||0),required:!0,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference Type"}),d.jsxs("select",{value:T,onChange:I=>N(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[d.jsx("option",{value:"Manual",children:"Manual"}),d.jsx("option",{value:"Production Order",children:"Production Order"}),d.jsx("option",{value:"Blanket Release Shipment",children:"Blanket Release Shipment"}),d.jsx("option",{value:"Purchase Order",children:"Purchase Order"}),d.jsx("option",{value:"Sales Order",children:"Sales Order"}),d.jsx("option",{value:"Stock Adjustment",children:"Stock Adjustment"}),d.jsx("option",{value:"Stock Transfer",children:"Stock Transfer"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reference ID ",T==="Blanket Release Shipment"&&k==="OUT"&&d.jsx("span",{className:"text-red-600",children:"*"})]}),d.jsx("input",{type:"text",value:$,onChange:I=>V(I.target.value),placeholder:"e.g., PO-2024-001, BO-REL-123",required:T==="Blanket Release Shipment"&&k==="OUT",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),T==="Blanket Release Shipment"&&k==="OUT"&&d.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Blanket Release ID is mandatory for shipments"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason / Notes *"}),d.jsx("textarea",{value:j,onChange:I=>A(I.target.value),rows:3,required:!0,placeholder:"Enter the reason for this stock movement (required)...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Required: Provide a clear reason for this stock movement"})]}),w&&d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[d.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Current Stock Information"}),(()=>{const I=L(w),U=M(w);if(!I||!U)return null;const re=k==="IN"?U.currentStock+O:U.currentStock-O;return d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-600",children:"Current Stock:"}),d.jsxs("p",{className:"font-bold text-gray-900",children:[U.currentStock," ",I.uom]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-600",children:"After Transaction:"}),d.jsxs("p",{className:`font-bold ${re<I.minStock?"text-red-600":re>I.maxStock?"text-orange-600":"text-green-600"}`,children:[re," ",I.uom]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-600",children:"Min Stock:"}),d.jsxs("p",{className:"font-bold text-gray-900",children:[I.minStock," ",I.uom]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-600",children:"Max Stock:"}),d.jsxs("p",{className:"font-bold text-gray-900",children:[I.maxStock," ",I.uom]})]})]})})()]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Create Movement"}),d.jsx("button",{type:"button",onClick:H,className:"flex-1 bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"})]})]})]})})]})}const gt=Rr();async function zG(){try{const{data:t,error:e}=await gt.from("profiles").select("*").order("created_at",{ascending:!1});if(e)throw console.error("Get users error:",e),new Error("Failed to fetch users");return(t||[]).map(r=>({...r,created_by_name:null}))}catch(t){throw console.error("Get users exception:",t),t}}async function BG(t,e){try{const{data:{session:r}}=await gt.auth.getSession();if(!r)return{success:!1,error:"Not authenticated"};const{data:n}=await gt.from("profiles").select("role").eq("id",r.user.id).single();if(n?.role!=="L3")return{success:!1,error:"Only L3 managers can create users"};const{data:i}=await gt.from("profiles").select("email").eq("email",t.email);if(i&&i.length>0)return{success:!1,error:"A user with this email already exists"};const{data:o,error:l}=await gt.auth.signUp({email:t.email,password:t.password,options:{data:{full_name:t.full_name,role:t.role}}});if(l)return console.error("Auth signup error:",l),{success:!1,error:l.message};if(!o.user)return{success:!1,error:"Failed to create user"};const u={id:o.user.id,email:t.email,full_name:t.full_name,role:t.role,is_active:!0,employee_id:t.employee_id||null,department:t.department||null,shift:t.shift||null,created_by:e,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),last_login_at:null},{error:c}=await gt.from("profiles").insert(u);if(c)return console.error("Profile creation error:",c),{success:!0,error:"User created but profile setup failed.",user:u};try{await gt.from("audit_log").insert({user_id:r.user.id,action:"CREATE_USER",target_type:"user",target_id:o.user.id,new_value:{email:t.email,role:t.role}})}catch{}return{success:!0,user:u}}catch(r){const n=r instanceof Error?r.message:"Unknown error";return console.error("Create user exception:",r),{success:!1,error:n}}}async function qG(t,e){try{const{data:{user:r}}=await gt.auth.getUser();if(!r)return{success:!1,error:"Not authenticated"};if(t===r.id&&!e)return{success:!1,error:"Cannot deactivate your own account"};const{error:n}=await gt.from("profiles").update({is_active:e,updated_at:new Date().toISOString()}).eq("id",t);return n?(console.error("Update status error:",n),{success:!1,error:"Failed to update status"}):(await gt.from("audit_log").insert({user_id:r.id,action:e?"ACTIVATE_USER":"DEACTIVATE_USER",target_type:"user",target_id:t}),{success:!0})}catch(r){const n=r instanceof Error?r.message:"Unknown error";return console.error("Update status exception:",r),{success:!1,error:n}}}async function UG(t){try{const{data:{user:e}}=await gt.auth.getUser();if(!e)return{success:!1,error:"Not authenticated"};if(t===e.id)return{success:!1,error:"Cannot delete your own account"};const{data:r}=await gt.from("profiles").select("role").eq("id",e.id).single();if(r?.role!=="L3")return{success:!1,error:"Only L3 managers can delete users"};const{data:n}=await gt.from("profiles").select("email, full_name").eq("id",t).single(),{error:i}=await gt.from("profiles").update({is_active:!1,deleted_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",t);if(i)return console.error("Delete user error:",i),{success:!1,error:"Failed to delete user"};try{await gt.from("audit_log").insert({user_id:e.id,action:"DELETE_USER",target_type:"user",target_id:t,old_value:{email:n?.email,full_name:n?.full_name}})}catch{}return{success:!0}}catch(e){const r=e instanceof Error?e.message:"Unknown error";return console.error("Delete user exception:",e),{success:!1,error:r}}}async function FG(t,e){try{const{data:{session:r}}=await gt.auth.getSession();if(!r)return{success:!1,error:"Not authenticated"};const{data:n}=await gt.from("profiles").select("role").eq("id",r.user.id).single();if(n?.role!=="L3")return{success:!1,error:"Only L3 managers can reset passwords"};const{data:i}=await gt.from("profiles").select("email").eq("id",t).single();if(!i?.email)return{success:!1,error:"User not found"};const{error:o}=await gt.auth.resetPasswordForEmail(i.email,{redirectTo:`${window.location.origin}/reset-password`});if(o)return console.error("Password reset error:",o),{success:!1,error:o.message};try{await gt.from("audit_log").insert({user_id:r.user.id,action:"PASSWORD_RESET_EMAIL_SENT",target_type:"user",target_id:t})}catch{}return{success:!0,error:`Password reset email sent to ${i.email}. The user will receive an email with instructions.`}}catch(r){const n=r instanceof Error?r.message:"Unknown error";return console.error("Reset password exception:",r),{success:!1,error:n}}}const bP={L1:{label:"OPERATOR",bg:"#dbeafe",color:"#1d4ed8"},L2:{label:"SUPERVISOR",bg:"#fef3c7",color:"#b45309"},L3:{label:"MANAGER",bg:"#ede9fe",color:"#7c3aed"}};function WG({role:t}){const e=bP[t]||bP.L1;return d.jsx("span",{style:{display:"inline-flex",alignItems:"center",padding:"4px 12px",borderRadius:"20px",fontSize:"11px",fontWeight:"700",letterSpacing:"0.05em",backgroundColor:e.bg,color:e.color},children:e.label})}function HG({currentUserId:t}){const[e,r]=z.useState([]),[n,i]=z.useState(!0),[o,l]=z.useState(null),[u,c]=z.useState(null),[h,y]=z.useState(""),[p,g]=z.useState("all"),[v,_]=z.useState("all"),[w,b]=z.useState(!1),[k,E]=z.useState(null),O=z.useRef(null),[P,j]=z.useState({email:"",password:"",full_name:"",role:"L1",employee_id:"",department:"",shift:"DAY"}),[A,T]=z.useState(!1);z.useEffect(()=>{N()},[]),z.useEffect(()=>{const M=X=>{k&&O.current&&!O.current.contains(X.target)&&E(null)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[k]);const N=async()=>{try{i(!0),l(null);const M=await zG();r(M)}catch{l("Failed to fetch users")}finally{i(!1)}},$=async M=>{M.preventDefault(),T(!0),l(null);const X=await BG(P,t);X.success?(c("User created successfully"),b(!1),j({email:"",password:"",full_name:"",role:"L1",employee_id:"",department:"",shift:"DAY"}),N()):l(X.error||"Failed to create user"),T(!1)},V=async(M,X)=>{const Z=await qG(M,X);Z.success?(c(X?"User activated":"User deactivated"),N(),E(null)):l(Z.error||"Failed to update status")},F=async M=>{const X=await FG(M.id);X.success?(c(X.error||"Password reset email sent"),E(null)):l(X.error||"Failed to send reset email")},R=async M=>{if(!window.confirm(`Are you sure you want to delete ${M.full_name}?`))return;const X=await UG(M.id);X.success?(c("User deleted successfully"),N(),E(null)):l(X.error||"Failed to delete user")},H=e.filter(M=>{const X=M.email.toLowerCase().includes(h.toLowerCase())||M.full_name.toLowerCase().includes(h.toLowerCase())||(M.employee_id||"").toLowerCase().includes(h.toLowerCase()),Z=p==="all"||M.role===p,G=v==="all"||v==="active"&&M.is_active||v==="inactive"&&!M.is_active;return X&&Z&&G}),L={total:e.length,active:e.filter(M=>M.is_active).length,inactive:e.filter(M=>!M.is_active).length,operators:e.filter(M=>M.role==="L1").length,supervisors:e.filter(M=>M.role==="L2").length};return z.useEffect(()=>{if(u){const M=setTimeout(()=>c(null),3e3);return()=>clearTimeout(M)}},[u]),z.useEffect(()=>{if(o){const M=setTimeout(()=>l(null),5e3);return()=>clearTimeout(M)}},[o]),d.jsxs("div",{style:{padding:"32px",backgroundColor:"#f9fafb",minHeight:"100vh",fontFamily:"Inter, sans-serif"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[d.jsxs("div",{children:[d.jsx("h1",{style:{fontSize:"30px",fontWeight:"800",color:"#111827",margin:0},children:"User Management"}),d.jsx("p",{style:{color:"#6b7280",fontSize:"15px",marginTop:"4px"},children:"Manage system users and enterprise permissions"})]}),d.jsxs("button",{onClick:()=>b(!0),style:{display:"flex",alignItems:"center",gap:"10px",padding:"12px 24px",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"10px",fontSize:"15px",fontWeight:"600",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:[d.jsx(ZD,{size:19}),"Add New User"]})]}),u&&d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",backgroundColor:"#dcfce7",color:"#15803d"},children:[d.jsx(xi,{size:20}),u]}),o&&d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",backgroundColor:"#fef2f2",color:"#dc2626"},children:[d.jsx(uo,{size:20}),o]}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"20px",marginBottom:"32px"},children:[{label:"Total Users",value:L.total,color:"#3b82f6",bg:"#eff6ff"},{label:"Active",value:L.active,color:"#10b981",bg:"#ecfdf5"},{label:"Inactive",value:L.inactive,color:"#ef4444",bg:"#fef2f2"},{label:"Operators",value:L.operators,color:"#6366f1",bg:"#f5f3ff"},{label:"Supervisors",value:L.supervisors,color:"#a855f7",bg:"#faf5ff"}].map((M,X)=>d.jsxs("div",{style:{backgroundColor:"white",padding:"24px",borderRadius:"16px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderLeft:`6px solid ${M.color}`},children:[d.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#6b7280",marginBottom:"8px"},children:M.label}),d.jsx("div",{style:{fontSize:"32px",fontWeight:"800",color:"#111827"},children:M.value})]},X))}),d.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"24px",backgroundColor:"white",padding:"16px",borderRadius:"12px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[d.jsxs("div",{style:{position:"relative",flex:1},children:[d.jsx(ia,{size:18,style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),d.jsx("input",{type:"text",placeholder:"Search by name, ID, or email...",value:h,onChange:M=>y(M.target.value),style:{width:"100%",padding:"12px 12px 12px 42px",border:"1px solid #e5e7eb",borderRadius:"10px",fontSize:"14px",boxSizing:"border-box"}})]}),d.jsxs("select",{value:p,onChange:M=>g(M.target.value),style:{padding:"0 16px",border:"1px solid #e5e7eb",borderRadius:"10px",fontSize:"14px",minWidth:"160px"},children:[d.jsx("option",{value:"all",children:"All Roles"}),d.jsx("option",{value:"L1",children:"Operator"}),d.jsx("option",{value:"L2",children:"Supervisor"}),d.jsx("option",{value:"L3",children:"Manager"})]}),d.jsxs("select",{value:v,onChange:M=>_(M.target.value),style:{padding:"0 16px",border:"1px solid #e5e7eb",borderRadius:"10px",fontSize:"14px",minWidth:"160px"},children:[d.jsx("option",{value:"all",children:"All Status"}),d.jsx("option",{value:"active",children:"Active"}),d.jsx("option",{value:"inactive",children:"Inactive"})]}),d.jsxs("button",{onClick:N,style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",border:"1px solid #e2e8f0",borderRadius:"8px",backgroundColor:"white",cursor:"pointer"},children:[d.jsx(Fl,{size:16}),"Refresh"]})]}),d.jsx("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",overflow:"hidden"},children:n?d.jsxs("div",{style:{padding:"60px",textAlign:"center"},children:[d.jsx(wi,{size:32,style:{animation:"spin 1s linear infinite"}}),d.jsx("p",{style:{marginTop:"16px",color:"#64748b"},children:"Loading users..."})]}):H.length===0?d.jsxs("div",{style:{padding:"60px",textAlign:"center"},children:[d.jsx(UP,{size:48,style:{color:"#cbd5e1"}}),d.jsx("p",{style:{marginTop:"16px",color:"#64748b"},children:"No users found"})]}):d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[d.jsx("thead",{children:d.jsx("tr",{style:{backgroundColor:"#f9fafb",borderBottom:"1px solid #e5e7eb"},children:["Employee ID","Name","Email","Role","Department","Shift","Status","Actions"].map(M=>d.jsx("th",{style:{padding:"18px 24px",textAlign:"left",fontSize:"12px",fontWeight:"700",color:"#4b5563",textTransform:"uppercase",letterSpacing:"0.05em"},children:M},M))})}),d.jsx("tbody",{children:H.map(M=>d.jsxs("tr",{style:{borderBottom:"1px solid #f3f4f6",backgroundColor:M.id===t?"#f0f9ff":"transparent"},children:[d.jsx("td",{style:{padding:"20px 24px",fontSize:"14px",fontWeight:"600",color:"#374151"},children:M.employee_id||"---"}),d.jsxs("td",{style:{padding:"20px 24px"},children:[d.jsx("div",{style:{fontWeight:"600",color:"#111827"},children:M.full_name}),d.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af"},children:["@",M.email.split("@")[0]]})]}),d.jsx("td",{style:{padding:"20px 24px",fontSize:"14px",color:"#4b5563"},children:M.email}),d.jsx("td",{style:{padding:"20px 24px"},children:d.jsx(WG,{role:M.role})}),d.jsx("td",{style:{padding:"20px 24px",fontSize:"14px",color:"#4b5563"},children:M.department||"Production"}),d.jsx("td",{style:{padding:"20px 24px",fontSize:"14px",color:"#4b5563"},children:M.shift||"DAY"}),d.jsx("td",{style:{padding:"20px 24px"},children:d.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",backgroundColor:M.is_active?"#ecfdf5":"#fef2f2",color:M.is_active?"#059669":"#dc2626"},children:[M.is_active?d.jsx(JD,{size:14}):d.jsx(tL,{size:14}),M.is_active?"Active":"Inactive"]})}),d.jsxs("td",{style:{padding:"20px 24px",position:"relative"},children:[M.id!==t&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>E(k===M.id?null:M.id),style:{padding:"8px",backgroundColor:"transparent",border:"none",cursor:"pointer",borderRadius:"8px",color:"#6b7280"},children:d.jsx(uD,{size:20})}),k===M.id&&d.jsxs("div",{ref:O,style:{position:"absolute",right:"60px",bottom:"0",zIndex:50,width:"180px",backgroundColor:"white",borderRadius:"12px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e5e7eb",overflow:"hidden"},children:[d.jsxs("button",{onClick:()=>{},style:{width:"100%",padding:"12px 16px",display:"flex",alignItems:"center",gap:"10px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"14px",textAlign:"left",color:"#374151"},children:[d.jsx(nL,{size:16})," Edit Details"]}),d.jsxs("button",{onClick:()=>V(M.id,!M.is_active),style:{width:"100%",padding:"12px 16px",display:"flex",alignItems:"center",gap:"10px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"14px",textAlign:"left",color:M.is_active?"#f59e0b":"#10b981"},children:[d.jsx(qD,{size:16})," ",M.is_active?"Deactivate":"Activate"]}),d.jsxs("button",{onClick:()=>F(M),style:{width:"100%",padding:"12px 16px",display:"flex",alignItems:"center",gap:"10px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"14px",textAlign:"left",color:"#4b5563"},children:[d.jsx(_D,{size:16})," Reset Password"]}),d.jsx("div",{style:{borderTop:"1px solid #f3f4f6"}}),d.jsxs("button",{onClick:()=>R(M),style:{width:"100%",padding:"12px 16px",display:"flex",alignItems:"center",gap:"10px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"14px",textAlign:"left",color:"#ef4444"},children:[d.jsx(Id,{size:16})," Delete User"]})]})]}),M.id===t&&d.jsx("span",{style:{color:"#94a3b8",fontSize:"12px"},children:"You"})]})]},M.id))})]})}),w&&d.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},children:d.jsxs("div",{style:{backgroundColor:"white",padding:"32px",borderRadius:"20px",width:"100%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[d.jsx("h2",{style:{fontSize:"24px",fontWeight:"800",margin:0},children:"Add New Enterprise User"}),d.jsx("button",{onClick:()=>b(!1),style:{border:"none",backgroundColor:"transparent",cursor:"pointer",color:"#6b7280"},children:d.jsx(WP,{size:24})})]}),d.jsxs("form",{onSubmit:$,children:[d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[d.jsxs("div",{children:[d.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Full Name"}),d.jsx("input",{type:"text",required:!0,value:P.full_name,onChange:M=>j({...P,full_name:M.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"}})]}),d.jsxs("div",{children:[d.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Employee ID"}),d.jsx("input",{type:"text",placeholder:"EMP000",value:P.employee_id,onChange:M=>j({...P,employee_id:M.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"}})]})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[d.jsxs("div",{children:[d.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Email Address"}),d.jsx("input",{type:"email",required:!0,value:P.email,onChange:M=>j({...P,email:M.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"}})]}),d.jsxs("div",{children:[d.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Password"}),d.jsx("input",{type:"password",required:!0,value:P.password,onChange:M=>j({...P,password:M.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"}})]})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[d.jsxs("div",{children:[d.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Department"}),d.jsxs("select",{value:P.department,onChange:M=>j({...P,department:M.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"},children:[d.jsx("option",{value:"",children:"Select Department"}),d.jsx("option",{value:"Cutting",children:"Cutting"}),d.jsx("option",{value:"Production",children:"Production"}),d.jsx("option",{value:"Quality",children:"Quality"}),d.jsx("option",{value:"Dispatch",children:"Dispatch"})]})]}),d.jsxs("div",{children:[d.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Shift"}),d.jsxs("select",{value:P.shift,onChange:M=>j({...P,shift:M.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"},children:[d.jsx("option",{value:"DAY",children:"Day Shift"}),d.jsx("option",{value:"NIGHT",children:"Night Shift"})]})]})]}),d.jsxs("div",{style:{marginBottom:"24px"},children:[d.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"System Role"}),d.jsxs("select",{value:P.role,onChange:M=>j({...P,role:M.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"},children:[d.jsx("option",{value:"L1",children:"Operator (L1)"}),d.jsx("option",{value:"L2",children:"Supervisor (L2)"}),d.jsx("option",{value:"L3",children:"Manager (L3)"})]})]}),d.jsxs("div",{style:{display:"flex",gap:"12px"},children:[d.jsx("button",{type:"button",onClick:()=>b(!1),style:{flex:1,padding:"14px",border:"none",borderRadius:"12px",backgroundColor:"#f3f4f6",color:"#4b5563",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),d.jsx("button",{type:"submit",disabled:A,style:{flex:2,padding:"14px",border:"none",borderRadius:"12px",backgroundColor:"#2563eb",color:"white",fontWeight:"600",cursor:A?"not-allowed":"pointer",opacity:A?.7:1},children:A?"Creating...":"Create Enterprise User"})]})]})]})}),d.jsx("style",{children:`
                @keyframes spin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
            `})]})}const _v=Rr(),VG="/logo.png",KG=[{id:"dashboard",label:"Dashboard",icon:kD,description:"Overview & KPIs"},{id:"items",label:"Item Master",icon:Nr,description:"FG Catalog"},{id:"inventory",label:"Inventory",icon:FP,description:"Stock Levels"},{id:"stock-movements",label:"Stock Movements",icon:BP,description:"Audit Trail"},{id:"orders",label:"Blanket Orders",icon:Xi,description:"Customer Orders"},{id:"releases",label:"Blanket Releases",icon:il,description:"Delivery Schedule"},{id:"forecast",label:"Forecasting",icon:co,description:"Demand Prediction"},{id:"planning",label:"MRP Planning",icon:eo,description:"Replenishment"}];function GG(){const[t,e]=z.useState(!1),[r,n]=z.useState(null),[i,o]=z.useState(null),[l,u]=z.useState(null),[c,h]=z.useState("dashboard"),[y,p]=z.useState(!0),[g,v]=z.useState(!0),[_,w]=z.useState(null);z.useEffect(()=>{b();const{data:{subscription:T}}=_v.auth.onAuthStateChange(async(N,$)=>{console.log("Auth state changed:",N),$?.access_token&&$.user?(n($.access_token),o($.user),e(!0),w(null),E($.user.id)):(n(null),o(null),u(null),e(!1))});return()=>{T.unsubscribe()}},[]);const b=async()=>{try{v(!0);const{data:{session:T},error:N}=await _v.auth.getSession();if(N){console.error("Session check error:",N),v(!1);return}T?.access_token&&T.user?(console.log(" Session found, setting access token"),n(T.access_token),o(T.user),e(!0),w(null),await E(T.user.id)):(console.log("No active session"),e(!1))}catch(T){console.error("Auth initialization error:",T),w(T instanceof Error?T.message:"Failed to initialize auth"),e(!1)}finally{v(!1)}},k=async(T,N)=>{try{w(null),v(!0);const $=await FM(T,N);return $.error?(w($.error),!1):$.session?.access_token?(console.log(" Login successful"),n($.session.access_token),o($.session.user),e(!0),!0):(w("Login failed: No session received"),!1)}catch($){const V=$ instanceof Error?$.message:"Login failed";return console.error("Login error:",$),w(V),!1}finally{v(!1)}},E=async T=>{console.log(" Fetching role for user:",T);try{const{data:N,error:$}=await _v.from("profiles").select("role, is_active, email, full_name").eq("id",T).single();if(console.log(" Profile query result:",{data:N,error:$}),$){console.error(" Could not fetch user role:",$),console.error("Error code:",$.code,"Message:",$.message),u("L1");return}N&&N.is_active?(console.log(" User role set to:",N.role),u(N.role)):N&&!N.is_active?(console.warn(" User account is inactive"),u(null),w("Account is inactive. Please contact your administrator."),await A_(),e(!1)):(console.warn(" No profile data found, defaulting to L1"),u("L1"))}catch(N){console.error(" Error fetching user role:",N),u("L1")}},O=async()=>{try{v(!0),await A_(),n(null),o(null),u(null),e(!1),h("dashboard"),w(null)}catch(T){console.error("Logout error:",T),w(T instanceof Error?T.message:"Logout failed")}finally{v(!1)}};if(g&&!t)return d.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:d.jsxs("div",{style:{textAlign:"center",color:"white"},children:[d.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",border:"4px solid rgba(255, 255, 255, 0.3)",borderTopColor:"white",animation:"spin 1s linear infinite",margin:"0 auto 24px"}}),d.jsx("p",{style:{fontSize:"18px",fontWeight:"500"},children:"Initializing System..."}),d.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]})});if(!t)return d.jsx(uL,{onLogin:k,isLoading:g,error:_});const P=()=>{if(!r)return d.jsxs("div",{style:{padding:"32px",backgroundColor:"#fee2e2",borderRadius:"12px",display:"flex",alignItems:"center",gap:"12px",color:"#dc2626"},children:[d.jsx(uo,{size:24}),d.jsxs("div",{children:[d.jsx("strong",{children:"Authentication Error:"})," No access token available. Please login again."]})]});switch(c){case"dashboard":return d.jsx(N_,{accessToken:r});case"items":return d.jsx(SL,{});case"inventory":return d.jsx(OL,{accessToken:r});case"stock-movements":return d.jsx(LG,{accessToken:r});case"orders":return d.jsx(kL,{accessToken:r});case"releases":return d.jsx(EL,{accessToken:r});case"forecast":return d.jsx(MG,{accessToken:r});case"planning":return d.jsx(DG,{accessToken:r});case"users":return l!=="L3"?d.jsxs("div",{style:{padding:"32px",backgroundColor:"#fef3c7",borderRadius:"12px",display:"flex",alignItems:"center",gap:"12px",color:"#92400e"},children:[d.jsx(HD,{size:24}),d.jsxs("div",{children:[d.jsx("strong",{children:"Access Denied:"})," Only L3 Managers can access User Management."]})]}):d.jsx(HG,{currentUserId:i?.id||""});default:return d.jsx(N_,{accessToken:r})}},j=()=>{const T=KG;return console.log(" getMenuItems called, userRole:",l),l==="L3"?(console.log(" Adding User Management menu for L3"),[...T,{id:"users",label:"User Management",icon:UP,description:"Manage Users & Roles"}]):T};console.log(" Current userRole state:",l);const A=j().find(T=>T.id===c);return d.jsx(lL,{children:d.jsxs("div",{style:{display:"flex",height:"100vh",overflow:"hidden",backgroundColor:"var(--background-secondary)"},children:[d.jsxs("aside",{style:{width:y?"280px":"0",backgroundColor:"var(--card-background)",borderRight:"1px solid var(--border-color)",display:"flex",flexDirection:"column",transition:"width 300ms ease",overflow:"hidden",boxShadow:"var(--shadow-lg)"},children:[d.jsx("div",{style:{padding:"24px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",backgroundColor:"#1e3a8a"},children:d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[d.jsx("div",{style:{backgroundColor:"white",padding:"16px 20px",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:d.jsx("img",{src:VG,alt:"Autocrat Engineers",style:{width:"100%",height:"auto",display:"block"},onError:T=>{T.currentTarget.style.display="none"}})}),d.jsx("p",{style:{color:"rgba(255, 255, 255, 0.95)",fontSize:"13px",margin:"0",fontWeight:"500",letterSpacing:"0.3px",textAlign:"center"},children:"Inventory Planning & Forecasting"})]})}),d.jsx("nav",{style:{flex:1,overflowY:"auto",padding:"16px 0"},children:j().map(T=>{const N=T.icon,$=c===T.id;return d.jsxs("button",{onClick:()=>h(T.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 24px",border:"none",backgroundColor:$?"rgba(30, 58, 138, 0.08)":"transparent",borderLeft:$?"3px solid var(--enterprise-primary)":"3px solid transparent",color:$?"var(--enterprise-primary)":"var(--enterprise-gray-600)",textAlign:"left",cursor:"pointer",transition:"all 200ms ease",fontWeight:$?"600":"500",fontSize:"14px"},onMouseEnter:V=>{$||(V.currentTarget.style.backgroundColor="var(--enterprise-gray-50)")},onMouseLeave:V=>{$||(V.currentTarget.style.backgroundColor="transparent")},children:[d.jsx(N,{size:20,strokeWidth:$?2.5:2}),d.jsxs("div",{style:{flex:1},children:[d.jsx("div",{children:T.label}),d.jsx("div",{style:{fontSize:"11px",color:"var(--enterprise-gray-500)",fontWeight:"400"},children:T.description})]}),$&&d.jsx(qP,{size:16})]},T.id)})}),d.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid var(--border-color)",backgroundColor:"var(--enterprise-gray-50)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[d.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",backgroundColor:"var(--enterprise-primary)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"13px"},children:i?.email?.charAt(0).toUpperCase()||"U"}),d.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[d.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"var(--enterprise-gray-900)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i?.user_metadata?.name||i?.email||"User"}),d.jsx("div",{style:{fontSize:"11px",color:l==="L3"?"#1e40af":l==="L2"?"#ca8a04":"#6b7280",fontWeight:"600"},children:l==="L3"?"Manager (Admin)":l==="L2"?"Supervisor":"Operator"})]})]}),d.jsxs("button",{onClick:O,disabled:g,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"10px",border:"1px solid var(--border-color)",backgroundColor:g?"#f3f4f6":"white",borderRadius:"var(--border-radius-md)",color:g?"#9ca3af":"var(--enterprise-primary)",fontSize:"13px",fontWeight:"500",cursor:g?"not-allowed":"pointer",transition:"all 200ms ease",opacity:g?.6:1},children:[d.jsx(CD,{size:16}),g?"Signing out...":"Sign Out"]})]})]}),d.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[d.jsxs("header",{style:{height:"70px",backgroundColor:"var(--card-background)",borderBottom:"1px solid var(--border-color)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 32px",boxShadow:"var(--shadow-sm)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[d.jsx("button",{onClick:()=>p(!y),style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",backgroundColor:"transparent",borderRadius:"var(--border-radius-md)",color:"var(--enterprise-gray-600)",cursor:"pointer",transition:"all 200ms ease"},onMouseEnter:T=>{T.currentTarget.style.backgroundColor="var(--enterprise-gray-100)"},onMouseLeave:T=>{T.currentTarget.style.backgroundColor="transparent"},children:y?d.jsx(WP,{size:20}):d.jsx($D,{size:20})}),A&&d.jsxs("div",{children:[d.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",color:"var(--enterprise-gray-900)",margin:0},children:A.label}),d.jsx("p",{style:{fontSize:"13px",color:"var(--enterprise-gray-500)",margin:0},children:A.description})]})]}),d.jsx("div",{style:{padding:"6px 12px",backgroundColor:"#dcfce7",borderRadius:"var(--border-radius-md)",fontSize:"11px",fontWeight:"600",color:"#15803d",textTransform:"uppercase",letterSpacing:"0.5px"},children:" Authenticated"})]}),d.jsx("main",{style:{flex:1,overflow:"auto",padding:"32px"},children:d.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[_&&d.jsxs("div",{style:{padding:"16px",marginBottom:"24px",backgroundColor:"#fee2e2",borderRadius:"8px",color:"#dc2626",display:"flex",gap:"12px",alignItems:"flex-start"},children:[d.jsx(uo,{size:20,style:{flexShrink:0,marginTop:"2px"}}),d.jsx("div",{children:_})]}),P()]})})]})]})})}uR.createRoot(document.getElementById("root")).render(d.jsx(GG,{}));
