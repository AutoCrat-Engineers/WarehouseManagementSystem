(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ke(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sp={exports:{}},Ns={},lp={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function cR(){if(r_)return Me;r_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),p=Symbol.iterator;function m(N){return N===null||typeof N!="object"?null:(N=p&&N[p]||N["@@iterator"],typeof N=="function"?N:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function b(N,L,re){this.props=N,this.context=L,this.refs=w,this.updater=re||v}b.prototype.isReactComponent={},b.prototype.setState=function(N,L){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,L,"setState")},b.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function k(){}k.prototype=b.prototype;function A(N,L,re){this.props=N,this.context=L,this.refs=w,this.updater=re||v}var O=A.prototype=new k;O.constructor=A,S(O,b.prototype),O.isPureReactComponent=!0;var T=Array.isArray,j=Object.prototype.hasOwnProperty,E={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(N,L,re){var fe,me={},we=null,ie=null;if(L!=null)for(fe in L.ref!==void 0&&(ie=L.ref),L.key!==void 0&&(we=""+L.key),L)j.call(L,fe)&&!P.hasOwnProperty(fe)&&(me[fe]=L[fe]);var he=arguments.length-2;if(he===1)me.children=re;else if(1<he){for(var ae=Array(he),_e=0;_e<he;_e++)ae[_e]=arguments[_e+2];me.children=ae}if(N&&N.defaultProps)for(fe in he=N.defaultProps,he)me[fe]===void 0&&(me[fe]=he[fe]);return{$$typeof:t,type:N,key:we,ref:ie,props:me,_owner:E.current}}function $(N,L){return{$$typeof:t,type:N.type,key:L,ref:N.ref,props:N.props,_owner:N._owner}}function V(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function U(N){var L={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(re){return L[re]})}var R=/\/+/g;function z(N,L){return typeof N=="object"&&N!==null&&N.key!=null?U(""+N.key):L.toString(36)}function W(N,L,re,fe,me){var we=typeof N;(we==="undefined"||we==="boolean")&&(N=null);var ie=!1;if(N===null)ie=!0;else switch(we){case"string":case"number":ie=!0;break;case"object":switch(N.$$typeof){case t:case e:ie=!0}}if(ie)return ie=N,me=me(ie),N=fe===""?"."+z(ie,0):fe,T(me)?(re="",N!=null&&(re=N.replace(R,"$&/")+"/"),W(me,L,re,"",function(_e){return _e})):me!=null&&(V(me)&&(me=$(me,re+(!me.key||ie&&ie.key===me.key?"":(""+me.key).replace(R,"$&/")+"/")+N)),L.push(me)),1;if(ie=0,fe=fe===""?".":fe+":",T(N))for(var he=0;he<N.length;he++){we=N[he];var ae=fe+z(we,he);ie+=W(we,L,re,ae,me)}else if(ae=m(N),typeof ae=="function")for(N=ae.call(N),he=0;!(we=N.next()).done;)we=we.value,ae=fe+z(we,he++),ie+=W(we,L,re,ae,me);else if(we==="object")throw L=String(N),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ie}function H(N,L,re){if(N==null)return N;var fe=[],me=0;return W(N,fe,"","",function(we){return L.call(re,we,me++)}),fe}function X(N){if(N._status===-1){var L=N._result;L=L(),L.then(function(re){(N._status===0||N._status===-1)&&(N._status=1,N._result=re)},function(re){(N._status===0||N._status===-1)&&(N._status=2,N._result=re)}),N._status===-1&&(N._status=0,N._result=L)}if(N._status===1)return N._result.default;throw N._result}var Q={current:null},K={transition:null},ee={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:K,ReactCurrentOwner:E};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:H,forEach:function(N,L,re){H(N,function(){L.apply(this,arguments)},re)},count:function(N){var L=0;return H(N,function(){L++}),L},toArray:function(N){return H(N,function(L){return L})||[]},only:function(N){if(!V(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Me.Component=b,Me.Fragment=r,Me.Profiler=i,Me.PureComponent=A,Me.StrictMode=n,Me.Suspense=d,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Me.act=Z,Me.cloneElement=function(N,L,re){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var fe=S({},N.props),me=N.key,we=N.ref,ie=N._owner;if(L!=null){if(L.ref!==void 0&&(we=L.ref,ie=E.current),L.key!==void 0&&(me=""+L.key),N.type&&N.type.defaultProps)var he=N.type.defaultProps;for(ae in L)j.call(L,ae)&&!P.hasOwnProperty(ae)&&(fe[ae]=L[ae]===void 0&&he!==void 0?he[ae]:L[ae])}var ae=arguments.length-2;if(ae===1)fe.children=re;else if(1<ae){he=Array(ae);for(var _e=0;_e<ae;_e++)he[_e]=arguments[_e+2];fe.children=he}return{$$typeof:t,type:N.type,key:me,ref:we,props:fe,_owner:ie}},Me.createContext=function(N){return N={$$typeof:l,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:o,_context:N},N.Consumer=N},Me.createElement=I,Me.createFactory=function(N){var L=I.bind(null,N);return L.type=N,L},Me.createRef=function(){return{current:null}},Me.forwardRef=function(N){return{$$typeof:u,render:N}},Me.isValidElement=V,Me.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:X}},Me.memo=function(N,L){return{$$typeof:h,type:N,compare:L===void 0?null:L}},Me.startTransition=function(N){var L=K.transition;K.transition={};try{N()}finally{K.transition=L}},Me.unstable_act=Z,Me.useCallback=function(N,L){return Q.current.useCallback(N,L)},Me.useContext=function(N){return Q.current.useContext(N)},Me.useDebugValue=function(){},Me.useDeferredValue=function(N){return Q.current.useDeferredValue(N)},Me.useEffect=function(N,L){return Q.current.useEffect(N,L)},Me.useId=function(){return Q.current.useId()},Me.useImperativeHandle=function(N,L,re){return Q.current.useImperativeHandle(N,L,re)},Me.useInsertionEffect=function(N,L){return Q.current.useInsertionEffect(N,L)},Me.useLayoutEffect=function(N,L){return Q.current.useLayoutEffect(N,L)},Me.useMemo=function(N,L){return Q.current.useMemo(N,L)},Me.useReducer=function(N,L,re){return Q.current.useReducer(N,L,re)},Me.useRef=function(N){return Q.current.useRef(N)},Me.useState=function(N){return Q.current.useState(N)},Me.useSyncExternalStore=function(N,L,re){return Q.current.useSyncExternalStore(N,L,re)},Me.useTransition=function(){return Q.current.useTransition()},Me.version="18.3.1",Me}var n_;function ix(){return n_||(n_=1,lp.exports=cR()),lp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function dR(){if(i_)return Ns;i_=1;var t=ix(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var y,p={},m=null,v=null;h!==void 0&&(m=""+h),d.key!==void 0&&(m=""+d.key),d.ref!==void 0&&(v=d.ref);for(y in d)n.call(d,y)&&!o.hasOwnProperty(y)&&(p[y]=d[y]);if(u&&u.defaultProps)for(y in d=u.defaultProps,d)p[y]===void 0&&(p[y]=d[y]);return{$$typeof:e,type:u,key:m,ref:v,props:p,_owner:i.current}}return Ns.Fragment=r,Ns.jsx=l,Ns.jsxs=l,Ns}var a_;function fR(){return a_||(a_=1,sp.exports=dR()),sp.exports}var c=fR(),dc={},up={exports:{}},or={},cp={exports:{}},dp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function hR(){return o_||(o_=1,(function(t){function e(K,ee){var Z=K.length;K.push(ee);e:for(;0<Z;){var N=Z-1>>>1,L=K[N];if(0<i(L,ee))K[N]=ee,K[Z]=L,Z=N;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var ee=K[0],Z=K.pop();if(Z!==ee){K[0]=Z;e:for(var N=0,L=K.length,re=L>>>1;N<re;){var fe=2*(N+1)-1,me=K[fe],we=fe+1,ie=K[we];if(0>i(me,Z))we<L&&0>i(ie,me)?(K[N]=ie,K[we]=Z,N=we):(K[N]=me,K[fe]=Z,N=fe);else if(we<L&&0>i(ie,Z))K[N]=ie,K[we]=Z,N=we;else break e}}return ee}function i(K,ee){var Z=K.sortIndex-ee.sortIndex;return Z!==0?Z:K.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],y=1,p=null,m=3,v=!1,S=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(K){for(var ee=r(h);ee!==null;){if(ee.callback===null)n(h);else if(ee.startTime<=K)n(h),ee.sortIndex=ee.expirationTime,e(d,ee);else break;ee=r(h)}}function T(K){if(w=!1,O(K),!S)if(r(d)!==null)S=!0,X(j);else{var ee=r(h);ee!==null&&Q(T,ee.startTime-K)}}function j(K,ee){S=!1,w&&(w=!1,k(I),I=-1),v=!0;var Z=m;try{for(O(ee),p=r(d);p!==null&&(!(p.expirationTime>ee)||K&&!U());){var N=p.callback;if(typeof N=="function"){p.callback=null,m=p.priorityLevel;var L=N(p.expirationTime<=ee);ee=t.unstable_now(),typeof L=="function"?p.callback=L:p===r(d)&&n(d),O(ee)}else n(d);p=r(d)}if(p!==null)var re=!0;else{var fe=r(h);fe!==null&&Q(T,fe.startTime-ee),re=!1}return re}finally{p=null,m=Z,v=!1}}var E=!1,P=null,I=-1,$=5,V=-1;function U(){return!(t.unstable_now()-V<$)}function R(){if(P!==null){var K=t.unstable_now();V=K;var ee=!0;try{ee=P(!0,K)}finally{ee?z():(E=!1,P=null)}}else E=!1}var z;if(typeof A=="function")z=function(){A(R)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,H=W.port2;W.port1.onmessage=R,z=function(){H.postMessage(null)}}else z=function(){b(R,0)};function X(K){P=K,E||(E=!0,z())}function Q(K,ee){I=b(function(){K(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){S||v||(S=!0,X(j))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(K){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var Z=m;m=ee;try{return K()}finally{m=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,ee){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Z=m;m=K;try{return ee()}finally{m=Z}},t.unstable_scheduleCallback=function(K,ee,Z){var N=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?N+Z:N):Z=N,K){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=Z+L,K={id:y++,callback:ee,priorityLevel:K,startTime:Z,expirationTime:L,sortIndex:-1},Z>N?(K.sortIndex=Z,e(h,K),r(d)===null&&K===r(h)&&(w?(k(I),I=-1):w=!0,Q(T,Z-N))):(K.sortIndex=L,e(d,K),S||v||(S=!0,X(j))),K},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(K){var ee=m;return function(){var Z=m;m=ee;try{return K.apply(this,arguments)}finally{m=Z}}}})(dp)),dp}var s_;function pR(){return s_||(s_=1,cp.exports=hR()),cp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function yR(){if(l_)return or;l_=1;var t=ix(),e=pR();function r(a){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(a,s){l(a,s),l(a+"Capture",s)}function l(a,s){for(i[a]=s,a=0;a<s.length;a++)n.add(s[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},p={};function m(a){return d.call(p,a)?!0:d.call(y,a)?!1:h.test(a)?p[a]=!0:(y[a]=!0,!1)}function v(a,s,f,g){if(f!==null&&f.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,s,f,g){if(s===null||typeof s>"u"||v(a,s,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function w(a,s,f,g,x,_,C){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=f,this.propertyName=a,this.type=s,this.sanitizeURL=_,this.removeEmptyString=C}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){b[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var s=a[0];b[s]=new w(s,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){b[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){b[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){b[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){b[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){b[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){b[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){b[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function A(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var s=a.replace(k,A);b[s]=new w(s,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var s=a.replace(k,A);b[s]=new w(s,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var s=a.replace(k,A);b[s]=new w(s,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){b[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){b[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function O(a,s,f,g){var x=b.hasOwnProperty(s)?b[s]:null;(x!==null?x.type!==0:g||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(S(s,f,x,g)&&(f=null),g||x===null?m(s)&&(f===null?a.removeAttribute(s):a.setAttribute(s,""+f)):x.mustUseProperty?a[x.propertyName]=f===null?x.type===3?!1:"":f:(s=x.attributeName,g=x.attributeNamespace,f===null?a.removeAttribute(s):(x=x.type,f=x===3||x===4&&f===!0?"":""+f,g?a.setAttributeNS(g,s,f):a.setAttribute(s,f))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),E=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),U=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),K=Symbol.iterator;function ee(a){return a===null||typeof a!="object"?null:(a=K&&a[K]||a["@@iterator"],typeof a=="function"?a:null)}var Z=Object.assign,N;function L(a){if(N===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);N=s&&s[1]||""}return`
`+N+a}var re=!1;function fe(a,s){if(!a||re)return"";re=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(J){var g=J}Reflect.construct(a,[],s)}else{try{s.call()}catch(J){g=J}a.call(s.prototype)}else{try{throw Error()}catch(J){g=J}a()}}catch(J){if(J&&g&&typeof J.stack=="string"){for(var x=J.stack.split(`
`),_=g.stack.split(`
`),C=x.length-1,D=_.length-1;1<=C&&0<=D&&x[C]!==_[D];)D--;for(;1<=C&&0<=D;C--,D--)if(x[C]!==_[D]){if(C!==1||D!==1)do if(C--,D--,0>D||x[C]!==_[D]){var B=`
`+x[C].replace(" at new "," at ");return a.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",a.displayName)),B}while(1<=C&&0<=D);break}}}finally{re=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?L(a):""}function me(a){switch(a.tag){case 5:return L(a.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return a=fe(a.type,!1),a;case 11:return a=fe(a.type.render,!1),a;case 1:return a=fe(a.type,!0),a;default:return""}}function we(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case P:return"Fragment";case E:return"Portal";case $:return"Profiler";case I:return"StrictMode";case z:return"Suspense";case W:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case U:return(a.displayName||"Context")+".Consumer";case V:return(a._context.displayName||"Context")+".Provider";case R:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case H:return s=a.displayName||null,s!==null?s:we(a.type)||"Memo";case X:s=a._payload,a=a._init;try{return we(a(s))}catch{}}return null}function ie(a){var s=a.type;switch(a.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=s.render,a=a.displayName||a.name||"",s.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function he(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ae(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _e(a){var s=ae(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),g=""+a[s];if(!a.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,_=f.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return x.call(this)},set:function(C){g=""+C,_.call(this,C)}}),Object.defineProperty(a,s,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(C){g=""+C},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Ne(a){a._valueTracker||(a._valueTracker=_e(a))}function oe(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var f=s.getValue(),g="";return a&&(g=ae(a)?a.checked?"true":"false":a.value),a=g,a!==f?(s.setValue(a),!0):!1}function te(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function je(a,s){var f=s.checked;return Z({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??a._wrapperState.initialChecked})}function Fe(a,s){var f=s.defaultValue==null?"":s.defaultValue,g=s.checked!=null?s.checked:s.defaultChecked;f=he(s.value!=null?s.value:f),a._wrapperState={initialChecked:g,initialValue:f,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ge(a,s){s=s.checked,s!=null&&O(a,"checked",s,!1)}function lt(a,s){Ge(a,s);var f=he(s.value),g=s.type;if(f!=null)g==="number"?(f===0&&a.value===""||a.value!=f)&&(a.value=""+f):a.value!==""+f&&(a.value=""+f);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}s.hasOwnProperty("value")?tn(a,s.type,f):s.hasOwnProperty("defaultValue")&&tn(a,s.type,he(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(a.defaultChecked=!!s.defaultChecked)}function bt(a,s,f){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var g=s.type;if(!(g!=="submit"&&g!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+a._wrapperState.initialValue,f||s===a.value||(a.value=s),a.defaultValue=s}f=a.name,f!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,f!==""&&(a.name=f)}function tn(a,s,f){(s!=="number"||te(a.ownerDocument)!==a)&&(f==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+f&&(a.defaultValue=""+f))}var rn=Array.isArray;function er(a,s,f,g){if(a=a.options,s){s={};for(var x=0;x<f.length;x++)s["$"+f[x]]=!0;for(f=0;f<a.length;f++)x=s.hasOwnProperty("$"+a[f].value),a[f].selected!==x&&(a[f].selected=x),x&&g&&(a[f].defaultSelected=!0)}else{for(f=""+he(f),s=null,x=0;x<a.length;x++){if(a[x].value===f){a[x].selected=!0,g&&(a[x].defaultSelected=!0);return}s!==null||a[x].disabled||(s=a[x])}s!==null&&(s.selected=!0)}}function Dr(a,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return Z({},s,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ya(a,s){var f=s.value;if(f==null){if(f=s.children,s=s.defaultValue,f!=null){if(s!=null)throw Error(r(92));if(rn(f)){if(1<f.length)throw Error(r(93));f=f[0]}s=f}s==null&&(s=""),f=s}a._wrapperState={initialValue:he(f)}}function Vo(a,s){var f=he(s.value),g=he(s.defaultValue);f!=null&&(f=""+f,f!==a.value&&(a.value=f),s.defaultValue==null&&a.defaultValue!==f&&(a.defaultValue=f)),g!=null&&(a.defaultValue=""+g)}function Ko(a){var s=a.textContent;s===a._wrapperState.initialValue&&s!==""&&s!==null&&(a.value=s)}function yb(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vf(a,s){return a==null||a==="http://www.w3.org/1999/xhtml"?yb(s):a==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var ru,gb=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,f,g,x){MSApp.execUnsafeLocalFunction(function(){return a(s,f,g,x)})}:a})(function(a,s){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=s;else{for(ru=ru||document.createElement("div"),ru.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ru.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;s.firstChild;)a.appendChild(s.firstChild)}});function Go(a,s){if(s){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=s;return}}a.textContent=s}var Yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pN=["Webkit","ms","Moz","O"];Object.keys(Yo).forEach(function(a){pN.forEach(function(s){s=s+a.charAt(0).toUpperCase()+a.substring(1),Yo[s]=Yo[a]})});function mb(a,s,f){return s==null||typeof s=="boolean"||s===""?"":f||typeof s!="number"||s===0||Yo.hasOwnProperty(a)&&Yo[a]?(""+s).trim():s+"px"}function vb(a,s){a=a.style;for(var f in s)if(s.hasOwnProperty(f)){var g=f.indexOf("--")===0,x=mb(f,s[f],g);f==="float"&&(f="cssFloat"),g?a.setProperty(f,x):a[f]=x}}var yN=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xf(a,s){if(s){if(yN[a]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function bf(a,s){if(a.indexOf("-")===-1)return typeof s.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wf=null;function _f(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Sf=null,ga=null,ma=null;function xb(a){if(a=ms(a)){if(typeof Sf!="function")throw Error(r(280));var s=a.stateNode;s&&(s=ku(s),Sf(a.stateNode,a.type,s))}}function bb(a){ga?ma?ma.push(a):ma=[a]:ga=a}function wb(){if(ga){var a=ga,s=ma;if(ma=ga=null,xb(a),s)for(a=0;a<s.length;a++)xb(s[a])}}function _b(a,s){return a(s)}function Sb(){}var jf=!1;function jb(a,s,f){if(jf)return a(s,f);jf=!0;try{return _b(a,s,f)}finally{jf=!1,(ga!==null||ma!==null)&&(Sb(),wb())}}function Xo(a,s){var f=a.stateNode;if(f===null)return null;var g=ku(f);if(g===null)return null;f=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(r(231,s,typeof f));return f}var kf=!1;if(u)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){kf=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{kf=!1}function gN(a,s,f,g,x,_,C,D,B){var J=Array.prototype.slice.call(arguments,3);try{s.apply(f,J)}catch(le){this.onError(le)}}var Qo=!1,nu=null,iu=!1,Of=null,mN={onError:function(a){Qo=!0,nu=a}};function vN(a,s,f,g,x,_,C,D,B){Qo=!1,nu=null,gN.apply(mN,arguments)}function xN(a,s,f,g,x,_,C,D,B){if(vN.apply(this,arguments),Qo){if(Qo){var J=nu;Qo=!1,nu=null}else throw Error(r(198));iu||(iu=!0,Of=J)}}function Ei(a){var s=a,f=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(f=s.return),a=s.return;while(a)}return s.tag===3?f:null}function kb(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function Ob(a){if(Ei(a)!==a)throw Error(r(188))}function bN(a){var s=a.alternate;if(!s){if(s=Ei(a),s===null)throw Error(r(188));return s!==a?null:a}for(var f=a,g=s;;){var x=f.return;if(x===null)break;var _=x.alternate;if(_===null){if(g=x.return,g!==null){f=g;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===f)return Ob(x),a;if(_===g)return Ob(x),s;_=_.sibling}throw Error(r(188))}if(f.return!==g.return)f=x,g=_;else{for(var C=!1,D=x.child;D;){if(D===f){C=!0,f=x,g=_;break}if(D===g){C=!0,g=x,f=_;break}D=D.sibling}if(!C){for(D=_.child;D;){if(D===f){C=!0,f=_,g=x;break}if(D===g){C=!0,g=_,f=x;break}D=D.sibling}if(!C)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?a:s}function Ab(a){return a=bN(a),a!==null?Eb(a):null}function Eb(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var s=Eb(a);if(s!==null)return s;a=a.sibling}return null}var Pb=e.unstable_scheduleCallback,Tb=e.unstable_cancelCallback,wN=e.unstable_shouldYield,_N=e.unstable_requestPaint,ft=e.unstable_now,SN=e.unstable_getCurrentPriorityLevel,Af=e.unstable_ImmediatePriority,Cb=e.unstable_UserBlockingPriority,au=e.unstable_NormalPriority,jN=e.unstable_LowPriority,Nb=e.unstable_IdlePriority,ou=null,nn=null;function kN(a){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(ou,a,void 0,(a.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:EN,ON=Math.log,AN=Math.LN2;function EN(a){return a>>>=0,a===0?32:31-(ON(a)/AN|0)|0}var su=64,lu=4194304;function Zo(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function uu(a,s){var f=a.pendingLanes;if(f===0)return 0;var g=0,x=a.suspendedLanes,_=a.pingedLanes,C=f&268435455;if(C!==0){var D=C&~x;D!==0?g=Zo(D):(_&=C,_!==0&&(g=Zo(_)))}else C=f&~x,C!==0?g=Zo(C):_!==0&&(g=Zo(_));if(g===0)return 0;if(s!==0&&s!==g&&(s&x)===0&&(x=g&-g,_=s&-s,x>=_||x===16&&(_&4194240)!==0))return s;if((g&4)!==0&&(g|=f&16),s=a.entangledLanes,s!==0)for(a=a.entanglements,s&=g;0<s;)f=31-Lr(s),x=1<<f,g|=a[f],s&=~x;return g}function PN(a,s){switch(a){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TN(a,s){for(var f=a.suspendedLanes,g=a.pingedLanes,x=a.expirationTimes,_=a.pendingLanes;0<_;){var C=31-Lr(_),D=1<<C,B=x[C];B===-1?((D&f)===0||(D&g)!==0)&&(x[C]=PN(D,s)):B<=s&&(a.expiredLanes|=D),_&=~D}}function Ef(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Ib(){var a=su;return su<<=1,(su&4194240)===0&&(su=64),a}function Pf(a){for(var s=[],f=0;31>f;f++)s.push(a);return s}function es(a,s,f){a.pendingLanes|=s,s!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,s=31-Lr(s),a[s]=f}function CN(a,s){var f=a.pendingLanes&~s;a.pendingLanes=s,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=s,a.mutableReadLanes&=s,a.entangledLanes&=s,s=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<f;){var x=31-Lr(f),_=1<<x;s[x]=0,g[x]=-1,a[x]=-1,f&=~_}}function Tf(a,s){var f=a.entangledLanes|=s;for(a=a.entanglements;f;){var g=31-Lr(f),x=1<<g;x&s|a[g]&s&&(a[g]|=s),f&=~x}}var We=0;function Rb(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var $b,Cf,Mb,Db,Lb,Nf=!1,cu=[],Wn=null,Hn=null,Vn=null,ts=new Map,rs=new Map,Kn=[],NN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zb(a,s){switch(a){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":ts.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(s.pointerId)}}function ns(a,s,f,g,x,_){return a===null||a.nativeEvent!==_?(a={blockedOn:s,domEventName:f,eventSystemFlags:g,nativeEvent:_,targetContainers:[x]},s!==null&&(s=ms(s),s!==null&&Cf(s)),a):(a.eventSystemFlags|=g,s=a.targetContainers,x!==null&&s.indexOf(x)===-1&&s.push(x),a)}function IN(a,s,f,g,x){switch(s){case"focusin":return Wn=ns(Wn,a,s,f,g,x),!0;case"dragenter":return Hn=ns(Hn,a,s,f,g,x),!0;case"mouseover":return Vn=ns(Vn,a,s,f,g,x),!0;case"pointerover":var _=x.pointerId;return ts.set(_,ns(ts.get(_)||null,a,s,f,g,x)),!0;case"gotpointercapture":return _=x.pointerId,rs.set(_,ns(rs.get(_)||null,a,s,f,g,x)),!0}return!1}function Bb(a){var s=Pi(a.target);if(s!==null){var f=Ei(s);if(f!==null){if(s=f.tag,s===13){if(s=kb(f),s!==null){a.blockedOn=s,Lb(a.priority,function(){Mb(f)});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function du(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var f=Rf(a.domEventName,a.eventSystemFlags,s[0],a.nativeEvent);if(f===null){f=a.nativeEvent;var g=new f.constructor(f.type,f);wf=g,f.target.dispatchEvent(g),wf=null}else return s=ms(f),s!==null&&Cf(s),a.blockedOn=f,!1;s.shift()}return!0}function qb(a,s,f){du(a)&&f.delete(s)}function RN(){Nf=!1,Wn!==null&&du(Wn)&&(Wn=null),Hn!==null&&du(Hn)&&(Hn=null),Vn!==null&&du(Vn)&&(Vn=null),ts.forEach(qb),rs.forEach(qb)}function is(a,s){a.blockedOn===s&&(a.blockedOn=null,Nf||(Nf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,RN)))}function as(a){function s(x){return is(x,a)}if(0<cu.length){is(cu[0],a);for(var f=1;f<cu.length;f++){var g=cu[f];g.blockedOn===a&&(g.blockedOn=null)}}for(Wn!==null&&is(Wn,a),Hn!==null&&is(Hn,a),Vn!==null&&is(Vn,a),ts.forEach(s),rs.forEach(s),f=0;f<Kn.length;f++)g=Kn[f],g.blockedOn===a&&(g.blockedOn=null);for(;0<Kn.length&&(f=Kn[0],f.blockedOn===null);)Bb(f),f.blockedOn===null&&Kn.shift()}var va=T.ReactCurrentBatchConfig,fu=!0;function $N(a,s,f,g){var x=We,_=va.transition;va.transition=null;try{We=1,If(a,s,f,g)}finally{We=x,va.transition=_}}function MN(a,s,f,g){var x=We,_=va.transition;va.transition=null;try{We=4,If(a,s,f,g)}finally{We=x,va.transition=_}}function If(a,s,f,g){if(fu){var x=Rf(a,s,f,g);if(x===null)Jf(a,s,g,hu,f),zb(a,g);else if(IN(x,a,s,f,g))g.stopPropagation();else if(zb(a,g),s&4&&-1<NN.indexOf(a)){for(;x!==null;){var _=ms(x);if(_!==null&&$b(_),_=Rf(a,s,f,g),_===null&&Jf(a,s,g,hu,f),_===x)break;x=_}x!==null&&g.stopPropagation()}else Jf(a,s,g,null,f)}}var hu=null;function Rf(a,s,f,g){if(hu=null,a=_f(g),a=Pi(a),a!==null)if(s=Ei(a),s===null)a=null;else if(f=s.tag,f===13){if(a=kb(s),a!==null)return a;a=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null);return hu=a,null}function Ub(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SN()){case Af:return 1;case Cb:return 4;case au:case jN:return 16;case Nb:return 536870912;default:return 16}default:return 16}}var Gn=null,$f=null,pu=null;function Fb(){if(pu)return pu;var a,s=$f,f=s.length,g,x="value"in Gn?Gn.value:Gn.textContent,_=x.length;for(a=0;a<f&&s[a]===x[a];a++);var C=f-a;for(g=1;g<=C&&s[f-g]===x[_-g];g++);return pu=x.slice(a,1<g?1-g:void 0)}function yu(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function gu(){return!0}function Wb(){return!1}function dr(a){function s(f,g,x,_,C){this._reactName=f,this._targetInst=x,this.type=g,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var D in a)a.hasOwnProperty(D)&&(f=a[D],this[D]=f?f(_):_[D]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?gu:Wb,this.isPropagationStopped=Wb,this}return Z(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=gu)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=gu)},persist:function(){},isPersistent:gu}),s}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mf=dr(xa),os=Z({},xa,{view:0,detail:0}),DN=dr(os),Df,Lf,ss,mu=Z({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bf,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ss&&(ss&&a.type==="mousemove"?(Df=a.screenX-ss.screenX,Lf=a.screenY-ss.screenY):Lf=Df=0,ss=a),Df)},movementY:function(a){return"movementY"in a?a.movementY:Lf}}),Hb=dr(mu),LN=Z({},mu,{dataTransfer:0}),zN=dr(LN),BN=Z({},os,{relatedTarget:0}),zf=dr(BN),qN=Z({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),UN=dr(qN),FN=Z({},xa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),WN=dr(FN),HN=Z({},xa,{data:0}),Vb=dr(HN),VN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YN(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=GN[a])?!!s[a]:!1}function Bf(){return YN}var XN=Z({},os,{key:function(a){if(a.key){var s=VN[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=yu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?KN[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bf,charCode:function(a){return a.type==="keypress"?yu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?yu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),JN=dr(XN),QN=Z({},mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kb=dr(QN),ZN=Z({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bf}),eI=dr(ZN),tI=Z({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),rI=dr(tI),nI=Z({},mu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),iI=dr(nI),aI=[9,13,27,32],qf=u&&"CompositionEvent"in window,ls=null;u&&"documentMode"in document&&(ls=document.documentMode);var oI=u&&"TextEvent"in window&&!ls,Gb=u&&(!qf||ls&&8<ls&&11>=ls),Yb=" ",Xb=!1;function Jb(a,s){switch(a){case"keyup":return aI.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qb(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ba=!1;function sI(a,s){switch(a){case"compositionend":return Qb(s);case"keypress":return s.which!==32?null:(Xb=!0,Yb);case"textInput":return a=s.data,a===Yb&&Xb?null:a;default:return null}}function lI(a,s){if(ba)return a==="compositionend"||!qf&&Jb(a,s)?(a=Fb(),pu=$f=Gn=null,ba=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gb&&s.locale!=="ko"?null:s.data;default:return null}}var uI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zb(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!uI[a.type]:s==="textarea"}function ew(a,s,f,g){bb(g),s=_u(s,"onChange"),0<s.length&&(f=new Mf("onChange","change",null,f,g),a.push({event:f,listeners:s}))}var us=null,cs=null;function cI(a){vw(a,0)}function vu(a){var s=ka(a);if(oe(s))return a}function dI(a,s){if(a==="change")return s}var tw=!1;if(u){var Uf;if(u){var Ff="oninput"in document;if(!Ff){var rw=document.createElement("div");rw.setAttribute("oninput","return;"),Ff=typeof rw.oninput=="function"}Uf=Ff}else Uf=!1;tw=Uf&&(!document.documentMode||9<document.documentMode)}function nw(){us&&(us.detachEvent("onpropertychange",iw),cs=us=null)}function iw(a){if(a.propertyName==="value"&&vu(cs)){var s=[];ew(s,cs,a,_f(a)),jb(cI,s)}}function fI(a,s,f){a==="focusin"?(nw(),us=s,cs=f,us.attachEvent("onpropertychange",iw)):a==="focusout"&&nw()}function hI(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return vu(cs)}function pI(a,s){if(a==="click")return vu(s)}function yI(a,s){if(a==="input"||a==="change")return vu(s)}function gI(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var zr=typeof Object.is=="function"?Object.is:gI;function ds(a,s){if(zr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var f=Object.keys(a),g=Object.keys(s);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var x=f[g];if(!d.call(s,x)||!zr(a[x],s[x]))return!1}return!0}function aw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ow(a,s){var f=aw(a);a=0;for(var g;f;){if(f.nodeType===3){if(g=a+f.textContent.length,a<=s&&g>=s)return{node:f,offset:s-a};a=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=aw(f)}}function sw(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?sw(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function lw(){for(var a=window,s=te();s instanceof a.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)a=s.contentWindow;else break;s=te(a.document)}return s}function Wf(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}function mI(a){var s=lw(),f=a.focusedElem,g=a.selectionRange;if(s!==f&&f&&f.ownerDocument&&sw(f.ownerDocument.documentElement,f)){if(g!==null&&Wf(f)){if(s=g.start,a=g.end,a===void 0&&(a=s),"selectionStart"in f)f.selectionStart=s,f.selectionEnd=Math.min(a,f.value.length);else if(a=(s=f.ownerDocument||document)&&s.defaultView||window,a.getSelection){a=a.getSelection();var x=f.textContent.length,_=Math.min(g.start,x);g=g.end===void 0?_:Math.min(g.end,x),!a.extend&&_>g&&(x=g,g=_,_=x),x=ow(f,_);var C=ow(f,g);x&&C&&(a.rangeCount!==1||a.anchorNode!==x.node||a.anchorOffset!==x.offset||a.focusNode!==C.node||a.focusOffset!==C.offset)&&(s=s.createRange(),s.setStart(x.node,x.offset),a.removeAllRanges(),_>g?(a.addRange(s),a.extend(C.node,C.offset)):(s.setEnd(C.node,C.offset),a.addRange(s)))}}for(s=[],a=f;a=a.parentNode;)a.nodeType===1&&s.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<s.length;f++)a=s[f],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var vI=u&&"documentMode"in document&&11>=document.documentMode,wa=null,Hf=null,fs=null,Vf=!1;function uw(a,s,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Vf||wa==null||wa!==te(g)||(g=wa,"selectionStart"in g&&Wf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),fs&&ds(fs,g)||(fs=g,g=_u(Hf,"onSelect"),0<g.length&&(s=new Mf("onSelect","select",null,s,f),a.push({event:s,listeners:g}),s.target=wa)))}function xu(a,s){var f={};return f[a.toLowerCase()]=s.toLowerCase(),f["Webkit"+a]="webkit"+s,f["Moz"+a]="moz"+s,f}var _a={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},Kf={},cw={};u&&(cw=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function bu(a){if(Kf[a])return Kf[a];if(!_a[a])return a;var s=_a[a],f;for(f in s)if(s.hasOwnProperty(f)&&f in cw)return Kf[a]=s[f];return a}var dw=bu("animationend"),fw=bu("animationiteration"),hw=bu("animationstart"),pw=bu("transitionend"),yw=new Map,gw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(a,s){yw.set(a,s),o(s,[a])}for(var Gf=0;Gf<gw.length;Gf++){var Yf=gw[Gf],xI=Yf.toLowerCase(),bI=Yf[0].toUpperCase()+Yf.slice(1);Yn(xI,"on"+bI)}Yn(dw,"onAnimationEnd"),Yn(fw,"onAnimationIteration"),Yn(hw,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(pw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wI=new Set("cancel close invalid load scroll toggle".split(" ").concat(hs));function mw(a,s,f){var g=a.type||"unknown-event";a.currentTarget=f,xN(g,s,void 0,a),a.currentTarget=null}function vw(a,s){s=(s&4)!==0;for(var f=0;f<a.length;f++){var g=a[f],x=g.event;g=g.listeners;e:{var _=void 0;if(s)for(var C=g.length-1;0<=C;C--){var D=g[C],B=D.instance,J=D.currentTarget;if(D=D.listener,B!==_&&x.isPropagationStopped())break e;mw(x,D,J),_=B}else for(C=0;C<g.length;C++){if(D=g[C],B=D.instance,J=D.currentTarget,D=D.listener,B!==_&&x.isPropagationStopped())break e;mw(x,D,J),_=B}}}if(iu)throw a=Of,iu=!1,Of=null,a}function Ze(a,s){var f=s[nh];f===void 0&&(f=s[nh]=new Set);var g=a+"__bubble";f.has(g)||(xw(s,a,2,!1),f.add(g))}function Xf(a,s,f){var g=0;s&&(g|=4),xw(f,a,g,s)}var wu="_reactListening"+Math.random().toString(36).slice(2);function ps(a){if(!a[wu]){a[wu]=!0,n.forEach(function(f){f!=="selectionchange"&&(wI.has(f)||Xf(f,!1,a),Xf(f,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[wu]||(s[wu]=!0,Xf("selectionchange",!1,s))}}function xw(a,s,f,g){switch(Ub(s)){case 1:var x=$N;break;case 4:x=MN;break;default:x=If}f=x.bind(null,s,f,a),x=void 0,!kf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(x=!0),g?x!==void 0?a.addEventListener(s,f,{capture:!0,passive:x}):a.addEventListener(s,f,!0):x!==void 0?a.addEventListener(s,f,{passive:x}):a.addEventListener(s,f,!1)}function Jf(a,s,f,g,x){var _=g;if((s&1)===0&&(s&2)===0&&g!==null)e:for(;;){if(g===null)return;var C=g.tag;if(C===3||C===4){var D=g.stateNode.containerInfo;if(D===x||D.nodeType===8&&D.parentNode===x)break;if(C===4)for(C=g.return;C!==null;){var B=C.tag;if((B===3||B===4)&&(B=C.stateNode.containerInfo,B===x||B.nodeType===8&&B.parentNode===x))return;C=C.return}for(;D!==null;){if(C=Pi(D),C===null)return;if(B=C.tag,B===5||B===6){g=_=C;continue e}D=D.parentNode}}g=g.return}jb(function(){var J=_,le=_f(f),ue=[];e:{var se=yw.get(a);if(se!==void 0){var pe=Mf,ve=a;switch(a){case"keypress":if(yu(f)===0)break e;case"keydown":case"keyup":pe=JN;break;case"focusin":ve="focus",pe=zf;break;case"focusout":ve="blur",pe=zf;break;case"beforeblur":case"afterblur":pe=zf;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Hb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=zN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=eI;break;case dw:case fw:case hw:pe=UN;break;case pw:pe=rI;break;case"scroll":pe=DN;break;case"wheel":pe=iI;break;case"copy":case"cut":case"paste":pe=WN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Kb}var xe=(s&4)!==0,ht=!xe&&a==="scroll",G=xe?se!==null?se+"Capture":null:se;xe=[];for(var F=J,Y;F!==null;){Y=F;var ce=Y.stateNode;if(Y.tag===5&&ce!==null&&(Y=ce,G!==null&&(ce=Xo(F,G),ce!=null&&xe.push(ys(F,ce,Y)))),ht)break;F=F.return}0<xe.length&&(se=new pe(se,ve,null,f,le),ue.push({event:se,listeners:xe}))}}if((s&7)===0){e:{if(se=a==="mouseover"||a==="pointerover",pe=a==="mouseout"||a==="pointerout",se&&f!==wf&&(ve=f.relatedTarget||f.fromElement)&&(Pi(ve)||ve[vn]))break e;if((pe||se)&&(se=le.window===le?le:(se=le.ownerDocument)?se.defaultView||se.parentWindow:window,pe?(ve=f.relatedTarget||f.toElement,pe=J,ve=ve?Pi(ve):null,ve!==null&&(ht=Ei(ve),ve!==ht||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=J),pe!==ve)){if(xe=Hb,ce="onMouseLeave",G="onMouseEnter",F="mouse",(a==="pointerout"||a==="pointerover")&&(xe=Kb,ce="onPointerLeave",G="onPointerEnter",F="pointer"),ht=pe==null?se:ka(pe),Y=ve==null?se:ka(ve),se=new xe(ce,F+"leave",pe,f,le),se.target=ht,se.relatedTarget=Y,ce=null,Pi(le)===J&&(xe=new xe(G,F+"enter",ve,f,le),xe.target=Y,xe.relatedTarget=ht,ce=xe),ht=ce,pe&&ve)t:{for(xe=pe,G=ve,F=0,Y=xe;Y;Y=Sa(Y))F++;for(Y=0,ce=G;ce;ce=Sa(ce))Y++;for(;0<F-Y;)xe=Sa(xe),F--;for(;0<Y-F;)G=Sa(G),Y--;for(;F--;){if(xe===G||G!==null&&xe===G.alternate)break t;xe=Sa(xe),G=Sa(G)}xe=null}else xe=null;pe!==null&&bw(ue,se,pe,xe,!1),ve!==null&&ht!==null&&bw(ue,ht,ve,xe,!0)}}e:{if(se=J?ka(J):window,pe=se.nodeName&&se.nodeName.toLowerCase(),pe==="select"||pe==="input"&&se.type==="file")var be=dI;else if(Zb(se))if(tw)be=yI;else{be=hI;var ke=fI}else(pe=se.nodeName)&&pe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(be=pI);if(be&&(be=be(a,J))){ew(ue,be,f,le);break e}ke&&ke(a,se,J),a==="focusout"&&(ke=se._wrapperState)&&ke.controlled&&se.type==="number"&&tn(se,"number",se.value)}switch(ke=J?ka(J):window,a){case"focusin":(Zb(ke)||ke.contentEditable==="true")&&(wa=ke,Hf=J,fs=null);break;case"focusout":fs=Hf=wa=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,uw(ue,f,le);break;case"selectionchange":if(vI)break;case"keydown":case"keyup":uw(ue,f,le)}var Oe;if(qf)e:{switch(a){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else ba?Jb(a,f)&&(Ce="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(Ce="onCompositionStart");Ce&&(Gb&&f.locale!=="ko"&&(ba||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&ba&&(Oe=Fb()):(Gn=le,$f="value"in Gn?Gn.value:Gn.textContent,ba=!0)),ke=_u(J,Ce),0<ke.length&&(Ce=new Vb(Ce,a,null,f,le),ue.push({event:Ce,listeners:ke}),Oe?Ce.data=Oe:(Oe=Qb(f),Oe!==null&&(Ce.data=Oe)))),(Oe=oI?sI(a,f):lI(a,f))&&(J=_u(J,"onBeforeInput"),0<J.length&&(le=new Vb("onBeforeInput","beforeinput",null,f,le),ue.push({event:le,listeners:J}),le.data=Oe))}vw(ue,s)})}function ys(a,s,f){return{instance:a,listener:s,currentTarget:f}}function _u(a,s){for(var f=s+"Capture",g=[];a!==null;){var x=a,_=x.stateNode;x.tag===5&&_!==null&&(x=_,_=Xo(a,f),_!=null&&g.unshift(ys(a,_,x)),_=Xo(a,s),_!=null&&g.push(ys(a,_,x))),a=a.return}return g}function Sa(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function bw(a,s,f,g,x){for(var _=s._reactName,C=[];f!==null&&f!==g;){var D=f,B=D.alternate,J=D.stateNode;if(B!==null&&B===g)break;D.tag===5&&J!==null&&(D=J,x?(B=Xo(f,_),B!=null&&C.unshift(ys(f,B,D))):x||(B=Xo(f,_),B!=null&&C.push(ys(f,B,D)))),f=f.return}C.length!==0&&a.push({event:s,listeners:C})}var _I=/\r\n?/g,SI=/\u0000|\uFFFD/g;function ww(a){return(typeof a=="string"?a:""+a).replace(_I,`
`).replace(SI,"")}function Su(a,s,f){if(s=ww(s),ww(a)!==s&&f)throw Error(r(425))}function ju(){}var Qf=null,Zf=null;function eh(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var th=typeof setTimeout=="function"?setTimeout:void 0,jI=typeof clearTimeout=="function"?clearTimeout:void 0,_w=typeof Promise=="function"?Promise:void 0,kI=typeof queueMicrotask=="function"?queueMicrotask:typeof _w<"u"?function(a){return _w.resolve(null).then(a).catch(OI)}:th;function OI(a){setTimeout(function(){throw a})}function rh(a,s){var f=s,g=0;do{var x=f.nextSibling;if(a.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(g===0){a.removeChild(x),as(s);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=x}while(f);as(s)}function Xn(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return a}function Sw(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(s===0)return a;s--}else f==="/$"&&s++}a=a.previousSibling}return null}var ja=Math.random().toString(36).slice(2),an="__reactFiber$"+ja,gs="__reactProps$"+ja,vn="__reactContainer$"+ja,nh="__reactEvents$"+ja,AI="__reactListeners$"+ja,EI="__reactHandles$"+ja;function Pi(a){var s=a[an];if(s)return s;for(var f=a.parentNode;f;){if(s=f[vn]||f[an]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(a=Sw(a);a!==null;){if(f=a[an])return f;a=Sw(a)}return s}a=f,f=a.parentNode}return null}function ms(a){return a=a[an]||a[vn],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ka(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function ku(a){return a[gs]||null}var ih=[],Oa=-1;function Jn(a){return{current:a}}function et(a){0>Oa||(a.current=ih[Oa],ih[Oa]=null,Oa--)}function Ye(a,s){Oa++,ih[Oa]=a.current,a.current=s}var Qn={},qt=Jn(Qn),tr=Jn(!1),Ti=Qn;function Aa(a,s){var f=a.type.contextTypes;if(!f)return Qn;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===s)return g.__reactInternalMemoizedMaskedChildContext;var x={},_;for(_ in f)x[_]=s[_];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=s,a.__reactInternalMemoizedMaskedChildContext=x),x}function rr(a){return a=a.childContextTypes,a!=null}function Ou(){et(tr),et(qt)}function jw(a,s,f){if(qt.current!==Qn)throw Error(r(168));Ye(qt,s),Ye(tr,f)}function kw(a,s,f){var g=a.stateNode;if(s=s.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var x in g)if(!(x in s))throw Error(r(108,ie(a)||"Unknown",x));return Z({},f,g)}function Au(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Qn,Ti=qt.current,Ye(qt,a),Ye(tr,tr.current),!0}function Ow(a,s,f){var g=a.stateNode;if(!g)throw Error(r(169));f?(a=kw(a,s,Ti),g.__reactInternalMemoizedMergedChildContext=a,et(tr),et(qt),Ye(qt,a)):et(tr),Ye(tr,f)}var xn=null,Eu=!1,ah=!1;function Aw(a){xn===null?xn=[a]:xn.push(a)}function PI(a){Eu=!0,Aw(a)}function Zn(){if(!ah&&xn!==null){ah=!0;var a=0,s=We;try{var f=xn;for(We=1;a<f.length;a++){var g=f[a];do g=g(!0);while(g!==null)}xn=null,Eu=!1}catch(x){throw xn!==null&&(xn=xn.slice(a+1)),Pb(Af,Zn),x}finally{We=s,ah=!1}}return null}var Ea=[],Pa=0,Pu=null,Tu=0,Sr=[],jr=0,Ci=null,bn=1,wn="";function Ni(a,s){Ea[Pa++]=Tu,Ea[Pa++]=Pu,Pu=a,Tu=s}function Ew(a,s,f){Sr[jr++]=bn,Sr[jr++]=wn,Sr[jr++]=Ci,Ci=a;var g=bn;a=wn;var x=32-Lr(g)-1;g&=~(1<<x),f+=1;var _=32-Lr(s)+x;if(30<_){var C=x-x%5;_=(g&(1<<C)-1).toString(32),g>>=C,x-=C,bn=1<<32-Lr(s)+x|f<<x|g,wn=_+a}else bn=1<<_|f<<x|g,wn=a}function oh(a){a.return!==null&&(Ni(a,1),Ew(a,1,0))}function sh(a){for(;a===Pu;)Pu=Ea[--Pa],Ea[Pa]=null,Tu=Ea[--Pa],Ea[Pa]=null;for(;a===Ci;)Ci=Sr[--jr],Sr[jr]=null,wn=Sr[--jr],Sr[jr]=null,bn=Sr[--jr],Sr[jr]=null}var fr=null,hr=null,rt=!1,Br=null;function Pw(a,s){var f=Er(5,null,null,0);f.elementType="DELETED",f.stateNode=s,f.return=a,s=a.deletions,s===null?(a.deletions=[f],a.flags|=16):s.push(f)}function Tw(a,s){switch(a.tag){case 5:var f=a.type;return s=s.nodeType!==1||f.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(a.stateNode=s,fr=a,hr=Xn(s.firstChild),!0):!1;case 6:return s=a.pendingProps===""||s.nodeType!==3?null:s,s!==null?(a.stateNode=s,fr=a,hr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(f=Ci!==null?{id:bn,overflow:wn}:null,a.memoizedState={dehydrated:s,treeContext:f,retryLane:1073741824},f=Er(18,null,null,0),f.stateNode=s,f.return=a,a.child=f,fr=a,hr=null,!0):!1;default:return!1}}function lh(a){return(a.mode&1)!==0&&(a.flags&128)===0}function uh(a){if(rt){var s=hr;if(s){var f=s;if(!Tw(a,s)){if(lh(a))throw Error(r(418));s=Xn(f.nextSibling);var g=fr;s&&Tw(a,s)?Pw(g,f):(a.flags=a.flags&-4097|2,rt=!1,fr=a)}}else{if(lh(a))throw Error(r(418));a.flags=a.flags&-4097|2,rt=!1,fr=a}}}function Cw(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;fr=a}function Cu(a){if(a!==fr)return!1;if(!rt)return Cw(a),rt=!0,!1;var s;if((s=a.tag!==3)&&!(s=a.tag!==5)&&(s=a.type,s=s!=="head"&&s!=="body"&&!eh(a.type,a.memoizedProps)),s&&(s=hr)){if(lh(a))throw Nw(),Error(r(418));for(;s;)Pw(a,s),s=Xn(s.nextSibling)}if(Cw(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"){if(s===0){hr=Xn(a.nextSibling);break e}s--}else f!=="$"&&f!=="$!"&&f!=="$?"||s++}a=a.nextSibling}hr=null}}else hr=fr?Xn(a.stateNode.nextSibling):null;return!0}function Nw(){for(var a=hr;a;)a=Xn(a.nextSibling)}function Ta(){hr=fr=null,rt=!1}function ch(a){Br===null?Br=[a]:Br.push(a)}var TI=T.ReactCurrentBatchConfig;function vs(a,s,f){if(a=f.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var g=f.stateNode}if(!g)throw Error(r(147,a));var x=g,_=""+a;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===_?s.ref:(s=function(C){var D=x.refs;C===null?delete D[_]:D[_]=C},s._stringRef=_,s)}if(typeof a!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,a))}return a}function Nu(a,s){throw a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a))}function Iw(a){var s=a._init;return s(a._payload)}function Rw(a){function s(G,F){if(a){var Y=G.deletions;Y===null?(G.deletions=[F],G.flags|=16):Y.push(F)}}function f(G,F){if(!a)return null;for(;F!==null;)s(G,F),F=F.sibling;return null}function g(G,F){for(G=new Map;F!==null;)F.key!==null?G.set(F.key,F):G.set(F.index,F),F=F.sibling;return G}function x(G,F){return G=si(G,F),G.index=0,G.sibling=null,G}function _(G,F,Y){return G.index=Y,a?(Y=G.alternate,Y!==null?(Y=Y.index,Y<F?(G.flags|=2,F):Y):(G.flags|=2,F)):(G.flags|=1048576,F)}function C(G){return a&&G.alternate===null&&(G.flags|=2),G}function D(G,F,Y,ce){return F===null||F.tag!==6?(F=tp(Y,G.mode,ce),F.return=G,F):(F=x(F,Y),F.return=G,F)}function B(G,F,Y,ce){var be=Y.type;return be===P?le(G,F,Y.props.children,ce,Y.key):F!==null&&(F.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===X&&Iw(be)===F.type)?(ce=x(F,Y.props),ce.ref=vs(G,F,Y),ce.return=G,ce):(ce=rc(Y.type,Y.key,Y.props,null,G.mode,ce),ce.ref=vs(G,F,Y),ce.return=G,ce)}function J(G,F,Y,ce){return F===null||F.tag!==4||F.stateNode.containerInfo!==Y.containerInfo||F.stateNode.implementation!==Y.implementation?(F=rp(Y,G.mode,ce),F.return=G,F):(F=x(F,Y.children||[]),F.return=G,F)}function le(G,F,Y,ce,be){return F===null||F.tag!==7?(F=Bi(Y,G.mode,ce,be),F.return=G,F):(F=x(F,Y),F.return=G,F)}function ue(G,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number")return F=tp(""+F,G.mode,Y),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case j:return Y=rc(F.type,F.key,F.props,null,G.mode,Y),Y.ref=vs(G,null,F),Y.return=G,Y;case E:return F=rp(F,G.mode,Y),F.return=G,F;case X:var ce=F._init;return ue(G,ce(F._payload),Y)}if(rn(F)||ee(F))return F=Bi(F,G.mode,Y,null),F.return=G,F;Nu(G,F)}return null}function se(G,F,Y,ce){var be=F!==null?F.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return be!==null?null:D(G,F,""+Y,ce);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:return Y.key===be?B(G,F,Y,ce):null;case E:return Y.key===be?J(G,F,Y,ce):null;case X:return be=Y._init,se(G,F,be(Y._payload),ce)}if(rn(Y)||ee(Y))return be!==null?null:le(G,F,Y,ce,null);Nu(G,Y)}return null}function pe(G,F,Y,ce,be){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return G=G.get(Y)||null,D(F,G,""+ce,be);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case j:return G=G.get(ce.key===null?Y:ce.key)||null,B(F,G,ce,be);case E:return G=G.get(ce.key===null?Y:ce.key)||null,J(F,G,ce,be);case X:var ke=ce._init;return pe(G,F,Y,ke(ce._payload),be)}if(rn(ce)||ee(ce))return G=G.get(Y)||null,le(F,G,ce,be,null);Nu(F,ce)}return null}function ve(G,F,Y,ce){for(var be=null,ke=null,Oe=F,Ce=F=0,Tt=null;Oe!==null&&Ce<Y.length;Ce++){Oe.index>Ce?(Tt=Oe,Oe=null):Tt=Oe.sibling;var ze=se(G,Oe,Y[Ce],ce);if(ze===null){Oe===null&&(Oe=Tt);break}a&&Oe&&ze.alternate===null&&s(G,Oe),F=_(ze,F,Ce),ke===null?be=ze:ke.sibling=ze,ke=ze,Oe=Tt}if(Ce===Y.length)return f(G,Oe),rt&&Ni(G,Ce),be;if(Oe===null){for(;Ce<Y.length;Ce++)Oe=ue(G,Y[Ce],ce),Oe!==null&&(F=_(Oe,F,Ce),ke===null?be=Oe:ke.sibling=Oe,ke=Oe);return rt&&Ni(G,Ce),be}for(Oe=g(G,Oe);Ce<Y.length;Ce++)Tt=pe(Oe,G,Ce,Y[Ce],ce),Tt!==null&&(a&&Tt.alternate!==null&&Oe.delete(Tt.key===null?Ce:Tt.key),F=_(Tt,F,Ce),ke===null?be=Tt:ke.sibling=Tt,ke=Tt);return a&&Oe.forEach(function(li){return s(G,li)}),rt&&Ni(G,Ce),be}function xe(G,F,Y,ce){var be=ee(Y);if(typeof be!="function")throw Error(r(150));if(Y=be.call(Y),Y==null)throw Error(r(151));for(var ke=be=null,Oe=F,Ce=F=0,Tt=null,ze=Y.next();Oe!==null&&!ze.done;Ce++,ze=Y.next()){Oe.index>Ce?(Tt=Oe,Oe=null):Tt=Oe.sibling;var li=se(G,Oe,ze.value,ce);if(li===null){Oe===null&&(Oe=Tt);break}a&&Oe&&li.alternate===null&&s(G,Oe),F=_(li,F,Ce),ke===null?be=li:ke.sibling=li,ke=li,Oe=Tt}if(ze.done)return f(G,Oe),rt&&Ni(G,Ce),be;if(Oe===null){for(;!ze.done;Ce++,ze=Y.next())ze=ue(G,ze.value,ce),ze!==null&&(F=_(ze,F,Ce),ke===null?be=ze:ke.sibling=ze,ke=ze);return rt&&Ni(G,Ce),be}for(Oe=g(G,Oe);!ze.done;Ce++,ze=Y.next())ze=pe(Oe,G,Ce,ze.value,ce),ze!==null&&(a&&ze.alternate!==null&&Oe.delete(ze.key===null?Ce:ze.key),F=_(ze,F,Ce),ke===null?be=ze:ke.sibling=ze,ke=ze);return a&&Oe.forEach(function(uR){return s(G,uR)}),rt&&Ni(G,Ce),be}function ht(G,F,Y,ce){if(typeof Y=="object"&&Y!==null&&Y.type===P&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:e:{for(var be=Y.key,ke=F;ke!==null;){if(ke.key===be){if(be=Y.type,be===P){if(ke.tag===7){f(G,ke.sibling),F=x(ke,Y.props.children),F.return=G,G=F;break e}}else if(ke.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===X&&Iw(be)===ke.type){f(G,ke.sibling),F=x(ke,Y.props),F.ref=vs(G,ke,Y),F.return=G,G=F;break e}f(G,ke);break}else s(G,ke);ke=ke.sibling}Y.type===P?(F=Bi(Y.props.children,G.mode,ce,Y.key),F.return=G,G=F):(ce=rc(Y.type,Y.key,Y.props,null,G.mode,ce),ce.ref=vs(G,F,Y),ce.return=G,G=ce)}return C(G);case E:e:{for(ke=Y.key;F!==null;){if(F.key===ke)if(F.tag===4&&F.stateNode.containerInfo===Y.containerInfo&&F.stateNode.implementation===Y.implementation){f(G,F.sibling),F=x(F,Y.children||[]),F.return=G,G=F;break e}else{f(G,F);break}else s(G,F);F=F.sibling}F=rp(Y,G.mode,ce),F.return=G,G=F}return C(G);case X:return ke=Y._init,ht(G,F,ke(Y._payload),ce)}if(rn(Y))return ve(G,F,Y,ce);if(ee(Y))return xe(G,F,Y,ce);Nu(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,F!==null&&F.tag===6?(f(G,F.sibling),F=x(F,Y),F.return=G,G=F):(f(G,F),F=tp(Y,G.mode,ce),F.return=G,G=F),C(G)):f(G,F)}return ht}var Ca=Rw(!0),$w=Rw(!1),Iu=Jn(null),Ru=null,Na=null,dh=null;function fh(){dh=Na=Ru=null}function hh(a){var s=Iu.current;et(Iu),a._currentValue=s}function ph(a,s,f){for(;a!==null;){var g=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),a===f)break;a=a.return}}function Ia(a,s){Ru=a,dh=Na=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&s)!==0&&(nr=!0),a.firstContext=null)}function kr(a){var s=a._currentValue;if(dh!==a)if(a={context:a,memoizedValue:s,next:null},Na===null){if(Ru===null)throw Error(r(308));Na=a,Ru.dependencies={lanes:0,firstContext:a}}else Na=Na.next=a;return s}var Ii=null;function yh(a){Ii===null?Ii=[a]:Ii.push(a)}function Mw(a,s,f,g){var x=s.interleaved;return x===null?(f.next=f,yh(s)):(f.next=x.next,x.next=f),s.interleaved=f,_n(a,g)}function _n(a,s){a.lanes|=s;var f=a.alternate;for(f!==null&&(f.lanes|=s),f=a,a=a.return;a!==null;)a.childLanes|=s,f=a.alternate,f!==null&&(f.childLanes|=s),f=a,a=a.return;return f.tag===3?f.stateNode:null}var ei=!1;function gh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dw(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Sn(a,s){return{eventTime:a,lane:s,tag:0,payload:null,callback:null,next:null}}function ti(a,s,f){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Le&2)!==0){var x=g.pending;return x===null?s.next=s:(s.next=x.next,x.next=s),g.pending=s,_n(a,f)}return x=g.interleaved,x===null?(s.next=s,yh(g)):(s.next=x.next,x.next=s),g.interleaved=s,_n(a,f)}function $u(a,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194240)!==0)){var g=s.lanes;g&=a.pendingLanes,f|=g,s.lanes=f,Tf(a,f)}}function Lw(a,s){var f=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var x=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var C={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};_===null?x=_=C:_=_.next=C,f=f.next}while(f!==null);_===null?x=_=s:_=_.next=s}else x=_=s;f={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:g.shared,effects:g.effects},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=s:a.next=s,f.lastBaseUpdate=s}function Mu(a,s,f,g){var x=a.updateQueue;ei=!1;var _=x.firstBaseUpdate,C=x.lastBaseUpdate,D=x.shared.pending;if(D!==null){x.shared.pending=null;var B=D,J=B.next;B.next=null,C===null?_=J:C.next=J,C=B;var le=a.alternate;le!==null&&(le=le.updateQueue,D=le.lastBaseUpdate,D!==C&&(D===null?le.firstBaseUpdate=J:D.next=J,le.lastBaseUpdate=B))}if(_!==null){var ue=x.baseState;C=0,le=J=B=null,D=_;do{var se=D.lane,pe=D.eventTime;if((g&se)===se){le!==null&&(le=le.next={eventTime:pe,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var ve=a,xe=D;switch(se=s,pe=f,xe.tag){case 1:if(ve=xe.payload,typeof ve=="function"){ue=ve.call(pe,ue,se);break e}ue=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=xe.payload,se=typeof ve=="function"?ve.call(pe,ue,se):ve,se==null)break e;ue=Z({},ue,se);break e;case 2:ei=!0}}D.callback!==null&&D.lane!==0&&(a.flags|=64,se=x.effects,se===null?x.effects=[D]:se.push(D))}else pe={eventTime:pe,lane:se,tag:D.tag,payload:D.payload,callback:D.callback,next:null},le===null?(J=le=pe,B=ue):le=le.next=pe,C|=se;if(D=D.next,D===null){if(D=x.shared.pending,D===null)break;se=D,D=se.next,se.next=null,x.lastBaseUpdate=se,x.shared.pending=null}}while(!0);if(le===null&&(B=ue),x.baseState=B,x.firstBaseUpdate=J,x.lastBaseUpdate=le,s=x.shared.interleaved,s!==null){x=s;do C|=x.lane,x=x.next;while(x!==s)}else _===null&&(x.shared.lanes=0);Mi|=C,a.lanes=C,a.memoizedState=ue}}function zw(a,s,f){if(a=s.effects,s.effects=null,a!==null)for(s=0;s<a.length;s++){var g=a[s],x=g.callback;if(x!==null){if(g.callback=null,g=f,typeof x!="function")throw Error(r(191,x));x.call(g)}}}var xs={},on=Jn(xs),bs=Jn(xs),ws=Jn(xs);function Ri(a){if(a===xs)throw Error(r(174));return a}function mh(a,s){switch(Ye(ws,s),Ye(bs,a),Ye(on,xs),a=s.nodeType,a){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:vf(null,"");break;default:a=a===8?s.parentNode:s,s=a.namespaceURI||null,a=a.tagName,s=vf(s,a)}et(on),Ye(on,s)}function Ra(){et(on),et(bs),et(ws)}function Bw(a){Ri(ws.current);var s=Ri(on.current),f=vf(s,a.type);s!==f&&(Ye(bs,a),Ye(on,f))}function vh(a){bs.current===a&&(et(on),et(bs))}var it=Jn(0);function Du(a){for(var s=a;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var xh=[];function bh(){for(var a=0;a<xh.length;a++)xh[a]._workInProgressVersionPrimary=null;xh.length=0}var Lu=T.ReactCurrentDispatcher,wh=T.ReactCurrentBatchConfig,$i=0,at=null,wt=null,Et=null,zu=!1,_s=!1,Ss=0,CI=0;function Ut(){throw Error(r(321))}function _h(a,s){if(s===null)return!1;for(var f=0;f<s.length&&f<a.length;f++)if(!zr(a[f],s[f]))return!1;return!0}function Sh(a,s,f,g,x,_){if($i=_,at=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Lu.current=a===null||a.memoizedState===null?$I:MI,a=f(g,x),_s){_=0;do{if(_s=!1,Ss=0,25<=_)throw Error(r(301));_+=1,Et=wt=null,s.updateQueue=null,Lu.current=DI,a=f(g,x)}while(_s)}if(Lu.current=Uu,s=wt!==null&&wt.next!==null,$i=0,Et=wt=at=null,zu=!1,s)throw Error(r(300));return a}function jh(){var a=Ss!==0;return Ss=0,a}function sn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?at.memoizedState=Et=a:Et=Et.next=a,Et}function Or(){if(wt===null){var a=at.alternate;a=a!==null?a.memoizedState:null}else a=wt.next;var s=Et===null?at.memoizedState:Et.next;if(s!==null)Et=s,wt=a;else{if(a===null)throw Error(r(310));wt=a,a={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Et===null?at.memoizedState=Et=a:Et=Et.next=a}return Et}function js(a,s){return typeof s=="function"?s(a):s}function kh(a){var s=Or(),f=s.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var g=wt,x=g.baseQueue,_=f.pending;if(_!==null){if(x!==null){var C=x.next;x.next=_.next,_.next=C}g.baseQueue=x=_,f.pending=null}if(x!==null){_=x.next,g=g.baseState;var D=C=null,B=null,J=_;do{var le=J.lane;if(($i&le)===le)B!==null&&(B=B.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),g=J.hasEagerState?J.eagerState:a(g,J.action);else{var ue={lane:le,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};B===null?(D=B=ue,C=g):B=B.next=ue,at.lanes|=le,Mi|=le}J=J.next}while(J!==null&&J!==_);B===null?C=g:B.next=D,zr(g,s.memoizedState)||(nr=!0),s.memoizedState=g,s.baseState=C,s.baseQueue=B,f.lastRenderedState=g}if(a=f.interleaved,a!==null){x=a;do _=x.lane,at.lanes|=_,Mi|=_,x=x.next;while(x!==a)}else x===null&&(f.lanes=0);return[s.memoizedState,f.dispatch]}function Oh(a){var s=Or(),f=s.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var g=f.dispatch,x=f.pending,_=s.memoizedState;if(x!==null){f.pending=null;var C=x=x.next;do _=a(_,C.action),C=C.next;while(C!==x);zr(_,s.memoizedState)||(nr=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),f.lastRenderedState=_}return[_,g]}function qw(){}function Uw(a,s){var f=at,g=Or(),x=s(),_=!zr(g.memoizedState,x);if(_&&(g.memoizedState=x,nr=!0),g=g.queue,Ah(Hw.bind(null,f,g,a),[a]),g.getSnapshot!==s||_||Et!==null&&Et.memoizedState.tag&1){if(f.flags|=2048,ks(9,Ww.bind(null,f,g,x,s),void 0,null),Pt===null)throw Error(r(349));($i&30)!==0||Fw(f,s,x)}return x}function Fw(a,s,f){a.flags|=16384,a={getSnapshot:s,value:f},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.stores=[a]):(f=s.stores,f===null?s.stores=[a]:f.push(a))}function Ww(a,s,f,g){s.value=f,s.getSnapshot=g,Vw(s)&&Kw(a)}function Hw(a,s,f){return f(function(){Vw(s)&&Kw(a)})}function Vw(a){var s=a.getSnapshot;a=a.value;try{var f=s();return!zr(a,f)}catch{return!0}}function Kw(a){var s=_n(a,1);s!==null&&Wr(s,a,1,-1)}function Gw(a){var s=sn();return typeof a=="function"&&(a=a()),s.memoizedState=s.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:a},s.queue=a,a=a.dispatch=RI.bind(null,at,a),[s.memoizedState,a]}function ks(a,s,f,g){return a={tag:a,create:s,destroy:f,deps:g,next:null},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.lastEffect=a.next=a):(f=s.lastEffect,f===null?s.lastEffect=a.next=a:(g=f.next,f.next=a,a.next=g,s.lastEffect=a)),a}function Yw(){return Or().memoizedState}function Bu(a,s,f,g){var x=sn();at.flags|=a,x.memoizedState=ks(1|s,f,void 0,g===void 0?null:g)}function qu(a,s,f,g){var x=Or();g=g===void 0?null:g;var _=void 0;if(wt!==null){var C=wt.memoizedState;if(_=C.destroy,g!==null&&_h(g,C.deps)){x.memoizedState=ks(s,f,_,g);return}}at.flags|=a,x.memoizedState=ks(1|s,f,_,g)}function Xw(a,s){return Bu(8390656,8,a,s)}function Ah(a,s){return qu(2048,8,a,s)}function Jw(a,s){return qu(4,2,a,s)}function Qw(a,s){return qu(4,4,a,s)}function Zw(a,s){if(typeof s=="function")return a=a(),s(a),function(){s(null)};if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function e1(a,s,f){return f=f!=null?f.concat([a]):null,qu(4,4,Zw.bind(null,s,a),f)}function Eh(){}function t1(a,s){var f=Or();s=s===void 0?null:s;var g=f.memoizedState;return g!==null&&s!==null&&_h(s,g[1])?g[0]:(f.memoizedState=[a,s],a)}function r1(a,s){var f=Or();s=s===void 0?null:s;var g=f.memoizedState;return g!==null&&s!==null&&_h(s,g[1])?g[0]:(a=a(),f.memoizedState=[a,s],a)}function n1(a,s,f){return($i&21)===0?(a.baseState&&(a.baseState=!1,nr=!0),a.memoizedState=f):(zr(f,s)||(f=Ib(),at.lanes|=f,Mi|=f,a.baseState=!0),s)}function NI(a,s){var f=We;We=f!==0&&4>f?f:4,a(!0);var g=wh.transition;wh.transition={};try{a(!1),s()}finally{We=f,wh.transition=g}}function i1(){return Or().memoizedState}function II(a,s,f){var g=ai(a);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},a1(a))o1(s,f);else if(f=Mw(a,s,f,g),f!==null){var x=Xt();Wr(f,a,g,x),s1(f,s,g)}}function RI(a,s,f){var g=ai(a),x={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(a1(a))o1(s,x);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var C=s.lastRenderedState,D=_(C,f);if(x.hasEagerState=!0,x.eagerState=D,zr(D,C)){var B=s.interleaved;B===null?(x.next=x,yh(s)):(x.next=B.next,B.next=x),s.interleaved=x;return}}catch{}finally{}f=Mw(a,s,x,g),f!==null&&(x=Xt(),Wr(f,a,g,x),s1(f,s,g))}}function a1(a){var s=a.alternate;return a===at||s!==null&&s===at}function o1(a,s){_s=zu=!0;var f=a.pending;f===null?s.next=s:(s.next=f.next,f.next=s),a.pending=s}function s1(a,s,f){if((f&4194240)!==0){var g=s.lanes;g&=a.pendingLanes,f|=g,s.lanes=f,Tf(a,f)}}var Uu={readContext:kr,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},$I={readContext:kr,useCallback:function(a,s){return sn().memoizedState=[a,s===void 0?null:s],a},useContext:kr,useEffect:Xw,useImperativeHandle:function(a,s,f){return f=f!=null?f.concat([a]):null,Bu(4194308,4,Zw.bind(null,s,a),f)},useLayoutEffect:function(a,s){return Bu(4194308,4,a,s)},useInsertionEffect:function(a,s){return Bu(4,2,a,s)},useMemo:function(a,s){var f=sn();return s=s===void 0?null:s,a=a(),f.memoizedState=[a,s],a},useReducer:function(a,s,f){var g=sn();return s=f!==void 0?f(s):s,g.memoizedState=g.baseState=s,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:s},g.queue=a,a=a.dispatch=II.bind(null,at,a),[g.memoizedState,a]},useRef:function(a){var s=sn();return a={current:a},s.memoizedState=a},useState:Gw,useDebugValue:Eh,useDeferredValue:function(a){return sn().memoizedState=a},useTransition:function(){var a=Gw(!1),s=a[0];return a=NI.bind(null,a[1]),sn().memoizedState=a,[s,a]},useMutableSource:function(){},useSyncExternalStore:function(a,s,f){var g=at,x=sn();if(rt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=s(),Pt===null)throw Error(r(349));($i&30)!==0||Fw(g,s,f)}x.memoizedState=f;var _={value:f,getSnapshot:s};return x.queue=_,Xw(Hw.bind(null,g,_,a),[a]),g.flags|=2048,ks(9,Ww.bind(null,g,_,f,s),void 0,null),f},useId:function(){var a=sn(),s=Pt.identifierPrefix;if(rt){var f=wn,g=bn;f=(g&~(1<<32-Lr(g)-1)).toString(32)+f,s=":"+s+"R"+f,f=Ss++,0<f&&(s+="H"+f.toString(32)),s+=":"}else f=CI++,s=":"+s+"r"+f.toString(32)+":";return a.memoizedState=s},unstable_isNewReconciler:!1},MI={readContext:kr,useCallback:t1,useContext:kr,useEffect:Ah,useImperativeHandle:e1,useInsertionEffect:Jw,useLayoutEffect:Qw,useMemo:r1,useReducer:kh,useRef:Yw,useState:function(){return kh(js)},useDebugValue:Eh,useDeferredValue:function(a){var s=Or();return n1(s,wt.memoizedState,a)},useTransition:function(){var a=kh(js)[0],s=Or().memoizedState;return[a,s]},useMutableSource:qw,useSyncExternalStore:Uw,useId:i1,unstable_isNewReconciler:!1},DI={readContext:kr,useCallback:t1,useContext:kr,useEffect:Ah,useImperativeHandle:e1,useInsertionEffect:Jw,useLayoutEffect:Qw,useMemo:r1,useReducer:Oh,useRef:Yw,useState:function(){return Oh(js)},useDebugValue:Eh,useDeferredValue:function(a){var s=Or();return wt===null?s.memoizedState=a:n1(s,wt.memoizedState,a)},useTransition:function(){var a=Oh(js)[0],s=Or().memoizedState;return[a,s]},useMutableSource:qw,useSyncExternalStore:Uw,useId:i1,unstable_isNewReconciler:!1};function qr(a,s){if(a&&a.defaultProps){s=Z({},s),a=a.defaultProps;for(var f in a)s[f]===void 0&&(s[f]=a[f]);return s}return s}function Ph(a,s,f,g){s=a.memoizedState,f=f(g,s),f=f==null?s:Z({},s,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var Fu={isMounted:function(a){return(a=a._reactInternals)?Ei(a)===a:!1},enqueueSetState:function(a,s,f){a=a._reactInternals;var g=Xt(),x=ai(a),_=Sn(g,x);_.payload=s,f!=null&&(_.callback=f),s=ti(a,_,x),s!==null&&(Wr(s,a,x,g),$u(s,a,x))},enqueueReplaceState:function(a,s,f){a=a._reactInternals;var g=Xt(),x=ai(a),_=Sn(g,x);_.tag=1,_.payload=s,f!=null&&(_.callback=f),s=ti(a,_,x),s!==null&&(Wr(s,a,x,g),$u(s,a,x))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var f=Xt(),g=ai(a),x=Sn(f,g);x.tag=2,s!=null&&(x.callback=s),s=ti(a,x,g),s!==null&&(Wr(s,a,g,f),$u(s,a,g))}};function l1(a,s,f,g,x,_,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,_,C):s.prototype&&s.prototype.isPureReactComponent?!ds(f,g)||!ds(x,_):!0}function u1(a,s,f){var g=!1,x=Qn,_=s.contextType;return typeof _=="object"&&_!==null?_=kr(_):(x=rr(s)?Ti:qt.current,g=s.contextTypes,_=(g=g!=null)?Aa(a,x):Qn),s=new s(f,_),a.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Fu,a.stateNode=s,s._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=x,a.__reactInternalMemoizedMaskedChildContext=_),s}function c1(a,s,f,g){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,g),s.state!==a&&Fu.enqueueReplaceState(s,s.state,null)}function Th(a,s,f,g){var x=a.stateNode;x.props=f,x.state=a.memoizedState,x.refs={},gh(a);var _=s.contextType;typeof _=="object"&&_!==null?x.context=kr(_):(_=rr(s)?Ti:qt.current,x.context=Aa(a,_)),x.state=a.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Ph(a,s,_,f),x.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(s=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),s!==x.state&&Fu.enqueueReplaceState(x,x.state,null),Mu(a,f,x,g),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308)}function $a(a,s){try{var f="",g=s;do f+=me(g),g=g.return;while(g);var x=f}catch(_){x=`
Error generating stack: `+_.message+`
`+_.stack}return{value:a,source:s,stack:x,digest:null}}function Ch(a,s,f){return{value:a,source:null,stack:f??null,digest:s??null}}function Nh(a,s){try{console.error(s.value)}catch(f){setTimeout(function(){throw f})}}var LI=typeof WeakMap=="function"?WeakMap:Map;function d1(a,s,f){f=Sn(-1,f),f.tag=3,f.payload={element:null};var g=s.value;return f.callback=function(){Xu||(Xu=!0,Kh=g),Nh(a,s)},f}function f1(a,s,f){f=Sn(-1,f),f.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var x=s.value;f.payload=function(){return g(x)},f.callback=function(){Nh(a,s)}}var _=a.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(f.callback=function(){Nh(a,s),typeof g!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})}),f}function h1(a,s,f){var g=a.pingCache;if(g===null){g=a.pingCache=new LI;var x=new Set;g.set(s,x)}else x=g.get(s),x===void 0&&(x=new Set,g.set(s,x));x.has(f)||(x.add(f),a=QI.bind(null,a,s,f),s.then(a,a))}function p1(a){do{var s;if((s=a.tag===13)&&(s=a.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return a;a=a.return}while(a!==null);return null}function y1(a,s,f,g,x){return(a.mode&1)===0?(a===s?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(s=Sn(-1,1),s.tag=2,ti(f,s,1))),f.lanes|=1),a):(a.flags|=65536,a.lanes=x,a)}var zI=T.ReactCurrentOwner,nr=!1;function Yt(a,s,f,g){s.child=a===null?$w(s,null,f,g):Ca(s,a.child,f,g)}function g1(a,s,f,g,x){f=f.render;var _=s.ref;return Ia(s,x),g=Sh(a,s,f,g,_,x),f=jh(),a!==null&&!nr?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~x,jn(a,s,x)):(rt&&f&&oh(s),s.flags|=1,Yt(a,s,g,x),s.child)}function m1(a,s,f,g,x){if(a===null){var _=f.type;return typeof _=="function"&&!ep(_)&&_.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(s.tag=15,s.type=_,v1(a,s,_,g,x)):(a=rc(f.type,null,g,s,s.mode,x),a.ref=s.ref,a.return=s,s.child=a)}if(_=a.child,(a.lanes&x)===0){var C=_.memoizedProps;if(f=f.compare,f=f!==null?f:ds,f(C,g)&&a.ref===s.ref)return jn(a,s,x)}return s.flags|=1,a=si(_,g),a.ref=s.ref,a.return=s,s.child=a}function v1(a,s,f,g,x){if(a!==null){var _=a.memoizedProps;if(ds(_,g)&&a.ref===s.ref)if(nr=!1,s.pendingProps=g=_,(a.lanes&x)!==0)(a.flags&131072)!==0&&(nr=!0);else return s.lanes=a.lanes,jn(a,s,x)}return Ih(a,s,f,g,x)}function x1(a,s,f){var g=s.pendingProps,x=g.children,_=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Da,pr),pr|=f;else{if((f&1073741824)===0)return a=_!==null?_.baseLanes|f:f,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:a,cachePool:null,transitions:null},s.updateQueue=null,Ye(Da,pr),pr|=a,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=_!==null?_.baseLanes:f,Ye(Da,pr),pr|=g}else _!==null?(g=_.baseLanes|f,s.memoizedState=null):g=f,Ye(Da,pr),pr|=g;return Yt(a,s,x,f),s.child}function b1(a,s){var f=s.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(s.flags|=512,s.flags|=2097152)}function Ih(a,s,f,g,x){var _=rr(f)?Ti:qt.current;return _=Aa(s,_),Ia(s,x),f=Sh(a,s,f,g,_,x),g=jh(),a!==null&&!nr?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~x,jn(a,s,x)):(rt&&g&&oh(s),s.flags|=1,Yt(a,s,f,x),s.child)}function w1(a,s,f,g,x){if(rr(f)){var _=!0;Au(s)}else _=!1;if(Ia(s,x),s.stateNode===null)Hu(a,s),u1(s,f,g),Th(s,f,g,x),g=!0;else if(a===null){var C=s.stateNode,D=s.memoizedProps;C.props=D;var B=C.context,J=f.contextType;typeof J=="object"&&J!==null?J=kr(J):(J=rr(f)?Ti:qt.current,J=Aa(s,J));var le=f.getDerivedStateFromProps,ue=typeof le=="function"||typeof C.getSnapshotBeforeUpdate=="function";ue||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(D!==g||B!==J)&&c1(s,C,g,J),ei=!1;var se=s.memoizedState;C.state=se,Mu(s,g,C,x),B=s.memoizedState,D!==g||se!==B||tr.current||ei?(typeof le=="function"&&(Ph(s,f,le,g),B=s.memoizedState),(D=ei||l1(s,f,D,g,se,B,J))?(ue||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(s.flags|=4194308)):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=B),C.props=g,C.state=B,C.context=J,g=D):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{C=s.stateNode,Dw(a,s),D=s.memoizedProps,J=s.type===s.elementType?D:qr(s.type,D),C.props=J,ue=s.pendingProps,se=C.context,B=f.contextType,typeof B=="object"&&B!==null?B=kr(B):(B=rr(f)?Ti:qt.current,B=Aa(s,B));var pe=f.getDerivedStateFromProps;(le=typeof pe=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(D!==ue||se!==B)&&c1(s,C,g,B),ei=!1,se=s.memoizedState,C.state=se,Mu(s,g,C,x);var ve=s.memoizedState;D!==ue||se!==ve||tr.current||ei?(typeof pe=="function"&&(Ph(s,f,pe,g),ve=s.memoizedState),(J=ei||l1(s,f,J,g,se,ve,B)||!1)?(le||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,ve,B),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,ve,B)),typeof C.componentDidUpdate=="function"&&(s.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof C.componentDidUpdate!="function"||D===a.memoizedProps&&se===a.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&se===a.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=ve),C.props=g,C.state=ve,C.context=B,g=J):(typeof C.componentDidUpdate!="function"||D===a.memoizedProps&&se===a.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&se===a.memoizedState||(s.flags|=1024),g=!1)}return Rh(a,s,f,g,_,x)}function Rh(a,s,f,g,x,_){b1(a,s);var C=(s.flags&128)!==0;if(!g&&!C)return x&&Ow(s,f,!1),jn(a,s,_);g=s.stateNode,zI.current=s;var D=C&&typeof f.getDerivedStateFromError!="function"?null:g.render();return s.flags|=1,a!==null&&C?(s.child=Ca(s,a.child,null,_),s.child=Ca(s,null,D,_)):Yt(a,s,D,_),s.memoizedState=g.state,x&&Ow(s,f,!0),s.child}function _1(a){var s=a.stateNode;s.pendingContext?jw(a,s.pendingContext,s.pendingContext!==s.context):s.context&&jw(a,s.context,!1),mh(a,s.containerInfo)}function S1(a,s,f,g,x){return Ta(),ch(x),s.flags|=256,Yt(a,s,f,g),s.child}var $h={dehydrated:null,treeContext:null,retryLane:0};function Mh(a){return{baseLanes:a,cachePool:null,transitions:null}}function j1(a,s,f){var g=s.pendingProps,x=it.current,_=!1,C=(s.flags&128)!==0,D;if((D=C)||(D=a!==null&&a.memoizedState===null?!1:(x&2)!==0),D?(_=!0,s.flags&=-129):(a===null||a.memoizedState!==null)&&(x|=1),Ye(it,x&1),a===null)return uh(s),a=s.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((s.mode&1)===0?s.lanes=1:a.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(C=g.children,a=g.fallback,_?(g=s.mode,_=s.child,C={mode:"hidden",children:C},(g&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=C):_=nc(C,g,0,null),a=Bi(a,g,f,null),_.return=s,a.return=s,_.sibling=a,s.child=_,s.child.memoizedState=Mh(f),s.memoizedState=$h,a):Dh(s,C));if(x=a.memoizedState,x!==null&&(D=x.dehydrated,D!==null))return BI(a,s,C,g,D,x,f);if(_){_=g.fallback,C=s.mode,x=a.child,D=x.sibling;var B={mode:"hidden",children:g.children};return(C&1)===0&&s.child!==x?(g=s.child,g.childLanes=0,g.pendingProps=B,s.deletions=null):(g=si(x,B),g.subtreeFlags=x.subtreeFlags&14680064),D!==null?_=si(D,_):(_=Bi(_,C,f,null),_.flags|=2),_.return=s,g.return=s,g.sibling=_,s.child=g,g=_,_=s.child,C=a.child.memoizedState,C=C===null?Mh(f):{baseLanes:C.baseLanes|f,cachePool:null,transitions:C.transitions},_.memoizedState=C,_.childLanes=a.childLanes&~f,s.memoizedState=$h,g}return _=a.child,a=_.sibling,g=si(_,{mode:"visible",children:g.children}),(s.mode&1)===0&&(g.lanes=f),g.return=s,g.sibling=null,a!==null&&(f=s.deletions,f===null?(s.deletions=[a],s.flags|=16):f.push(a)),s.child=g,s.memoizedState=null,g}function Dh(a,s){return s=nc({mode:"visible",children:s},a.mode,0,null),s.return=a,a.child=s}function Wu(a,s,f,g){return g!==null&&ch(g),Ca(s,a.child,null,f),a=Dh(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function BI(a,s,f,g,x,_,C){if(f)return s.flags&256?(s.flags&=-257,g=Ch(Error(r(422))),Wu(a,s,C,g)):s.memoizedState!==null?(s.child=a.child,s.flags|=128,null):(_=g.fallback,x=s.mode,g=nc({mode:"visible",children:g.children},x,0,null),_=Bi(_,x,C,null),_.flags|=2,g.return=s,_.return=s,g.sibling=_,s.child=g,(s.mode&1)!==0&&Ca(s,a.child,null,C),s.child.memoizedState=Mh(C),s.memoizedState=$h,_);if((s.mode&1)===0)return Wu(a,s,C,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var D=g.dgst;return g=D,_=Error(r(419)),g=Ch(_,g,void 0),Wu(a,s,C,g)}if(D=(C&a.childLanes)!==0,nr||D){if(g=Pt,g!==null){switch(C&-C){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|C))!==0?0:x,x!==0&&x!==_.retryLane&&(_.retryLane=x,_n(a,x),Wr(g,a,x,-1))}return Zh(),g=Ch(Error(r(421))),Wu(a,s,C,g)}return x.data==="$?"?(s.flags|=128,s.child=a.child,s=ZI.bind(null,a),x._reactRetry=s,null):(a=_.treeContext,hr=Xn(x.nextSibling),fr=s,rt=!0,Br=null,a!==null&&(Sr[jr++]=bn,Sr[jr++]=wn,Sr[jr++]=Ci,bn=a.id,wn=a.overflow,Ci=s),s=Dh(s,g.children),s.flags|=4096,s)}function k1(a,s,f){a.lanes|=s;var g=a.alternate;g!==null&&(g.lanes|=s),ph(a.return,s,f)}function Lh(a,s,f,g,x){var _=a.memoizedState;_===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:x}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=g,_.tail=f,_.tailMode=x)}function O1(a,s,f){var g=s.pendingProps,x=g.revealOrder,_=g.tail;if(Yt(a,s,g.children,f),g=it.current,(g&2)!==0)g=g&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&k1(a,f,s);else if(a.tag===19)k1(a,f,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(Ye(it,g),(s.mode&1)===0)s.memoizedState=null;else switch(x){case"forwards":for(f=s.child,x=null;f!==null;)a=f.alternate,a!==null&&Du(a)===null&&(x=f),f=f.sibling;f=x,f===null?(x=s.child,s.child=null):(x=f.sibling,f.sibling=null),Lh(s,!1,x,f,_);break;case"backwards":for(f=null,x=s.child,s.child=null;x!==null;){if(a=x.alternate,a!==null&&Du(a)===null){s.child=x;break}a=x.sibling,x.sibling=f,f=x,x=a}Lh(s,!0,f,null,_);break;case"together":Lh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Hu(a,s){(s.mode&1)===0&&a!==null&&(a.alternate=null,s.alternate=null,s.flags|=2)}function jn(a,s,f){if(a!==null&&(s.dependencies=a.dependencies),Mi|=s.lanes,(f&s.childLanes)===0)return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,f=si(a,a.pendingProps),s.child=f,f.return=s;a.sibling!==null;)a=a.sibling,f=f.sibling=si(a,a.pendingProps),f.return=s;f.sibling=null}return s.child}function qI(a,s,f){switch(s.tag){case 3:_1(s),Ta();break;case 5:Bw(s);break;case 1:rr(s.type)&&Au(s);break;case 4:mh(s,s.stateNode.containerInfo);break;case 10:var g=s.type._context,x=s.memoizedProps.value;Ye(Iu,g._currentValue),g._currentValue=x;break;case 13:if(g=s.memoizedState,g!==null)return g.dehydrated!==null?(Ye(it,it.current&1),s.flags|=128,null):(f&s.child.childLanes)!==0?j1(a,s,f):(Ye(it,it.current&1),a=jn(a,s,f),a!==null?a.sibling:null);Ye(it,it.current&1);break;case 19:if(g=(f&s.childLanes)!==0,(a.flags&128)!==0){if(g)return O1(a,s,f);s.flags|=128}if(x=s.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ye(it,it.current),g)break;return null;case 22:case 23:return s.lanes=0,x1(a,s,f)}return jn(a,s,f)}var A1,zh,E1,P1;A1=function(a,s){for(var f=s.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},zh=function(){},E1=function(a,s,f,g){var x=a.memoizedProps;if(x!==g){a=s.stateNode,Ri(on.current);var _=null;switch(f){case"input":x=je(a,x),g=je(a,g),_=[];break;case"select":x=Z({},x,{value:void 0}),g=Z({},g,{value:void 0}),_=[];break;case"textarea":x=Dr(a,x),g=Dr(a,g),_=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=ju)}xf(f,g);var C;f=null;for(J in x)if(!g.hasOwnProperty(J)&&x.hasOwnProperty(J)&&x[J]!=null)if(J==="style"){var D=x[J];for(C in D)D.hasOwnProperty(C)&&(f||(f={}),f[C]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?_||(_=[]):(_=_||[]).push(J,null));for(J in g){var B=g[J];if(D=x?.[J],g.hasOwnProperty(J)&&B!==D&&(B!=null||D!=null))if(J==="style")if(D){for(C in D)!D.hasOwnProperty(C)||B&&B.hasOwnProperty(C)||(f||(f={}),f[C]="");for(C in B)B.hasOwnProperty(C)&&D[C]!==B[C]&&(f||(f={}),f[C]=B[C])}else f||(_||(_=[]),_.push(J,f)),f=B;else J==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,D=D?D.__html:void 0,B!=null&&D!==B&&(_=_||[]).push(J,B)):J==="children"?typeof B!="string"&&typeof B!="number"||(_=_||[]).push(J,""+B):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(i.hasOwnProperty(J)?(B!=null&&J==="onScroll"&&Ze("scroll",a),_||D===B||(_=[])):(_=_||[]).push(J,B))}f&&(_=_||[]).push("style",f);var J=_;(s.updateQueue=J)&&(s.flags|=4)}},P1=function(a,s,f,g){f!==g&&(s.flags|=4)};function Os(a,s){if(!rt)switch(a.tailMode){case"hidden":s=a.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Ft(a){var s=a.alternate!==null&&a.alternate.child===a.child,f=0,g=0;if(s)for(var x=a.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=g,a.childLanes=f,s}function UI(a,s,f){var g=s.pendingProps;switch(sh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(s),null;case 1:return rr(s.type)&&Ou(),Ft(s),null;case 3:return g=s.stateNode,Ra(),et(tr),et(qt),bh(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Cu(s)?s.flags|=4:a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Br!==null&&(Xh(Br),Br=null))),zh(a,s),Ft(s),null;case 5:vh(s);var x=Ri(ws.current);if(f=s.type,a!==null&&s.stateNode!=null)E1(a,s,f,g,x),a.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!g){if(s.stateNode===null)throw Error(r(166));return Ft(s),null}if(a=Ri(on.current),Cu(s)){g=s.stateNode,f=s.type;var _=s.memoizedProps;switch(g[an]=s,g[gs]=_,a=(s.mode&1)!==0,f){case"dialog":Ze("cancel",g),Ze("close",g);break;case"iframe":case"object":case"embed":Ze("load",g);break;case"video":case"audio":for(x=0;x<hs.length;x++)Ze(hs[x],g);break;case"source":Ze("error",g);break;case"img":case"image":case"link":Ze("error",g),Ze("load",g);break;case"details":Ze("toggle",g);break;case"input":Fe(g,_),Ze("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!_.multiple},Ze("invalid",g);break;case"textarea":ya(g,_),Ze("invalid",g)}xf(f,_),x=null;for(var C in _)if(_.hasOwnProperty(C)){var D=_[C];C==="children"?typeof D=="string"?g.textContent!==D&&(_.suppressHydrationWarning!==!0&&Su(g.textContent,D,a),x=["children",D]):typeof D=="number"&&g.textContent!==""+D&&(_.suppressHydrationWarning!==!0&&Su(g.textContent,D,a),x=["children",""+D]):i.hasOwnProperty(C)&&D!=null&&C==="onScroll"&&Ze("scroll",g)}switch(f){case"input":Ne(g),bt(g,_,!0);break;case"textarea":Ne(g),Ko(g);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(g.onclick=ju)}g=x,s.updateQueue=g,g!==null&&(s.flags|=4)}else{C=x.nodeType===9?x:x.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=yb(f)),a==="http://www.w3.org/1999/xhtml"?f==="script"?(a=C.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=C.createElement(f,{is:g.is}):(a=C.createElement(f),f==="select"&&(C=a,g.multiple?C.multiple=!0:g.size&&(C.size=g.size))):a=C.createElementNS(a,f),a[an]=s,a[gs]=g,A1(a,s,!1,!1),s.stateNode=a;e:{switch(C=bf(f,g),f){case"dialog":Ze("cancel",a),Ze("close",a),x=g;break;case"iframe":case"object":case"embed":Ze("load",a),x=g;break;case"video":case"audio":for(x=0;x<hs.length;x++)Ze(hs[x],a);x=g;break;case"source":Ze("error",a),x=g;break;case"img":case"image":case"link":Ze("error",a),Ze("load",a),x=g;break;case"details":Ze("toggle",a),x=g;break;case"input":Fe(a,g),x=je(a,g),Ze("invalid",a);break;case"option":x=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},x=Z({},g,{value:void 0}),Ze("invalid",a);break;case"textarea":ya(a,g),x=Dr(a,g),Ze("invalid",a);break;default:x=g}xf(f,x),D=x;for(_ in D)if(D.hasOwnProperty(_)){var B=D[_];_==="style"?vb(a,B):_==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&gb(a,B)):_==="children"?typeof B=="string"?(f!=="textarea"||B!=="")&&Go(a,B):typeof B=="number"&&Go(a,""+B):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?B!=null&&_==="onScroll"&&Ze("scroll",a):B!=null&&O(a,_,B,C))}switch(f){case"input":Ne(a),bt(a,g,!1);break;case"textarea":Ne(a),Ko(a);break;case"option":g.value!=null&&a.setAttribute("value",""+he(g.value));break;case"select":a.multiple=!!g.multiple,_=g.value,_!=null?er(a,!!g.multiple,_,!1):g.defaultValue!=null&&er(a,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(a.onclick=ju)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ft(s),null;case 6:if(a&&s.stateNode!=null)P1(a,s,a.memoizedProps,g);else{if(typeof g!="string"&&s.stateNode===null)throw Error(r(166));if(f=Ri(ws.current),Ri(on.current),Cu(s)){if(g=s.stateNode,f=s.memoizedProps,g[an]=s,(_=g.nodeValue!==f)&&(a=fr,a!==null))switch(a.tag){case 3:Su(g.nodeValue,f,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Su(g.nodeValue,f,(a.mode&1)!==0)}_&&(s.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[an]=s,s.stateNode=g}return Ft(s),null;case 13:if(et(it),g=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(rt&&hr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Nw(),Ta(),s.flags|=98560,_=!1;else if(_=Cu(s),g!==null&&g.dehydrated!==null){if(a===null){if(!_)throw Error(r(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[an]=s}else Ta(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ft(s),_=!1}else Br!==null&&(Xh(Br),Br=null),_=!0;if(!_)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=f,s):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(s.child.flags|=8192,(s.mode&1)!==0&&(a===null||(it.current&1)!==0?_t===0&&(_t=3):Zh())),s.updateQueue!==null&&(s.flags|=4),Ft(s),null);case 4:return Ra(),zh(a,s),a===null&&ps(s.stateNode.containerInfo),Ft(s),null;case 10:return hh(s.type._context),Ft(s),null;case 17:return rr(s.type)&&Ou(),Ft(s),null;case 19:if(et(it),_=s.memoizedState,_===null)return Ft(s),null;if(g=(s.flags&128)!==0,C=_.rendering,C===null)if(g)Os(_,!1);else{if(_t!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(C=Du(a),C!==null){for(s.flags|=128,Os(_,!1),g=C.updateQueue,g!==null&&(s.updateQueue=g,s.flags|=4),s.subtreeFlags=0,g=f,f=s.child;f!==null;)_=f,a=g,_.flags&=14680066,C=_.alternate,C===null?(_.childLanes=0,_.lanes=a,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=C.childLanes,_.lanes=C.lanes,_.child=C.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=C.memoizedProps,_.memoizedState=C.memoizedState,_.updateQueue=C.updateQueue,_.type=C.type,a=C.dependencies,_.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),f=f.sibling;return Ye(it,it.current&1|2),s.child}a=a.sibling}_.tail!==null&&ft()>La&&(s.flags|=128,g=!0,Os(_,!1),s.lanes=4194304)}else{if(!g)if(a=Du(C),a!==null){if(s.flags|=128,g=!0,f=a.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),Os(_,!0),_.tail===null&&_.tailMode==="hidden"&&!C.alternate&&!rt)return Ft(s),null}else 2*ft()-_.renderingStartTime>La&&f!==1073741824&&(s.flags|=128,g=!0,Os(_,!1),s.lanes=4194304);_.isBackwards?(C.sibling=s.child,s.child=C):(f=_.last,f!==null?f.sibling=C:s.child=C,_.last=C)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=ft(),s.sibling=null,f=it.current,Ye(it,g?f&1|2:f&1),s):(Ft(s),null);case 22:case 23:return Qh(),g=s.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(s.flags|=8192),g&&(s.mode&1)!==0?(pr&1073741824)!==0&&(Ft(s),s.subtreeFlags&6&&(s.flags|=8192)):Ft(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function FI(a,s){switch(sh(s),s.tag){case 1:return rr(s.type)&&Ou(),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Ra(),et(tr),et(qt),bh(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 5:return vh(s),null;case 13:if(et(it),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ta()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return et(it),null;case 4:return Ra(),null;case 10:return hh(s.type._context),null;case 22:case 23:return Qh(),null;case 24:return null;default:return null}}var Vu=!1,Wt=!1,WI=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Ma(a,s){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){ut(a,s,g)}else f.current=null}function Bh(a,s,f){try{f()}catch(g){ut(a,s,g)}}var T1=!1;function HI(a,s){if(Qf=fu,a=lw(),Wf(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var x=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var C=0,D=-1,B=-1,J=0,le=0,ue=a,se=null;t:for(;;){for(var pe;ue!==f||x!==0&&ue.nodeType!==3||(D=C+x),ue!==_||g!==0&&ue.nodeType!==3||(B=C+g),ue.nodeType===3&&(C+=ue.nodeValue.length),(pe=ue.firstChild)!==null;)se=ue,ue=pe;for(;;){if(ue===a)break t;if(se===f&&++J===x&&(D=C),se===_&&++le===g&&(B=C),(pe=ue.nextSibling)!==null)break;ue=se,se=ue.parentNode}ue=pe}f=D===-1||B===-1?null:{start:D,end:B}}else f=null}f=f||{start:0,end:0}}else f=null;for(Zf={focusedElem:a,selectionRange:f},fu=!1,ye=s;ye!==null;)if(s=ye,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,ye=a;else for(;ye!==null;){s=ye;try{var ve=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var xe=ve.memoizedProps,ht=ve.memoizedState,G=s.stateNode,F=G.getSnapshotBeforeUpdate(s.elementType===s.type?xe:qr(s.type,xe),ht);G.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var Y=s.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ce){ut(s,s.return,ce)}if(a=s.sibling,a!==null){a.return=s.return,ye=a;break}ye=s.return}return ve=T1,T1=!1,ve}function As(a,s,f){var g=s.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&a)===a){var _=x.destroy;x.destroy=void 0,_!==void 0&&Bh(s,f,_)}x=x.next}while(x!==g)}}function Ku(a,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var f=s=s.next;do{if((f.tag&a)===a){var g=f.create;f.destroy=g()}f=f.next}while(f!==s)}}function qh(a){var s=a.ref;if(s!==null){var f=a.stateNode;switch(a.tag){case 5:a=f;break;default:a=f}typeof s=="function"?s(a):s.current=a}}function C1(a){var s=a.alternate;s!==null&&(a.alternate=null,C1(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&(delete s[an],delete s[gs],delete s[nh],delete s[AI],delete s[EI])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function N1(a){return a.tag===5||a.tag===3||a.tag===4}function I1(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||N1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Uh(a,s,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,s?f.nodeType===8?f.parentNode.insertBefore(a,s):f.insertBefore(a,s):(f.nodeType===8?(s=f.parentNode,s.insertBefore(a,f)):(s=f,s.appendChild(a)),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=ju));else if(g!==4&&(a=a.child,a!==null))for(Uh(a,s,f),a=a.sibling;a!==null;)Uh(a,s,f),a=a.sibling}function Fh(a,s,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,s?f.insertBefore(a,s):f.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(Fh(a,s,f),a=a.sibling;a!==null;)Fh(a,s,f),a=a.sibling}var Rt=null,Ur=!1;function ri(a,s,f){for(f=f.child;f!==null;)R1(a,s,f),f=f.sibling}function R1(a,s,f){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(ou,f)}catch{}switch(f.tag){case 5:Wt||Ma(f,s);case 6:var g=Rt,x=Ur;Rt=null,ri(a,s,f),Rt=g,Ur=x,Rt!==null&&(Ur?(a=Rt,f=f.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):Rt.removeChild(f.stateNode));break;case 18:Rt!==null&&(Ur?(a=Rt,f=f.stateNode,a.nodeType===8?rh(a.parentNode,f):a.nodeType===1&&rh(a,f),as(a)):rh(Rt,f.stateNode));break;case 4:g=Rt,x=Ur,Rt=f.stateNode.containerInfo,Ur=!0,ri(a,s,f),Rt=g,Ur=x;break;case 0:case 11:case 14:case 15:if(!Wt&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var _=x,C=_.destroy;_=_.tag,C!==void 0&&((_&2)!==0||(_&4)!==0)&&Bh(f,s,C),x=x.next}while(x!==g)}ri(a,s,f);break;case 1:if(!Wt&&(Ma(f,s),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(D){ut(f,s,D)}ri(a,s,f);break;case 21:ri(a,s,f);break;case 22:f.mode&1?(Wt=(g=Wt)||f.memoizedState!==null,ri(a,s,f),Wt=g):ri(a,s,f);break;default:ri(a,s,f)}}function $1(a){var s=a.updateQueue;if(s!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new WI),s.forEach(function(g){var x=eR.bind(null,a,g);f.has(g)||(f.add(g),g.then(x,x))})}}function Fr(a,s){var f=s.deletions;if(f!==null)for(var g=0;g<f.length;g++){var x=f[g];try{var _=a,C=s,D=C;e:for(;D!==null;){switch(D.tag){case 5:Rt=D.stateNode,Ur=!1;break e;case 3:Rt=D.stateNode.containerInfo,Ur=!0;break e;case 4:Rt=D.stateNode.containerInfo,Ur=!0;break e}D=D.return}if(Rt===null)throw Error(r(160));R1(_,C,x),Rt=null,Ur=!1;var B=x.alternate;B!==null&&(B.return=null),x.return=null}catch(J){ut(x,s,J)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)M1(s,a),s=s.sibling}function M1(a,s){var f=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Fr(s,a),ln(a),g&4){try{As(3,a,a.return),Ku(3,a)}catch(xe){ut(a,a.return,xe)}try{As(5,a,a.return)}catch(xe){ut(a,a.return,xe)}}break;case 1:Fr(s,a),ln(a),g&512&&f!==null&&Ma(f,f.return);break;case 5:if(Fr(s,a),ln(a),g&512&&f!==null&&Ma(f,f.return),a.flags&32){var x=a.stateNode;try{Go(x,"")}catch(xe){ut(a,a.return,xe)}}if(g&4&&(x=a.stateNode,x!=null)){var _=a.memoizedProps,C=f!==null?f.memoizedProps:_,D=a.type,B=a.updateQueue;if(a.updateQueue=null,B!==null)try{D==="input"&&_.type==="radio"&&_.name!=null&&Ge(x,_),bf(D,C);var J=bf(D,_);for(C=0;C<B.length;C+=2){var le=B[C],ue=B[C+1];le==="style"?vb(x,ue):le==="dangerouslySetInnerHTML"?gb(x,ue):le==="children"?Go(x,ue):O(x,le,ue,J)}switch(D){case"input":lt(x,_);break;case"textarea":Vo(x,_);break;case"select":var se=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!_.multiple;var pe=_.value;pe!=null?er(x,!!_.multiple,pe,!1):se!==!!_.multiple&&(_.defaultValue!=null?er(x,!!_.multiple,_.defaultValue,!0):er(x,!!_.multiple,_.multiple?[]:"",!1))}x[gs]=_}catch(xe){ut(a,a.return,xe)}}break;case 6:if(Fr(s,a),ln(a),g&4){if(a.stateNode===null)throw Error(r(162));x=a.stateNode,_=a.memoizedProps;try{x.nodeValue=_}catch(xe){ut(a,a.return,xe)}}break;case 3:if(Fr(s,a),ln(a),g&4&&f!==null&&f.memoizedState.isDehydrated)try{as(s.containerInfo)}catch(xe){ut(a,a.return,xe)}break;case 4:Fr(s,a),ln(a);break;case 13:Fr(s,a),ln(a),x=a.child,x.flags&8192&&(_=x.memoizedState!==null,x.stateNode.isHidden=_,!_||x.alternate!==null&&x.alternate.memoizedState!==null||(Vh=ft())),g&4&&$1(a);break;case 22:if(le=f!==null&&f.memoizedState!==null,a.mode&1?(Wt=(J=Wt)||le,Fr(s,a),Wt=J):Fr(s,a),ln(a),g&8192){if(J=a.memoizedState!==null,(a.stateNode.isHidden=J)&&!le&&(a.mode&1)!==0)for(ye=a,le=a.child;le!==null;){for(ue=ye=le;ye!==null;){switch(se=ye,pe=se.child,se.tag){case 0:case 11:case 14:case 15:As(4,se,se.return);break;case 1:Ma(se,se.return);var ve=se.stateNode;if(typeof ve.componentWillUnmount=="function"){g=se,f=se.return;try{s=g,ve.props=s.memoizedProps,ve.state=s.memoizedState,ve.componentWillUnmount()}catch(xe){ut(g,f,xe)}}break;case 5:Ma(se,se.return);break;case 22:if(se.memoizedState!==null){z1(ue);continue}}pe!==null?(pe.return=se,ye=pe):z1(ue)}le=le.sibling}e:for(le=null,ue=a;;){if(ue.tag===5){if(le===null){le=ue;try{x=ue.stateNode,J?(_=x.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(D=ue.stateNode,B=ue.memoizedProps.style,C=B!=null&&B.hasOwnProperty("display")?B.display:null,D.style.display=mb("display",C))}catch(xe){ut(a,a.return,xe)}}}else if(ue.tag===6){if(le===null)try{ue.stateNode.nodeValue=J?"":ue.memoizedProps}catch(xe){ut(a,a.return,xe)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===a)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===a)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===a)break e;le===ue&&(le=null),ue=ue.return}le===ue&&(le=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Fr(s,a),ln(a),g&4&&$1(a);break;case 21:break;default:Fr(s,a),ln(a)}}function ln(a){var s=a.flags;if(s&2){try{e:{for(var f=a.return;f!==null;){if(N1(f)){var g=f;break e}f=f.return}throw Error(r(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(Go(x,""),g.flags&=-33);var _=I1(a);Fh(a,_,x);break;case 3:case 4:var C=g.stateNode.containerInfo,D=I1(a);Uh(a,D,C);break;default:throw Error(r(161))}}catch(B){ut(a,a.return,B)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function VI(a,s,f){ye=a,D1(a)}function D1(a,s,f){for(var g=(a.mode&1)!==0;ye!==null;){var x=ye,_=x.child;if(x.tag===22&&g){var C=x.memoizedState!==null||Vu;if(!C){var D=x.alternate,B=D!==null&&D.memoizedState!==null||Wt;D=Vu;var J=Wt;if(Vu=C,(Wt=B)&&!J)for(ye=x;ye!==null;)C=ye,B=C.child,C.tag===22&&C.memoizedState!==null?B1(x):B!==null?(B.return=C,ye=B):B1(x);for(;_!==null;)ye=_,D1(_),_=_.sibling;ye=x,Vu=D,Wt=J}L1(a)}else(x.subtreeFlags&8772)!==0&&_!==null?(_.return=x,ye=_):L1(a)}}function L1(a){for(;ye!==null;){var s=ye;if((s.flags&8772)!==0){var f=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Wt||Ku(5,s);break;case 1:var g=s.stateNode;if(s.flags&4&&!Wt)if(f===null)g.componentDidMount();else{var x=s.elementType===s.type?f.memoizedProps:qr(s.type,f.memoizedProps);g.componentDidUpdate(x,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var _=s.updateQueue;_!==null&&zw(s,_,g);break;case 3:var C=s.updateQueue;if(C!==null){if(f=null,s.child!==null)switch(s.child.tag){case 5:f=s.child.stateNode;break;case 1:f=s.child.stateNode}zw(s,C,f)}break;case 5:var D=s.stateNode;if(f===null&&s.flags&4){f=D;var B=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&f.focus();break;case"img":B.src&&(f.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var J=s.alternate;if(J!==null){var le=J.memoizedState;if(le!==null){var ue=le.dehydrated;ue!==null&&as(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Wt||s.flags&512&&qh(s)}catch(se){ut(s,s.return,se)}}if(s===a){ye=null;break}if(f=s.sibling,f!==null){f.return=s.return,ye=f;break}ye=s.return}}function z1(a){for(;ye!==null;){var s=ye;if(s===a){ye=null;break}var f=s.sibling;if(f!==null){f.return=s.return,ye=f;break}ye=s.return}}function B1(a){for(;ye!==null;){var s=ye;try{switch(s.tag){case 0:case 11:case 15:var f=s.return;try{Ku(4,s)}catch(B){ut(s,f,B)}break;case 1:var g=s.stateNode;if(typeof g.componentDidMount=="function"){var x=s.return;try{g.componentDidMount()}catch(B){ut(s,x,B)}}var _=s.return;try{qh(s)}catch(B){ut(s,_,B)}break;case 5:var C=s.return;try{qh(s)}catch(B){ut(s,C,B)}}}catch(B){ut(s,s.return,B)}if(s===a){ye=null;break}var D=s.sibling;if(D!==null){D.return=s.return,ye=D;break}ye=s.return}}var KI=Math.ceil,Gu=T.ReactCurrentDispatcher,Wh=T.ReactCurrentOwner,Ar=T.ReactCurrentBatchConfig,Le=0,Pt=null,yt=null,$t=0,pr=0,Da=Jn(0),_t=0,Es=null,Mi=0,Yu=0,Hh=0,Ps=null,ir=null,Vh=0,La=1/0,kn=null,Xu=!1,Kh=null,ni=null,Ju=!1,ii=null,Qu=0,Ts=0,Gh=null,Zu=-1,ec=0;function Xt(){return(Le&6)!==0?ft():Zu!==-1?Zu:Zu=ft()}function ai(a){return(a.mode&1)===0?1:(Le&2)!==0&&$t!==0?$t&-$t:TI.transition!==null?(ec===0&&(ec=Ib()),ec):(a=We,a!==0||(a=window.event,a=a===void 0?16:Ub(a.type)),a)}function Wr(a,s,f,g){if(50<Ts)throw Ts=0,Gh=null,Error(r(185));es(a,f,g),((Le&2)===0||a!==Pt)&&(a===Pt&&((Le&2)===0&&(Yu|=f),_t===4&&oi(a,$t)),ar(a,g),f===1&&Le===0&&(s.mode&1)===0&&(La=ft()+500,Eu&&Zn()))}function ar(a,s){var f=a.callbackNode;TN(a,s);var g=uu(a,a===Pt?$t:0);if(g===0)f!==null&&Tb(f),a.callbackNode=null,a.callbackPriority=0;else if(s=g&-g,a.callbackPriority!==s){if(f!=null&&Tb(f),s===1)a.tag===0?PI(U1.bind(null,a)):Aw(U1.bind(null,a)),kI(function(){(Le&6)===0&&Zn()}),f=null;else{switch(Rb(g)){case 1:f=Af;break;case 4:f=Cb;break;case 16:f=au;break;case 536870912:f=Nb;break;default:f=au}f=X1(f,q1.bind(null,a))}a.callbackPriority=s,a.callbackNode=f}}function q1(a,s){if(Zu=-1,ec=0,(Le&6)!==0)throw Error(r(327));var f=a.callbackNode;if(za()&&a.callbackNode!==f)return null;var g=uu(a,a===Pt?$t:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||s)s=tc(a,g);else{s=g;var x=Le;Le|=2;var _=W1();(Pt!==a||$t!==s)&&(kn=null,La=ft()+500,Li(a,s));do try{XI();break}catch(D){F1(a,D)}while(!0);fh(),Gu.current=_,Le=x,yt!==null?s=0:(Pt=null,$t=0,s=_t)}if(s!==0){if(s===2&&(x=Ef(a),x!==0&&(g=x,s=Yh(a,x))),s===1)throw f=Es,Li(a,0),oi(a,g),ar(a,ft()),f;if(s===6)oi(a,g);else{if(x=a.current.alternate,(g&30)===0&&!GI(x)&&(s=tc(a,g),s===2&&(_=Ef(a),_!==0&&(g=_,s=Yh(a,_))),s===1))throw f=Es,Li(a,0),oi(a,g),ar(a,ft()),f;switch(a.finishedWork=x,a.finishedLanes=g,s){case 0:case 1:throw Error(r(345));case 2:zi(a,ir,kn);break;case 3:if(oi(a,g),(g&130023424)===g&&(s=Vh+500-ft(),10<s)){if(uu(a,0)!==0)break;if(x=a.suspendedLanes,(x&g)!==g){Xt(),a.pingedLanes|=a.suspendedLanes&x;break}a.timeoutHandle=th(zi.bind(null,a,ir,kn),s);break}zi(a,ir,kn);break;case 4:if(oi(a,g),(g&4194240)===g)break;for(s=a.eventTimes,x=-1;0<g;){var C=31-Lr(g);_=1<<C,C=s[C],C>x&&(x=C),g&=~_}if(g=x,g=ft()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*KI(g/1960))-g,10<g){a.timeoutHandle=th(zi.bind(null,a,ir,kn),g);break}zi(a,ir,kn);break;case 5:zi(a,ir,kn);break;default:throw Error(r(329))}}}return ar(a,ft()),a.callbackNode===f?q1.bind(null,a):null}function Yh(a,s){var f=Ps;return a.current.memoizedState.isDehydrated&&(Li(a,s).flags|=256),a=tc(a,s),a!==2&&(s=ir,ir=f,s!==null&&Xh(s)),a}function Xh(a){ir===null?ir=a:ir.push.apply(ir,a)}function GI(a){for(var s=a;;){if(s.flags&16384){var f=s.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var x=f[g],_=x.getSnapshot;x=x.value;try{if(!zr(_(),x))return!1}catch{return!1}}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function oi(a,s){for(s&=~Hh,s&=~Yu,a.suspendedLanes|=s,a.pingedLanes&=~s,a=a.expirationTimes;0<s;){var f=31-Lr(s),g=1<<f;a[f]=-1,s&=~g}}function U1(a){if((Le&6)!==0)throw Error(r(327));za();var s=uu(a,0);if((s&1)===0)return ar(a,ft()),null;var f=tc(a,s);if(a.tag!==0&&f===2){var g=Ef(a);g!==0&&(s=g,f=Yh(a,g))}if(f===1)throw f=Es,Li(a,0),oi(a,s),ar(a,ft()),f;if(f===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=s,zi(a,ir,kn),ar(a,ft()),null}function Jh(a,s){var f=Le;Le|=1;try{return a(s)}finally{Le=f,Le===0&&(La=ft()+500,Eu&&Zn())}}function Di(a){ii!==null&&ii.tag===0&&(Le&6)===0&&za();var s=Le;Le|=1;var f=Ar.transition,g=We;try{if(Ar.transition=null,We=1,a)return a()}finally{We=g,Ar.transition=f,Le=s,(Le&6)===0&&Zn()}}function Qh(){pr=Da.current,et(Da)}function Li(a,s){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==-1&&(a.timeoutHandle=-1,jI(f)),yt!==null)for(f=yt.return;f!==null;){var g=f;switch(sh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Ou();break;case 3:Ra(),et(tr),et(qt),bh();break;case 5:vh(g);break;case 4:Ra();break;case 13:et(it);break;case 19:et(it);break;case 10:hh(g.type._context);break;case 22:case 23:Qh()}f=f.return}if(Pt=a,yt=a=si(a.current,null),$t=pr=s,_t=0,Es=null,Hh=Yu=Mi=0,ir=Ps=null,Ii!==null){for(s=0;s<Ii.length;s++)if(f=Ii[s],g=f.interleaved,g!==null){f.interleaved=null;var x=g.next,_=f.pending;if(_!==null){var C=_.next;_.next=x,g.next=C}f.pending=g}Ii=null}return a}function F1(a,s){do{var f=yt;try{if(fh(),Lu.current=Uu,zu){for(var g=at.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}zu=!1}if($i=0,Et=wt=at=null,_s=!1,Ss=0,Wh.current=null,f===null||f.return===null){_t=1,Es=s,yt=null;break}e:{var _=a,C=f.return,D=f,B=s;if(s=$t,D.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var J=B,le=D,ue=le.tag;if((le.mode&1)===0&&(ue===0||ue===11||ue===15)){var se=le.alternate;se?(le.updateQueue=se.updateQueue,le.memoizedState=se.memoizedState,le.lanes=se.lanes):(le.updateQueue=null,le.memoizedState=null)}var pe=p1(C);if(pe!==null){pe.flags&=-257,y1(pe,C,D,_,s),pe.mode&1&&h1(_,J,s),s=pe,B=J;var ve=s.updateQueue;if(ve===null){var xe=new Set;xe.add(B),s.updateQueue=xe}else ve.add(B);break e}else{if((s&1)===0){h1(_,J,s),Zh();break e}B=Error(r(426))}}else if(rt&&D.mode&1){var ht=p1(C);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),y1(ht,C,D,_,s),ch($a(B,D));break e}}_=B=$a(B,D),_t!==4&&(_t=2),Ps===null?Ps=[_]:Ps.push(_),_=C;do{switch(_.tag){case 3:_.flags|=65536,s&=-s,_.lanes|=s;var G=d1(_,B,s);Lw(_,G);break e;case 1:D=B;var F=_.type,Y=_.stateNode;if((_.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(ni===null||!ni.has(Y)))){_.flags|=65536,s&=-s,_.lanes|=s;var ce=f1(_,D,s);Lw(_,ce);break e}}_=_.return}while(_!==null)}V1(f)}catch(be){s=be,yt===f&&f!==null&&(yt=f=f.return);continue}break}while(!0)}function W1(){var a=Gu.current;return Gu.current=Uu,a===null?Uu:a}function Zh(){(_t===0||_t===3||_t===2)&&(_t=4),Pt===null||(Mi&268435455)===0&&(Yu&268435455)===0||oi(Pt,$t)}function tc(a,s){var f=Le;Le|=2;var g=W1();(Pt!==a||$t!==s)&&(kn=null,Li(a,s));do try{YI();break}catch(x){F1(a,x)}while(!0);if(fh(),Le=f,Gu.current=g,yt!==null)throw Error(r(261));return Pt=null,$t=0,_t}function YI(){for(;yt!==null;)H1(yt)}function XI(){for(;yt!==null&&!wN();)H1(yt)}function H1(a){var s=Y1(a.alternate,a,pr);a.memoizedProps=a.pendingProps,s===null?V1(a):yt=s,Wh.current=null}function V1(a){var s=a;do{var f=s.alternate;if(a=s.return,(s.flags&32768)===0){if(f=UI(f,s,pr),f!==null){yt=f;return}}else{if(f=FI(f,s),f!==null){f.flags&=32767,yt=f;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{_t=6,yt=null;return}}if(s=s.sibling,s!==null){yt=s;return}yt=s=a}while(s!==null);_t===0&&(_t=5)}function zi(a,s,f){var g=We,x=Ar.transition;try{Ar.transition=null,We=1,JI(a,s,f,g)}finally{Ar.transition=x,We=g}return null}function JI(a,s,f,g){do za();while(ii!==null);if((Le&6)!==0)throw Error(r(327));f=a.finishedWork;var x=a.finishedLanes;if(f===null)return null;if(a.finishedWork=null,a.finishedLanes=0,f===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var _=f.lanes|f.childLanes;if(CN(a,_),a===Pt&&(yt=Pt=null,$t=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Ju||(Ju=!0,X1(au,function(){return za(),null})),_=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||_){_=Ar.transition,Ar.transition=null;var C=We;We=1;var D=Le;Le|=4,Wh.current=null,HI(a,f),M1(f,a),mI(Zf),fu=!!Qf,Zf=Qf=null,a.current=f,VI(f),_N(),Le=D,We=C,Ar.transition=_}else a.current=f;if(Ju&&(Ju=!1,ii=a,Qu=x),_=a.pendingLanes,_===0&&(ni=null),kN(f.stateNode),ar(a,ft()),s!==null)for(g=a.onRecoverableError,f=0;f<s.length;f++)x=s[f],g(x.value,{componentStack:x.stack,digest:x.digest});if(Xu)throw Xu=!1,a=Kh,Kh=null,a;return(Qu&1)!==0&&a.tag!==0&&za(),_=a.pendingLanes,(_&1)!==0?a===Gh?Ts++:(Ts=0,Gh=a):Ts=0,Zn(),null}function za(){if(ii!==null){var a=Rb(Qu),s=Ar.transition,f=We;try{if(Ar.transition=null,We=16>a?16:a,ii===null)var g=!1;else{if(a=ii,ii=null,Qu=0,(Le&6)!==0)throw Error(r(331));var x=Le;for(Le|=4,ye=a.current;ye!==null;){var _=ye,C=_.child;if((ye.flags&16)!==0){var D=_.deletions;if(D!==null){for(var B=0;B<D.length;B++){var J=D[B];for(ye=J;ye!==null;){var le=ye;switch(le.tag){case 0:case 11:case 15:As(8,le,_)}var ue=le.child;if(ue!==null)ue.return=le,ye=ue;else for(;ye!==null;){le=ye;var se=le.sibling,pe=le.return;if(C1(le),le===J){ye=null;break}if(se!==null){se.return=pe,ye=se;break}ye=pe}}}var ve=_.alternate;if(ve!==null){var xe=ve.child;if(xe!==null){ve.child=null;do{var ht=xe.sibling;xe.sibling=null,xe=ht}while(xe!==null)}}ye=_}}if((_.subtreeFlags&2064)!==0&&C!==null)C.return=_,ye=C;else e:for(;ye!==null;){if(_=ye,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:As(9,_,_.return)}var G=_.sibling;if(G!==null){G.return=_.return,ye=G;break e}ye=_.return}}var F=a.current;for(ye=F;ye!==null;){C=ye;var Y=C.child;if((C.subtreeFlags&2064)!==0&&Y!==null)Y.return=C,ye=Y;else e:for(C=F;ye!==null;){if(D=ye,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Ku(9,D)}}catch(be){ut(D,D.return,be)}if(D===C){ye=null;break e}var ce=D.sibling;if(ce!==null){ce.return=D.return,ye=ce;break e}ye=D.return}}if(Le=x,Zn(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(ou,a)}catch{}g=!0}return g}finally{We=f,Ar.transition=s}}return!1}function K1(a,s,f){s=$a(f,s),s=d1(a,s,1),a=ti(a,s,1),s=Xt(),a!==null&&(es(a,1,s),ar(a,s))}function ut(a,s,f){if(a.tag===3)K1(a,a,f);else for(;s!==null;){if(s.tag===3){K1(s,a,f);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ni===null||!ni.has(g))){a=$a(f,a),a=f1(s,a,1),s=ti(s,a,1),a=Xt(),s!==null&&(es(s,1,a),ar(s,a));break}}s=s.return}}function QI(a,s,f){var g=a.pingCache;g!==null&&g.delete(s),s=Xt(),a.pingedLanes|=a.suspendedLanes&f,Pt===a&&($t&f)===f&&(_t===4||_t===3&&($t&130023424)===$t&&500>ft()-Vh?Li(a,0):Hh|=f),ar(a,s)}function G1(a,s){s===0&&((a.mode&1)===0?s=1:(s=lu,lu<<=1,(lu&130023424)===0&&(lu=4194304)));var f=Xt();a=_n(a,s),a!==null&&(es(a,s,f),ar(a,f))}function ZI(a){var s=a.memoizedState,f=0;s!==null&&(f=s.retryLane),G1(a,f)}function eR(a,s){var f=0;switch(a.tag){case 13:var g=a.stateNode,x=a.memoizedState;x!==null&&(f=x.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(s),G1(a,f)}var Y1;Y1=function(a,s,f){if(a!==null)if(a.memoizedProps!==s.pendingProps||tr.current)nr=!0;else{if((a.lanes&f)===0&&(s.flags&128)===0)return nr=!1,qI(a,s,f);nr=(a.flags&131072)!==0}else nr=!1,rt&&(s.flags&1048576)!==0&&Ew(s,Tu,s.index);switch(s.lanes=0,s.tag){case 2:var g=s.type;Hu(a,s),a=s.pendingProps;var x=Aa(s,qt.current);Ia(s,f),x=Sh(null,s,g,a,x,f);var _=jh();return s.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,rr(g)?(_=!0,Au(s)):_=!1,s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,gh(s),x.updater=Fu,s.stateNode=x,x._reactInternals=s,Th(s,g,a,f),s=Rh(null,s,g,!0,_,f)):(s.tag=0,rt&&_&&oh(s),Yt(null,s,x,f),s=s.child),s;case 16:g=s.elementType;e:{switch(Hu(a,s),a=s.pendingProps,x=g._init,g=x(g._payload),s.type=g,x=s.tag=rR(g),a=qr(g,a),x){case 0:s=Ih(null,s,g,a,f);break e;case 1:s=w1(null,s,g,a,f);break e;case 11:s=g1(null,s,g,a,f);break e;case 14:s=m1(null,s,g,qr(g.type,a),f);break e}throw Error(r(306,g,""))}return s;case 0:return g=s.type,x=s.pendingProps,x=s.elementType===g?x:qr(g,x),Ih(a,s,g,x,f);case 1:return g=s.type,x=s.pendingProps,x=s.elementType===g?x:qr(g,x),w1(a,s,g,x,f);case 3:e:{if(_1(s),a===null)throw Error(r(387));g=s.pendingProps,_=s.memoizedState,x=_.element,Dw(a,s),Mu(s,g,null,f);var C=s.memoizedState;if(g=C.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){x=$a(Error(r(423)),s),s=S1(a,s,g,f,x);break e}else if(g!==x){x=$a(Error(r(424)),s),s=S1(a,s,g,f,x);break e}else for(hr=Xn(s.stateNode.containerInfo.firstChild),fr=s,rt=!0,Br=null,f=$w(s,null,g,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Ta(),g===x){s=jn(a,s,f);break e}Yt(a,s,g,f)}s=s.child}return s;case 5:return Bw(s),a===null&&uh(s),g=s.type,x=s.pendingProps,_=a!==null?a.memoizedProps:null,C=x.children,eh(g,x)?C=null:_!==null&&eh(g,_)&&(s.flags|=32),b1(a,s),Yt(a,s,C,f),s.child;case 6:return a===null&&uh(s),null;case 13:return j1(a,s,f);case 4:return mh(s,s.stateNode.containerInfo),g=s.pendingProps,a===null?s.child=Ca(s,null,g,f):Yt(a,s,g,f),s.child;case 11:return g=s.type,x=s.pendingProps,x=s.elementType===g?x:qr(g,x),g1(a,s,g,x,f);case 7:return Yt(a,s,s.pendingProps,f),s.child;case 8:return Yt(a,s,s.pendingProps.children,f),s.child;case 12:return Yt(a,s,s.pendingProps.children,f),s.child;case 10:e:{if(g=s.type._context,x=s.pendingProps,_=s.memoizedProps,C=x.value,Ye(Iu,g._currentValue),g._currentValue=C,_!==null)if(zr(_.value,C)){if(_.children===x.children&&!tr.current){s=jn(a,s,f);break e}}else for(_=s.child,_!==null&&(_.return=s);_!==null;){var D=_.dependencies;if(D!==null){C=_.child;for(var B=D.firstContext;B!==null;){if(B.context===g){if(_.tag===1){B=Sn(-1,f&-f),B.tag=2;var J=_.updateQueue;if(J!==null){J=J.shared;var le=J.pending;le===null?B.next=B:(B.next=le.next,le.next=B),J.pending=B}}_.lanes|=f,B=_.alternate,B!==null&&(B.lanes|=f),ph(_.return,f,s),D.lanes|=f;break}B=B.next}}else if(_.tag===10)C=_.type===s.type?null:_.child;else if(_.tag===18){if(C=_.return,C===null)throw Error(r(341));C.lanes|=f,D=C.alternate,D!==null&&(D.lanes|=f),ph(C,f,s),C=_.sibling}else C=_.child;if(C!==null)C.return=_;else for(C=_;C!==null;){if(C===s){C=null;break}if(_=C.sibling,_!==null){_.return=C.return,C=_;break}C=C.return}_=C}Yt(a,s,x.children,f),s=s.child}return s;case 9:return x=s.type,g=s.pendingProps.children,Ia(s,f),x=kr(x),g=g(x),s.flags|=1,Yt(a,s,g,f),s.child;case 14:return g=s.type,x=qr(g,s.pendingProps),x=qr(g.type,x),m1(a,s,g,x,f);case 15:return v1(a,s,s.type,s.pendingProps,f);case 17:return g=s.type,x=s.pendingProps,x=s.elementType===g?x:qr(g,x),Hu(a,s),s.tag=1,rr(g)?(a=!0,Au(s)):a=!1,Ia(s,f),u1(s,g,x),Th(s,g,x,f),Rh(null,s,g,!0,a,f);case 19:return O1(a,s,f);case 22:return x1(a,s,f)}throw Error(r(156,s.tag))};function X1(a,s){return Pb(a,s)}function tR(a,s,f,g){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(a,s,f,g){return new tR(a,s,f,g)}function ep(a){return a=a.prototype,!(!a||!a.isReactComponent)}function rR(a){if(typeof a=="function")return ep(a)?1:0;if(a!=null){if(a=a.$$typeof,a===R)return 11;if(a===H)return 14}return 2}function si(a,s){var f=a.alternate;return f===null?(f=Er(a.tag,s,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=s,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&14680064,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,s=a.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function rc(a,s,f,g,x,_){var C=2;if(g=a,typeof a=="function")ep(a)&&(C=1);else if(typeof a=="string")C=5;else e:switch(a){case P:return Bi(f.children,x,_,s);case I:C=8,x|=8;break;case $:return a=Er(12,f,s,x|2),a.elementType=$,a.lanes=_,a;case z:return a=Er(13,f,s,x),a.elementType=z,a.lanes=_,a;case W:return a=Er(19,f,s,x),a.elementType=W,a.lanes=_,a;case Q:return nc(f,x,_,s);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case V:C=10;break e;case U:C=9;break e;case R:C=11;break e;case H:C=14;break e;case X:C=16,g=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return s=Er(C,f,s,x),s.elementType=a,s.type=g,s.lanes=_,s}function Bi(a,s,f,g){return a=Er(7,a,g,s),a.lanes=f,a}function nc(a,s,f,g){return a=Er(22,a,g,s),a.elementType=Q,a.lanes=f,a.stateNode={isHidden:!1},a}function tp(a,s,f){return a=Er(6,a,null,s),a.lanes=f,a}function rp(a,s,f){return s=Er(4,a.children!==null?a.children:[],a.key,s),s.lanes=f,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}function nR(a,s,f,g,x){this.tag=s,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pf(0),this.expirationTimes=Pf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pf(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function np(a,s,f,g,x,_,C,D,B){return a=new nR(a,s,f,D,B),s===1?(s=1,_===!0&&(s|=8)):s=0,_=Er(3,null,null,s),a.current=_,_.stateNode=a,_.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},gh(_),a}function iR(a,s,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:g==null?null:""+g,children:a,containerInfo:s,implementation:f}}function J1(a){if(!a)return Qn;a=a._reactInternals;e:{if(Ei(a)!==a||a.tag!==1)throw Error(r(170));var s=a;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(rr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(a.tag===1){var f=a.type;if(rr(f))return kw(a,f,s)}return s}function Q1(a,s,f,g,x,_,C,D,B){return a=np(f,g,!0,a,x,_,C,D,B),a.context=J1(null),f=a.current,g=Xt(),x=ai(f),_=Sn(g,x),_.callback=s??null,ti(f,_,x),a.current.lanes=x,es(a,x,g),ar(a,g),a}function ic(a,s,f,g){var x=s.current,_=Xt(),C=ai(x);return f=J1(f),s.context===null?s.context=f:s.pendingContext=f,s=Sn(_,C),s.payload={element:a},g=g===void 0?null:g,g!==null&&(s.callback=g),a=ti(x,s,C),a!==null&&(Wr(a,x,C,_),$u(a,x,C)),C}function ac(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Z1(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<s?f:s}}function ip(a,s){Z1(a,s),(a=a.alternate)&&Z1(a,s)}function aR(){return null}var e_=typeof reportError=="function"?reportError:function(a){console.error(a)};function ap(a){this._internalRoot=a}oc.prototype.render=ap.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));ic(a,s,null,null)},oc.prototype.unmount=ap.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;Di(function(){ic(null,a,null,null)}),s[vn]=null}};function oc(a){this._internalRoot=a}oc.prototype.unstable_scheduleHydration=function(a){if(a){var s=Db();a={blockedOn:null,target:a,priority:s};for(var f=0;f<Kn.length&&s!==0&&s<Kn[f].priority;f++);Kn.splice(f,0,a),f===0&&Bb(a)}};function op(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function sc(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function t_(){}function oR(a,s,f,g,x){if(x){if(typeof g=="function"){var _=g;g=function(){var J=ac(C);_.call(J)}}var C=Q1(s,g,a,0,null,!1,!1,"",t_);return a._reactRootContainer=C,a[vn]=C.current,ps(a.nodeType===8?a.parentNode:a),Di(),C}for(;x=a.lastChild;)a.removeChild(x);if(typeof g=="function"){var D=g;g=function(){var J=ac(B);D.call(J)}}var B=np(a,0,!1,null,null,!1,!1,"",t_);return a._reactRootContainer=B,a[vn]=B.current,ps(a.nodeType===8?a.parentNode:a),Di(function(){ic(s,B,f,g)}),B}function lc(a,s,f,g,x){var _=f._reactRootContainer;if(_){var C=_;if(typeof x=="function"){var D=x;x=function(){var B=ac(C);D.call(B)}}ic(s,C,a,x)}else C=oR(f,s,a,x,g);return ac(C)}$b=function(a){switch(a.tag){case 3:var s=a.stateNode;if(s.current.memoizedState.isDehydrated){var f=Zo(s.pendingLanes);f!==0&&(Tf(s,f|1),ar(s,ft()),(Le&6)===0&&(La=ft()+500,Zn()))}break;case 13:Di(function(){var g=_n(a,1);if(g!==null){var x=Xt();Wr(g,a,1,x)}}),ip(a,1)}},Cf=function(a){if(a.tag===13){var s=_n(a,134217728);if(s!==null){var f=Xt();Wr(s,a,134217728,f)}ip(a,134217728)}},Mb=function(a){if(a.tag===13){var s=ai(a),f=_n(a,s);if(f!==null){var g=Xt();Wr(f,a,s,g)}ip(a,s)}},Db=function(){return We},Lb=function(a,s){var f=We;try{return We=a,s()}finally{We=f}},Sf=function(a,s,f){switch(s){case"input":if(lt(a,f),s=f.name,f.type==="radio"&&s!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<f.length;s++){var g=f[s];if(g!==a&&g.form===a.form){var x=ku(g);if(!x)throw Error(r(90));oe(g),lt(g,x)}}}break;case"textarea":Vo(a,f);break;case"select":s=f.value,s!=null&&er(a,!!f.multiple,s,!1)}},_b=Jh,Sb=Di;var sR={usingClientEntryPoint:!1,Events:[ms,ka,ku,bb,wb,Jh]},Cs={findFiberByHostInstance:Pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lR={bundleType:Cs.bundleType,version:Cs.version,rendererPackageName:Cs.rendererPackageName,rendererConfig:Cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Ab(a),a===null?null:a.stateNode},findFiberByHostInstance:Cs.findFiberByHostInstance||aR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{ou=uc.inject(lR),nn=uc}catch{}}return or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sR,or.createPortal=function(a,s){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!op(s))throw Error(r(200));return iR(a,s,null,f)},or.createRoot=function(a,s){if(!op(a))throw Error(r(299));var f=!1,g="",x=e_;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=np(a,1,!1,null,null,f,!1,g,x),a[vn]=s.current,ps(a.nodeType===8?a.parentNode:a),new ap(s)},or.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=Ab(s),a=a===null?null:a.stateNode,a},or.flushSync=function(a){return Di(a)},or.hydrate=function(a,s,f){if(!sc(s))throw Error(r(200));return lc(null,a,s,!0,f)},or.hydrateRoot=function(a,s,f){if(!op(a))throw Error(r(405));var g=f!=null&&f.hydratedSources||null,x=!1,_="",C=e_;if(f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onRecoverableError!==void 0&&(C=f.onRecoverableError)),s=Q1(s,null,a,1,f??null,x,!1,_,C),a[vn]=s.current,ps(a),g)for(a=0;a<g.length;a++)f=g[a],x=f._getVersion,x=x(f._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[f,x]:s.mutableSourceEagerHydrationData.push(f,x);return new oc(s)},or.render=function(a,s,f){if(!sc(s))throw Error(r(200));return lc(null,a,s,!1,f)},or.unmountComponentAtNode=function(a){if(!sc(a))throw Error(r(40));return a._reactRootContainer?(Di(function(){lc(null,null,a,!1,function(){a._reactRootContainer=null,a[vn]=null})}),!0):!1},or.unstable_batchedUpdates=Jh,or.unstable_renderSubtreeIntoContainer=function(a,s,f,g){if(!sc(f))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return lc(a,s,f,!1,g)},or.version="18.3.1-next-f1338f8080-20240426",or}var u_;function gR(){if(u_)return up.exports;u_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),up.exports=yR(),up.exports}var c_;function mR(){if(c_)return dc;c_=1;var t=gR();return dc.createRoot=t.createRoot,dc.hydrateRoot=t.hydrateRoot,dc}var vR=mR(),M=ix();const q=Ke(M);function Id(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function xR(t,e,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(y){try{h(n.next(y))}catch(p){l(p)}}function d(y){try{h(n.throw(y))}catch(p){l(p)}}function h(y){y.done?o(y.value):i(y.value).then(u,d)}h((n=n.apply(t,e||[])).next())})}const bR=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class ax extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class wR extends ax{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class d_ extends ax{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class f_ extends ax{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Av;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Av||(Av={}));class _R{constructor(e,{headers:r={},customFetch:n,region:i=Av.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=bR(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return xR(this,arguments,void 0,function*(r,n={}){var i;let o,l;try{const{headers:u,method:d,body:h,signal:y,timeout:p}=n;let m={},{region:v}=n;v||(v=this.region);const S=new URL(`${this.url}/${r}`);v&&v!=="any"&&(m["x-region"]=v,S.searchParams.set("forceFunctionRegion",v));let w;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(m["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(m["Content-Type"]="application/json",w=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?w=JSON.stringify(h):w=h;let b=y;p&&(l=new AbortController,o=setTimeout(()=>l.abort(),p),y?(b=l.signal,y.addEventListener("abort",()=>l.abort())):b=l.signal);const k=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),u),body:w,signal:b}).catch(j=>{throw new wR(j)}),A=k.headers.get("x-relay-error");if(A&&A==="true")throw new d_(k);if(!k.ok)throw new f_(k);let O=((i=k.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return O==="application/json"?T=yield k.json():O==="application/octet-stream"||O==="application/pdf"?T=yield k.blob():O==="text/event-stream"?T=k:O==="multipart/form-data"?T=yield k.formData():T=yield k.text(),{data:T,error:null,response:k}}catch(u){return{data:null,error:u,response:u instanceof f_||u instanceof d_?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var SR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},jR=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let l=null,u=null,d=null,h=o.status,y=o.statusText;if(o.ok){var p,m;if(r.method!=="HEAD"){var v;const k=await o.text();k===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?u=k:u=JSON.parse(k))}const w=(p=r.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),b=(m=o.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");w&&b&&b.length>1&&(d=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,y="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var S;const w=await o.text();try{l=JSON.parse(w),Array.isArray(l)&&o.status===404&&(u=[],l=null,h=200,y="OK")}catch{o.status===404&&w===""?(h=204,y="No Content"):l={message:w}}if(l&&r.isMaybeSingle&&(!(l==null||(S=l.details)===null||S===void 0)&&S.includes("0 rows"))&&(l=null,h=200,y="OK"),l&&r.shouldThrowOnError)throw new SR(l)}return{error:l,data:u,count:d,status:h,statusText:y}});return this.shouldThrowOnError||(i=i.catch(o=>{var l;let u="";const d=o?.cause;if(d){var h,y,p,m;const S=(h=d?.message)!==null&&h!==void 0?h:"",w=(y=d?.code)!==null&&y!==void 0?y:"";u=`${(p=o?.name)!==null&&p!==void 0?p:"FetchError"}: ${o?.message}`,u+=`

Caused by: ${(m=d?.name)!==null&&m!==void 0?m:"Error"}: ${S}`,w&&(u+=` (${w})`),d?.stack&&(u+=`
${d.stack}`)}else{var v;u=(v=o?.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},kR=class extends jR{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var l;const u=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const h_=new RegExp("[,()]");var Xa=class extends kR{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&h_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&h_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},OR=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join(""),{url:u,headers:d}=this.cloneRequestState();return u.searchParams.set("select",l),n&&d.append("Prefer",`count=${n}`),new Xa({method:i,url:u,headers:d,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:o,headers:l}=this.cloneRequestState();if(e&&l.append("Prefer",`count=${e}`),r||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new Xa({method:i,url:o,headers:l,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var o;const l="POST",{url:u,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&u.searchParams.set("on_conflict",e),n&&d.append("Prefer",`count=${n}`),i||d.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((y,p)=>y.concat(Object.keys(p)),[]);if(h.length>0){const y=[...new Set(h)].map(p=>`"${p}"`);u.searchParams.set("columns",y.join(","))}}return new Xa({method:l,url:u,headers:d,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new Xa({method:n,url:i,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Xa({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},AR=class EE{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new OR(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new EE(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:o}={}){var l;let u;const d=new URL(`${this.url}/rpc/${e}`);let h;const y=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(y)),p=n&&Object.values(r).some(y);p?(u="POST",h=r):n||i?(u=n?"HEAD":"GET",Object.entries(r).filter(([v,S])=>S!==void 0).map(([v,S])=>[v,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([v,S])=>{d.searchParams.append(v,S)})):(u="POST",h=r);const m=new Headers(this.headers);return p?m.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&m.set("Prefer",`count=${o}`),new Xa({method:u,url:d,headers:m,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class ER{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const PR="2.90.1",TR=`realtime-js/${PR}`,PE="1.0.0",CR="2.0.0",p_=PE,Ev=1e4,NR=1e3,IR=100;var pi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(pi||(pi={}));var kt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(kt||(kt={}));var Gr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Gr||(Gr={}));var Pv;(function(t){t.websocket="websocket"})(Pv||(Pv={}));var Ki;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ki||(Ki={}));class RR{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,r,n){var i,o;const l=e.topic,u=(i=e.ref)!==null&&i!==void 0?i:"",d=(o=e.join_ref)!==null&&o!==void 0?o:"",h=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(y).length===0?"":JSON.stringify(y);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+h.length+p.length,v=new ArrayBuffer(this.HEADER_LENGTH+m);let S=new DataView(v),w=0;S.setUint8(w++,this.KINDS.userBroadcastPush),S.setUint8(w++,d.length),S.setUint8(w++,u.length),S.setUint8(w++,l.length),S.setUint8(w++,h.length),S.setUint8(w++,p.length),S.setUint8(w++,r),Array.from(d,k=>S.setUint8(w++,k.charCodeAt(0))),Array.from(u,k=>S.setUint8(w++,k.charCodeAt(0))),Array.from(l,k=>S.setUint8(w++,k.charCodeAt(0))),Array.from(h,k=>S.setUint8(w++,k.charCodeAt(0))),Array.from(p,k=>S.setUint8(w++,k.charCodeAt(0)));var b=new Uint8Array(v.byteLength+n.byteLength);return b.set(new Uint8Array(v),0),b.set(new Uint8Array(n),v.byteLength),b.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,o,l,u,d]=n;return r({join_ref:i,ref:o,topic:l,event:u,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),o=r.getUint8(2),l=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const h=n.decode(e.slice(d,d+i));d=d+i;const y=n.decode(e.slice(d,d+o));d=d+o;const p=n.decode(e.slice(d,d+l));d=d+l;const m=e.slice(d,e.byteLength),v=u===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,S={type:this.BROADCAST_EVENT,event:y,payload:v};return l>0&&(S.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class TE{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Xe||(Xe={}));const y_=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,l)=>(o[l]=$R(l,t,e,i),o),{}):{}},$R=(t,e,r,n)=>{const i=e.find(u=>u.name===t),o=i?.type,l=r[t];return o&&!n.includes(o)?CE(o,l):Tv(l)},CE=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return zR(e,r)}switch(t){case Xe.bool:return MR(e);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return DR(e);case Xe.json:case Xe.jsonb:return LR(e);case Xe.timestamp:return BR(e);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return Tv(e);default:return Tv(e)}},Tv=t=>t,MR=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},DR=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},LR=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},zR=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const l=t.slice(1,r);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>CE(e,u))}return t},BR=t=>typeof t=="string"?t.replace(" ","T"):t,NE=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class fp{constructor(e,r,n={},i=Ev){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var g_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(g_||(g_={}));class Vs{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vs.syncState(this.state,i,o,l),this.pendingDiffs.forEach(d=>{this.state=Vs.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Vs.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const o=this.cloneDeep(e),l=this.transformState(r),u={},d={};return this.map(o,(h,y)=>{l[h]||(d[h]=y)}),this.map(l,(h,y)=>{const p=o[h];if(p){const m=y.map(b=>b.presence_ref),v=p.map(b=>b.presence_ref),S=y.filter(b=>v.indexOf(b.presence_ref)<0),w=p.filter(b=>m.indexOf(b.presence_ref)<0);S.length>0&&(u[h]=S),w.length>0&&(d[h]=w)}else u[h]=y}),this.syncDiff(o,{joins:u,leaves:d},n,i)}static syncDiff(e,r,n,i){const{joins:o,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(u,d)=>{var h;const y=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(d),y.length>0){const p=e[u].map(v=>v.presence_ref),m=y.filter(v=>p.indexOf(v.presence_ref)<0);e[u].unshift(...m)}n(u,y,d)}),this.map(l,(u,d)=>{let h=e[u];if(!h)return;const y=d.map(p=>p.presence_ref);h=h.filter(p=>y.indexOf(p.presence_ref)<0),e[u]=h,i(u,h,d),h.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var m_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(m_||(m_={}));var Ks;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ks||(Ks={}));var An;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(An||(An={}));class Za{constructor(e,r={config:{}},n){var i,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fp(this,Gr.join,this.params,this.timeout),this.rejoinTimer=new TE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gr.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Vs(this),this.broadcastEndpointURL=NE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==kt.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&i!==void 0?i:[],y=!!this.bindings[Ks.PRESENCE]&&this.bindings[Ks.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},m={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:y}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>e?.(An.CHANNEL_ERROR,v)),this._onClose(()=>e?.(An.CLOSED)),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e?.(An.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(S=w?.length)!==null&&S!==void 0?S:0,k=[];for(let A=0;A<b;A++){const O=w[A],{filter:{event:T,schema:j,table:E,filter:P}}=O,I=v&&v[A];if(I&&I.event===T&&Za.isFilterValueEqual(I.schema,j)&&Za.isFilterValueEqual(I.table,E)&&Za.isFilterValueEqual(I.filter,P))k.push(Object.assign(Object.assign({},O),{id:I.id}));else{this.unsubscribe(),this.state=kt.errored,e?.(An.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(An.SUBSCRIBED);return}}).receive("error",v=>{this.state=kt.errored,e?.(An.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e?.(An.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===kt.joined&&e===Ks.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const h=await u.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,d;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=kt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new fp(this,Gr.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(o),l}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new fp(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>IR){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,o;const l=e.toLocaleLowerCase(),{close:u,error:d,leave:h,join:y}=Gr;if(n&&[u,d,h,y].indexOf(l)>=0&&n!==this._joinRef())return;let m=this._onMessage(l,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var S,w,b;return((S=v.filter)===null||S===void 0?void 0:S.event)==="*"||((b=(w=v.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===l}).map(v=>v.callback(m,n)):(o=this.bindings[l])===null||o===void 0||o.filter(v=>{var S,w,b,k,A,O,T,j;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const E=v.id,P=(S=v.filter)===null||S===void 0?void 0:S.event;return E&&((w=r.ids)===null||w===void 0?void 0:w.includes(E))&&(P==="*"||P?.toLocaleLowerCase()===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))&&(!(!((k=v.filter)===null||k===void 0)&&k.table)||v.filter.table===((A=r.data)===null||A===void 0?void 0:A.table))}else{const E=(T=(O=v?.filter)===null||O===void 0?void 0:O.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return E==="*"||E===((j=r?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof m=="object"&&"ids"in m){const S=m.data,{schema:w,table:b,commit_timestamp:k,type:A,errors:O}=S;m=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:k,eventType:A,new:{},old:{},errors:O}),this._getPayloadRecords(S))}v.callback(m,n)})}_isClosed(){return this.state===kt.closed}_isJoined(){return this.state===kt.joined}_isJoining(){return this.state===kt.joining}_isLeaving(){return this.state===kt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),o={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Za.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Gr.close,{},e)}_onError(e){this._on(Gr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=y_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=y_(e.columns,e.old_record)),r}}const hp=()=>{},fc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qR=[1e3,2e3,5e3,1e4],UR=1e4,FR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WR{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ev,this.transport=null,this.heartbeatIntervalMs=fc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hp,this.ref=0,this.reconnectTimer=null,this.vsn=p_,this.logger=hp,this.conn=null,this.sendBuffer=[],this.serializer=new RR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Pv.websocket}`,this.httpEndpoint=NE(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ER.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case pi.connecting:return Ki.Connecting;case pi.open:return Ki.Open;case pi.closing:return Ki.Closing;default:return Ki.Closed}}isConnected(){return this.connectionState()===Ki.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===n);if(i)return i;{const o=new Za(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:i,ref:o}=e,l=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(NR,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},fc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",h)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:o,ref:l}=r,u=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${n} ${i} ${u}`.trim(),o),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(i,o,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===pi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===pi.open||this.conn.readyState===pi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Gr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([FR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const o={access_token:r,version:TR};r&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Gr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new TE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,o,l,u,d,h,y,p,m,v;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Ev,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:fc.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:hp,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:p_,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(S=>qR[S-1]||UR),this.vsn){case PE:this.encode=(y=e?.encode)!==null&&y!==void 0?y:((S,w)=>w(JSON.stringify(S))),this.decode=(p=e?.decode)!==null&&p!==void 0?p:((S,w)=>w(JSON.parse(S)));break;case CR:this.encode=(m=e?.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var el=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function HR(t,e,r){const n=new URL(e,t);if(r)for(const[i,o]of Object.entries(r))o!==void 0&&n.searchParams.set(i,o);return n.toString()}async function VR(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function KR(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:o,headers:l}){const u=HR(t.baseUrl,n,i),d=await VR(t.auth),h=await e(u,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...d,...l},body:o?JSON.stringify(o):void 0}),y=await h.text(),p=(h.headers.get("content-type")||"").includes("application/json"),m=p&&y?JSON.parse(y):y;if(!h.ok){const v=p?m:void 0,S=v?.error;throw new el(S?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:S?.type,icebergCode:S?.code,details:v})}return{status:h.status,headers:h.headers,data:m}}}}function hc(t){return t.join("")}var GR=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:hc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hc(t.namespace)}`}),!0}catch(e){if(e instanceof el&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof el&&r.status===409)return;throw r}}};function Ba(t){return t.join("")}var YR=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof el&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof el&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},XR=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=KR({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new GR(this.client,e),this.tableOps=new YR(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Rd=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ot(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var JR=class extends Rd{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Cv=class extends Rd{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const ox=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),QR=()=>Response,Nv=t=>{if(Array.isArray(t))return t.map(r=>Nv(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Nv(n)}),e},ZR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},e$=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function t$(t,e){if(tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r$(t){var e=t$(t,"string");return tl(e)=="symbol"?e:e+""}function n$(t,e,r){return(e=r$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v_(Object(r),!0).forEach(function(n){n$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const pp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},i$=async(t,e,r)=>{t instanceof await QR()&&!r?.noResolveJson?t.json().then(n=>{const i=t.status||500,o=n?.statusCode||i+"";e(new JR(pp(n),i,o))}).catch(n=>{e(new Cv(pp(n),n))}):e(new Cv(pp(t),t))},a$=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(ZR(n)?(i.headers=Pe({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Pe(Pe({},i),r))};async function Kl(t,e,r,n,i,o){return new Promise((l,u)=>{t(r,a$(e,n,i,o)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>i$(d,u,n))})}async function rl(t,e,r,n){return Kl(t,"GET",e,r,n)}async function Kr(t,e,r,n,i){return Kl(t,"POST",e,n,i,r)}async function Iv(t,e,r,n,i){return Kl(t,"PUT",e,n,i,r)}async function o$(t,e,r,n){return Kl(t,"HEAD",e,Pe(Pe({},r),{},{noResolveJson:!0}),n)}async function sx(t,e,r,n,i){return Kl(t,"DELETE",e,n,i,r)}var s$=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}}};let IE;IE=Symbol.toStringTag;var l$=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[IE]="BlobDownloadBuilder",this.promise=null}asStream(){return new s$(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}}};const u$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},x_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var c$=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=ox(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var i=this;try{let o;const l=Pe(Pe({},x_),n);let u=Pe(Pe({},i.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",i.encodeMetadata(d)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),d&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(d))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),n?.headers&&(u=Pe(Pe({},u),n.headers));const h=i._removeEmptyFolders(e),y=i._getFinalPath(h),p=await(t=="PUT"?Iv:Kr)(i.fetch,`${i.url}/object/${y}`,o,Pe({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const o=i._removeEmptyFolders(t),l=i._getFinalPath(o),u=new URL(i.url+`/object/upload/sign/${l}`);u.searchParams.set("token",e);try{let d;const h=Pe({upsert:x_.upsert},n),y=Pe(Pe({},i.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",h.cacheControl)):(d=r,y["cache-control"]=`max-age=${h.cacheControl}`,y["content-type"]=h.contentType),{data:{path:o,fullPath:(await Iv(i.fetch,u.toString(),d,{headers:y})).Key},error:null}}catch(d){if(i.shouldThrowOnError)throw d;if(ot(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const i=Pe({},r.headers);e?.upsert&&(i["x-upsert"]="true");const o=await Kr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(r.url+o.url),u=l.searchParams.get("token");if(!u)throw new Rd("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await Kr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async copy(t,e,r){var n=this;try{return{data:{path:(await Kr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,r){var n=this;try{let i=n._getFinalPath(t),o=await Kr(n.fetch,`${n.url}/object/sign/${i}`,Pe({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${n.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,r){var n=this;try{const i=await Kr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Pe(Pe({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),i=n?`?${n}`:"",o=this._getFinalPath(t),l=()=>rl(this.fetch,`${this.url}/${r}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new l$(l,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Nv(await rl(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await o$(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ot(n)&&n instanceof Cv){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const o=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}async remove(t){var e=this;try{return{data:await sx(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const i=Pe(Pe(Pe({},u$),e),{},{prefix:t||""});return{data:await Kr(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async listV2(t,e){var r=this;try{const n=Pe({},t);return{data:await Kr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const RE="2.90.1",$E={"X-Client-Info":`storage-js/${RE}`};var d$=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const i=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Pe(Pe({},$E),e),this.fetch=ox(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await rl(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await rl(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Kr(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await Iv(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await Kr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await sx(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},f$=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},$E),e),this.fetch=ox(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Kr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await rl(e.fetch,i,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await sx(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!e$(t))throw new Rd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new XR({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,o){const l=i[o];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(i,u),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}};const lx={"X-Client-Info":`storage-js/${RE}`,"Content-Type":"application/json"};var ME=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function xr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var yp=class extends ME{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},h$=class extends ME{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const ux=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),p$=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},b_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),y$=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const l=o?.statusCode||o?.code||n+"";e(new yp(b_(o),n,l))}).catch(()=>{const o=n+"";e(new yp(i.statusText||`HTTP ${n} error`,n,o))});else{const o=n+"";e(new yp(i.statusText||`HTTP ${n} error`,n,o))}}else e(new h$(b_(t),t))},g$=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return n?(p$(n)?(i.headers=Pe({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,Pe(Pe({},i),r)):i};async function m$(t,e,r,n,i,o){return new Promise((l,u)=>{t(r,g$(e,n,i,o)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>y$(d,u,n))})}async function br(t,e,r,n,i){return m$(t,"POST",e,n,i,r)}var v$=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},lx),e),this.fetch=ux(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await br(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await br(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(xr(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await br(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await br(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(xr(n))return{data:null,error:n};throw n}}},x$=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},lx),e),this.fetch=ux(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await br(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await br(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await br(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await br(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await br(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}}},b$=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},lx),e),this.fetch=ux(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await br(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await br(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await br(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await br(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}}},w$=class extends b${constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new _$(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},_$=class extends v${constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new S$(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},S$=class extends x${constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},j$=class extends d${constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new c$(this.url,this.headers,t,this.fetch)}get vectors(){return new w$(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new f$(this.url+"/iceberg",this.headers,this.fetch)}};const DE="2.90.1",Ja=30*1e3,Rv=3,gp=Rv*Ja,k$="http://localhost:9999",O$="supabase.auth.token",A$={"X-Client-Info":`gotrue-js/${DE}`},$v="X-Supabase-Api-Version",LE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},E$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,P$=600*1e3;class nl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Se(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class T$ extends nl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function C$(t){return Se(t)&&t.name==="AuthApiError"}class Gi extends nl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Bn extends nl{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class yr extends Bn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function N$(t){return Se(t)&&t.name==="AuthSessionMissingError"}class qa extends Bn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pc extends Bn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class yc extends Bn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function I$(t){return Se(t)&&t.name==="AuthImplicitGrantRedirectError"}class w_ extends Bn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class R$ extends Bn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Mv extends Bn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function mp(t){return Se(t)&&t.name==="AuthRetryableFetchError"}class __ extends Bn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Dv extends Bn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),S_=` 	
\r=`.split(""),$$=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<S_.length;e+=1)t[S_[e].charCodeAt(0)]=-2;for(let e=0;e<Tc.length;e+=1)t[Tc[e].charCodeAt(0)]=e;return t})();function j_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Tc[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Tc[n]),e.queuedBits-=6}}function zE(t,e,r){const n=$$[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function k_(t){const e=[],r=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{L$(l,n,r)};for(let l=0;l<t.length;l+=1)zE(t.charCodeAt(l),i,o);return e.join("")}function M$(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function D$(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}M$(n,e)}}function L$(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function io(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)zE(t.charCodeAt(i),r,n);return new Uint8Array(e)}function z$(t){const e=[];return D$(t,r=>e.push(r)),new Uint8Array(e)}function Yi(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>j_(i,r,n)),j_(null,r,n),e.join("")}function B$(t){return Math.round(Date.now()/1e3)+t}function q$(){return Symbol("auth-callback")}const Dt=()=>typeof window<"u"&&typeof document<"u",qi={tested:!1,writable:!1},BE=()=>{if(!Dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qi.tested)return qi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qi.tested=!0,qi.writable=!0}catch{qi.tested=!0,qi.writable=!1}return qi.writable};function U$(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const qE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),F$=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Qa=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ui=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mt=async(t,e)=>{await t.removeItem(e)};class $d{constructor(){this.promise=new $d.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}$d.promiseConstructor=Promise;function vp(t){const e=t.split(".");if(e.length!==3)throw new Dv("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!E$.test(e[n]))throw new Dv("JWT not in base64url format");return{header:JSON.parse(k_(e[0])),payload:JSON.parse(k_(e[1])),signature:io(e[2]),raw:{header:e[0],payload:e[1]}}}async function W$(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function H$(t,e){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await t(o);if(!e(o,null,l)){n(l);return}}catch(l){if(!e(o,l)){i(l);return}}})()})}function V$(t){return("0"+t.toString(16)).substr(-2)}function K$(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let o=0;o<56;o++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,V$).join("")}async function G$(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function Y$(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await G$(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ua(t,e,r=!1){const n=K$();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Qa(t,`${e}-code-verifier`,i);const o=await Y$(n);return[o,n===o?"plain":"s256"]}const X$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function J$(t){const e=t.headers.get($v);if(!e||!e.match(X$))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Q$(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Z$(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const eM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fa(t){if(!eM.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xp(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tM(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function O_(t){return JSON.parse(JSON.stringify(t))}const Wi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),rM=[502,503,504];async function A_(t){var e;if(!F$(t))throw new Mv(Wi(t),0);if(rM.includes(t.status))throw new Mv(Wi(t),t.status);let r;try{r=await t.json()}catch(o){throw new Gi(Wi(o),o)}let n;const i=J$(t);if(i&&i.getTime()>=LE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new __(Wi(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new yr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new __(Wi(r),t.status,r.weak_password.reasons);throw new T$(Wi(r),t.status||500,n)}const nM=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ee(t,e,r,n){var i;const o=Object.assign({},n?.headers);o[$v]||(o[$v]=LE["2024-01-01"].name),n?.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const l=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await iM(t,e,r+u,{headers:o,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function iM(t,e,r,n,i,o){const l=nM(e,n,i,o);let u;try{u=await t(r,Object.assign({},l))}catch(d){throw console.error(d),new Mv(Wi(d),0)}if(u.ok||await A_(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await A_(d)}}function Vr(t){var e;let r=null;sM(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=B$(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function E_(t){const e=Vr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function gi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function aM(t){return{data:t,error:null}}function oM(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o}=t,l=Id(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function P_(t){return t}function sM(t){return t.access_token&&t.refresh_token&&t.expires_in}const bp=["global","local","others"];class lM{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=qE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=bp[0]){if(bp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bp.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:gi})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Id(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:oM,redirectTo:r?.redirectTo})}catch(r){if(Se(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:gi})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,o,l,u,d;try{const h={nextPage:null,lastPage:0,total:0},y=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:P_});if(y.error)throw y.error;const p=await y.json(),m=(l=y.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=y.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(S.split(";")[1].split("=")[1]);h[`${b}Page`]=w}),h.total=parseInt(m)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Se(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Fa(e);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:gi})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Fa(e);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:gi})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Fa(e);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:gi})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Fa(e.userId);try{const{data:r,error:n}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Fa(e.userId),Fa(e.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,o,l,u,d;try{const h={nextPage:null,lastPage:0,total:0},y=await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:P_});if(y.error)throw y.error;const p=await y.json(),m=(l=y.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=y.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(S.split(";")[1].split("=")[1]);h[`${b}Page`]=w}),h.total=parseInt(m)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Se(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Se(r))return{data:null,error:r};throw r}}}function T_(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Wa={debug:!!(globalThis&&BE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class UE extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class uM extends UE{}async function cM(t,e,r){Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new uM(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Wa.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function dM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function FE(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function fM(t){return parseInt(t,16)}function hM(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function pM(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:d,resources:h,scheme:y,uri:p,version:m}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=FE(t.address),S=y?`${y}://${n}`:n,w=t.statement?`${t.statement}
`:"",b=`${S} wants you to sign in with your Ethereum account:
${v}

${w}`;let k=`URI: ${p}
Version: ${m}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),u&&(k+=`
Not Before: ${u.toISOString()}`),d&&(k+=`
Request ID: ${d}`),h){let A=`
Resources:`;for(const O of h){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);A+=`
- ${O}`}k+=A}return`${b}
${k}`}class mt extends Error{constructor({message:e,code:r,cause:n,name:i}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=i??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Cc extends mt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function yM({error:t,options:e}){var r,n,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(WE(l)){if(o.rp.id!==l)return new mt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function gM({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(WE(n)){if(r.rpId!==n)return new mt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class mM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const vM=new mM;function xM(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Id(t,["challenge","user","excludeCredentials"]),o=io(e).buffer,l=Object.assign(Object.assign({},r),{id:io(r.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const h=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:io(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function bM(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Id(t,["challenge","allowCredentials"]),i=io(e).buffer,o=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:io(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function wM(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Yi(new Uint8Array(t.response.attestationObject)),clientDataJSON:Yi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function _M(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Yi(new Uint8Array(i.authenticatorData)),clientDataJSON:Yi(new Uint8Array(i.clientDataJSON)),signature:Yi(new Uint8Array(i.signature)),userHandle:i.userHandle?Yi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function WE(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function C_(){var t,e;return!!(Dt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function SM(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Cc("Browser returned unexpected credential type",e)}:{data:null,error:new Cc("Empty credential response",e)}}catch(e){return{data:null,error:yM({error:e,options:t})}}}async function jM(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Cc("Browser returned unexpected credential type",e)}:{data:null,error:new Cc("Empty credential response",e)}}catch(e){return{data:null,error:gM({error:e,options:t})}}}const kM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},OM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Nc(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))n[o]=l;else if(r(l))n[o]=l;else if(e(l)){const u=n[o];e(u)?n[o]=Nc(u,l):n[o]=Nc(l)}else n[o]=l}return n}function AM(t,e){return Nc(kM,t,e||{})}function EM(t,e){return Nc(OM,t,e||{})}class PM{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!l)return{data:null,error:u};const d=i??vM.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=AM(l.webauthn.credential_options.publicKey,o?.create),{data:y,error:p}=await SM({publicKey:h,signal:d});return y?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:y}},error:null}:{data:null,error:p}}case"request":{const h=EM(l.webauthn.credential_options.publicKey,o?.request),{data:y,error:p}=await jM(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:d}));return y?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:y}},error:null}:{data:null,error:p}}}}catch(l){return Se(l)?{data:null,error:l}:{data:null,error:new Gi("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!r)return{data:null,error:new nl("rpId is required for WebAuthn authentication")};try{if(!C_())return{data:null,error:new Gi("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(l){return Se(l)?{data:null,error:l}:{data:null,error:new Gi("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!r)return{data:null,error:new nl("rpId is required for WebAuthn registration")};try{if(!C_())return{data:null,error:new Gi("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(y=>{var p;return(p=y.data)===null||p===void 0?void 0:p.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:u};const{data:d,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Se(l)?{data:null,error:l}:{data:null,error:new Gi("Unexpected error in register",l)}}}}dM();const TM={url:k$,storageKey:O$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:A$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function N_(t,e,r){return await r()}const Ha={};class il{get jwks(){var e,r;return(r=(e=Ha[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ha[this.storageKey]=Object.assign(Object.assign({},Ha[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ha[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ha[this.storageKey]=Object.assign(Object.assign({},Ha[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},TM),e);if(this.storageKey=o.storageKey,this.instanceID=(r=il.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,il.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Dt()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new lM({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=qE(o.fetch),this.lock=o.lock||N_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&Dt()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=cM:this.lock=N_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new PM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:BE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=T_(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=T_(this.memoryStorage)),Dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${DE}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Dt()&&(r=U$(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Dt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),I$(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Se(r)?this._returnResult({error:r}):this._returnResult({error:new Gi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const o=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Vr}),{data:l,error:u}=o;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(Se(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,n,i;try{let o;if("email"in e){const{email:y,password:p,options:m}=e;let v=null,S=null;this.flowType==="pkce"&&([v,S]=await Ua(this.storage,this.storageKey)),o=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:y,password:p,data:(r=m?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:v,code_challenge_method:S},xform:Vr})}else if("phone"in e){const{phone:y,password:p,options:m}=e;o=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:p,data:(n=m?.data)!==null&&n!==void 0?n:{},channel:(i=m?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Vr})}else throw new pc("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return await Mt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),Se(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:l,options:u}=e;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:E_})}else if("phone"in e){const{phone:o,password:l,options:u}=e;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:E_})}else throw new pc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const o=new qa;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,o,l,u,d,h,y,p,m;let v,S;if("message"in e)v=e.message,S=e.signature;else{const{chain:w,wallet:b,statement:k,options:A}=e;let O;if(Dt())if(typeof b=="object")O=b;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")O=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=b}const T=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href),j=await O.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=FE(j[0]);let P=(n=A?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const $=await O.request({method:"eth_chainId"});P=fM($)}const I={domain:T.host,address:E,statement:k,uri:T.href,version:"1",chainId:P,nonce:(i=A?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=A?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=A?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=A?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=A?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(y=A?.signInWithEthereum)===null||y===void 0?void 0:y.resources};v=pM(I),S=await O.request({method:"personal_sign",params:[hM(v),E]})}try{const{data:w,error:b}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:S},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Vr});if(b)throw b;if(!w||!w.session||!w.user){const k=new qa;return this._returnResult({data:{user:null,session:null},error:k})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:b})}catch(w){if(Se(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,i,o,l,u,d,h,y,p,m,v;let S,w;if("message"in e)S=e.message,w=e.signature;else{const{chain:b,wallet:k,statement:A,options:O}=e;let T;if(Dt())if(typeof k=="object")T=k;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))T=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=k}const j=new URL((r=O?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const E=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),A?{statement:A}:null));let P;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")P=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)P=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)S=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),w=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${j.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(n=O?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=O?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((l=O?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((u=O?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((d=O?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((h=O?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((p=(y=O?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||p===void 0)&&p.length?["Resources",...O.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const E=await T.signMessage(new TextEncoder().encode(S),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:b,error:k}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Yi(w)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Vr});if(k)throw k;if(!b||!b.session||!b.user){const A=new qa;return this._returnResult({data:{user:null,session:null},error:A})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:k})}catch(b){if(Se(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await Ui(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new R$;const{data:o,error:l}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Vr});if(await Mt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const u=new qa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),Se(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:o,nonce:l}=e,u=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Vr}),{data:d,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const y=new qa;return this._returnResult({data:{user:null,session:null},error:y})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(r){if(Se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,o,l;try{if("email"in e){const{email:u,options:d}=e;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await Ua(this.storage,this.storageKey));const{error:p}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:y},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:u,options:d}=e,{data:h,error:y}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:y})}throw new pc("You must provide either an email or phone number.")}catch(u){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),Se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var r,n;try{let i,o;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Vr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(Se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,o,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ua(this.storage,this.storageKey));const h=await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:aM});return!((o=h.data)===null||o===void 0)&&o.url&&Dt()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(u){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),Se(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new yr;const{error:i}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Se(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:o}=e,{error:l}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:n,type:i,options:o}=e,{data:l,error:u}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:u})}throw new pc("You must provide either an email or phone number and a type")}catch(r){if(Se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ui(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<gp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await Ui(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=xp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=tM(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:gi}):await this._useSession(async r=>{var n,i,o;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yr}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:gi})})}catch(r){if(Se(r))return N$(r)&&(await this._removeSession(),await Mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new yr;const l=i.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await Ua(this.storage,this.storageKey));const{data:h,error:y}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:gi});if(y)throw y;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),Se(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new yr;const r=Date.now()/1e3;let n=r,i=!0,o=null;const{payload:l}=vp(e.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(Se(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:l,error:u}=r;if(u)throw u;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new yr;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Dt())throw new yc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new yc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new w_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new w_("No code detected.");const{data:A,error:O}=await this._exchangeCodeForSession(e.code);if(O)throw O;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:d,token_type:h}=e;if(!o||!u||!l||!h)throw new yc("No session defined in URL");const y=Math.round(Date.now()/1e3),p=parseInt(u);let m=y+p;d&&(m=parseInt(d));const v=m-y;v*1e3<=Ja&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const S=m-p;y-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,m,y):y-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,m,y);const{data:w,error:b}=await this._getUser(o);if(b)throw b;const k={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:p,expires_at:m,refresh_token:l,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(n){if(Se(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ui(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({error:o});const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(C$(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await Mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=q$(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:o},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Ua(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),Se(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async o=>{var l,u,d,h,y;const{data:p,error:m}=o;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",v,{headers:this.headers,jwt:(y=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&y!==void 0?y:void 0})});if(i)throw i;return Dt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(Se(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:o}}=r;if(i)throw i;const{options:l,provider:u,token:d,access_token:h,nonce:y}=e,p=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:h,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Vr}),{data:m,error:v}=p;return v?this._returnResult({data:{user:null,session:null},error:v}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new qa}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:v}))}catch(i){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),Se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:l}=r;if(l)throw l;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await H$(async i=>(i>0&&await W$(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Vr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&mp(o)&&Date.now()+l-n<Ja})}catch(n){if(this._debug(r,"error",n),Se(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Dt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ui(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Ui(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Qa(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l?.user)!==null&&e!==void 0?e:xp()}else if(i&&!i.user&&!i.user){const l=await Ui(this.storage,this.storageKey+"-user");l&&l?.user?(i.user=l.user,await Mt(this.storage,this.storageKey+"-user"),await Qa(this.storage,this.storageKey,i)):i.user=xp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<gp;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${gp}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),mp(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&l?.user?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new yr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new $d;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new yr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),Se(o)){const l={data:null,error:o};return mp(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Mt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Qa(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const o=O_(i);await Qa(this.storage,this.storageKey,o)}else{const i=O_(r);await Qa(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Mt(this.storage,this.storageKey),await Mt(this.storage,this.storageKey+"-code-verifier"),await Mt(this.storage,this.storageKey+"-user"),this.userStorage&&await Mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Dt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ja);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Ja);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ja}ms, refresh threshold is ${Rv} ticks`),i<=Rv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof UE)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,l]=await Ua(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(n?.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?this._returnResult({data:null,error:o}):await Ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:h}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?wM(e.webauthn.credential_response):_M(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:xM(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:bM(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=vp(n.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new yr})})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new yr});const l=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Dt()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new yr});const l=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Dt()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new yr})})}catch(e){if(Se(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new yr})})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+P$>i)return n;const{data:o,error:l}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,n=o.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:S}=await this.getSession();if(S||!v.session)return this._returnResult({data:null,error:S});n=v.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:d}}=vp(n);r?.allowExpired||Q$(o.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:o,header:i,signature:l},error:null}}const y=Z$(i.alg),p=await crypto.subtle.importKey("jwk",h,y,!0,["verify"]);if(!await crypto.subtle.verify(y,p,l,z$(`${u}.${d}`)))throw new Dv("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}}il.nextInstanceID={};const CM=il,NM="2.90.1";let Us="";typeof Deno<"u"?Us="deno":typeof document<"u"?Us="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Us="react-native":Us="node";const IM={"X-Client-Info":`supabase-js-${Us}/${NM}`},RM={headers:IM},$M={schema:"public"},MM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DM={};function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function LM(t,e){if(al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zM(t){var e=LM(t,"string");return al(e)=="symbol"?e:e+""}function BM(t,e,r){return(e=zM(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I_(Object(r),!0).forEach(function(n){BM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const qM=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),UM=()=>Headers,FM=(t,e,r)=>{const n=qM(r),i=UM();return async(o,l)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:t;let h=new i(l?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(o,ct(ct({},l),{},{headers:h}))}};function WM(t){return t.endsWith("/")?t:t+"/"}function HM(t,e){var r,n;const{db:i,auth:o,realtime:l,global:u}=t,{db:d,auth:h,realtime:y,global:p}=e,m={db:ct(ct({},d),i),auth:ct(ct({},h),o),realtime:ct(ct({},y),l),storage:{},global:ct(ct(ct({},p),u),{},{headers:ct(ct({},(r=p?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function VM(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(WM(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var KM=class extends CM{constructor(t){super(t)}},GM=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const o=VM(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:$M,realtime:DM,auth:ct(ct({},MM),{},{storageKey:l}),global:RM},d=HM(r??{},u);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(y,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=d.auth)!==null&&h!==void 0?h:{},this.headers,d.global.fetch)}this.fetch=FM(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(ct({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new AR(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new j$(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new _R(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:o,flowType:l,lock:u,debug:d,throwOnError:h},y,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new KM({url:this.authUrl.href,headers:ct(ct({},m),y),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:l,lock:u,debug:d,throwOnError:h,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new WR(this.realtimeUrl.href,ct(ct({},t),{},{params:ct(ct({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const YM=(t,e,r)=>new GM(t,e,r);function XM(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}XM()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Gt="sugvmurszfcneaeyoagv",JM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN1Z3ZtdXJzemZjbmVhZXlvYWd2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0MDUzMTUsImV4cCI6MjA4Mzk4MTMxNX0.mbCqGbmHFrR0Hk_1GqWYRxy6TapS_ajJJHwiG0LKK1w";let wp=null;function Zr(){return wp||(wp=YM(`https://${Gt}.supabase.co`,JM)),wp}const HE=Zr();async function QM(t,e){try{const{data:r,error:n}=await HE.auth.signInWithPassword({email:t,password:e});return n?(console.error("Sign in error:",n.message),{session:null,error:n.message||"Failed to sign in"}):r.session?(console.log(" Sign in successful"),{session:r.session,error:null}):{session:null,error:"No session received from auth provider"}}catch(r){const n=r instanceof Error?r.message:"Unknown error";return console.error("Sign in exception:",r),{session:null,error:n}}}async function R_(){try{const{error:t}=await HE.auth.signOut();return t?(console.error("Sign out error:",t.message),{success:!1,error:t.message||"Failed to sign out"}):(console.log(" Sign out successful"),{success:!0,error:null})}catch(t){const e=t instanceof Error?t.message:"Unknown error";return console.error("Sign out exception:",t),{success:!1,error:e}}}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),$_=t=>{const e=eD(t);return e.charAt(0).toUpperCase()+e.slice(1)},VE=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:l,...u},d)=>M.createElement("svg",{ref:d,...tD,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:VE("lucide",i),...u},[...l.map(([h,y])=>M.createElement(h,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,e)=>{const r=M.forwardRef(({className:n,...i},o)=>M.createElement(rD,{ref:o,iconNode:e,className:VE(`lucide-${ZM($_(t))}`,`lucide-${t}`,n),...i}));return r.displayName=$_(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],iD=Te("activity",nD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],oD=Te("arrow-right-left",aD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],lD=Te("boxes",sD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ol=Te("calendar",uD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],eo=Te("chart-column",cD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],KE=Te("chevron-down",dD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hD=Te("chevron-left",fD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],GE=Te("chevron-right",pD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],gD=Te("chevron-up",yD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],_p=Te("circle-arrow-down",mD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],uo=Te("circle-alert",vD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],Sp=Te("circle-arrow-up",xD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Cn=Te("circle-check-big",bD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],cx=Te("circle-x",wD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Lv=Te("clock",_D);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],dx=Te("download",SD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],kD=Te("eye-off",jD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Md=Te("eye",OD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xi=Te("file-text",AD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],PD=Te("funnel",ED);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],CD=Te("history",TD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ID=Te("layout-dashboard",ND);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_i=Te("loader-circle",RD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],MD=Te("lock",$D);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],LD=Te("log-in",DD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],BD=Te("log-out",zD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],UD=Te("mail",qD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],WD=Te("menu",FD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ur=Te("package",HD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],KD=Te("pen",VD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sl=Te("plus",GD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],XD=Te("power",YD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Mo=Te("refresh-cw",JD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],wi=Te("search",QD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],e4=Te("settings",ZD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],YE=Te("shield",t4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],n4=Te("square-pen",r4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ll=Te("trash-2",i4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],ul=Te("trending-up",a4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wr=Te("triangle-alert",o4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],l4=Te("truck",s4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],M_=Te("user-check",u4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],d4=Te("user-cog",c4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],h4=Te("user-plus",f4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],D_=Te("user-x",p4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],zv=Te("users",y4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]],m4=Te("warehouse",g4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gs=Te("x",v4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],XE=Te("zap",x4);class b4 extends M.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r),this.setState({error:e,errorInfo:r})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"bg-red-100 p-3 rounded-lg",children:c.jsx(wr,{className:"text-red-600",size:24})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Something went wrong"})]}),c.jsx("p",{className:"text-gray-600 mb-6",children:"We encountered an unexpected error. This has been logged and we'll look into it."}),!1,c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:this.handleReset,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[c.jsx(Mo,{size:18}),"Try Again"]}),c.jsx("button",{onClick:()=>window.location.href="/",className:"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Go Home"})]})]})}):this.props.children}}function L_(t){const e=[...t];for(let r=e.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[e[r],e[n]]=[e[n],e[r]]}return e}function w4({dataSource:t="/data/quotes.json",intervalMs:e=3e4,height:r="60px",className:n=""}){const[i,o]=M.useState([]),[l,u]=M.useState(0),[d,h]=M.useState(!0),[y,p]=M.useState(!0),[m,v]=M.useState(null),S=M.useRef(null),w=M.useRef([]);M.useEffect(()=>{let T=!0;return(async()=>{try{p(!0),v(null);const E=await fetch(t);if(!E.ok)throw new Error(`Failed to fetch quotes: ${E.status}`);const P=await E.json();if(!P.quotes||!Array.isArray(P.quotes)||P.quotes.length===0)throw new Error("No quotes found in data source");if(T){const I=L_(P.quotes);w.current=I,o(I),u(0),p(!1)}}catch(E){console.error("RotatingQuote: Error fetching quotes:",E),T&&(v(E instanceof Error?E.message:"Failed to load quotes"),p(!1))}})(),()=>{T=!1}},[t]);const b=M.useCallback(()=>{h(!1),setTimeout(()=>{u(T=>{const j=T+1;return j>=w.current.length?(w.current=L_(w.current),0):j}),h(!0)},300)},[]);M.useEffect(()=>{if(i.length!==0)return S.current&&clearInterval(S.current),S.current=setInterval(b,e),()=>{S.current&&(clearInterval(S.current),S.current=null)}},[i.length,e,b]);const k=i[l],A={height:r,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},O={fontSize:"13px",fontWeight:400,color:"#94a3b8",textAlign:"center",lineHeight:1.5,padding:"0 16px",fontStyle:"italic",opacity:d?1:0,transition:"opacity 300ms ease-in-out",maxWidth:"100%"};return y?c.jsx("div",{style:A,className:n,children:c.jsx("span",{style:{...O,opacity:.5},children:"Loading..."})}):m||!k?c.jsx("div",{style:A,className:n,children:c.jsx("span",{style:{...O,opacity:.5},children:"Empowering your operations"})}):c.jsx("div",{style:A,className:n,children:c.jsxs("span",{style:O,children:['"',k.text,'"']})})}function _4({onLogin:t,isLoading:e=!1,error:r}){const[n,i]=M.useState(""),[o,l]=M.useState(""),[u,d]=M.useState(!1),[h,y]=M.useState(null),p=r||h,m=async v=>{if(v.preventDefault(),y(null),!n.trim()){y("Please enter your email address");return}if(!o){y("Please enter your password");return}if(o.length<6){y("Password must be at least 6 characters");return}await t(n,o)};return c.jsxs("div",{style:{minHeight:"100vh",display:"flex",backgroundColor:"#0a0f1e",position:"relative",overflow:"hidden",fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, sans-serif'},children:[c.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Poppins:wght@400;500;600;700;800;900&display=swap');
      `}),c.jsxs("div",{style:{flex:1,position:"relative",display:"flex",alignItems:"center",overflow:"hidden"},children:[c.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"url(/backgroundlogin.png)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:c.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(10, 15, 30, 0.88) 0%, rgba(30, 41, 59, 0.78) 100%)"}})}),c.jsxs("div",{style:{position:"relative",zIndex:1,padding:"80px 100px",maxWidth:"750px"},children:[c.jsx("h1",{style:{fontSize:"58px",fontWeight:"800",color:"white",lineHeight:1.1,marginBottom:"28px",letterSpacing:"-2px",fontFamily:'"Poppins", sans-serif',textShadow:"0 4px 20px rgba(0, 0, 0, 0.5)"},children:"Supply Chain Management System"}),c.jsx("p",{style:{fontSize:"19px",color:"rgba(255, 255, 255, 0.92)",lineHeight:1.7,maxWidth:"560px",textShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",fontWeight:"400"},children:"Enterprise-grade inventory planning, real-time analytics, and intelligent demand forecasting for manufacturing excellence."}),c.jsx("div",{style:{display:"flex",gap:"12px",marginTop:"40px",flexWrap:"wrap"},children:["Inventory Control","MRP Planning","Demand Forecasting"].map(v=>c.jsx("span",{style:{padding:"8px 16px",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"8px",fontSize:"13px",fontWeight:"500",color:"rgba(255, 255, 255, 0.9)",border:"1px solid rgba(255, 255, 255, 0.15)"},children:v},v))})]})]}),c.jsxs("div",{style:{width:"520px",background:"white",display:"flex",flexDirection:"column",position:"relative",zIndex:1,boxShadow:"-20px 0 60px rgba(0, 0, 0, 0.3)"},children:[c.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"40px 60px 24px",borderBottom:"1px solid #f1f5f9"},children:c.jsx("img",{src:"/logo.png",alt:"Autocrat Engineers",style:{width:"240px",height:"auto",objectFit:"contain",userSelect:"none",pointerEvents:"none",filter:"drop-shadow(0 2px 8px rgba(0, 0, 0, 0.08))"}})}),c.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-start",padding:"32px 60px 48px"},children:[c.jsxs("div",{style:{marginBottom:"24px",textAlign:"center"},children:[c.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",color:"#1e293b",marginBottom:"8px",letterSpacing:"-0.3px",fontFamily:'"Poppins", sans-serif'},children:"U.S.A-Warehouse Management System"}),c.jsx("p",{style:{fontSize:"13px",color:"#475569",fontWeight:"500",lineHeight:1.5},children:"Your Leading Partner in Precision Manufacturing Excellence"})]}),c.jsx(w4,{dataSource:"/data/quotes.json",intervalMs:3e4,height:"72px"}),c.jsx("br",{}),c.jsx("br",{}),c.jsx("p",{style:{fontSize:"13px",color:"#94a3b8",fontWeight:"400",marginBottom:"20px",textAlign:"left"},children:"Enter your login credentials to access the System"}),p&&c.jsxs("div",{style:{padding:"12px 14px",marginBottom:"20px",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#dc2626",display:"flex",gap:"10px",alignItems:"flex-start",fontSize:"13px"},children:[c.jsx(uo,{size:16,style:{flexShrink:0,marginTop:"1px"}}),c.jsx("div",{style:{fontWeight:"500"},children:p})]}),c.jsxs("form",{onSubmit:m,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#1e293b",marginBottom:"8px"},children:"Email Address"}),c.jsxs("div",{style:{position:"relative"},children:[c.jsx(UD,{size:20,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8",pointerEvents:"none"}}),c.jsx("input",{type:"email",value:n,onChange:v=>i(v.target.value),placeholder:"you@company.com",disabled:e,style:{width:"100%",padding:"14px 16px 14px 48px",border:"2px solid #e2e8f0",borderRadius:"10px",fontSize:"15px",boxSizing:"border-box",transition:"all 0.2s ease",fontFamily:"inherit",backgroundColor:e?"#f9fafb":"white"},onFocus:v=>{v.currentTarget.style.borderColor="#3b82f6",v.currentTarget.style.outline="none",v.currentTarget.style.boxShadow="0 0 0 4px rgba(59, 130, 246, 0.1)"},onBlur:v=>{v.currentTarget.style.borderColor="#e2e8f0",v.currentTarget.style.boxShadow="none"}})]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#1e293b",marginBottom:"8px"},children:"Password"}),c.jsxs("div",{style:{position:"relative"},children:[c.jsx(MD,{size:20,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8",pointerEvents:"none"}}),c.jsx("input",{type:u?"text":"password",value:o,onChange:v=>l(v.target.value),placeholder:"Enter your password",disabled:e,style:{width:"100%",padding:"14px 48px",border:"2px solid #e2e8f0",borderRadius:"10px",fontSize:"15px",boxSizing:"border-box",transition:"all 0.2s ease",fontFamily:"inherit",backgroundColor:e?"#f9fafb":"white"},onFocus:v=>{v.currentTarget.style.borderColor="#3b82f6",v.currentTarget.style.outline="none",v.currentTarget.style.boxShadow="0 0 0 4px rgba(59, 130, 246, 0.1)"},onBlur:v=>{v.currentTarget.style.borderColor="#e2e8f0",v.currentTarget.style.boxShadow="none"}}),c.jsx("button",{type:"button",onClick:()=>d(!u),style:{position:"absolute",right:"16px",top:"50%",transform:"translateY(-50%)",border:"none",backgroundColor:"transparent",color:"#94a3b8",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center"},children:u?c.jsx(kD,{size:20}):c.jsx(Md,{size:20})})]})]}),c.jsx("button",{type:"submit",disabled:e,style:{padding:"16px 24px",background:e?"#94a3b8":"linear-gradient(135deg, #b91c1c 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"600",cursor:e?"not-allowed":"pointer",transition:"all 0.3s ease",marginTop:"8px",fontFamily:"inherit",boxShadow:e?"none":"0 8px 24px rgba(185, 28, 28, 0.35)",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:e?c.jsxs(c.Fragment,{children:[c.jsx(_i,{size:20,style:{animation:"spin 1s linear infinite"}}),"Signing in..."]}):c.jsxs(c.Fragment,{children:[c.jsx(LD,{size:20}),"Login to System"]})})]}),c.jsx("p",{style:{marginTop:"28px",fontSize:"13px",color:"#94a3b8",textAlign:"center"},children:"Contact your administrator if you need access credentials"})]}),c.jsx("div",{style:{padding:"20px 60px",borderTop:"1px solid #f1f5f9",fontSize:"12px",color:"#94a3b8",textAlign:"center"},children:" 2025 Autocrat Engineers. All rights reserved."})]}),c.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]})}const jp=Zr();function S4(t){const[e,r]=M.useState(null),[n,i]=M.useState(!0),[o,l]=M.useState(null),u=async()=>{if(!t){l("Unauthorized. Please log in again."),i(!1);return}try{i(!0),l(null);const{data:d,error:h}=await jp.from("items").select("*");if(h)throw h;const{data:y,error:p}=await jp.from("inventory").select("*");if(p)throw p;const{data:m,error:v}=await jp.from("blanket_orders").select("*").order("created_at",{ascending:!1}).limit(5);if(v)throw v;const S=d?.length||0;let w=0,b=0;d?.forEach(O=>{const T=y?.find(j=>j.item_code===O.item_code);if(T){const j=T.current_stock||0,E=O.min_stock_level||0,P=O.reorder_point||0;j<=Math.max(E,P)&&w++,b+=j*(O.unit_price||0)}});const k=S-w,A=[];d?.forEach(O=>{const T=y?.find(j=>j.item_code===O.item_code);if(T){const j=T.current_stock||0,E=O.min_stock_level||0,P=O.reorder_point||0;j<=E?A.push({message:`${O.item_name} is critically low (${j} ${O.uom})`,severity:"critical",itemCode:O.item_code,timestamp:new Date().toISOString()}):j<=P&&A.push({message:`${O.item_name} below reorder point (${j} ${O.uom})`,severity:"warning",itemCode:O.item_code,timestamp:new Date().toISOString()})}}),r({summary:{totalItems:S,lowStockCount:w,healthyStockCount:k,totalStockValue:b},alerts:A.sort((O,T)=>O.severity==="critical"?-1:T.severity==="critical"?1:0),recentActivity:{blanketOrders:m||[]}})}catch(d){console.error("Dashboard fetch error:",d),d.code==="PGRST301"?l("Unauthorized. Please log in again."):d.message?.includes("JWT")?l("Session expired. Please log in again."):d.code==="42P01"?l("Database tables not found. Please set up the database schema."):l(d.message||"Failed to load dashboard data")}finally{i(!1)}};return M.useEffect(()=>{u()},[t]),{data:e,loading:n,error:o,refetch:u}}class un extends Error{constructor(e,r,n){super(e),this.statusCode=r,this.details=n,this.name="APIError"}}class j4{baseUrl;defaultHeaders;supabase=Zr();constructor(){this.baseUrl=`https://${Gt}.supabase.co/functions/v1/make-server-9c637d11`,this.defaultHeaders={"Content-Type":"application/json"}}async request(e,r={},n,i=0){let o=n;if(!o){console.log("No token provided, fetching from current session...");const{data:{session:d},error:h}=await this.supabase.auth.getSession();if(h)throw console.error("Error getting session:",h),new un("Failed to get authentication session",401);if(!d)throw console.error("No active session found"),new un("No active session. Please login.",401);o=d.access_token,console.log("Retrieved token from session:",o.substring(0,30)+"...")}const l={...this.defaultHeaders,...r.headers};o&&(l.Authorization=`Bearer ${o}`);const u=`${this.baseUrl}${e}`;console.log(`API Request: ${r.method||"GET"} ${u}`),console.log("Token (first 30 chars):",o?.substring(0,30)+"...");try{const d=await fetch(u,{...r,headers:l});if(console.log(`API Response: ${d.status} ${d.statusText}`),d.status===401&&i===0){console.log(" Received 401 Unauthorized, attempting token refresh...");const{data:y,error:p}=await this.supabase.auth.refreshSession();if(p||!y.session)throw console.error(" Token refresh failed:",p),await this.supabase.auth.signOut(),new un("Session expired. Please login again.",401);return console.log(" Token refreshed successfully, retrying request..."),this.request(e,r,y.session.access_token,i+1)}let h;try{h=await d.json()}catch{throw d.ok?new un("Invalid JSON response from server",d.status):new un(`HTTP ${d.status}: ${d.statusText}`,d.status)}if(!d.ok){const y=h.error||h.message||`HTTP ${d.status}: ${d.statusText}`;throw console.error(` API Error: ${y}`,h),new un(y,d.status,h)}return console.log(` API Success: ${r.method||"GET"} ${u}`),h}catch(d){throw d instanceof un?d:d instanceof TypeError&&d.message.includes("fetch")?(console.error(" Network error:",d),new un("Network error: Please check your connection",0)):(console.error(" Unknown error:",d),new un(d instanceof Error?d.message:"Unknown error occurred",0))}}async get(e,r){return this.request(e,{method:"GET"},r)}async post(e,r,n){return this.request(e,{method:"POST",body:r?JSON.stringify(r):void 0},n)}async put(e,r,n){return this.request(e,{method:"PUT",body:r?JSON.stringify(r):void 0},n)}async delete(e,r){return this.request(e,{method:"DELETE"},r)}}const k4=new j4,O4={async seedDatabase(t){return k4.post("/seed-database",{},t)}};function A4(){return null}function z_({accessToken:t}){const{data:e,loading:r,error:n,refetch:i}=S4(t),[o,l]=M.useState(!1),[u,d]=M.useState(null),h=async()=>{if(confirm("This will load sample manufacturing data into the system. Continue?")){l(!0),d(null);try{const m=await O4.seedDatabase(t);alert(`Success! Loaded:
 ${m.stats.items} items
 ${m.stats.inventory} inventory records
 ${m.stats.blanketOrders} blanket orders
 ${m.stats.releases} releases`),await i(),window.location.reload()}catch(m){console.error("Seed database error:",m),d(m instanceof un?m.message:"Failed to seed database")}finally{l(!1)}}};if(r)return c.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"400px"},children:c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx(_i,{size:48,style:{color:"var(--enterprise-primary)",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),c.jsx("p",{style:{color:"var(--enterprise-gray-600)",fontSize:"var(--font-size-base)"},children:"Loading dashboard..."})]})});if(n)return c.jsx("div",{style:{backgroundColor:"var(--enterprise-error-bg)",border:"1px solid var(--enterprise-error)",borderRadius:"var(--border-radius-lg)",padding:"24px",marginBottom:"24px"},children:c.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"16px"},children:[c.jsx(uo,{size:24,style:{color:"var(--enterprise-error)",flexShrink:0}}),c.jsxs("div",{children:[c.jsx("h3",{style:{color:"var(--enterprise-error)",fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"8px"},children:"Failed to Load Dashboard"}),c.jsx("p",{style:{color:"var(--enterprise-error)",fontSize:"var(--font-size-base)"},children:n})]})]})});const y=[{label:"Total Items",value:e?.summary.totalItems||0,icon:ur,color:"var(--enterprise-primary)",bgColor:"rgba(30, 58, 138, 0.08)"},{label:"Low Stock Items",value:e?.summary.lowStockCount||0,icon:wr,color:"var(--enterprise-warning)",bgColor:"var(--enterprise-warning-bg)"},{label:"Healthy Items",value:e?.summary.healthyStockCount||0,icon:Cn,color:"var(--enterprise-success)",bgColor:"var(--enterprise-success-bg)"},{label:"Total Stock Value",value:e?.summary.totalStockValue||0,icon:ul,color:"var(--enterprise-secondary)",bgColor:"rgba(15, 118, 110, 0.08)",prefix:"$",format:!0}],p=[{title:"Inventory Management",description:"Real-time stock tracking and monitoring",icon:m4,color:"var(--enterprise-primary)",stats:[{label:"Available",value:e?.summary.totalItems||0},{label:"Low Stock",value:e?.summary.lowStockCount||0}]},{title:"Blanket Orders",description:"Multi-line customer order management",icon:Xi,color:"var(--enterprise-secondary)",stats:[{label:"Active Orders",value:e?.recentActivity?.blanketOrders?.length||0},{label:"Total Lines",value:0}]},{title:"Release Schedule",description:"Delivery planning with auto-deduction",icon:ol,color:"var(--enterprise-info)",stats:[{label:"Pending",value:0},{label:"Delivered",value:0}]},{title:"Demand Forecasting",description:"Holt-Winters predictive analytics",icon:ul,color:"var(--enterprise-accent)",stats:[{label:"Forecasts",value:0},{label:"Accuracy",value:"0%"}]}];return c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"32px"},children:[c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)",marginBottom:"8px"},children:"Welcome to Enterprise ERP"}),c.jsx("p",{style:{fontSize:"var(--font-size-base)",color:"var(--enterprise-gray-600)"},children:"Real-time inventory planning and forecasting system"})]}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"24px"},children:y.map((m,v)=>{const S=m.icon;return c.jsx("div",{style:{backgroundColor:"var(--card-background)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius-lg)",padding:"24px",boxShadow:"var(--shadow-sm)",transition:"all var(--transition-fast)",cursor:"default"},onMouseEnter:w=>{w.currentTarget.style.boxShadow="var(--shadow-md)",w.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:w=>{w.currentTarget.style.boxShadow="var(--shadow-sm)",w.currentTarget.style.transform="translateY(0)"},children:c.jsxs("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between"},children:[c.jsxs("div",{children:[c.jsx("p",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--enterprise-gray-600)",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:m.label}),c.jsxs("p",{style:{fontSize:"2rem",fontWeight:"var(--font-weight-bold)",color:m.color,lineHeight:1},children:[m.prefix||"",m.format?m.value.toLocaleString():m.value]})]}),c.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"var(--border-radius-lg)",backgroundColor:m.bgColor,display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(S,{size:28,style:{color:m.color}})})]})},v)})}),c.jsxs("div",{children:[c.jsx("h3",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)",marginBottom:"16px"},children:"Quick Access"}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"24px"},children:p.map((m,v)=>{const S=m.icon;return c.jsxs("div",{style:{backgroundColor:"var(--card-background)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius-lg)",padding:"24px",boxShadow:"var(--shadow-sm)",transition:"all var(--transition-fast)",cursor:"pointer"},onMouseEnter:w=>{w.currentTarget.style.boxShadow="var(--shadow-md)",w.currentTarget.style.borderColor=m.color},onMouseLeave:w=>{w.currentTarget.style.boxShadow="var(--shadow-sm)",w.currentTarget.style.borderColor="var(--border-color)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"16px",marginBottom:"16px"},children:[c.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"var(--border-radius-md)",backgroundColor:`${m.color}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(S,{size:24,style:{color:m.color}})}),c.jsxs("div",{style:{flex:1},children:[c.jsx("h4",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)",marginBottom:"4px"},children:m.title}),c.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-600)"},children:m.description})]})]}),c.jsx("div",{style:{display:"flex",gap:"16px",paddingTop:"16px",borderTop:"1px solid var(--border-color)"},children:m.stats.map((w,b)=>c.jsxs("div",{style:{flex:1},children:[c.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",marginBottom:"4px"},children:w.label}),c.jsx("p",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)"},children:w.value})]},b))})]},v)})})]}),e?.alerts&&e.alerts.length>0&&c.jsxs("div",{children:[c.jsx("h3",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)",marginBottom:"16px"},children:"System Alerts"}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:e.alerts.slice(0,5).map((m,v)=>c.jsxs("div",{style:{backgroundColor:m.severity==="critical"?"var(--enterprise-error-bg)":"var(--enterprise-warning-bg)",border:`1px solid ${m.severity==="critical"?"var(--enterprise-error)":"var(--enterprise-warning)"}`,borderRadius:"var(--border-radius-md)",padding:"16px",display:"flex",alignItems:"start",gap:"12px"},children:[c.jsx(wr,{size:20,style:{color:m.severity==="critical"?"var(--enterprise-error)":"var(--enterprise-warning)",flexShrink:0}}),c.jsxs("div",{style:{flex:1},children:[c.jsx("p",{style:{fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-medium)",color:m.severity==="critical"?"var(--enterprise-error)":"var(--enterprise-warning)",marginBottom:"4px"},children:m.message}),c.jsxs("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-600)"},children:[m.itemCode," - ",new Date(m.timestamp).toLocaleString()]})]}),c.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",textTransform:"uppercase",letterSpacing:"0.5px",backgroundColor:"white",color:m.severity==="critical"?"var(--enterprise-error)":"var(--enterprise-warning)"},children:m.severity})]},v))})]}),c.jsx(A4,{onSeedDatabase:h,seeding:o,error:u})]})}function cl({children:t,hover:e=!1,className:r="",style:n={}}){const[i,o]=q.useState(!1);return c.jsx("div",{className:r,style:{backgroundColor:"var(--card-background)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius-lg)",padding:"24px",boxShadow:i&&e?"var(--shadow-md)":"var(--shadow-sm)",transition:"all var(--transition-fast)",...n},onMouseEnter:()=>e&&o(!0),onMouseLeave:()=>e&&o(!1),children:t})}function sr({children:t,variant:e="primary",size:r="md",disabled:n=!1,onClick:i,type:o="button",icon:l,fullWidth:u=!1,style:d={}}){const[h,y]=q.useState(!1),p={primary:{backgroundColor:h&&!n?"var(--enterprise-primary-hover)":"var(--enterprise-primary)",color:"white",border:"none"},secondary:{backgroundColor:h&&!n?"rgba(30, 58, 138, 0.05)":"transparent",color:"var(--enterprise-primary)",border:"1px solid var(--enterprise-primary)"},tertiary:{backgroundColor:h&&!n?"var(--enterprise-gray-200)":"var(--enterprise-gray-100)",color:"var(--enterprise-gray-700)",border:"none"},danger:{backgroundColor:h&&!n?"#b91c1c":"var(--enterprise-error)",color:"white",border:"none"}},m={sm:{padding:"6px 12px",fontSize:"var(--font-size-sm)"},md:{padding:"10px 20px",fontSize:"var(--font-size-base)"},lg:{padding:"14px 28px",fontSize:"var(--font-size-lg)"}};return c.jsxs("button",{type:o,onClick:i,disabled:n,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"var(--border-radius-md)",fontWeight:"var(--font-weight-medium)",cursor:n?"not-allowed":"pointer",opacity:n?.5:1,transition:"all var(--transition-fast)",width:u?"100%":"auto",boxShadow:h&&!n?"var(--shadow-md)":"none",...p[e],...m[r],...d},children:[l,t]})}function co({children:t,variant:e="neutral",style:r={}}){const n={success:{backgroundColor:"var(--enterprise-success-bg)",color:"var(--enterprise-success)"},warning:{backgroundColor:"var(--enterprise-warning-bg)",color:"var(--enterprise-warning)"},error:{backgroundColor:"var(--enterprise-error-bg)",color:"var(--enterprise-error)"},info:{backgroundColor:"var(--enterprise-info-bg)",color:"var(--enterprise-info)"},neutral:{backgroundColor:"var(--enterprise-gray-100)",color:"var(--enterprise-gray-700)"}};return c.jsx("span",{style:{display:"inline-flex",alignItems:"center",padding:"4px 12px",borderRadius:"12px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",textTransform:"uppercase",letterSpacing:"0.5px",...n[e],...r},children:t})}function vt({type:t="text",value:e,onChange:r,placeholder:n,required:i=!1,disabled:o=!1,min:l,max:u,step:d,style:h={}}){const[y,p]=q.useState(!1);return c.jsx("input",{type:t,value:e,onChange:r,placeholder:n,required:i,disabled:o,min:l,max:u,step:d,onFocus:()=>p(!0),onBlur:()=>p(!1),style:{width:"100%",padding:"8px 12px",fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-normal)",color:"var(--foreground)",backgroundColor:"var(--background)",border:`1px solid ${y?"var(--enterprise-primary)":"var(--border-color)"}`,borderRadius:"var(--border-radius-md)",outline:"none",transition:"all var(--transition-fast)",boxShadow:y?"0 0 0 3px rgba(30, 58, 138, 0.1)":"none",...h}})}function B_({value:t,onChange:e,children:r,required:n=!1,disabled:i=!1,style:o={}}){const[l,u]=q.useState(!1);return c.jsx("select",{value:t,onChange:e,required:n,disabled:i,onFocus:()=>u(!0),onBlur:()=>u(!1),style:{width:"100%",padding:"8px 12px",fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-normal)",color:"var(--foreground)",backgroundColor:"var(--background)",border:`1px solid ${l?"var(--enterprise-primary)":"var(--border-color)"}`,borderRadius:"var(--border-radius-md)",outline:"none",transition:"all var(--transition-fast)",boxShadow:l?"0 0 0 3px rgba(30, 58, 138, 0.1)":"none",cursor:"pointer",...o},children:r})}function E4({value:t,onChange:e,placeholder:r,rows:n=3,required:i=!1,disabled:o=!1,style:l={}}){const[u,d]=q.useState(!1);return c.jsx("textarea",{value:t,onChange:e,placeholder:r,rows:n,required:i,disabled:o,onFocus:()=>d(!0),onBlur:()=>d(!1),style:{width:"100%",padding:"8px 12px",fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-normal)",color:"var(--foreground)",backgroundColor:"var(--background)",border:`1px solid ${u?"var(--enterprise-primary)":"var(--border-color)"}`,borderRadius:"var(--border-radius-md)",outline:"none",transition:"all var(--transition-fast)",boxShadow:u?"0 0 0 3px rgba(30, 58, 138, 0.1)":"none",resize:"vertical",fontFamily:"var(--font-family-primary)",...l}})}function st({children:t,required:e=!1,style:r={}}){return c.jsxs("label",{style:{display:"block",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--enterprise-gray-700)",marginBottom:"8px",...r},children:[t,e&&c.jsx("span",{style:{color:"var(--enterprise-error)",marginLeft:"4px"},children:"*"})]})}function Dd({isOpen:t,onClose:e,title:r,children:n,maxWidth:i="600px"}){return t?c.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"16px"},onClick:e,children:c.jsxs("div",{style:{backgroundColor:"var(--card-background)",borderRadius:"var(--border-radius-lg)",boxShadow:"var(--shadow-xl)",maxWidth:i,width:"100%",maxHeight:"90vh",overflow:"auto"},onClick:o=>o.stopPropagation(),children:[c.jsx("div",{style:{padding:"24px",borderBottom:"1px solid var(--border-color)",position:"sticky",top:0,backgroundColor:"var(--card-background)"},children:c.jsx("h2",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)",margin:0},children:r})}),c.jsx("div",{style:{padding:"24px"},children:n})]})}):null}function Ld({size:t=48}){return c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"200px"},children:[c.jsx("div",{style:{width:`${t}px`,height:`${t}px`,border:"4px solid var(--enterprise-gray-200)",borderTopColor:"var(--enterprise-primary)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),c.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]})}function JE({icon:t,title:e,description:r,action:n}){return c.jsxs("div",{style:{textAlign:"center",padding:"48px 24px"},children:[c.jsx("div",{style:{marginBottom:"16px",color:"var(--enterprise-gray-400)"},children:t}),c.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)",marginBottom:"8px"},children:e}),r&&c.jsx("p",{style:{fontSize:"var(--font-size-base)",color:"var(--enterprise-gray-600)",marginBottom:n?"16px":0},children:r}),n&&c.jsx(sr,{onClick:n.onClick,variant:"primary",children:n.label})]})}async function P4(){const t=Zr(),{data:e}=await t.auth.getSession();if(!e?.session)return{data:null,error:"Not signed in. Please sign in to view items."};const{data:r,error:n}=await t.from("items").select("*").order("created_at",{ascending:!1});return n?{data:null,error:n.code==="PGRST301"||n.message?.toLowerCase().includes("policy")?"You do not have permission to view items. Check RLS policies.":n.message}:{data:r,error:null}}async function T4(t){const e=Zr(),{data:r}=await e.auth.getSession();if(!r?.session)return{data:null,error:"Not signed in."};const{data:n,error:i}=await e.from("items").insert(t).select().single();return i?{data:null,error:i.message}:{data:n,error:null}}async function C4(t,e){const r=Zr(),{data:n}=await r.auth.getSession();if(!n?.session)return{data:null,error:"Not signed in."};const{data:i,error:o}=await r.from("items").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();return o?{data:null,error:o.message}:{data:i,error:null}}async function N4(t){const e=Zr(),{data:r}=await e.auth.getSession();if(!r?.session)return{success:!1,error:"Not signed in."};const{error:n}=await e.from("items").delete().eq("id",t);return n?{success:!1,error:n.message}:{success:!0,error:null}}const q_={item_code:"",item_name:"",uom:"PCS",unit_price:null,standard_cost:null,lead_time_days:0,is_active:!0,master_serial_no:"",revision:"",part_number:""},ui={padding:"12px 16px",textAlign:"left",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-700)",textTransform:"uppercase",letterSpacing:"0.5px"},ci={padding:"12px 16px",fontSize:"var(--font-size-base)",color:"var(--enterprise-gray-800)"},U_={borderRadius:"var(--border-radius-md)",padding:"16px",marginBottom:"16px"};function kp({label:t,value:e,icon:r,color:n,bgColor:i,isActive:o=!1,onClick:l}){return c.jsx("div",{onClick:l,style:{cursor:l?"pointer":"default",transition:"all 0.2s ease"},children:c.jsx(cl,{style:{border:o?`2px solid ${n}`:"1px solid var(--enterprise-gray-200)",boxShadow:o?`0 0 0 3px ${i}`:"var(--shadow-sm)"},children:c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[c.jsxs("div",{children:[c.jsx("p",{style:{fontSize:"12px",color:"var(--enterprise-gray-600)",fontWeight:500,marginBottom:"6px"},children:t}),c.jsx("p",{style:{fontSize:"1.75rem",fontWeight:700,color:n},children:e})]}),c.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"8px",backgroundColor:i,display:"flex",alignItems:"center",justifyContent:"center"},children:r})]})})})}function I4({searchTerm:t,onSearchChange:e,onExport:r,onAddItem:n,onClearFilters:i,hasActiveFilters:o}){return c.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",gap:"12px",flexWrap:"wrap",background:"white",padding:"10px 16px",borderRadius:"8px",border:"1px solid var(--enterprise-gray-200)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",background:"var(--enterprise-gray-50)",border:"1px solid var(--enterprise-gray-300)",borderRadius:"6px",padding:"8px 12px",flex:1,minWidth:"280px"},children:[c.jsx(wi,{size:18,style:{color:"var(--enterprise-gray-400)",marginRight:"10px",flexShrink:0}}),c.jsx("input",{type:"text",placeholder:"Search by item code, item name...",value:t,onChange:l=>e(l.target.value),style:{border:"none",outline:"none",flex:1,fontSize:"13px",color:"var(--enterprise-gray-800)",background:"transparent",minWidth:"180px"}}),t&&c.jsx("button",{onClick:()=>e(""),style:{background:"var(--enterprise-gray-200)",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",borderRadius:"4px",marginLeft:"8px"},children:c.jsx(Gs,{size:14,style:{color:"var(--enterprise-gray-600)"}})})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexShrink:0},children:[o&&c.jsxs("button",{onClick:i,style:{padding:"0 12px",height:"36px",borderRadius:"6px",border:"1px solid #dc2626",background:"white",color:"#dc2626",fontSize:"13px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",whiteSpace:"nowrap"},children:[c.jsx(cx,{size:16}),"Clear Filters"]}),c.jsxs("button",{onClick:r,style:{padding:"0 14px",height:"36px",borderRadius:"6px",border:"1px solid var(--enterprise-gray-300)",background:"white",color:"var(--enterprise-gray-700)",fontSize:"13px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap"},children:[c.jsx(dx,{size:14}),"Export CSV"]}),c.jsxs("button",{onClick:n,style:{padding:"0 14px",height:"36px",borderRadius:"6px",border:"none",background:"#1e3a8a",color:"white",fontSize:"13px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap"},children:[c.jsx(sl,{size:14}),"Add Item"]})]})]})}function R4(t,e="items_export"){const r=["Item Code","Part Number","Master Serial No","Item Name","Revision","UOM","Unit Price","Standard Cost","Lead Time (Days)","Status"],n=t.map(d=>[d.item_code,d.part_number||"",d.master_serial_no||"",d.item_name||"",d.revision||"",d.uom,d.unit_price??"",d.standard_cost??"",d.lead_time_days,d.is_active?"Active":"Inactive"]),i=[r.join(","),...n.map(d=>d.map(h=>typeof h=="string"&&(h.includes(",")||h.includes('"'))?`"${h.replace(/"/g,'""')}"`:h).join(","))].join(`
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${e}_${new Date().toISOString().split("T")[0]}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}function $4({isOpen:t,onClose:e,onConfirm:r,item:n}){const[i,o]=M.useState(""),[l,u]=M.useState(""),[d,h]=M.useState("");M.useEffect(()=>{t&&(o(""),u(""),h(""))},[t]);const y=()=>{if(n){if(i.trim()!==n.part_number){h("Part Number does not match. Please enter the exact Part Number to confirm deletion.");return}if(!l.trim()){h("Please provide a reason for deletion.");return}h(""),r(l.trim())}};return n?c.jsx(Dd,{isOpen:t,onClose:e,title:"Confirm Item Deletion",maxWidth:"500px",children:c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[c.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(220,38,38,0.05) 0%, rgba(220,38,38,0.1) 100%)",border:"1px solid rgba(220,38,38,0.2)",borderRadius:"var(--border-radius-md)",padding:"16px",display:"flex",gap:"12px",alignItems:"flex-start"},children:[c.jsx(wr,{size:24,style:{color:"var(--enterprise-error)",flexShrink:0}}),c.jsxs("div",{children:[c.jsx("p",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-error)",marginBottom:"4px"},children:"This action cannot be undone"}),c.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-600)"},children:"You are about to permanently delete this item. Please confirm by entering the Part Number below."})]})]}),c.jsx("div",{style:{background:"var(--enterprise-gray-50)",borderRadius:"var(--border-radius-md)",padding:"16px"},children:c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[c.jsxs("div",{children:[c.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",textTransform:"uppercase",marginBottom:"4px"},children:"Item Code"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-semibold)"},children:n.item_code})]}),c.jsxs("div",{children:[c.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",textTransform:"uppercase",marginBottom:"4px"},children:"Part Number"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-primary)"},children:n.part_number})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",textTransform:"uppercase",marginBottom:"4px"},children:"MSN"}),c.jsx("p",{style:{fontFamily:"monospace"},children:n.master_serial_no||"-"})]})]})}),c.jsxs("div",{children:[c.jsx(st,{required:!0,children:"Type Part Number to Confirm"}),c.jsx(vt,{value:i,onChange:p=>o(p.target.value),placeholder:`Enter "${n.part_number}" to confirm`}),c.jsxs("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",marginTop:"4px"},children:["Must match exactly: ",c.jsx("strong",{children:n.part_number})]})]}),c.jsxs("div",{children:[c.jsx(st,{required:!0,children:"Reason for Deletion"}),c.jsx(E4,{value:l,onChange:p=>u(p.target.value),placeholder:"Please provide the reason for deleting this item...",rows:3})]}),d&&c.jsx("div",{style:{background:"rgba(220,38,38,0.1)",border:"1px solid rgba(220,38,38,0.3)",borderRadius:"var(--border-radius-sm)",padding:"12px",color:"var(--enterprise-error)",fontSize:"var(--font-size-sm)"},children:d}),c.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[c.jsx(sr,{variant:"tertiary",onClick:e,children:"Cancel"}),c.jsx(sr,{variant:"danger",onClick:y,disabled:!i.trim()||!l.trim(),icon:c.jsx(ll,{size:16}),children:"Delete Item"})]})]})}):null}function M4({order:t}){const[e,r]=M.useState(!1),n={fontSize:"10px",color:"var(--enterprise-gray-500)",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.4px",fontWeight:500},i={fontSize:"var(--font-size-sm)",fontWeight:600,color:"var(--enterprise-gray-800)",lineHeight:1.3},o={background:"white",padding:"12px 14px",borderRadius:"var(--border-radius-sm)",border:"1px solid var(--enterprise-gray-100)",boxShadow:"0 1px 2px rgba(0,0,0,0.03)"},l={fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.3px"};return c.jsxs("div",{style:{border:e?"1.5px solid var(--enterprise-primary)":"1px solid var(--enterprise-gray-200)",borderRadius:"var(--border-radius-lg)",overflow:"hidden",marginBottom:"10px",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:e?"0 8px 24px rgba(30,58,138,0.12), 0 2px 8px rgba(0,0,0,0.06)":"0 1px 3px rgba(0,0,0,0.04)",background:"white"},children:[c.jsxs("div",{onClick:()=>r(!e),style:{display:"flex",cursor:"pointer",background:e?"linear-gradient(135deg, rgba(30,58,138,0.04) 0%, rgba(30,58,138,0.08) 100%)":"white",transition:"all 0.2s ease",minHeight:"80px"},onMouseEnter:u=>{e||(u.currentTarget.style.background="linear-gradient(135deg, #fafbfc 0%, #f1f5f9 100%)")},onMouseLeave:u=>{e||(u.currentTarget.style.background="white")},children:[c.jsx("div",{style:{width:"36px",minWidth:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRight:"1px solid var(--enterprise-gray-100)",background:e?"var(--enterprise-primary)":"var(--enterprise-gray-50)",transition:"all 0.2s ease"},children:c.jsx("div",{style:{transition:"transform 0.25s ease",transform:e?"rotate(90deg)":"rotate(0deg)"},children:c.jsx(GE,{size:16,style:{color:e?"white":"var(--enterprise-gray-500)"}})})}),c.jsxs("div",{style:{flex:3,padding:"12px 20px",borderRight:"1px solid var(--enterprise-gray-100)",display:"flex",flexDirection:"column",justifyContent:"center"},children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"24px",marginBottom:"8px"},children:[c.jsxs("div",{children:[c.jsx("p",{style:n,children:"SAP Document No"}),c.jsx("p",{style:{...i,color:"var(--enterprise-primary)",fontWeight:700},children:t.sap_doc_no})]}),c.jsxs("div",{children:[c.jsx("p",{style:n,children:"Master Serial No"}),c.jsx("p",{style:{...i,fontFamily:"monospace"},children:t.master_serial_no})]}),c.jsxs("div",{children:[c.jsx("p",{style:n,children:"Part Number"}),c.jsx("p",{style:{...i,color:"var(--enterprise-info, #3b82f6)",fontWeight:700,background:"rgba(59,130,246,0.1)",padding:"2px 8px",borderRadius:"4px",display:"inline-block"},children:t.part_number})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"24px"},children:[c.jsxs("div",{children:[c.jsx("p",{style:n,children:"Customer Name"}),c.jsx("p",{style:{...i,color:"var(--enterprise-gray-700)"},children:t.customer_name})]}),c.jsxs("div",{children:[c.jsx("p",{style:n,children:"Line No"}),c.jsx(co,{variant:"info",style:{fontWeight:700,fontSize:"12px"},children:t.line_no})]}),c.jsxs("div",{children:[c.jsx("p",{style:n,children:"Blanket Quantity"}),c.jsx("p",{style:{...i,color:"var(--enterprise-success)",fontWeight:700},children:t.blanket_order_qty.toLocaleString()})]})]})]}),c.jsxs("div",{style:{flex:1,padding:"12px 20px",display:"flex",flexDirection:"column",justifyContent:"center",background:"var(--enterprise-gray-50)",minWidth:"180px"},children:[c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("p",{style:n,children:"Customer PO Number"}),c.jsx("p",{style:{...i,fontFamily:"monospace",color:t.customer_po_number===""?"var(--enterprise-gray-400)":"var(--enterprise-gray-800)"},children:t.customer_po_number})]}),c.jsxs("div",{children:[c.jsx("p",{style:n,children:"Order Date"}),c.jsxs("p",{style:{...i,color:"var(--enterprise-gray-700)",display:"flex",alignItems:"center",gap:"6px"},children:[c.jsx(ol,{size:12,style:{color:"var(--enterprise-gray-400)"}}),t.order_date?new Date(t.order_date).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):""]})]})]})]}),e&&c.jsxs("div",{style:{background:"linear-gradient(180deg, rgba(30,58,138,0.04) 0%, rgba(30,58,138,0.02) 100%)",borderTop:"1px solid var(--enterprise-gray-200)",padding:"20px 54px 20px 54px",animation:"slideDown 0.25s ease-out"},children:[c.jsxs("p",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-primary)",textTransform:"uppercase",letterSpacing:"0.8px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx(ur,{size:14})," Order Details"]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"14px",marginBottom:"14px"},children:[c.jsxs("div",{style:o,children:[c.jsx("p",{style:l,children:"Blanket Order Start"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-800)"},children:t.blanket_order_start?new Date(t.blanket_order_start).toLocaleDateString():"-"})]}),c.jsxs("div",{style:o,children:[c.jsx("p",{style:l,children:"Blanket Order End"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-800)"},children:t.blanket_order_end?new Date(t.blanket_order_end).toLocaleDateString():"-"})]}),c.jsxs("div",{style:o,children:[c.jsx("p",{style:l,children:"Monthly Usage"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-info)",fontSize:"var(--font-size-lg)"},children:(t.monthly_usage||0).toLocaleString()})]}),c.jsxs("div",{style:{...o,background:"linear-gradient(135deg, rgba(34,197,94,0.05) 0%, rgba(34,197,94,0.1) 100%)",border:"1px solid rgba(34,197,94,0.2)"},children:[c.jsx("p",{style:{...l,color:"var(--enterprise-success)"},children:"Next Delivery"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-success)"},children:t.next_delivery?new Date(t.next_delivery).toLocaleDateString():"Not Scheduled"})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"14px"},children:[c.jsxs("div",{style:o,children:[c.jsx("p",{style:l,children:"Order Multiples"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-800)"},children:t.order_multiples||1})]}),c.jsxs("div",{style:o,children:[c.jsx("p",{style:l,children:"Min Stock"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-warning)"},children:(t.min_stock||0).toLocaleString()})]}),c.jsxs("div",{style:o,children:[c.jsx("p",{style:l,children:"Max Stock"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-success)"},children:(t.max_stock||0).toLocaleString()})]}),c.jsxs("div",{style:o,children:[c.jsx("p",{style:l,children:"Safety Stock"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-secondary, #6366f1)"},children:(t.safety_stock||0).toLocaleString()})]})]})]})]})}function D4({isOpen:t,onClose:e,item:r}){const[n,i]=M.useState("details"),[o,l]=M.useState([]),[u,d]=M.useState(!1),[h,y]=M.useState("");M.useEffect(()=>{t||y("")},[t]),M.useEffect(()=>{t&&r&&n==="blanketOrders"&&p()},[t,r,n]);const p=async()=>{if(r){d(!0);try{const v=Zr(),{data:S,error:w}=await v.from("v_item_details").select("*").eq("id",r.id);if(w){console.error("Error fetching from v_item_details:",w),l([]);return}const b=(S||[]).filter(k=>k.blanket_order_id!==null);if(b.length===0)l([]);else{const k=b.map((A,O)=>({id:A.line_id||A.blanket_order_id||`order-${O}`,sap_doc_no:A.sap_doc_no||"",master_serial_no:A.master_serial_no||"",part_number:A.part_number||"",customer_name:A.customer_name||"",line_no:A.line_number??O+1,blanket_order_qty:A.blanket_quantity??A.item_quantity??0,customer_po_number:A.customer_po_number||"",order_date:A.order_date||"",blanket_order_start:A.blanket_order_start||"",blanket_order_end:A.blanket_order_end||"",monthly_usage:A.monthly_usage??0,next_delivery:A.delivery_schedule||"",order_multiples:A.order_multiple??1,min_stock:A.min_stock??0,max_stock:A.max_stock??0,safety_stock:A.safety_stock??0}));l(k)}}catch(v){console.error("Error fetching blanket orders:",v),l([])}finally{d(!1)}}};if(!r)return null;const m=v=>({padding:"12px 20px",border:"none",background:v?"var(--enterprise-primary)":"transparent",color:v?"white":"var(--enterprise-gray-600)",cursor:"pointer",fontWeight:"var(--font-weight-semibold)",borderRadius:"var(--border-radius-md) var(--border-radius-md) 0 0",transition:"all 0.2s ease",fontSize:"var(--font-size-sm)"});return c.jsxs(Dd,{isOpen:t,onClose:e,title:"View Item Details",maxWidth:"1000px",children:[c.jsxs("div",{style:{display:"flex",borderBottom:"2px solid var(--enterprise-gray-200)",marginBottom:"20px"},children:[c.jsx("button",{style:m(n==="details"),onClick:()=>i("details"),children:"Item Details"}),c.jsx("button",{style:m(n==="blanketOrders"),onClick:()=>i("blanketOrders"),children:"Blanket Orders"}),c.jsx("button",{style:m(n==="blanketRelease"),onClick:()=>i("blanketRelease"),children:"Blanket Release"})]}),n==="details"&&c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[c.jsxs("div",{children:[c.jsx(st,{children:"Item Code"}),c.jsx(vt,{value:r.item_code||"-",disabled:!0})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Part Number"}),c.jsx(vt,{value:r.part_number||"-",disabled:!0})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[c.jsxs("div",{children:[c.jsx(st,{children:"Item Name"}),c.jsx(vt,{value:r.item_name||"-",disabled:!0})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Unit of Measure"}),c.jsx(vt,{value:r.uom||"-",disabled:!0})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[c.jsxs("div",{children:[c.jsx(st,{children:"Master Serial No"}),c.jsx(vt,{value:r.master_serial_no||"-",disabled:!0})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Revision"}),c.jsx(vt,{value:r.revision||"-",disabled:!0})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Lead Time (Days)"}),c.jsx(vt,{value:r.lead_time_days||"-",disabled:!0})]})]}),c.jsxs("div",{style:{borderTop:"1px solid var(--enterprise-gray-200)",paddingTop:"16px",marginTop:"8px"},children:[c.jsx("p",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-600)",marginBottom:"12px"},children:"Pricing"}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[c.jsxs("div",{children:[c.jsx(st,{children:"Unit Price"}),c.jsx(vt,{value:r.unit_price!=null?`${r.unit_price.toLocaleString()}`:"-",disabled:!0})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Standard Cost"}),c.jsx(vt,{value:r.standard_cost!=null?`${r.standard_cost.toLocaleString()}`:"-",disabled:!0})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Status"}),c.jsx(vt,{value:r.is_active?"Active":"Inactive",disabled:!0})]})]})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Created At"}),c.jsx(vt,{value:r.created_at?new Date(r.created_at).toLocaleString():"-",disabled:!0})]})]}),n==="blanketOrders"&&c.jsxs("div",{children:[c.jsxs("div",{style:{position:"sticky",top:0,zIndex:10,background:"linear-gradient(180deg, white 0%, rgba(255,255,255,0.95) 100%)",paddingBottom:"16px",marginBottom:"8px",borderBottom:"1px solid var(--enterprise-gray-100)"},children:[c.jsxs("div",{style:{position:"relative"},children:[c.jsx(wi,{size:18,style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)",color:"var(--enterprise-gray-400)"}}),c.jsx("input",{type:"text",value:h,onChange:v=>y(v.target.value),placeholder:"Search by SAP Doc No, MSN, Part Number, Customer Name, or PO Number...",style:{width:"100%",padding:"12px 14px 12px 44px",border:"1.5px solid var(--enterprise-gray-200)",borderRadius:"var(--border-radius-lg)",fontSize:"var(--font-size-sm)",background:"var(--enterprise-gray-50)",transition:"all 0.2s ease",outline:"none"},onFocus:v=>{v.target.style.borderColor="var(--enterprise-primary)",v.target.style.background="white",v.target.style.boxShadow="0 0 0 3px rgba(30,58,138,0.1)"},onBlur:v=>{v.target.style.borderColor="var(--enterprise-gray-200)",v.target.style.background="var(--enterprise-gray-50)",v.target.style.boxShadow="none"}}),h&&c.jsx("button",{onClick:()=>y(""),style:{position:"absolute",right:"14px",top:"50%",transform:"translateY(-50%)",background:"var(--enterprise-gray-200)",border:"none",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"12px",color:"var(--enterprise-gray-600)"},children:""})]}),h&&c.jsxs("p",{style:{fontSize:"12px",color:"var(--enterprise-gray-500)",marginTop:"8px",paddingLeft:"4px"},children:["Filtering by: ",c.jsxs("strong",{children:['"',h,'"']})]})]}),u?c.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[c.jsx(Ld,{size:32}),c.jsx("p",{style:{marginTop:"12px",color:"var(--enterprise-gray-600)"},children:"Loading blanket orders..."})]}):o.length===0?c.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"var(--enterprise-gray-500)"},children:[c.jsx(ur,{size:48,style:{marginBottom:"12px",opacity:.5}}),c.jsx("p",{children:"No blanket orders found for this item."})]}):(()=>{const v=h.toLowerCase().trim(),S=v?o.filter(w=>w.sap_doc_no.toLowerCase().includes(v)||w.master_serial_no.toLowerCase().includes(v)||w.part_number.toLowerCase().includes(v)||w.customer_name.toLowerCase().includes(v)||w.customer_po_number.toLowerCase().includes(v)):o;return S.length===0?c.jsxs("div",{style:{textAlign:"center",padding:"48px 24px",color:"var(--enterprise-gray-500)",background:"var(--enterprise-gray-50)",borderRadius:"var(--border-radius-lg)",border:"1px dashed var(--enterprise-gray-200)"},children:[c.jsx(wi,{size:40,style:{marginBottom:"12px",opacity:.4}}),c.jsx("p",{style:{fontWeight:600,color:"var(--enterprise-gray-600)"},children:"No blanket orders match your search"}),c.jsxs("p",{style:{fontSize:"var(--font-size-sm)",marginTop:"4px"},children:["Try adjusting your search terms or ",c.jsx("button",{onClick:()=>y(""),style:{background:"none",border:"none",color:"var(--enterprise-primary)",cursor:"pointer",textDecoration:"underline",fontSize:"inherit"},children:"clear the filter"})]})]}):c.jsxs("div",{children:[c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px",paddingLeft:"4px"},children:c.jsxs("p",{style:{fontSize:"12px",color:"var(--enterprise-gray-500)"},children:["Showing ",c.jsx("strong",{children:S.length})," of ",c.jsx("strong",{children:o.length})," blanket order",o.length!==1?"s":""]})}),S.map((w,b)=>c.jsx(M4,{order:w},w.id||b))]})})()]}),n==="blanketRelease"&&c.jsxs("div",{style:{textAlign:"center",padding:"60px 40px",background:"var(--enterprise-gray-50)",borderRadius:"var(--border-radius-lg)"},children:[c.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, var(--enterprise-gray-200) 0%, var(--enterprise-gray-300) 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:c.jsx(Lv,{size:36,style:{color:"var(--enterprise-gray-500)"}})}),c.jsx("h3",{style:{color:"var(--enterprise-gray-700)",marginBottom:"8px"},children:"Blanket Release"}),c.jsxs("p",{style:{color:"var(--enterprise-gray-500)",fontSize:"var(--font-size-sm)",maxWidth:"450px",margin:"0 auto",lineHeight:1.6},children:["This section will display delivery details and support planning for future deliveries.",c.jsx("br",{}),c.jsx("strong",{children:"Implementation begins after the Delivery module is ready."})]}),c.jsx(co,{variant:"neutral",style:{marginTop:"20px"},children:"Pending Delivery Module"})]}),c.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"20px"},children:c.jsx(sr,{variant:"primary",onClick:e,children:"Close"})})]})}function L4(){const[t,e]=M.useState([]),[r,n]=M.useState(!0),[i,o]=M.useState(null),[l,u]=M.useState(!1),[d,h]=M.useState(null),[y,p]=M.useState(""),[m,v]=M.useState(q_),[S,w]=M.useState(null),[b,k]=M.useState(!1),[A,O]=M.useState("ALL"),[T,j]=M.useState(!1),[E,P]=M.useState(null),[I,$]=M.useState(20),V=20,U=M.useCallback(async()=>{o(null),n(!0);const ie=await P4();if(n(!1),ie.error){o(ie.error),e([]);return}e(ie.data??[])},[]);M.useEffect(()=>{U()},[U]);const R=M.useMemo(()=>({totalCount:t.length,activeCount:t.filter(ie=>ie.is_active).length,inactiveCount:t.filter(ie=>!ie.is_active).length}),[t]),z=M.useMemo(()=>{let ie=t;if(A==="ACTIVE"?ie=ie.filter(he=>he.is_active===!0):A==="INACTIVE"&&(ie=ie.filter(he=>he.is_active===!1)),y.trim()){const he=y.toLowerCase();ie=ie.filter(ae=>ae.item_code.toLowerCase().includes(he)||(ae.item_name||"").toLowerCase().includes(he)||(ae.part_number||"").toLowerCase().includes(he)||(ae.master_serial_no||"").toLowerCase().includes(he))}return ie},[t,A,y]),W=M.useMemo(()=>z.slice(0,I),[z,I]),H=I<z.length;M.useEffect(()=>{$(V)},[A,y]);const X=A!=="ALL",Q=ie=>{O(he=>he===ie?"ALL":ie)},K=()=>{O("ALL")},ee=()=>{$(ie=>ie+V)},Z=()=>{R4(z,"item_master")},N=async ie=>{ie.preventDefault();const he=d?await C4(d.id,m):await T4(m);if(he.error){o(he.error);return}we(),U()},L=ie=>{h(ie),v({item_code:ie.item_code,item_name:ie.item_name||"",uom:ie.uom,unit_price:ie.unit_price??null,standard_cost:ie.standard_cost??null,lead_time_days:ie.lead_time_days,is_active:ie.is_active,master_serial_no:ie.master_serial_no||"",revision:ie.revision||"",part_number:ie.part_number||""}),u(!0)},re=ie=>{P(ie),j(!0)},fe=async ie=>{if(!E)return;console.log("Deletion reason:",ie);const he=await N4(E.id);he.error?o(he.error):U(),j(!1),P(null)},me=ie=>{w(ie),k(!0)},we=()=>{u(!1),h(null),v(q_)};return r?c.jsx(Ld,{}):c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[i&&c.jsx("div",{style:{backgroundColor:"var(--enterprise-error-bg)",border:"1px solid var(--enterprise-error)",borderRadius:"var(--border-radius-md)",padding:"12px"},children:c.jsx("p",{style:{color:"var(--enterprise-error)",fontSize:"var(--font-size-sm)"},children:i})}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[c.jsx(kp,{label:"Total Items",value:R.totalCount,icon:c.jsx(ur,{size:22,style:{color:"var(--enterprise-primary)"}}),color:"var(--enterprise-primary)",bgColor:"rgba(30, 58, 138, 0.1)",isActive:A==="ALL",onClick:()=>Q("ALL")}),c.jsx(kp,{label:"Active Items",value:R.activeCount,icon:c.jsx(Cn,{size:22,style:{color:"var(--enterprise-success)"}}),color:"var(--enterprise-success)",bgColor:"rgba(34, 197, 94, 0.1)",isActive:A==="ACTIVE",onClick:()=>Q("ACTIVE")}),c.jsx(kp,{label:"Inactive Items",value:R.inactiveCount,icon:c.jsx(wr,{size:22,style:{color:"var(--enterprise-gray-500)"}}),color:"var(--enterprise-gray-500)",bgColor:"rgba(107, 114, 128, 0.1)",isActive:A==="INACTIVE",onClick:()=>Q("INACTIVE")})]}),c.jsx(I4,{searchTerm:y,onSearchChange:p,onExport:Z,onAddItem:()=>u(!0),onClearFilters:K,hasActiveFilters:X}),c.jsx(cl,{style:{padding:0,overflow:"hidden"},children:z.length===0?c.jsx(JE,{icon:c.jsx(ur,{size:48}),title:X?"No Matching Items":"No Items Found",description:X?"Try adjusting your search or filter criteria":"Create your first item or check sign-in and RLS on public.items",action:X?void 0:{label:"Add Item",onClick:()=>u(!0)}}):c.jsxs(c.Fragment,{children:[c.jsx("div",{style:{overflowX:"auto"},children:c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[c.jsx("thead",{children:c.jsxs("tr",{style:{backgroundColor:"var(--table-header-bg)",borderBottom:"2px solid var(--table-border)"},children:[c.jsx("th",{style:{...ui,minWidth:"100px"},children:"Item Code"}),c.jsx("th",{style:{...ui,minWidth:"120px"},children:"Part Number"}),c.jsx("th",{style:{...ui,minWidth:"100px"},children:"MSN"}),c.jsx("th",{style:{...ui,textAlign:"center",minWidth:"60px"},children:"Rev"}),c.jsx("th",{style:{...ui,textAlign:"center",minWidth:"60px"},children:"UOM"}),c.jsx("th",{style:{...ui,textAlign:"center",minWidth:"80px"},children:"Lead Time"}),c.jsx("th",{style:{...ui,textAlign:"center",minWidth:"80px"},children:"Status"}),c.jsx("th",{style:{...ui,textAlign:"center",minWidth:"200px",width:"200px"},children:"Actions"})]})}),c.jsx("tbody",{children:W.map((ie,he)=>c.jsxs("tr",{style:{backgroundColor:he%2===0?"white":"var(--table-stripe)",borderBottom:"1px solid var(--table-border)",transition:"background-color var(--transition-fast)"},onMouseEnter:ae=>{ae.currentTarget.style.backgroundColor="var(--table-hover)"},onMouseLeave:ae=>{ae.currentTarget.style.backgroundColor=he%2===0?"white":"var(--table-stripe)"},children:[c.jsx("td",{style:{...ci,fontWeight:"var(--font-weight-medium)",color:"var(--enterprise-gray-700)"},children:ie.item_code}),c.jsx("td",{style:{...ci,fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-primary)"},children:ie.part_number||"-"}),c.jsx("td",{style:{...ci,fontFamily:"monospace",fontSize:"0.85em",color:"var(--enterprise-gray-600)"},children:ie.master_serial_no||"-"}),c.jsx("td",{style:{...ci,textAlign:"center"},children:c.jsx(co,{variant:"info",children:ie.revision||"-"})}),c.jsx("td",{style:{...ci,textAlign:"center"},children:ie.uom}),c.jsxs("td",{style:{...ci,textAlign:"center"},children:[ie.lead_time_days," days"]}),c.jsx("td",{style:{...ci,textAlign:"center"},children:c.jsx(co,{variant:ie.is_active?"success":"neutral",children:ie.is_active?"Active":"Inactive"})}),c.jsx("td",{style:{...ci,textAlign:"center",padding:"8px 12px"},children:c.jsxs("div",{style:{display:"flex",gap:"6px",justifyContent:"center",alignItems:"center"},children:[c.jsx(sr,{variant:"secondary",size:"sm",icon:c.jsx(KD,{size:14}),onClick:()=>L(ie),style:{minWidth:"55px"},children:"Edit"}),c.jsx(sr,{variant:"danger",size:"sm",icon:c.jsx(ll,{size:14}),onClick:()=>re(ie),style:{minWidth:"65px"},children:"Delete"}),c.jsx(sr,{variant:"tertiary",size:"sm",icon:c.jsx(Md,{size:14}),onClick:()=>me(ie),style:{minWidth:"55px"},children:"View"})]})})]},ie.id))})]})}),H&&c.jsxs("div",{style:{padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",borderTop:"1px solid var(--table-border)",position:"relative",zIndex:10,backgroundColor:"white"},children:[c.jsxs("p",{style:{fontSize:"13px",color:"var(--enterprise-gray-500)",margin:0},children:["Showing ",W.length," of ",z.length," items"]}),c.jsxs(sr,{variant:"primary",onClick:ee,children:["Load More (",Math.min(V,z.length-W.length)," more)"]})]}),!H&&W.length>0&&c.jsx("div",{style:{padding:"16px",textAlign:"center",borderTop:"1px solid var(--table-border)"},children:c.jsxs("p",{style:{fontSize:"13px",color:"var(--enterprise-gray-500)"},children:["Showing all ",z.length," items"]})})]})}),c.jsx(Dd,{isOpen:l,onClose:we,title:d?"Edit Item":"Create New Item",maxWidth:"800px",children:c.jsxs("form",{onSubmit:N,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[c.jsxs("div",{style:{...U_,background:"linear-gradient(135deg, rgba(30,58,138,0.03) 0%, rgba(30,58,138,0.08) 100%)",border:"1px solid rgba(30,58,138,0.1)"},children:[c.jsx("p",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-primary)",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Item Identification"}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[c.jsxs("div",{children:[c.jsx(st,{required:!0,children:"Item Code"}),c.jsx(vt,{value:m.item_code,onChange:ie=>v({...m,item_code:ie.target.value}),placeholder:"FG-001",required:!0,disabled:!!d,style:d?{backgroundColor:"var(--enterprise-gray-100)",cursor:"not-allowed"}:{}})]}),c.jsxs("div",{children:[c.jsx(st,{required:!0,children:"Master Serial No"}),c.jsx(vt,{value:m.master_serial_no||"",onChange:ie=>v({...m,master_serial_no:ie.target.value}),placeholder:"MSN-001",required:!0,disabled:!!d,style:d?{backgroundColor:"var(--enterprise-gray-100)",cursor:"not-allowed"}:{}})]}),c.jsxs("div",{children:[c.jsx(st,{required:!0,children:"Part Number"}),c.jsx(vt,{value:m.part_number||"",onChange:ie=>v({...m,part_number:ie.target.value}),placeholder:"FR-REF-123",required:!0,disabled:!!d,style:d?{backgroundColor:"var(--enterprise-gray-100)",cursor:"not-allowed"}:{}})]})]}),c.jsxs("div",{style:{marginTop:"16px"},children:[c.jsx(st,{children:"Item Name"}),c.jsx(vt,{value:m.item_name,onChange:ie=>v({...m,item_name:ie.target.value}),placeholder:"Item name / description...",disabled:!!d,style:d?{backgroundColor:"var(--enterprise-gray-100)",cursor:"not-allowed"}:{}})]}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginTop:"16px"},children:c.jsxs("div",{children:[c.jsx(st,{required:!0,children:"Unit of Measure"}),c.jsxs(B_,{value:m.uom,onChange:ie=>v({...m,uom:ie.target.value}),required:!0,disabled:!!d,style:d?{backgroundColor:"var(--enterprise-gray-100)",cursor:"not-allowed"}:{},children:[c.jsx("option",{value:"PCS",children:"Pieces (PCS)"}),c.jsx("option",{value:"KG",children:"Kilograms (KG)"}),c.jsx("option",{value:"L",children:"Liters (L)"}),c.jsx("option",{value:"M",children:"Meters (M)"}),c.jsx("option",{value:"BOX",children:"Box (BOX)"})]})]})})]}),c.jsxs("div",{style:{...U_,background:"linear-gradient(135deg, rgba(34,197,94,0.03) 0%, rgba(34,197,94,0.08) 100%)",border:"1px solid rgba(34,197,94,0.15)"},children:[c.jsx("p",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-success)",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:d?" Editable Fields":"Configuration"}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[c.jsxs("div",{children:[c.jsx(st,{required:!0,children:"Revision"}),c.jsx(vt,{value:m.revision||"",onChange:ie=>v({...m,revision:ie.target.value}),placeholder:"A / AB / 1A",required:!0})]}),c.jsxs("div",{children:[c.jsx(st,{required:!0,children:"Lead Time (Days)"}),c.jsx(vt,{type:"number",value:m.lead_time_days,onChange:ie=>v({...m,lead_time_days:parseInt(ie.target.value)||0}),placeholder:"Enter days",required:!0,min:0})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Status"}),c.jsxs(B_,{value:m.is_active?"active":"inactive",onChange:ie=>v({...m,is_active:ie.target.value==="active"}),children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginTop:"16px"},children:[c.jsxs("div",{children:[c.jsx(st,{children:"Unit Price ()"}),c.jsx(vt,{type:"number",value:m.unit_price!=null?String(m.unit_price):"",onChange:ie=>v({...m,unit_price:ie.target.value?parseFloat(ie.target.value):null}),placeholder:"0.00",min:0,step:"0.01"})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Standard Cost ()"}),c.jsx(vt,{type:"number",value:m.standard_cost!=null?String(m.standard_cost):"",onChange:ie=>v({...m,standard_cost:ie.target.value?parseFloat(ie.target.value):null}),placeholder:"0.00",min:0,step:"0.01"})]})]})]}),c.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"8px"},children:[c.jsx(sr,{type:"submit",variant:"primary",fullWidth:!0,style:{padding:"12px 24px",fontWeight:"var(--font-weight-semibold)"},children:d?" Update Item":"+ Create Item"}),c.jsx(sr,{type:"button",variant:"tertiary",fullWidth:!0,onClick:we,style:{padding:"12px 24px"},children:"Cancel"})]})]})}),c.jsx($4,{isOpen:T,onClose:()=>{j(!1),P(null)},onConfirm:fe,item:E}),c.jsx(D4,{isOpen:b,onClose:()=>k(!1),item:S}),c.jsx("style",{children:`
        @keyframes slideDown {
          from {
            opacity: 0;
            max-height: 0;
          }
          to {
            opacity: 1;
            max-height: 500px;
          }
        }
      `})]})}const Nt=Zr();function Qt(t){if(t==null)return t;if(Array.isArray(t))return t.map(r=>Qt(r));if(typeof t!="object")return t;const e={};for(const r in t){const n=r.replace(/_([a-z])/g,(i,o)=>o.toUpperCase());e[n]=Qt(t[r])}return e}async function z4(t){const{data:e,error:r}=await Nt.from("vw_item_stock_dashboard").select("*").eq("item_code",t).single();if(r)throw console.error("Error fetching item stock dashboard:",r),r;return e?Qt(e):null}async function B4(t){let e=Nt.from("vw_item_stock_dashboard").select("*");t?.stockStatus&&(e=e.eq("stock_status",t.stockStatus)),t?.hasAvailableStock&&(e=e.gt("net_available_for_customer",0)),t?.limit&&(e=e.limit(t.limit)),t?.offset&&(e=e.range(t.offset,t.offset+(t.limit||50)-1));const{data:r,error:n}=await e.order("item_code");if(n)throw console.error("Error fetching all items stock dashboard:",n),n;return Qt(r||[])}async function q4(t){const{data:e,error:r}=await Nt.from("vw_item_stock_distribution").select("*").eq("item_code",t).single();if(r)throw console.error("Error fetching item stock distribution:",r),r;return e?Qt(e):null}async function U4(){const{data:t,error:e}=await Nt.from("vw_item_stock_distribution").select("*").order("item_code");if(e)throw console.error("Error fetching stock distribution:",e),e;return Qt(t||[])}async function QE(t){const{data:e,error:r}=await Nt.from("vw_item_warehouse_detail").select("*").eq("item_code",t).order("warehouse_type_code");if(r)throw console.error("Error fetching item warehouse details:",r),r;return Qt(e||[])}async function F4(t){const{data:e,error:r}=await Nt.from("vw_item_warehouse_detail").select("*").eq("warehouse_code",t).order("item_code");if(r)throw console.error("Error fetching warehouse stock details:",r),r;return Qt(e||[])}async function W4(t){let e=Nt.from("vw_item_stock_summary").select("*");t?.limit&&(e=e.limit(t.limit));const{data:r,error:n}=await e.order("item_code");if(n)throw console.error("Error fetching item stock summary:",n),n;return Qt(r||[])}async function H4(t){let e=Nt.from("vw_blanket_release_reservations").select("*");t&&(e=e.eq("item_code",t));const{data:r,error:n}=await e.order("requested_delivery_date");if(n)throw console.error("Error fetching blanket release reservations:",n),n;return Qt(r||[])}async function V4(t){const{data:e,error:r}=await Nt.from("vw_blanket_release_reservations").select("pending_quantity").eq("item_code",t).eq("delivery_period","NEXT_MONTH");return r?(console.error("Error fetching next month reserved:",r),0):e?.reduce((n,i)=>n+(i.pending_quantity||0),0)??0}async function K4(t){let e=Nt.from("vw_recent_stock_movements").select("*");t?.itemCode&&(e=e.eq("item_code",t.itemCode)),t?.warehouseId&&(e=e.eq("warehouse_code",t.warehouseId)),t?.movementType&&(e=e.eq("movement_type",t.movementType)),t?.startDate&&(e=e.gte("movement_date",t.startDate)),t?.endDate&&(e=e.lte("movement_date",t.endDate)),t?.limit&&(e=e.limit(t.limit));const{data:r,error:n}=await e.order("movement_date",{ascending:!1});if(n)throw console.error("Error fetching recent stock movements:",n),n;return Qt(r||[])}async function G4(){const{data:t,error:e}=await Nt.from("inv_warehouse_types").select("*").eq("is_active",!0).order("sort_order");if(e)throw console.error("Error fetching warehouse types:",e),e;return Qt(t||[])}async function Y4(t){let e=Nt.from("inv_warehouses").select(`
      *,
      inv_warehouse_types (
        type_code,
        type_name,
        category
      )
    `).eq("is_active",!0);const{data:r,error:n}=await e.order("warehouse_code");if(n)throw console.error("Error fetching warehouses:",n),n;let i=r||[];return t&&(i=i.filter(o=>o.inv_warehouse_types?.category===t)),Qt(i)}async function X4(t){const{data:e,error:r}=await Nt.from("inv_warehouses").select(`
      *,
      inv_warehouse_types (
        type_code,
        type_name,
        category
      )
    `).eq("warehouse_code",t).single();if(r)throw console.error("Error fetching warehouse:",r),r;return e?Qt(e):null}async function J4(t,e,r,n){const{data:i,error:o}=await Nt.rpc("inv_validate_stock_for_release",{p_warehouse_id:t,p_item_code:e,p_quantity:r,p_lot_number:n||null});return o?(console.error("Error validating stock:",o),!1):i===!0}async function Q4(t,e,r,n,i,o){const{data:l,error:u}=await Nt.rpc("inv_execute_blanket_release",{p_release_id:t,p_warehouse_id:e,p_item_code:r,p_quantity:n,p_lot_number:i||null,p_user_id:o||null});if(u)throw console.error("Error executing blanket release:",u),u;return l}async function Z4(t,e){const{data:r,error:n}=await Nt.from("inv_warehouse_stock").select("*").eq("warehouse_id",t).eq("item_code",e).eq("is_active",!0).single();if(n&&n.code!=="PGRST116")throw console.error("Error fetching warehouse stock:",n),n;return r?Qt(r):null}async function e3(t){const{data:e,error:r}=await Nt.from("vw_item_stock_distribution").select("total_on_hand, total_available, total_reserved").eq("item_code",t).single();if(r)return console.error("Error fetching total stock:",r),{totalOnHand:0,totalAvailable:0,totalReserved:0,warehouseCount:0};const n=await QE(t);return{totalOnHand:e?.total_on_hand||0,totalAvailable:e?.total_available||0,totalReserved:e?.total_reserved||0,warehouseCount:n.length}}async function t3(){const{data:t,error:e}=await Nt.from("vw_item_stock_dashboard").select("stock_status");if(e)throw console.error("Error fetching stock health summary:",e),e;const r={critical:0,low:0,medium:0,healthy:0,total:t?.length||0};return t?.forEach(n=>{const i=n.stock_status?.toLowerCase();i in r&&r[i]++}),r}const ZE={getItemStockDashboard:z4,getAllItemsStockDashboard:B4,getItemStockDistribution:q4,getAllItemsStockDistribution:U4,getItemWarehouseDetails:QE,getWarehouseStockDetails:F4,getItemStockSummary:W4,getBlanketReleaseReservations:H4,getNextMonthReservedQty:V4,getRecentStockMovements:K4,getWarehouseTypes:G4,getWarehouses:Y4,getWarehouseByCode:X4,validateStockForRelease:J4,executeBlanketRelease:Q4,getWarehouseStock:Z4,getTotalStockForItem:e3,getStockHealthSummary:t3};function r3(t){const[e,r]=M.useState([]),[n,i]=M.useState(!0),[o,l]=M.useState(null),u=M.useCallback(async()=>{i(!0),l(null);try{const h=await ZE.getAllItemsStockDashboard(t);r(h)}catch(h){console.error("useAllItemsStockDashboard error:",h),l(h.message||"Failed to fetch stock dashboard")}finally{i(!1)}},[JSON.stringify(t)]);M.useEffect(()=>{u()},[u]);const d=M.useMemo(()=>({totalItems:e.length,criticalCount:e.filter(h=>h.stockStatus==="CRITICAL").length,lowCount:e.filter(h=>h.stockStatus==="LOW").length,healthyCount:e.filter(h=>h.stockStatus==="HEALTHY"||h.stockStatus==="MEDIUM").length,totalNetAvailable:e.reduce((h,y)=>h+(y.netAvailableForCustomer||0),0)}),[e]);return{items:e,loading:n,error:o,refetch:u,stats:d}}function n3(t){const[e,r]=M.useState(null),[n,i]=M.useState(!1),[o,l]=M.useState(null),u=M.useCallback(async()=>{if(!t){r(null);return}i(!0),l(null);try{const d=await ZE.getItemStockDistribution(t);r(d)}catch(d){console.error("useItemStockDistribution error:",d),l(d.message||"Failed to fetch stock distribution")}finally{i(!1)}},[t]);return M.useEffect(()=>{u()},[u]),{data:e,loading:n,error:o,refetch:u}}const di={padding:"12px 14px",textAlign:"left",fontSize:"12px",fontWeight:600,color:"var(--enterprise-gray-700)",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap",cursor:"pointer",userSelect:"none"},fi={padding:"12px 14px",fontSize:"13px",color:"var(--enterprise-gray-800)"};function gc({label:t,value:e,icon:r,color:n,bgColor:i,isActive:o=!1,onClick:l}){return c.jsx("div",{onClick:l,style:{cursor:l?"pointer":"default",transition:"all 0.2s ease"},children:c.jsx(cl,{style:{border:o?`2px solid ${n}`:"1px solid var(--enterprise-gray-200)",boxShadow:o?`0 0 0 3px ${i}`:"var(--shadow-sm)"},children:c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[c.jsxs("div",{children:[c.jsx("p",{style:{fontSize:"12px",color:"var(--enterprise-gray-600)",fontWeight:500,marginBottom:"6px"},children:t}),c.jsx("p",{style:{fontSize:"1.75rem",fontWeight:700,color:n},children:e})]}),c.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"8px",backgroundColor:i,display:"flex",alignItems:"center",justifyContent:"center"},children:r})]})})})}function i3({searchTerm:t,onSearchChange:e,activeStatusFilter:r,onActiveStatusFilterChange:n,onRefresh:i,refreshing:o,onExport:l,onClearFilters:u,hasActiveFilters:d}){return c.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",gap:"12px",flexWrap:"wrap",background:"white",padding:"10px 16px",borderRadius:"8px",border:"1px solid var(--enterprise-gray-200)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",background:"var(--enterprise-gray-50)",border:"1px solid var(--enterprise-gray-300)",borderRadius:"6px",padding:"8px 12px",flex:1,minWidth:"280px"},children:[c.jsx(wi,{size:18,style:{color:"var(--enterprise-gray-400)",marginRight:"10px",flexShrink:0}}),c.jsx("input",{type:"text",placeholder:"Search by item code, MSN, part number...",value:t,onChange:h=>e(h.target.value),style:{border:"none",outline:"none",flex:1,fontSize:"13px",color:"var(--enterprise-gray-800)",background:"transparent",minWidth:"180px"}}),t&&c.jsx("button",{onClick:()=>e(""),style:{background:"var(--enterprise-gray-200)",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",borderRadius:"4px",marginLeft:"8px"},children:c.jsx(Gs,{size:14,style:{color:"var(--enterprise-gray-600)"}})})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexShrink:0},children:[c.jsxs("select",{value:r,onChange:h=>n(h.target.value),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid var(--enterprise-gray-300)",fontSize:"13px",color:"var(--enterprise-gray-700)",background:"white",cursor:"pointer",height:"36px"},children:[c.jsx("option",{value:"ALL",children:"All Items"}),c.jsx("option",{value:"ACTIVE",children:"Active Only"}),c.jsx("option",{value:"INACTIVE",children:"Inactive Only"})]}),d&&c.jsxs("button",{onClick:u,style:{padding:"0 12px",height:"36px",borderRadius:"6px",border:"1px solid #dc2626",background:"white",color:"#dc2626",fontSize:"13px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",whiteSpace:"nowrap"},children:[c.jsx(cx,{size:16}),"Clear Filters"]}),c.jsxs("button",{onClick:i,disabled:o,style:{padding:"0 14px",height:"36px",borderRadius:"6px",border:"1px solid var(--enterprise-gray-300)",background:"white",color:"var(--enterprise-gray-700)",fontSize:"13px",fontWeight:500,cursor:o?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"6px",opacity:o?.6:1,whiteSpace:"nowrap"},children:[c.jsx(Mo,{size:14,className:o?"spinning":""}),"Refresh"]}),c.jsxs("button",{onClick:l,style:{padding:"0 14px",height:"36px",borderRadius:"6px",border:"none",background:"#1e3a8a",color:"white",fontSize:"13px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap"},children:[c.jsx(dx,{size:14}),"Export CSV"]})]})]})}function a3({isActive:t}){return c.jsx("span",{style:{display:"inline-block",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:t?"#22c55e":"#ef4444",marginRight:"6px"},title:t?"Active":"Inactive"})}function o3({isOpen:t,onClose:e,item:r}){const{data:n,loading:i}=n3(t&&r?r.itemCode:null);if(!r)return null;const o=u=>{switch(u?.toUpperCase()){case"CRITICAL":return"rgba(220, 38, 38, 0.15)";case"LOW":return"rgba(234, 179, 8, 0.15)";case"HEALTHY":return"rgba(34, 197, 94, 0.15)";default:return"rgba(59, 130, 246, 0.1)"}},l=u=>{switch(u?.toUpperCase()){case"CRITICAL":return"1px solid rgba(220, 38, 38, 0.3)";case"LOW":return"1px solid rgba(234, 179, 8, 0.3)";case"HEALTHY":return"1px solid rgba(34, 197, 94, 0.3)";default:return"1px solid rgba(59, 130, 246, 0.2)"}};return c.jsx(Dd,{isOpen:t,onClose:e,title:`Stock Details  ${r.masterSerialNo||r.itemCode}`,maxWidth:"800px",children:c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[c.jsxs("div",{style:{background:"var(--enterprise-gray-50)",padding:"16px",borderRadius:"8px"},children:[c.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:"var(--enterprise-gray-900)",marginBottom:"12px"},children:r.itemName}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px",fontSize:"13px",color:"var(--enterprise-gray-600)"},children:[c.jsxs("span",{children:[c.jsx("strong",{children:"Code:"})," ",r.itemCode]}),c.jsxs("span",{children:[c.jsx("strong",{children:"Part No:"})," ",r.partNumber||"-"]}),c.jsxs("span",{children:[c.jsx("strong",{children:"UOM:"})," ",r.uom]}),c.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"6px",verticalAlign:"middle"},children:[c.jsx("strong",{style:{lineHeight:"1"},children:"Status:"}),c.jsx(co,{variant:tP(r.stockStatus),style:{verticalAlign:"middle"},children:r.stockStatus})]})]})]}),i?c.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[c.jsx(Ld,{size:32}),c.jsx("p",{style:{marginTop:"12px",color:"var(--enterprise-gray-500)",fontSize:"13px"},children:"Loading stock distribution..."})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:[c.jsxs("div",{style:{background:"white",padding:"14px",borderRadius:"8px",border:"1px solid var(--enterprise-gray-200)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px",fontSize:"13px",fontWeight:600,color:"var(--enterprise-gray-700)"},children:[c.jsx(ur,{size:16,style:{color:"var(--enterprise-primary)"}}),"Production Warehouse"]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px"},children:[c.jsx("span",{style:{color:"var(--enterprise-gray-500)"},children:"Available"}),c.jsx("span",{style:{fontWeight:600,color:"var(--enterprise-success)"},children:n?.productionAvailable??r.productionFinishedStock??0})]})]}),c.jsxs("div",{style:{background:"white",padding:"14px",borderRadius:"8px",border:"1px solid var(--enterprise-gray-200)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px",fontSize:"13px",fontWeight:600,color:"var(--enterprise-gray-700)"},children:[c.jsx(Mo,{size:16,style:{color:"var(--enterprise-info)"}}),"In Transit"]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px"},children:[c.jsx("span",{style:{color:"var(--enterprise-gray-500)"},children:"Quantity"}),c.jsx("span",{style:{fontWeight:600,color:"var(--enterprise-info)"},children:n?.inTransitQty??r.inTransitQuantity??0})]})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:[c.jsxs("div",{style:{background:"white",padding:"14px",borderRadius:"8px",border:"1px solid var(--enterprise-gray-200)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px",fontSize:"13px",fontWeight:600,color:"var(--enterprise-gray-700)"},children:[c.jsx(ur,{size:16,style:{color:"var(--enterprise-secondary)"}}),"S&V Warehouse"]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px"},children:[c.jsx("span",{style:{color:"var(--enterprise-gray-500)"},children:"On Hand"}),c.jsx("span",{style:{fontWeight:600,color:"var(--enterprise-secondary)"},children:n?.snvOnHand??r.snvStock??0})]})]}),c.jsxs("div",{style:{background:"white",padding:"14px",borderRadius:"8px",border:"1px solid var(--enterprise-gray-200)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px",fontSize:"13px",fontWeight:600,color:"var(--enterprise-gray-700)"},children:[c.jsx(ur,{size:16,style:{color:"#6366f1"}}),"US Warehouse"]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px",fontSize:"13px"},children:[c.jsx("span",{style:{color:"var(--enterprise-gray-500)"},children:"On Hand"}),c.jsx("span",{style:{fontWeight:600,color:"#6366f1"},children:n?.usTransitOnHand??r.usTransitStock??0})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px"},children:[c.jsx("span",{style:{color:"var(--enterprise-gray-500)"},children:"Reserved (Next Month)"}),c.jsx("span",{style:{fontWeight:600,color:"var(--enterprise-warning)"},children:n?.blanketNextMonthReserved??r.reservedNextMonth??0})]})]})]}),c.jsxs("div",{style:{background:o(r.stockStatus),borderRadius:"10px",padding:"20px",textAlign:"center",border:l(r.stockStatus)},children:[c.jsx("p",{style:{fontSize:"12px",fontWeight:600,color:"var(--enterprise-gray-600)",letterSpacing:"0.4px",marginBottom:"8px",textTransform:"uppercase"},children:"Net Available for Customer"}),c.jsx("p",{style:{fontSize:"2.2rem",fontWeight:700,color:eP(r.stockStatus),margin:"4px 0"},children:r.netAvailableForCustomer}),c.jsx("p",{style:{fontSize:"11px",color:"var(--enterprise-gray-500)",marginTop:"8px"},children:"= US Warehouse + In Transit + S&V Warehouse  Reserved (Next Month)"})]})]}),c.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:c.jsx(sr,{variant:"primary",onClick:e,children:"Close"})})]})})}function s3(t,e="inventory_export"){const r=["Item Code","Description","MSN","Part Number","Net Available","Status","Active"],n=t.map(d=>[d.itemCode,d.itemName||"",d.masterSerialNo||"",d.partNumber||"",d.netAvailableForCustomer,d.stockStatus||"",d.isActive!==!1?"Active":"Inactive"]),i=[r.join(","),...n.map(d=>d.map(h=>typeof h=="string"&&(h.includes(",")||h.includes('"'))?`"${h.replace(/"/g,'""')}"`:h).join(","))].join(`
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${e}_${new Date().toISOString().split("T")[0]}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}function l3(){const{items:t,loading:e,error:r,refetch:n,stats:i}=r3(),[o,l]=M.useState(!1),[u,d]=M.useState(""),[h,y]=M.useState("ALL"),[p,m]=M.useState("ALL"),[v,S]=M.useState("ALL"),[w,b]=M.useState("itemCode"),[k,A]=M.useState("asc"),[O,T]=M.useState(null),[j,E]=M.useState(!1),[P,I]=M.useState(20),$=20,V=async()=>{l(!0),await n(),l(!1)},U=L=>{w===L?A(k==="asc"?"desc":"asc"):(b(L),A("asc"))},R=L=>{v===L?(S("ALL"),y("ALL")):(S(L),L==="TOTAL"?y("ALL"):L!=="ALL"&&y(L))},z=M.useCallback(()=>{y("ALL"),m("ALL"),S("ALL")},[]),W=h!=="ALL"||p!=="ALL"||v!=="ALL",H=M.useMemo(()=>{let L=[...t];if(u){const re=u.toLowerCase();L=L.filter(fe=>fe.itemCode.toLowerCase().includes(re)||fe.masterSerialNo?.toLowerCase().includes(re)||fe.partNumber?.toLowerCase().includes(re))}return h!=="ALL"&&(L=L.filter(re=>re.stockStatus===h)),p!=="ALL"&&(L=L.filter(re=>{const fe=re.isActive;return p==="ACTIVE"?fe!==!1:p==="INACTIVE"?fe===!1:!0})),L.sort((re,fe)=>{let me=re[w],we=fe[w];return typeof me=="string"&&(me=me?.toLowerCase()||"",we=we?.toLowerCase()||""),me<we?k==="asc"?-1:1:me>we?k==="asc"?1:-1:0}),L},[t,u,h,p,w,k]),X=M.useMemo(()=>H.slice(0,P),[H,P]),Q=P<H.length;M.useEffect(()=>{I($)},[u,h,p,v]);const K=()=>{I(L=>L+$)},ee=M.useCallback(()=>{s3(H,"inventory_export")},[H]),Z=L=>{T(L),E(!0)},N=({field:L})=>w!==L?null:k==="asc"?c.jsx(gD,{size:12,style:{marginLeft:"4px"}}):c.jsx(KE,{size:12,style:{marginLeft:"4px"}});return e&&t.length===0?c.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px"},children:[c.jsx(Ld,{size:48}),c.jsx("p",{style:{marginTop:"16px",color:"var(--enterprise-gray-600)",fontSize:"14px"},children:"Loading inventory data..."})]}):r?c.jsx(cl,{children:c.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[c.jsx(wr,{size:48,style:{color:"var(--enterprise-error)",marginBottom:"16px"}}),c.jsx("h3",{style:{color:"var(--enterprise-gray-800)",marginBottom:"8px"},children:"Failed to Load Inventory"}),c.jsx("p",{style:{color:"var(--enterprise-gray-600)",marginBottom:"16px"},children:r}),c.jsx(sr,{variant:"primary",onClick:V,children:"Try Again"})]})}):c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"14px"},children:[c.jsx(gc,{label:"Total Items",value:i.totalItems,icon:c.jsx(ur,{size:22,style:{color:"var(--enterprise-primary)"}}),color:"var(--enterprise-primary)",bgColor:"rgba(30, 58, 138, 0.1)",isActive:v==="TOTAL",onClick:()=>R("TOTAL")}),c.jsx(gc,{label:"Healthy Stock",value:i.healthyCount,icon:c.jsx(Cn,{size:22,style:{color:"var(--enterprise-success)"}}),color:"var(--enterprise-success)",bgColor:"rgba(34, 197, 94, 0.1)",isActive:v==="HEALTHY",onClick:()=>R("HEALTHY")}),c.jsx(gc,{label:"Low Stock",value:i.lowCount,icon:c.jsx(wr,{size:22,style:{color:"var(--enterprise-warning)"}}),color:"var(--enterprise-warning)",bgColor:"rgba(234, 179, 8, 0.1)",isActive:v==="LOW",onClick:()=>R("LOW")}),c.jsx(gc,{label:"Critical Stock",value:i.criticalCount,icon:c.jsx(wr,{size:22,style:{color:"var(--enterprise-error)"}}),color:"var(--enterprise-error)",bgColor:"rgba(220, 38, 38, 0.1)",isActive:v==="CRITICAL",onClick:()=>R("CRITICAL")})]}),c.jsx(i3,{searchTerm:u,onSearchChange:d,activeStatusFilter:p,onActiveStatusFilterChange:m,onRefresh:V,refreshing:o,onExport:ee,onClearFilters:z,hasActiveFilters:W}),c.jsx(cl,{style:{padding:0,overflow:"hidden"},children:H.length===0?c.jsx(JE,{icon:c.jsx(ur,{size:48}),title:W?"No Matching Items":"No Inventory Data",description:W?"Try adjusting your search or filter criteria":"Stock data will appear here once the inventory tables are populated"}):c.jsxs(c.Fragment,{children:[c.jsx("div",{style:{overflowX:"auto"},children:c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[c.jsx("thead",{children:c.jsxs("tr",{style:{backgroundColor:"var(--table-header-bg)",borderBottom:"2px solid var(--table-border)"},children:[c.jsx("th",{style:{...di,minWidth:"100px"},onClick:()=>U("itemCode"),children:c.jsxs("span",{style:{display:"flex",alignItems:"center"},children:["Item Code ",c.jsx(N,{field:"itemCode"})]})}),c.jsx("th",{style:{...di,minWidth:"180px",cursor:"default"},children:"Description"}),c.jsx("th",{style:{...di,minWidth:"100px"},onClick:()=>U("masterSerialNo"),children:c.jsxs("span",{style:{display:"flex",alignItems:"center"},children:["MSN ",c.jsx(N,{field:"masterSerialNo"})]})}),c.jsx("th",{style:{...di,minWidth:"100px"},onClick:()=>U("partNumber"),children:c.jsxs("span",{style:{display:"flex",alignItems:"center"},children:["Part Number ",c.jsx(N,{field:"partNumber"})]})}),c.jsx("th",{style:{...di,textAlign:"right",minWidth:"110px"},onClick:()=>U("netAvailableForCustomer"),children:c.jsxs("span",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:["Net Available ",c.jsx(N,{field:"netAvailableForCustomer"})]})}),c.jsx("th",{style:{...di,textAlign:"center",minWidth:"90px"},onClick:()=>U("stockStatus"),children:c.jsxs("span",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:["Status ",c.jsx(N,{field:"stockStatus"})]})}),c.jsx("th",{style:{...di,textAlign:"center",minWidth:"70px",cursor:"default"},children:"Action"}),c.jsx("th",{style:{...di,textAlign:"center",minWidth:"80px",cursor:"default"},children:"Active"})]})}),c.jsx("tbody",{children:X.map((L,re)=>c.jsxs("tr",{style:{backgroundColor:re%2===0?"white":"var(--table-stripe)",borderBottom:"1px solid var(--table-border)",transition:"background-color 0.15s ease"},onMouseEnter:fe=>{fe.currentTarget.style.backgroundColor="var(--table-hover)"},onMouseLeave:fe=>{fe.currentTarget.style.backgroundColor=re%2===0?"white":"var(--table-stripe)"},children:[c.jsx("td",{style:{...fi,fontWeight:600,color:"var(--enterprise-primary)"},children:L.itemCode}),c.jsx("td",{style:fi,children:L.itemName||"-"}),c.jsx("td",{style:{...fi,color:"var(--enterprise-gray-600)"},children:L.masterSerialNo||"-"}),c.jsx("td",{style:{...fi,color:"var(--enterprise-gray-600)"},children:L.partNumber||"-"}),c.jsx("td",{style:{...fi,textAlign:"right",fontWeight:600,color:eP(L.stockStatus)},children:(L.snvStock??0)+(L.usTransitStock??0)}),c.jsx("td",{style:{...fi,textAlign:"center"},children:c.jsx(co,{variant:tP(L.stockStatus),children:L.stockStatus})}),c.jsx("td",{style:{...fi,textAlign:"center"},children:c.jsx(sr,{variant:"tertiary",size:"sm",icon:c.jsx(Md,{size:14}),onClick:()=>Z(L),children:"View"})}),c.jsx("td",{style:{...fi,textAlign:"center"},children:c.jsx(a3,{isActive:L.isActive!==!1})})]},L.itemCode))})]})}),Q&&c.jsxs("div",{style:{padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",borderTop:"1px solid var(--table-border)",position:"relative",zIndex:10,backgroundColor:"white"},children:[c.jsxs("p",{style:{fontSize:"13px",color:"var(--enterprise-gray-500)",margin:0},children:["Showing ",X.length," of ",H.length," items"]}),c.jsxs(sr,{variant:"primary",onClick:K,children:["Load More (",Math.min($,H.length-X.length)," more)"]})]}),!Q&&X.length>0&&c.jsx("div",{style:{padding:"16px",textAlign:"center",borderTop:"1px solid var(--table-border)"},children:c.jsxs("p",{style:{fontSize:"13px",color:"var(--enterprise-gray-500)"},children:["Showing all ",H.length," items"]})})]})}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"12px",color:"var(--enterprise-gray-600)"},children:[c.jsxs("span",{children:["Showing ",H.length," of ",t.length," items",W&&" (filtered)"]}),c.jsxs("span",{children:["Total Net Available: "," ",c.jsx("strong",{style:{color:"var(--enterprise-primary)"},children:H.reduce((L,re)=>L+(re.netAvailableForCustomer||0),0).toLocaleString()})]})]}),c.jsx(o3,{isOpen:j,onClose:()=>E(!1),item:O}),c.jsx("style",{children:`
                @keyframes spin {
                    to { transform: rotate(360deg); }
                }
                .spinning {
                    animation: spin 1s linear infinite;
                }
            `})]})}function eP(t){switch(t?.toUpperCase()){case"CRITICAL":return"var(--enterprise-error)";case"LOW":return"var(--enterprise-warning)";case"MEDIUM":return"var(--enterprise-info)";case"HEALTHY":default:return"var(--enterprise-success)"}}function tP(t){switch(t?.toUpperCase()){case"CRITICAL":return"error";case"LOW":return"warning";case"MEDIUM":return"info";case"HEALTHY":return"success";default:return"neutral"}}function u3({accessToken:t}){const[e,r]=M.useState([]),[n,i]=M.useState([]),[o,l]=M.useState(!0),[u,d]=M.useState(!1),[h,y]=M.useState(!1),[p,m]=M.useState(null),[v,S]=M.useState([]),[w,b]=M.useState(""),[k,A]=M.useState({orderNumber:"",customerName:"",orderDate:new Date().toISOString().split("T")[0],startDate:new Date().toISOString().split("T")[0],endDate:"",status:"ACTIVE",lines:[{itemId:"",totalQuantity:0}]});M.useEffect(()=>{O()},[]);const O=async()=>{try{const[R,z]=await Promise.all([fetch(`https://${Gt}.supabase.co/functions/v1/make-server-9c637d11/blanket-orders`,{headers:{Authorization:`Bearer ${t}`}}),fetch(`https://${Gt}.supabase.co/functions/v1/make-server-9c637d11/items`,{headers:{Authorization:`Bearer ${t}`}})]);if(!R.ok||!z.ok)throw new Error("Failed to fetch data");const W=await R.json(),H=await z.json();r(W.orders||[]),i(H.items||[])}catch(R){console.error("Error fetching data:",R)}finally{l(!1)}},T=async R=>{try{const z=await fetch(`https://${Gt}.supabase.co/functions/v1/make-server-9c637d11/blanket-orders/${R}/lines`,{headers:{Authorization:`Bearer ${t}`}});if(!z.ok)throw new Error("Failed to fetch order lines");const W=await z.json();S(W.lines||[])}catch(z){console.error("Error fetching order lines:",z)}},j=async R=>{R.preventDefault();try{const z=await fetch(`https://${Gt}.supabase.co/functions/v1/make-server-9c637d11/blanket-orders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({orderNumber:k.orderNumber,customerName:k.customerName,orderDate:k.orderDate,startDate:k.startDate,endDate:k.endDate,status:k.status,lines:k.lines.filter(W=>W.itemId&&W.totalQuantity>0)})});if(!z.ok){const W=await z.json();throw new Error(W.error||"Failed to save blanket order")}await O(),P()}catch(z){console.error("Error saving blanket order:",z),alert(z instanceof Error?z.message:"Failed to save blanket order")}},E=async R=>{m(R),await T(R.id),y(!0)},P=()=>{d(!1),A({orderNumber:"",customerName:"",orderDate:new Date().toISOString().split("T")[0],startDate:new Date().toISOString().split("T")[0],endDate:"",status:"ACTIVE",lines:[{itemId:"",totalQuantity:0}]})},I=()=>{A({...k,lines:[...k.lines,{itemId:"",totalQuantity:0}]})},$=R=>{k.lines.length>1&&A({...k,lines:k.lines.filter((z,W)=>W!==R)})},V=(R,z,W)=>{const H=[...k.lines];H[R]={...H[R],[z]:W},A({...k,lines:H})},U=e.filter(R=>R.orderNumber.toLowerCase().includes(w.toLowerCase())||R.customerName.toLowerCase().includes(w.toLowerCase()));return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Blanket Orders"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Manage long-term customer orders with multiple items"})]}),c.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(sl,{size:20}),"New Order"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Active Orders"}),c.jsx("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:e.filter(R=>R.status==="ACTIVE").length})]}),c.jsx(Xi,{className:"text-blue-600",size:24})]})}),c.jsx("div",{className:"bg-green-50 rounded-lg border border-green-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Completed"}),c.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:e.filter(R=>R.status==="COMPLETED").length})]}),c.jsx(Xi,{className:"text-green-600",size:24})]})}),c.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Total Orders"}),c.jsx("p",{className:"text-2xl font-bold text-gray-700 mt-1",children:e.length})]}),c.jsx(Xi,{className:"text-gray-600",size:24})]})})]}),c.jsxs("div",{className:"relative",children:[c.jsx(wi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",value:w,onChange:R=>b(R.target.value),placeholder:"Search by order number or customer name...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx(_i,{className:"animate-spin text-blue-600",size:32})}):U.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Xi,{className:"mx-auto text-gray-400 mb-4",size:48}),c.jsx("p",{className:"text-gray-600",children:"No blanket orders found"}),c.jsx("button",{onClick:()=>d(!0),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:"Create your first order"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Order Number"}),c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Customer"}),c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Order Date"}),c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Valid Period"}),c.jsx("th",{className:"text-center px-6 py-4 text-sm font-semibold text-gray-900",children:"Status"}),c.jsx("th",{className:"text-center px-6 py-4 text-sm font-semibold text-gray-900",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:U.map(R=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:R.orderNumber}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:R.customerName}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(R.orderDate).toLocaleDateString()}),c.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[new Date(R.startDate).toLocaleDateString()," - ",new Date(R.endDate).toLocaleDateString()]}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${R.status==="ACTIVE"?"bg-green-100 text-green-700":R.status==="COMPLETED"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:R.status})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("button",{onClick:()=>E(R),className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(Md,{size:14}),"View Lines"]})})]},R.id))})]})})}),u&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200 sticky top-0 bg-white",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Blanket Order"}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Multi-line order for long-term customer agreements"})]}),c.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Number *"}),c.jsx("input",{type:"text",value:k.orderNumber,onChange:R=>A({...k,orderNumber:R.target.value}),required:!0,placeholder:"BO-2024-001",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),c.jsx("input",{type:"text",value:k.customerName,onChange:R=>A({...k,customerName:R.target.value}),required:!0,placeholder:"ABC Manufacturing Inc.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),c.jsx("input",{type:"date",value:k.orderDate,onChange:R=>A({...k,orderDate:R.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),c.jsxs("select",{value:k.status,onChange:R=>A({...k,status:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[c.jsx("option",{value:"ACTIVE",children:"Active"}),c.jsx("option",{value:"COMPLETED",children:"Completed"}),c.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid From *"}),c.jsx("input",{type:"date",value:k.startDate,onChange:R=>A({...k,startDate:R.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid To *"}),c.jsx("input",{type:"date",value:k.endDate,onChange:R=>A({...k,endDate:R.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]})]}),c.jsxs("div",{className:"border-t pt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Order Lines"}),c.jsxs("button",{type:"button",onClick:I,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",children:[c.jsx(sl,{size:16}),"Add Line"]})]}),c.jsx("div",{className:"space-y-3",children:k.lines.map((R,z)=>c.jsxs("div",{className:"flex gap-3 items-start bg-gray-50 p-3 rounded-lg",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Item *"}),c.jsxs("select",{value:R.itemId,onChange:W=>V(z,"itemId",W.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",children:[c.jsx("option",{value:"",children:"Select item..."}),n.map(W=>c.jsxs("option",{value:W.id,children:[W.itemCode," - ",W.itemName]},W.id))]})]}),c.jsxs("div",{className:"w-32",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity *"}),c.jsx("input",{type:"number",value:R.totalQuantity,onChange:W=>V(z,"totalQuantity",parseInt(W.target.value)||0),required:!0,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm"})]}),k.lines.length>1&&c.jsx("button",{type:"button",onClick:()=>$(z),className:"mt-6 p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:c.jsx(ll,{size:18})})]},z))})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Create Order"}),c.jsx("button",{type:"button",onClick:P,className:"flex-1 bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"})]})]})]})}),h&&p&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Order Lines"}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[p.orderNumber," - ",p.customerName]})]}),c.jsx("div",{className:"p-6",children:v.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(ur,{className:"mx-auto text-gray-400 mb-3",size:40}),c.jsx("p",{className:"text-gray-600",children:"No order lines found"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-gray-900",children:"Item Code"}),c.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-gray-900",children:"Item Name"}),c.jsx("th",{className:"text-right px-4 py-3 text-sm font-semibold text-gray-900",children:"Total Qty"}),c.jsx("th",{className:"text-right px-4 py-3 text-sm font-semibold text-gray-900",children:"Released"}),c.jsx("th",{className:"text-right px-4 py-3 text-sm font-semibold text-gray-900",children:"Delivered"}),c.jsx("th",{className:"text-right px-4 py-3 text-sm font-semibold text-gray-900",children:"Remaining"}),c.jsx("th",{className:"text-center px-4 py-3 text-sm font-semibold text-gray-900",children:"Progress"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:v.map(R=>{const z=R.deliveredQuantity/R.totalQuantity*100;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:R.itemCode||"N/A"}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:R.itemName||"Unknown"}),c.jsx("td",{className:"px-4 py-3 text-sm text-right font-bold text-gray-900",children:R.totalQuantity}),c.jsx("td",{className:"px-4 py-3 text-sm text-right text-blue-600",children:R.releasedQuantity}),c.jsx("td",{className:"px-4 py-3 text-sm text-right text-green-600",children:R.deliveredQuantity}),c.jsx("td",{className:"px-4 py-3 text-sm text-right text-orange-600 font-bold",children:R.remainingQuantity}),c.jsx("td",{className:"px-4 py-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all",style:{width:`${z}%`}})}),c.jsxs("span",{className:"text-xs text-gray-600 w-12 text-right",children:[z.toFixed(0),"%"]})]})})]},R.id)})})]})})}),c.jsx("div",{className:"p-6 border-t border-gray-200",children:c.jsx("button",{onClick:()=>y(!1),className:"w-full bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Close"})})]})})]})}function c3({accessToken:t}){const[e,r]=M.useState([]),[n,i]=M.useState([]),[o,l]=M.useState(!0),[u,d]=M.useState(!1),[h,y]=M.useState(""),[p,m]=M.useState("ALL"),[v,S]=M.useState({orderLineId:"",releaseNumber:"",releaseDate:new Date().toISOString().split("T")[0],scheduledDeliveryDate:"",quantity:0,status:"PENDING",shippingReference:"",notes:""});M.useEffect(()=>{w()},[p]);const w=async()=>{try{const j=p==="ALL"?`https://${Gt}.supabase.co/functions/v1/make-server-9c637d11/blanket-releases`:`https://${Gt}.supabase.co/functions/v1/make-server-9c637d11/blanket-releases?status=${p}`,[E,P]=await Promise.all([fetch(j,{headers:{Authorization:`Bearer ${t}`}}),fetch(`https://${Gt}.supabase.co/functions/v1/make-server-9c637d11/blanket-orders/lines/available`,{headers:{Authorization:`Bearer ${t}`}})]);if(!E.ok||!P.ok)throw new Error("Failed to fetch data");const I=await E.json(),$=await P.json();r(I.releases||[]),i($.lines||[])}catch(j){console.error("Error fetching data:",j)}finally{l(!1)}},b=async j=>{j.preventDefault();try{const E=await fetch(`https://${Gt}.supabase.co/functions/v1/make-server-9c637d11/blanket-releases`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(v)});if(!E.ok){const P=await E.json();throw new Error(P.error||"Failed to create release")}await w(),A()}catch(E){console.error("Error creating release:",E),alert(E instanceof Error?E.message:"Failed to create release")}},k=async(j,E)=>{if(confirm(`Are you sure you want to mark this release as ${E}?${E==="DELIVERED"?`

 This will automatically deduct stock from inventory!`:""}`))try{const P=await fetch(`https://${Gt}.supabase.co/functions/v1/make-server-9c637d11/blanket-releases/${j}/status`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({status:E,actualDeliveryDate:E==="DELIVERED"?new Date().toISOString().split("T")[0]:void 0})});if(!P.ok){const $=await P.json();throw new Error($.error||"Failed to update status")}const I=await P.json();E==="DELIVERED"&&I.stockDeducted&&alert(` Release delivered successfully!

 Stock deducted: ${I.stockDeducted.quantity} units
 New available stock: ${I.stockDeducted.newStock}`),await w()}catch(P){console.error("Error updating status:",P),alert(P instanceof Error?P.message:"Failed to update status")}},A=()=>{d(!1),S({orderLineId:"",releaseNumber:"",releaseDate:new Date().toISOString().split("T")[0],scheduledDeliveryDate:"",quantity:0,status:"PENDING",shippingReference:"",notes:""})},O=j=>n.find(E=>E.id===j),T=e.filter(j=>j.releaseNumber.toLowerCase().includes(h.toLowerCase())||j.customerName?.toLowerCase().includes(h.toLowerCase())||j.itemCode?.toLowerCase().includes(h.toLowerCase()));return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Blanket Releases"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Manage delivery schedules with automatic inventory deduction"})]}),c.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(sl,{size:20}),"New Release"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx("div",{className:"bg-yellow-50 rounded-lg border border-yellow-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-yellow-700 font-medium",children:"Pending"}),c.jsx("p",{className:"text-2xl font-bold text-yellow-700 mt-1",children:e.filter(j=>j.status==="PENDING").length})]}),c.jsx(ol,{className:"text-yellow-600",size:24})]})}),c.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Shipped"}),c.jsx("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:e.filter(j=>j.status==="SHIPPED").length})]}),c.jsx(l4,{className:"text-blue-600",size:24})]})}),c.jsx("div",{className:"bg-green-50 rounded-lg border border-green-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Delivered"}),c.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:e.filter(j=>j.status==="DELIVERED").length})]}),c.jsx(Cn,{className:"text-green-600",size:24})]})}),c.jsx("div",{className:"bg-purple-50 rounded-lg border border-purple-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-purple-700 font-medium",children:"Total Releases"}),c.jsx("p",{className:"text-2xl font-bold text-purple-700 mt-1",children:e.length})]}),c.jsx(ur,{className:"text-purple-600",size:24})]})})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(wi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",value:h,onChange:j=>y(j.target.value),placeholder:"Search by release number, customer, or item...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),c.jsxs("select",{value:p,onChange:j=>m(j.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[c.jsx("option",{value:"ALL",children:"All Statuses"}),c.jsx("option",{value:"PENDING",children:"Pending"}),c.jsx("option",{value:"SHIPPED",children:"Shipped"}),c.jsx("option",{value:"DELIVERED",children:"Delivered"})]})]}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[c.jsx(uo,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:20}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Automatic Stock Deduction Enabled"}),c.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["When you mark a release as ",c.jsx("span",{className:"font-bold",children:"DELIVERED"}),", the system will automatically deduct the quantity from available inventory. This ensures real-time inventory accuracy."]})]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx(_i,{className:"animate-spin text-blue-600",size:32})}):T.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(ol,{className:"mx-auto text-gray-400 mb-4",size:48}),c.jsx("p",{className:"text-gray-600",children:"No releases found"}),c.jsx("button",{onClick:()=>d(!0),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:"Create your first release"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Release #"}),c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Order / Customer"}),c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Item"}),c.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-gray-900",children:"Quantity"}),c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Scheduled Date"}),c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Actual Date"}),c.jsx("th",{className:"text-center px-6 py-4 text-sm font-semibold text-gray-900",children:"Status"}),c.jsx("th",{className:"text-center px-6 py-4 text-sm font-semibold text-gray-900",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:T.map(j=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:j.releaseNumber}),c.jsx("td",{className:"px-6 py-4 text-sm",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:j.orderNumber||"N/A"}),c.jsx("p",{className:"text-gray-600 text-xs",children:j.customerName||"Unknown"})]})}),c.jsx("td",{className:"px-6 py-4 text-sm",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:j.itemCode||"N/A"}),c.jsx("p",{className:"text-gray-600 text-xs",children:j.itemName||"Unknown"})]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-right font-bold text-gray-900",children:j.quantity}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(j.scheduledDeliveryDate).toLocaleDateString()}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:j.actualDeliveryDate?new Date(j.actualDeliveryDate).toLocaleDateString():"-"}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${j.status==="PENDING"?"bg-yellow-100 text-yellow-700":j.status==="SHIPPED"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:[j.status,j.status==="DELIVERED"&&c.jsx("span",{className:"ml-1",title:"Stock automatically deducted",children:""})]})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[j.status==="PENDING"&&c.jsx("button",{onClick:()=>k(j.id,"SHIPPED"),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:"Ship"}),j.status==="SHIPPED"&&c.jsxs("button",{onClick:()=>k(j.id,"DELIVERED"),className:"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition-colors flex items-center gap-1",children:[c.jsx(ur,{size:12}),"Deliver"]}),j.status==="DELIVERED"&&c.jsxs("span",{className:"text-green-600 text-xs font-medium flex items-center gap-1",children:[c.jsx(Cn,{size:14}),"Stock Deducted"]})]})})]},j.id))})]})})}),u&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Release"}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Schedule a delivery from a blanket order line"})]}),c.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Line *"}),c.jsxs("select",{value:v.orderLineId,onChange:j=>{const E=O(j.target.value);S({...v,orderLineId:j.target.value,quantity:E?.remainingQuantity||0})},required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[c.jsx("option",{value:"",children:"Select order line..."}),n.filter(j=>j.remainingQuantity>0).map(j=>c.jsxs("option",{value:j.id,children:[j.orderNumber," - ",j.customerName," - ",j.itemCode," (Available: ",j.remainingQuantity,")"]},j.id))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Release Number *"}),c.jsx("input",{type:"text",value:v.releaseNumber,onChange:j=>S({...v,releaseNumber:j.target.value}),required:!0,placeholder:"REL-2024-001",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),c.jsx("input",{type:"number",value:v.quantity,onChange:j=>S({...v,quantity:parseInt(j.target.value)||0}),required:!0,min:"1",max:O(v.orderLineId)?.remainingQuantity||0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),v.orderLineId&&c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Max: ",O(v.orderLineId)?.remainingQuantity||0]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Release Date *"}),c.jsx("input",{type:"date",value:v.releaseDate,onChange:j=>S({...v,releaseDate:j.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scheduled Delivery *"}),c.jsx("input",{type:"date",value:v.scheduledDeliveryDate,onChange:j=>S({...v,scheduledDeliveryDate:j.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Reference"}),c.jsx("input",{type:"text",value:v.shippingReference,onChange:j=>S({...v,shippingReference:j.target.value}),placeholder:"Tracking number, BOL, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),c.jsx("textarea",{value:v.notes,onChange:j=>S({...v,notes:j.target.value}),rows:3,placeholder:"Delivery instructions, special handling, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none"})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Create Release"}),c.jsx("button",{type:"button",onClick:A,className:"flex-1 bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"})]})]})]})})]})}function rP(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=rP(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function De(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=rP(t))&&(n&&(n+=" "),n+=e);return n}var Op,F_;function cr(){if(F_)return Op;F_=1;var t=Array.isArray;return Op=t,Op}var Ap,W_;function nP(){if(W_)return Ap;W_=1;var t=typeof cc=="object"&&cc&&cc.Object===Object&&cc;return Ap=t,Ap}var Ep,H_;function mn(){if(H_)return Ep;H_=1;var t=nP(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Ep=r,Ep}var Pp,V_;function Gl(){if(V_)return Pp;V_=1;var t=mn(),e=t.Symbol;return Pp=e,Pp}var Tp,K_;function d3(){if(K_)return Tp;K_=1;var t=Gl(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function o(l){var u=r.call(l,i),d=l[i];try{l[i]=void 0;var h=!0}catch{}var y=n.call(l);return h&&(u?l[i]=d:delete l[i]),y}return Tp=o,Tp}var Cp,G_;function f3(){if(G_)return Cp;G_=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Cp=r,Cp}var Np,Y_;function qn(){if(Y_)return Np;Y_=1;var t=Gl(),e=d3(),r=f3(),n="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function l(u){return u==null?u===void 0?i:n:o&&o in Object(u)?e(u):r(u)}return Np=l,Np}var Ip,X_;function Un(){if(X_)return Ip;X_=1;function t(e){return e!=null&&typeof e=="object"}return Ip=t,Ip}var Rp,J_;function Do(){if(J_)return Rp;J_=1;var t=qn(),e=Un(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Rp=n,Rp}var $p,Q_;function fx(){if(Q_)return $p;Q_=1;var t=cr(),e=Do(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,l){if(t(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||e(o)?!0:n.test(o)||!r.test(o)||l!=null&&o in Object(l)}return $p=i,$p}var Mp,Z_;function Si(){if(Z_)return Mp;Z_=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Mp=t,Mp}var Dp,eS;function hx(){if(eS)return Dp;eS=1;var t=qn(),e=Si(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(u){if(!e(u))return!1;var d=t(u);return d==n||d==i||d==r||d==o}return Dp=l,Dp}var Lp,tS;function h3(){if(tS)return Lp;tS=1;var t=mn(),e=t["__core-js_shared__"];return Lp=e,Lp}var zp,rS;function p3(){if(rS)return zp;rS=1;var t=h3(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return zp=r,zp}var Bp,nS;function iP(){if(nS)return Bp;nS=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Bp=r,Bp}var qp,iS;function y3(){if(iS)return qp;iS=1;var t=hx(),e=p3(),r=Si(),n=iP(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,h=u.hasOwnProperty,y=RegExp("^"+d.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(m){if(!r(m)||e(m))return!1;var v=t(m)?y:o;return v.test(n(m))}return qp=p,qp}var Up,aS;function g3(){if(aS)return Up;aS=1;function t(e,r){return e?.[r]}return Up=t,Up}var Fp,oS;function ca(){if(oS)return Fp;oS=1;var t=y3(),e=g3();function r(n,i){var o=e(n,i);return t(o)?o:void 0}return Fp=r,Fp}var Wp,sS;function zd(){if(sS)return Wp;sS=1;var t=ca(),e=t(Object,"create");return Wp=e,Wp}var Hp,lS;function m3(){if(lS)return Hp;lS=1;var t=zd();function e(){this.__data__=t?t(null):{},this.size=0}return Hp=e,Hp}var Vp,uS;function v3(){if(uS)return Vp;uS=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Vp=t,Vp}var Kp,cS;function x3(){if(cS)return Kp;cS=1;var t=zd(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var l=this.__data__;if(t){var u=l[o];return u===e?void 0:u}return n.call(l,o)?l[o]:void 0}return Kp=i,Kp}var Gp,dS;function b3(){if(dS)return Gp;dS=1;var t=zd(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var o=this.__data__;return t?o[i]!==void 0:r.call(o,i)}return Gp=n,Gp}var Yp,fS;function w3(){if(fS)return Yp;fS=1;var t=zd(),e="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&i===void 0?e:i,this}return Yp=r,Yp}var Xp,hS;function _3(){if(hS)return Xp;hS=1;var t=m3(),e=v3(),r=x3(),n=b3(),i=w3();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Xp=o,Xp}var Jp,pS;function S3(){if(pS)return Jp;pS=1;function t(){this.__data__=[],this.size=0}return Jp=t,Jp}var Qp,yS;function px(){if(yS)return Qp;yS=1;function t(e,r){return e===r||e!==e&&r!==r}return Qp=t,Qp}var Zp,gS;function Bd(){if(gS)return Zp;gS=1;var t=px();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return Zp=e,Zp}var ey,mS;function j3(){if(mS)return ey;mS=1;var t=Bd(),e=Array.prototype,r=e.splice;function n(i){var o=this.__data__,l=t(o,i);if(l<0)return!1;var u=o.length-1;return l==u?o.pop():r.call(o,l,1),--this.size,!0}return ey=n,ey}var ty,vS;function k3(){if(vS)return ty;vS=1;var t=Bd();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return ty=e,ty}var ry,xS;function O3(){if(xS)return ry;xS=1;var t=Bd();function e(r){return t(this.__data__,r)>-1}return ry=e,ry}var ny,bS;function A3(){if(bS)return ny;bS=1;var t=Bd();function e(r,n){var i=this.__data__,o=t(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return ny=e,ny}var iy,wS;function qd(){if(wS)return iy;wS=1;var t=S3(),e=j3(),r=k3(),n=O3(),i=A3();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,iy=o,iy}var ay,_S;function yx(){if(_S)return ay;_S=1;var t=ca(),e=mn(),r=t(e,"Map");return ay=r,ay}var oy,SS;function E3(){if(SS)return oy;SS=1;var t=_3(),e=qd(),r=yx();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return oy=n,oy}var sy,jS;function P3(){if(jS)return sy;jS=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return sy=t,sy}var ly,kS;function Ud(){if(kS)return ly;kS=1;var t=P3();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return ly=e,ly}var uy,OS;function T3(){if(OS)return uy;OS=1;var t=Ud();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return uy=e,uy}var cy,AS;function C3(){if(AS)return cy;AS=1;var t=Ud();function e(r){return t(this,r).get(r)}return cy=e,cy}var dy,ES;function N3(){if(ES)return dy;ES=1;var t=Ud();function e(r){return t(this,r).has(r)}return dy=e,dy}var fy,PS;function I3(){if(PS)return fy;PS=1;var t=Ud();function e(r,n){var i=t(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return fy=e,fy}var hy,TS;function gx(){if(TS)return hy;TS=1;var t=E3(),e=T3(),r=C3(),n=N3(),i=I3();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,hy=o,hy}var py,CS;function aP(){if(CS)return py;CS=1;var t=gx(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var l=arguments,u=i?i.apply(this,l):l[0],d=o.cache;if(d.has(u))return d.get(u);var h=n.apply(this,l);return o.cache=d.set(u,h)||d,h};return o.cache=new(r.Cache||t),o}return r.Cache=t,py=r,py}var yy,NS;function R3(){if(NS)return yy;NS=1;var t=aP(),e=500;function r(n){var i=t(n,function(l){return o.size===e&&o.clear(),l}),o=i.cache;return i}return yy=r,yy}var gy,IS;function $3(){if(IS)return gy;IS=1;var t=R3(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(l,u,d,h){o.push(d?h.replace(r,"$1"):u||l)}),o});return gy=n,gy}var my,RS;function mx(){if(RS)return my;RS=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=r(e[n],n,e);return o}return my=t,my}var vy,$S;function M3(){if($S)return vy;$S=1;var t=Gl(),e=mx(),r=cr(),n=Do(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return e(u,l)+"";if(n(u))return o?o.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return vy=l,vy}var xy,MS;function oP(){if(MS)return xy;MS=1;var t=M3();function e(r){return r==null?"":t(r)}return xy=e,xy}var by,DS;function sP(){if(DS)return by;DS=1;var t=cr(),e=fx(),r=$3(),n=oP();function i(o,l){return t(o)?o:e(o,l)?[o]:r(n(o))}return by=i,by}var wy,LS;function Fd(){if(LS)return wy;LS=1;var t=Do();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return wy=e,wy}var _y,zS;function vx(){if(zS)return _y;zS=1;var t=sP(),e=Fd();function r(n,i){i=t(i,n);for(var o=0,l=i.length;n!=null&&o<l;)n=n[e(i[o++])];return o&&o==l?n:void 0}return _y=r,_y}var Sy,BS;function lP(){if(BS)return Sy;BS=1;var t=vx();function e(r,n,i){var o=r==null?void 0:t(r,n);return o===void 0?i:o}return Sy=e,Sy}var D3=lP();const Ir=Ke(D3);var jy,qS;function L3(){if(qS)return jy;qS=1;function t(e){return e==null}return jy=t,jy}var z3=L3();const $e=Ke(z3);var ky,US;function B3(){if(US)return ky;US=1;var t=qn(),e=cr(),r=Un(),n="[object String]";function i(o){return typeof o=="string"||!e(o)&&r(o)&&t(o)==n}return ky=i,ky}var q3=B3();const aa=Ke(q3);var U3=hx();const Ie=Ke(U3);var F3=Si();const Lo=Ke(F3);var Oy={exports:{}},qe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FS;function W3(){if(FS)return qe;FS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function w(b){if(typeof b=="object"&&b!==null){var k=b.$$typeof;switch(k){case t:switch(b=b.type,b){case r:case i:case n:case h:case y:return b;default:switch(b=b&&b.$$typeof,b){case u:case l:case d:case m:case p:case o:return b;default:return k}}case e:return k}}}return qe.ContextConsumer=l,qe.ContextProvider=o,qe.Element=t,qe.ForwardRef=d,qe.Fragment=r,qe.Lazy=m,qe.Memo=p,qe.Portal=e,qe.Profiler=i,qe.StrictMode=n,qe.Suspense=h,qe.SuspenseList=y,qe.isAsyncMode=function(){return!1},qe.isConcurrentMode=function(){return!1},qe.isContextConsumer=function(b){return w(b)===l},qe.isContextProvider=function(b){return w(b)===o},qe.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},qe.isForwardRef=function(b){return w(b)===d},qe.isFragment=function(b){return w(b)===r},qe.isLazy=function(b){return w(b)===m},qe.isMemo=function(b){return w(b)===p},qe.isPortal=function(b){return w(b)===e},qe.isProfiler=function(b){return w(b)===i},qe.isStrictMode=function(b){return w(b)===n},qe.isSuspense=function(b){return w(b)===h},qe.isSuspenseList=function(b){return w(b)===y},qe.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===h||b===y||b===v||typeof b=="object"&&b!==null&&(b.$$typeof===m||b.$$typeof===p||b.$$typeof===o||b.$$typeof===l||b.$$typeof===d||b.$$typeof===S||b.getModuleId!==void 0)},qe.typeOf=w,qe}var WS;function H3(){return WS||(WS=1,Oy.exports=W3()),Oy.exports}var V3=H3(),Ay,HS;function uP(){if(HS)return Ay;HS=1;var t=qn(),e=Un(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return Ay=n,Ay}var Ey,VS;function K3(){if(VS)return Ey;VS=1;var t=uP();function e(r){return t(r)&&r!=+r}return Ey=e,Ey}var G3=K3();const zo=Ke(G3);var Y3=uP();const X3=Ke(Y3);var Qr=function(e){return e===0?0:e>0?1:-1},Ji=function(e){return aa(e)&&e.indexOf("%")===e.length-1},de=function(e){return X3(e)&&!zo(e)},J3=function(e){return $e(e)},Ot=function(e){return de(e)||aa(e)},Q3=0,Bo=function(e){var r=++Q3;return"".concat(e||"").concat(r)},oa=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(e)&&!aa(e))return n;var o;if(Ji(e)){var l=e.indexOf("%");o=r*parseFloat(e.slice(0,l))/100}else o=+e;return zo(o)&&(o=n),i&&o>r&&(o=r),o},mi=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Z3=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},zt=function(e,r){return de(e)&&de(r)?function(n){return e+n*(r-e)}:function(){return r}};function Ic(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ir(n,e))===r})}var eL=function(e,r){return de(e)&&de(r)?e-r:aa(e)&&aa(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ao(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Bv(t){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}var tL=["viewBox","children"],rL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],KS=["points","pathLength"],Py={svg:tL,polygon:KS,polyline:KS},xx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Rc=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(M.isValidElement(e)&&(n=e.props),!Lo(n))return null;var i={};return Object.keys(n).forEach(function(o){xx.includes(o)&&(i[o]=r||function(l){return n[o](n,l)})}),i},nL=function(e,r,n){return function(i){return e(r,n,i),null}},$c=function(e,r,n){if(!Lo(e)||Bv(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var l=e[o];xx.includes(o)&&typeof l=="function"&&(i||(i={}),i[o]=nL(l,r,n))}),i},iL=["children"],aL=["children"];function GS(t,e){if(t==null)return{};var r=oL(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oL(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qv(t){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}var YS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Nn=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},XS=null,Ty=null,bx=function t(e){if(e===XS&&Array.isArray(Ty))return Ty;var r=[];return M.Children.forEach(e,function(n){$e(n)||(V3.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Ty=r,XS=e,r};function Rr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Nn(i)}):n=[Nn(e)],bx(t).forEach(function(i){var o=Ir(i,"type.displayName")||Ir(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function vr(t,e){var r=Rr(t,e);return r&&r[0]}var JS=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!de(n)||n<=0||!de(i)||i<=0)},sL=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],lL=function(e){return e&&e.type&&aa(e.type)&&sL.indexOf(e.type)>=0},cP=function(e){return e&&qv(e)==="object"&&"clipDot"in e},uL=function(e,r,n,i){var o,l=(o=Py?.[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ie(e)&&(i&&l.includes(r)||rL.includes(r))||n&&xx.includes(r)},Re=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.isValidElement(e)&&(i=e.props),!Lo(i))return null;var o={};return Object.keys(i).forEach(function(l){var u;uL((u=i)===null||u===void 0?void 0:u[l],l,r,n)&&(o[l]=i[l])}),o},Uv=function t(e,r){if(e===r)return!0;var n=M.Children.count(e);if(n!==M.Children.count(r))return!1;if(n===0)return!0;if(n===1)return QS(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],l=r[i];if(Array.isArray(o)||Array.isArray(l)){if(!t(o,l))return!1}else if(!QS(o,l))return!1}return!0},QS=function(e,r){if($e(e)&&$e(r))return!0;if(!$e(e)&&!$e(r)){var n=e.props||{},i=n.children,o=GS(n,iL),l=r.props||{},u=l.children,d=GS(l,aL);return i&&u?ao(o,d)&&Uv(i,u):!i&&!u?ao(o,d):!1}return!1},ZS=function(e,r){var n=[],i={};return bx(e).forEach(function(o,l){if(lL(o))n.push(o);else if(o){var u=Nn(o.type),d=r[u]||{},h=d.handler,y=d.once;if(h&&(!y||!i[u])){var p=h(o,u,l);n.push(p),i[u]=!0}}}),n},cL=function(e){var r=e&&e.type;return r&&YS[r]?YS[r]:null},dL=function(e,r){return bx(r).indexOf(e)},fL=["children","width","height","viewBox","className","style","title","desc"];function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fv.apply(this,arguments)}function hL(t,e){if(t==null)return{};var r=pL(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pL(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wv(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,l=t.style,u=t.title,d=t.desc,h=hL(t,fL),y=i||{width:r,height:n,x:0,y:0},p=De("recharts-surface",o);return q.createElement("svg",Fv({},Re(h,!0,"svg"),{className:p,width:r,height:n,style:l,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height)}),q.createElement("title",null,u),q.createElement("desc",null,d),e)}var yL=["children","className"];function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hv.apply(this,arguments)}function gL(t,e){if(t==null)return{};var r=mL(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mL(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Qe=q.forwardRef(function(t,e){var r=t.children,n=t.className,i=gL(t,yL),o=De("recharts-layer",n);return q.createElement("g",Hv({className:o},Re(i,!0),{ref:e}),r)}),In=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},Cy,ej;function vL(){if(ej)return Cy;ej=1;function t(e,r,n){var i=-1,o=e.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(o);++i<o;)l[i]=e[i+r];return l}return Cy=t,Cy}var Ny,tj;function xL(){if(tj)return Ny;tj=1;var t=vL();function e(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:t(r,n,i)}return Ny=e,Ny}var Iy,rj;function dP(){if(rj)return Iy;rj=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+t+i+o+"]");function d(h){return u.test(h)}return Iy=d,Iy}var Ry,nj;function bL(){if(nj)return Ry;nj=1;function t(e){return e.split("")}return Ry=t,Ry}var $y,ij;function wL(){if(ij)return $y;ij=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",l="["+t+"]",u="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",h="(?:"+u+"|"+d+")",y="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",S=h+"?",w="["+o+"]?",b="(?:"+v+"(?:"+[y,p,m].join("|")+")"+w+S+")*",k=w+S+b,A="(?:"+[y+u+"?",u,p,m,l].join("|")+")",O=RegExp(d+"(?="+d+")|"+A+k,"g");function T(j){return j.match(O)||[]}return $y=T,$y}var My,aj;function _L(){if(aj)return My;aj=1;var t=bL(),e=dP(),r=wL();function n(i){return e(i)?r(i):t(i)}return My=n,My}var Dy,oj;function SL(){if(oj)return Dy;oj=1;var t=xL(),e=dP(),r=_L(),n=oP();function i(o){return function(l){l=n(l);var u=e(l)?r(l):void 0,d=u?u[0]:l.charAt(0),h=u?t(u,1).join(""):l.slice(1);return d[o]()+h}}return Dy=i,Dy}var Ly,sj;function jL(){if(sj)return Ly;sj=1;var t=SL(),e=t("toUpperCase");return Ly=e,Ly}var kL=jL();const Wd=Ke(kL);function Je(t){return function(){return t}}const fP=Math.cos,Mc=Math.sin,en=Math.sqrt,Dc=Math.PI,Hd=2*Dc,Vv=Math.PI,Kv=2*Vv,Hi=1e-6,OL=Kv-Hi;function hP(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function AL(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return hP;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class EL{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?hP:AL(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,l){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,d=n-e,h=i-r,y=l-e,p=u-r,m=y*y+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>Hi)if(!(Math.abs(p*d-h*y)>Hi)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-l,S=i-u,w=d*d+h*h,b=v*v+S*S,k=Math.sqrt(w),A=Math.sqrt(m),O=o*Math.tan((Vv-Math.acos((w+m-b)/(2*k*A)))/2),T=O/A,j=O/k;Math.abs(T-1)>Hi&&this._append`L${e+T*y},${r+T*p}`,this._append`A${o},${o},0,0,${+(p*v>y*S)},${this._x1=e+j*d},${this._y1=r+j*h}`}}arc(e,r,n,i,o,l){if(e=+e,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),h=e+u,y=r+d,p=1^l,m=l?i-o:o-i;this._x1===null?this._append`M${h},${y}`:(Math.abs(this._x1-h)>Hi||Math.abs(this._y1-y)>Hi)&&this._append`L${h},${y}`,n&&(m<0&&(m=m%Kv+Kv),m>OL?this._append`A${n},${n},0,1,${p},${e-u},${r-d}A${n},${n},0,1,${p},${this._x1=h},${this._y1=y}`:m>Hi&&this._append`A${n},${n},0,${+(m>=Vv)},${p},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function wx(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new EL(e)}function _x(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function pP(t){this._context=t}pP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Vd(t){return new pP(t)}function yP(t){return t[0]}function gP(t){return t[1]}function mP(t,e){var r=Je(!0),n=null,i=Vd,o=null,l=wx(u);t=typeof t=="function"?t:t===void 0?yP:Je(t),e=typeof e=="function"?e:e===void 0?gP:Je(e);function u(d){var h,y=(d=_x(d)).length,p,m=!1,v;for(n==null&&(o=i(v=l())),h=0;h<=y;++h)!(h<y&&r(p=d[h],h,d))===m&&((m=!m)?o.lineStart():o.lineEnd()),m&&o.point(+t(p,h,d),+e(p,h,d));if(v)return o=null,v+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Je(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Je(+d),u):e},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Je(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(o=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=o=null:o=i(n=d),u):n},u}function mc(t,e,r){var n=null,i=Je(!0),o=null,l=Vd,u=null,d=wx(h);t=typeof t=="function"?t:t===void 0?yP:Je(+t),e=typeof e=="function"?e:Je(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?gP:Je(+r);function h(p){var m,v,S,w=(p=_x(p)).length,b,k=!1,A,O=new Array(w),T=new Array(w);for(o==null&&(u=l(A=d())),m=0;m<=w;++m){if(!(m<w&&i(b=p[m],m,p))===k)if(k=!k)v=m,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=m-1;S>=v;--S)u.point(O[S],T[S]);u.lineEnd(),u.areaEnd()}k&&(O[m]=+t(b,m,p),T[m]=+e(b,m,p),u.point(n?+n(b,m,p):O[m],r?+r(b,m,p):T[m]))}if(A)return u=null,A+""||null}function y(){return mP().defined(i).curve(l).context(o)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:Je(+p),n=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Je(+p),h):t},h.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Je(+p),h):n},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:Je(+p),r=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Je(+p),h):e},h.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Je(+p),h):r},h.lineX0=h.lineY0=function(){return y().x(t).y(e)},h.lineY1=function(){return y().x(t).y(r)},h.lineX1=function(){return y().x(n).y(e)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Je(!!p),h):i},h.curve=function(p){return arguments.length?(l=p,o!=null&&(u=l(o)),h):l},h.context=function(p){return arguments.length?(p==null?o=u=null:u=l(o=p),h):o},h}class vP{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function PL(t){return new vP(t,!0)}function TL(t){return new vP(t,!1)}const Sx={draw(t,e){const r=en(e/Dc);t.moveTo(r,0),t.arc(0,0,r,0,Hd)}},CL={draw(t,e){const r=en(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},xP=en(1/3),NL=xP*2,IL={draw(t,e){const r=en(e/NL),n=r*xP;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},RL={draw(t,e){const r=en(e),n=-r/2;t.rect(n,n,r,r)}},$L=.8908130915292852,bP=Mc(Dc/10)/Mc(7*Dc/10),ML=Mc(Hd/10)*bP,DL=-fP(Hd/10)*bP,LL={draw(t,e){const r=en(e*$L),n=ML*r,i=DL*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const l=Hd*o/5,u=fP(l),d=Mc(l);t.lineTo(d*r,-u*r),t.lineTo(u*n-d*i,d*n+u*i)}t.closePath()}},zy=en(3),zL={draw(t,e){const r=-en(e/(zy*3));t.moveTo(0,r*2),t.lineTo(-zy*r,-r),t.lineTo(zy*r,-r),t.closePath()}},Pr=-.5,Tr=en(3)/2,Gv=1/en(12),BL=(Gv/2+1)*3,qL={draw(t,e){const r=en(e/BL),n=r/2,i=r*Gv,o=n,l=r*Gv+r,u=-o,d=l;t.moveTo(n,i),t.lineTo(o,l),t.lineTo(u,d),t.lineTo(Pr*n-Tr*i,Tr*n+Pr*i),t.lineTo(Pr*o-Tr*l,Tr*o+Pr*l),t.lineTo(Pr*u-Tr*d,Tr*u+Pr*d),t.lineTo(Pr*n+Tr*i,Pr*i-Tr*n),t.lineTo(Pr*o+Tr*l,Pr*l-Tr*o),t.lineTo(Pr*u+Tr*d,Pr*d-Tr*u),t.closePath()}};function UL(t,e){let r=null,n=wx(i);t=typeof t=="function"?t:Je(t||Sx),e=typeof e=="function"?e:Je(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Je(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Je(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function Lc(){}function zc(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function wP(t){this._context=t}wP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zc(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function FL(t){return new wP(t)}function _P(t){this._context=t}_P.prototype={areaStart:Lc,areaEnd:Lc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zc(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WL(t){return new _P(t)}function SP(t){this._context=t}SP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:zc(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function HL(t){return new SP(t)}function jP(t){this._context=t}jP.prototype={areaStart:Lc,areaEnd:Lc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function VL(t){return new jP(t)}function lj(t){return t<0?-1:1}function uj(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),l=(r-t._y1)/(i||n<0&&-0),u=(o*i+l*n)/(n+i);return(lj(o)+lj(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function cj(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function By(t,e,r){var n=t._x0,i=t._y0,o=t._x1,l=t._y1,u=(o-n)/3;t._context.bezierCurveTo(n+u,i+u*e,o-u,l-u*r,o,l)}function Bc(t){this._context=t}Bc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:By(this,this._t0,cj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,By(this,cj(this,r=uj(this,t,e)),r);break;default:By(this,this._t0,r=uj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function kP(t){this._context=new OP(t)}(kP.prototype=Object.create(Bc.prototype)).point=function(t,e){Bc.prototype.point.call(this,e,t)};function OP(t){this._context=t}OP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function KL(t){return new Bc(t)}function GL(t){return new kP(t)}function AP(t){this._context=t}AP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=dj(t),i=dj(e),o=0,l=1;l<r;++o,++l)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[l],e[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function dj(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),l=new Array(r);for(i[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,l[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,l[e]-=n*l[e-1];for(i[r-1]=l[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(l[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function YL(t){return new AP(t)}function Kd(t,e){this._context=t,this._t=e}Kd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function XL(t){return new Kd(t,.5)}function JL(t){return new Kd(t,0)}function QL(t){return new Kd(t,1)}function fo(t,e){if((l=t.length)>1)for(var r=1,n,i,o=t[e[0]],l,u=o.length;r<l;++r)for(i=o,o=t[e[r]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Yv(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function ZL(t,e){return t[e]}function e6(t){const e=[];return e.key=t,e}function t6(){var t=Je([]),e=Yv,r=fo,n=ZL;function i(o){var l=Array.from(t.apply(this,arguments),e6),u,d=l.length,h=-1,y;for(const p of o)for(u=0,++h;u<d;++u)(l[u][h]=[0,+n(p,l[u].key,h,o)]).data=p;for(u=0,y=_x(e(l));u<d;++u)l[y[u]].index=u;return r(l,y),l}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Je(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:Je(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?Yv:typeof o=="function"?o:Je(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??fo,i):r},i}function r6(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,l;i<o;++i){for(l=r=0;r<n;++r)l+=t[r][i][1]||0;if(l)for(r=0;r<n;++r)t[r][i][1]/=l}fo(t,e)}}function n6(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var l=0,u=0;l<i;++l)u+=t[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}fo(t,e)}}function i6(t,e){if(!(!((l=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,l;n<o;++n){for(var u=0,d=0,h=0;u<l;++u){for(var y=t[e[u]],p=y[n][1]||0,m=y[n-1][1]||0,v=(p-m)/2,S=0;S<u;++S){var w=t[e[S]],b=w[n][1]||0,k=w[n-1][1]||0;v+=b-k}d+=p,h+=v*p}i[n-1][1]+=i[n-1][0]=r,d&&(r-=h/d)}i[n-1][1]+=i[n-1][0]=r,fo(t,e)}}function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}var a6=["type","size","sizeType"];function Xv(){return Xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xv.apply(this,arguments)}function fj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fj(Object(r),!0).forEach(function(n){o6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o6(t,e,r){return e=s6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s6(t){var e=l6(t,"string");return dl(e)=="symbol"?e:e+""}function l6(t,e){if(dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u6(t,e){if(t==null)return{};var r=c6(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function c6(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var EP={symbolCircle:Sx,symbolCross:CL,symbolDiamond:IL,symbolSquare:RL,symbolStar:LL,symbolTriangle:zL,symbolWye:qL},d6=Math.PI/180,f6=function(e){var r="symbol".concat(Wd(e));return EP[r]||Sx},h6=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*d6;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},p6=function(e,r){EP["symbol".concat(Wd(e))]=r},jx=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,l=e.sizeType,u=l===void 0?"area":l,d=u6(e,a6),h=hj(hj({},d),{},{type:n,size:o,sizeType:u}),y=function(){var b=f6(n),k=UL().type(b).size(h6(o,u,n));return k()},p=h.className,m=h.cx,v=h.cy,S=Re(h,!0);return m===+m&&v===+v&&o===+o?q.createElement("path",Xv({},S,{className:De("recharts-symbols",p),transform:"translate(".concat(m,", ").concat(v,")"),d:y()})):null};jx.registerSymbol=p6;function ho(t){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ho(t)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jv.apply(this,arguments)}function pj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(r),!0).forEach(function(n){fl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TP(n.key),n)}}function v6(t,e,r){return e&&m6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x6(t,e,r){return e=qc(e),b6(t,PP()?Reflect.construct(e,r||[],qc(t).constructor):e.apply(t,r))}function b6(t,e){if(e&&(ho(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w6(t)}function w6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PP=function(){return!!t})()}function qc(t){return qc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qc(t)}function _6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qv(t,e)}function Qv(t,e){return Qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qv(t,e)}function fl(t,e,r){return e=TP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TP(t){var e=S6(t,"string");return ho(e)=="symbol"?e:e+""}function S6(t,e){if(ho(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cr=32,kx=(function(t){function e(){return g6(this,e),x6(this,e,arguments)}return _6(e,t),v6(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=Cr/2,l=Cr/6,u=Cr/3,d=n.inactive?i:n.color;if(n.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Cr,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(Cr,"M").concat(2*u,",").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return q.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Cr/8,"h").concat(Cr,"v").concat(Cr*3/4,"h").concat(-Cr,"z"),className:"recharts-legend-icon"});if(q.isValidElement(n.legendIcon)){var h=y6({},n);return delete h.legendIcon,q.cloneElement(n.legendIcon,h)}return q.createElement(jx,{fill:d,cx:o,cy:o,size:Cr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,l=i.iconSize,u=i.layout,d=i.formatter,h=i.inactiveColor,y={x:0,y:0,width:Cr,height:Cr},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(v,S){var w=v.formatter||d,b=De(fl(fl({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",v.inactive));if(v.type==="none")return null;var k=Ie(v.value)?null:v.value;In(!Ie(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=v.inactive?h:v.color;return q.createElement("li",Jv({className:b,style:p,key:"legend-item-".concat(S)},$c(n.props,v,S)),q.createElement(Wv,{width:l,height:l,viewBox:y,style:m},n.renderIcon(v)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},w?w(k,v,S):k))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,l=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?l:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(M.PureComponent);fl(kx,"displayName","Legend");fl(kx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var qy,yj;function j6(){if(yj)return qy;yj=1;var t=qd();function e(){this.__data__=new t,this.size=0}return qy=e,qy}var Uy,gj;function k6(){if(gj)return Uy;gj=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Uy=t,Uy}var Fy,mj;function O6(){if(mj)return Fy;mj=1;function t(e){return this.__data__.get(e)}return Fy=t,Fy}var Wy,vj;function A6(){if(vj)return Wy;vj=1;function t(e){return this.__data__.has(e)}return Wy=t,Wy}var Hy,xj;function E6(){if(xj)return Hy;xj=1;var t=qd(),e=yx(),r=gx(),n=200;function i(o,l){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<n-1)return d.push([o,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(o,l),this.size=u.size,this}return Hy=i,Hy}var Vy,bj;function CP(){if(bj)return Vy;bj=1;var t=qd(),e=j6(),r=k6(),n=O6(),i=A6(),o=E6();function l(u){var d=this.__data__=new t(u);this.size=d.size}return l.prototype.clear=e,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=i,l.prototype.set=o,Vy=l,Vy}var Ky,wj;function P6(){if(wj)return Ky;wj=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Ky=e,Ky}var Gy,_j;function T6(){if(_j)return Gy;_j=1;function t(e){return this.__data__.has(e)}return Gy=t,Gy}var Yy,Sj;function NP(){if(Sj)return Yy;Sj=1;var t=gx(),e=P6(),r=T6();function n(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new t;++o<l;)this.add(i[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Yy=n,Yy}var Xy,jj;function IP(){if(jj)return Xy;jj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return Xy=t,Xy}var Jy,kj;function RP(){if(kj)return Jy;kj=1;function t(e,r){return e.has(r)}return Jy=t,Jy}var Qy,Oj;function $P(){if(Oj)return Qy;Oj=1;var t=NP(),e=IP(),r=RP(),n=1,i=2;function o(l,u,d,h,y,p){var m=d&n,v=l.length,S=u.length;if(v!=S&&!(m&&S>v))return!1;var w=p.get(l),b=p.get(u);if(w&&b)return w==u&&b==l;var k=-1,A=!0,O=d&i?new t:void 0;for(p.set(l,u),p.set(u,l);++k<v;){var T=l[k],j=u[k];if(h)var E=m?h(j,T,k,u,l,p):h(T,j,k,l,u,p);if(E!==void 0){if(E)continue;A=!1;break}if(O){if(!e(u,function(P,I){if(!r(O,I)&&(T===P||y(T,P,d,h,p)))return O.push(I)})){A=!1;break}}else if(!(T===j||y(T,j,d,h,p))){A=!1;break}}return p.delete(l),p.delete(u),A}return Qy=o,Qy}var Zy,Aj;function C6(){if(Aj)return Zy;Aj=1;var t=mn(),e=t.Uint8Array;return Zy=e,Zy}var eg,Ej;function N6(){if(Ej)return eg;Ej=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,o){n[++r]=[o,i]}),n}return eg=t,eg}var tg,Pj;function Ox(){if(Pj)return tg;Pj=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return tg=t,tg}var rg,Tj;function I6(){if(Tj)return rg;Tj=1;var t=Gl(),e=C6(),r=px(),n=$P(),i=N6(),o=Ox(),l=1,u=2,d="[object Boolean]",h="[object Date]",y="[object Error]",p="[object Map]",m="[object Number]",v="[object RegExp]",S="[object Set]",w="[object String]",b="[object Symbol]",k="[object ArrayBuffer]",A="[object DataView]",O=t?t.prototype:void 0,T=O?O.valueOf:void 0;function j(E,P,I,$,V,U,R){switch(I){case A:if(E.byteLength!=P.byteLength||E.byteOffset!=P.byteOffset)return!1;E=E.buffer,P=P.buffer;case k:return!(E.byteLength!=P.byteLength||!U(new e(E),new e(P)));case d:case h:case m:return r(+E,+P);case y:return E.name==P.name&&E.message==P.message;case v:case w:return E==P+"";case p:var z=i;case S:var W=$&l;if(z||(z=o),E.size!=P.size&&!W)return!1;var H=R.get(E);if(H)return H==P;$|=u,R.set(E,P);var X=n(z(E),z(P),$,V,U,R);return R.delete(E),X;case b:if(T)return T.call(E)==T.call(P)}return!1}return rg=j,rg}var ng,Cj;function MP(){if(Cj)return ng;Cj=1;function t(e,r){for(var n=-1,i=r.length,o=e.length;++n<i;)e[o+n]=r[n];return e}return ng=t,ng}var ig,Nj;function R6(){if(Nj)return ig;Nj=1;var t=MP(),e=cr();function r(n,i,o){var l=i(n);return e(n)?l:t(l,o(n))}return ig=r,ig}var ag,Ij;function $6(){if(Ij)return ag;Ij=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=0,l=[];++n<i;){var u=e[n];r(u,n,e)&&(l[o++]=u)}return l}return ag=t,ag}var og,Rj;function M6(){if(Rj)return og;Rj=1;function t(){return[]}return og=t,og}var sg,$j;function D6(){if($j)return sg;$j=1;var t=$6(),e=M6(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(u){return n.call(l,u)}))}:e;return sg=o,sg}var lg,Mj;function L6(){if(Mj)return lg;Mj=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return lg=t,lg}var ug,Dj;function z6(){if(Dj)return ug;Dj=1;var t=qn(),e=Un(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return ug=n,ug}var cg,Lj;function Ax(){if(Lj)return cg;Lj=1;var t=z6(),e=Un(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(l){return e(l)&&n.call(l,"callee")&&!i.call(l,"callee")};return cg=o,cg}var Fs={exports:{}},dg,zj;function B6(){if(zj)return dg;zj=1;function t(){return!1}return dg=t,dg}Fs.exports;var Bj;function DP(){return Bj||(Bj=1,(function(t,e){var r=mn(),n=B6(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,l=o&&o.exports===i,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,h=d||n;t.exports=h})(Fs,Fs.exports)),Fs.exports}var fg,qj;function Ex(){if(qj)return fg;qj=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return fg=r,fg}var hg,Uj;function Px(){if(Uj)return hg;Uj=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return hg=e,hg}var pg,Fj;function q6(){if(Fj)return pg;Fj=1;var t=qn(),e=Px(),r=Un(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",h="[object Map]",y="[object Number]",p="[object Object]",m="[object RegExp]",v="[object Set]",S="[object String]",w="[object WeakMap]",b="[object ArrayBuffer]",k="[object DataView]",A="[object Float32Array]",O="[object Float64Array]",T="[object Int8Array]",j="[object Int16Array]",E="[object Int32Array]",P="[object Uint8Array]",I="[object Uint8ClampedArray]",$="[object Uint16Array]",V="[object Uint32Array]",U={};U[A]=U[O]=U[T]=U[j]=U[E]=U[P]=U[I]=U[$]=U[V]=!0,U[n]=U[i]=U[b]=U[o]=U[k]=U[l]=U[u]=U[d]=U[h]=U[y]=U[p]=U[m]=U[v]=U[S]=U[w]=!1;function R(z){return r(z)&&e(z.length)&&!!U[t(z)]}return pg=R,pg}var yg,Wj;function LP(){if(Wj)return yg;Wj=1;function t(e){return function(r){return e(r)}}return yg=t,yg}var Ws={exports:{}};Ws.exports;var Hj;function U6(){return Hj||(Hj=1,(function(t,e){var r=nP(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,l=o&&r.process,u=(function(){try{var d=i&&i.require&&i.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();t.exports=u})(Ws,Ws.exports)),Ws.exports}var gg,Vj;function zP(){if(Vj)return gg;Vj=1;var t=q6(),e=LP(),r=U6(),n=r&&r.isTypedArray,i=n?e(n):t;return gg=i,gg}var mg,Kj;function F6(){if(Kj)return mg;Kj=1;var t=L6(),e=Ax(),r=cr(),n=DP(),i=Ex(),o=zP(),l=Object.prototype,u=l.hasOwnProperty;function d(h,y){var p=r(h),m=!p&&e(h),v=!p&&!m&&n(h),S=!p&&!m&&!v&&o(h),w=p||m||v||S,b=w?t(h.length,String):[],k=b.length;for(var A in h)(y||u.call(h,A))&&!(w&&(A=="length"||v&&(A=="offset"||A=="parent")||S&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,k)))&&b.push(A);return b}return mg=d,mg}var vg,Gj;function W6(){if(Gj)return vg;Gj=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return vg=e,vg}var xg,Yj;function BP(){if(Yj)return xg;Yj=1;function t(e,r){return function(n){return e(r(n))}}return xg=t,xg}var bg,Xj;function H6(){if(Xj)return bg;Xj=1;var t=BP(),e=t(Object.keys,Object);return bg=e,bg}var wg,Jj;function V6(){if(Jj)return wg;Jj=1;var t=W6(),e=H6(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!t(o))return e(o);var l=[];for(var u in Object(o))n.call(o,u)&&u!="constructor"&&l.push(u);return l}return wg=i,wg}var _g,Qj;function Yl(){if(Qj)return _g;Qj=1;var t=hx(),e=Px();function r(n){return n!=null&&e(n.length)&&!t(n)}return _g=r,_g}var Sg,Zj;function Gd(){if(Zj)return Sg;Zj=1;var t=F6(),e=V6(),r=Yl();function n(i){return r(i)?t(i):e(i)}return Sg=n,Sg}var jg,ek;function K6(){if(ek)return jg;ek=1;var t=R6(),e=D6(),r=Gd();function n(i){return t(i,r,e)}return jg=n,jg}var kg,tk;function G6(){if(tk)return kg;tk=1;var t=K6(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,l,u,d,h,y){var p=u&e,m=t(o),v=m.length,S=t(l),w=S.length;if(v!=w&&!p)return!1;for(var b=v;b--;){var k=m[b];if(!(p?k in l:n.call(l,k)))return!1}var A=y.get(o),O=y.get(l);if(A&&O)return A==l&&O==o;var T=!0;y.set(o,l),y.set(l,o);for(var j=p;++b<v;){k=m[b];var E=o[k],P=l[k];if(d)var I=p?d(P,E,k,l,o,y):d(E,P,k,o,l,y);if(!(I===void 0?E===P||h(E,P,u,d,y):I)){T=!1;break}j||(j=k=="constructor")}if(T&&!j){var $=o.constructor,V=l.constructor;$!=V&&"constructor"in o&&"constructor"in l&&!(typeof $=="function"&&$ instanceof $&&typeof V=="function"&&V instanceof V)&&(T=!1)}return y.delete(o),y.delete(l),T}return kg=i,kg}var Og,rk;function Y6(){if(rk)return Og;rk=1;var t=ca(),e=mn(),r=t(e,"DataView");return Og=r,Og}var Ag,nk;function X6(){if(nk)return Ag;nk=1;var t=ca(),e=mn(),r=t(e,"Promise");return Ag=r,Ag}var Eg,ik;function qP(){if(ik)return Eg;ik=1;var t=ca(),e=mn(),r=t(e,"Set");return Eg=r,Eg}var Pg,ak;function J6(){if(ak)return Pg;ak=1;var t=ca(),e=mn(),r=t(e,"WeakMap");return Pg=r,Pg}var Tg,ok;function Q6(){if(ok)return Tg;ok=1;var t=Y6(),e=yx(),r=X6(),n=qP(),i=J6(),o=qn(),l=iP(),u="[object Map]",d="[object Object]",h="[object Promise]",y="[object Set]",p="[object WeakMap]",m="[object DataView]",v=l(t),S=l(e),w=l(r),b=l(n),k=l(i),A=o;return(t&&A(new t(new ArrayBuffer(1)))!=m||e&&A(new e)!=u||r&&A(r.resolve())!=h||n&&A(new n)!=y||i&&A(new i)!=p)&&(A=function(O){var T=o(O),j=T==d?O.constructor:void 0,E=j?l(j):"";if(E)switch(E){case v:return m;case S:return u;case w:return h;case b:return y;case k:return p}return T}),Tg=A,Tg}var Cg,sk;function Z6(){if(sk)return Cg;sk=1;var t=CP(),e=$P(),r=I6(),n=G6(),i=Q6(),o=cr(),l=DP(),u=zP(),d=1,h="[object Arguments]",y="[object Array]",p="[object Object]",m=Object.prototype,v=m.hasOwnProperty;function S(w,b,k,A,O,T){var j=o(w),E=o(b),P=j?y:i(w),I=E?y:i(b);P=P==h?p:P,I=I==h?p:I;var $=P==p,V=I==p,U=P==I;if(U&&l(w)){if(!l(b))return!1;j=!0,$=!1}if(U&&!$)return T||(T=new t),j||u(w)?e(w,b,k,A,O,T):r(w,b,P,k,A,O,T);if(!(k&d)){var R=$&&v.call(w,"__wrapped__"),z=V&&v.call(b,"__wrapped__");if(R||z){var W=R?w.value():w,H=z?b.value():b;return T||(T=new t),O(W,H,k,A,T)}}return U?(T||(T=new t),n(w,b,k,A,O,T)):!1}return Cg=S,Cg}var Ng,lk;function Tx(){if(lk)return Ng;lk=1;var t=Z6(),e=Un();function r(n,i,o,l,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,o,l,r,u)}return Ng=r,Ng}var Ig,uk;function e5(){if(uk)return Ig;uk=1;var t=CP(),e=Tx(),r=1,n=2;function i(o,l,u,d){var h=u.length,y=h,p=!d;if(o==null)return!y;for(o=Object(o);h--;){var m=u[h];if(p&&m[2]?m[1]!==o[m[0]]:!(m[0]in o))return!1}for(;++h<y;){m=u[h];var v=m[0],S=o[v],w=m[1];if(p&&m[2]){if(S===void 0&&!(v in o))return!1}else{var b=new t;if(d)var k=d(S,w,v,o,l,b);if(!(k===void 0?e(w,S,r|n,d,b):k))return!1}}return!0}return Ig=i,Ig}var Rg,ck;function UP(){if(ck)return Rg;ck=1;var t=Si();function e(r){return r===r&&!t(r)}return Rg=e,Rg}var $g,dk;function t5(){if(dk)return $g;dk=1;var t=UP(),e=Gd();function r(n){for(var i=e(n),o=i.length;o--;){var l=i[o],u=n[l];i[o]=[l,u,t(u)]}return i}return $g=r,$g}var Mg,fk;function FP(){if(fk)return Mg;fk=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Mg=t,Mg}var Dg,hk;function r5(){if(hk)return Dg;hk=1;var t=e5(),e=t5(),r=FP();function n(i){var o=e(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(l){return l===i||t(l,i,o)}}return Dg=n,Dg}var Lg,pk;function n5(){if(pk)return Lg;pk=1;function t(e,r){return e!=null&&r in Object(e)}return Lg=t,Lg}var zg,yk;function i5(){if(yk)return zg;yk=1;var t=sP(),e=Ax(),r=cr(),n=Ex(),i=Px(),o=Fd();function l(u,d,h){d=t(d,u);for(var y=-1,p=d.length,m=!1;++y<p;){var v=o(d[y]);if(!(m=u!=null&&h(u,v)))break;u=u[v]}return m||++y!=p?m:(p=u==null?0:u.length,!!p&&i(p)&&n(v,p)&&(r(u)||e(u)))}return zg=l,zg}var Bg,gk;function a5(){if(gk)return Bg;gk=1;var t=n5(),e=i5();function r(n,i){return n!=null&&e(n,i,t)}return Bg=r,Bg}var qg,mk;function o5(){if(mk)return qg;mk=1;var t=Tx(),e=lP(),r=a5(),n=fx(),i=UP(),o=FP(),l=Fd(),u=1,d=2;function h(y,p){return n(y)&&i(p)?o(l(y),p):function(m){var v=e(m,y);return v===void 0&&v===p?r(m,y):t(p,v,u|d)}}return qg=h,qg}var Ug,vk;function qo(){if(vk)return Ug;vk=1;function t(e){return e}return Ug=t,Ug}var Fg,xk;function s5(){if(xk)return Fg;xk=1;function t(e){return function(r){return r?.[e]}}return Fg=t,Fg}var Wg,bk;function l5(){if(bk)return Wg;bk=1;var t=vx();function e(r){return function(n){return t(n,r)}}return Wg=e,Wg}var Hg,wk;function u5(){if(wk)return Hg;wk=1;var t=s5(),e=l5(),r=fx(),n=Fd();function i(o){return r(o)?t(n(o)):e(o)}return Hg=i,Hg}var Vg,_k;function ji(){if(_k)return Vg;_k=1;var t=r5(),e=o5(),r=qo(),n=cr(),i=u5();function o(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?e(l[0],l[1]):t(l):i(l)}return Vg=o,Vg}var Kg,Sk;function WP(){if(Sk)return Kg;Sk=1;function t(e,r,n,i){for(var o=e.length,l=n+(i?1:-1);i?l--:++l<o;)if(r(e[l],l,e))return l;return-1}return Kg=t,Kg}var Gg,jk;function c5(){if(jk)return Gg;jk=1;function t(e){return e!==e}return Gg=t,Gg}var Yg,kk;function d5(){if(kk)return Yg;kk=1;function t(e,r,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===r)return i;return-1}return Yg=t,Yg}var Xg,Ok;function f5(){if(Ok)return Xg;Ok=1;var t=WP(),e=c5(),r=d5();function n(i,o,l){return o===o?r(i,o,l):t(i,e,l)}return Xg=n,Xg}var Jg,Ak;function h5(){if(Ak)return Jg;Ak=1;var t=f5();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return Jg=e,Jg}var Qg,Ek;function p5(){if(Ek)return Qg;Ek=1;function t(e,r,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(r,e[i]))return!0;return!1}return Qg=t,Qg}var Zg,Pk;function y5(){if(Pk)return Zg;Pk=1;function t(){}return Zg=t,Zg}var em,Tk;function g5(){if(Tk)return em;Tk=1;var t=qP(),e=y5(),r=Ox(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(o){return new t(o)}:e;return em=i,em}var tm,Ck;function m5(){if(Ck)return tm;Ck=1;var t=NP(),e=h5(),r=p5(),n=RP(),i=g5(),o=Ox(),l=200;function u(d,h,y){var p=-1,m=e,v=d.length,S=!0,w=[],b=w;if(y)S=!1,m=r;else if(v>=l){var k=h?null:i(d);if(k)return o(k);S=!1,m=n,b=new t}else b=h?[]:w;e:for(;++p<v;){var A=d[p],O=h?h(A):A;if(A=y||A!==0?A:0,S&&O===O){for(var T=b.length;T--;)if(b[T]===O)continue e;h&&b.push(O),w.push(A)}else m(b,O,y)||(b!==w&&b.push(O),w.push(A))}return w}return tm=u,tm}var rm,Nk;function v5(){if(Nk)return rm;Nk=1;var t=ji(),e=m5();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return rm=r,rm}var x5=v5();const Ik=Ke(x5);function HP(t,e,r){return e===!0?Ik(t,r):Ie(e)?Ik(t,e):t}function po(t){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(t)}var b5=["ref"];function Rk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function On(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(r),!0).forEach(function(n){Yd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $k(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KP(n.key),n)}}function _5(t,e,r){return e&&$k(t.prototype,e),r&&$k(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function S5(t,e,r){return e=Uc(e),j5(t,VP()?Reflect.construct(e,r||[],Uc(t).constructor):e.apply(t,r))}function j5(t,e){if(e&&(po(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k5(t)}function k5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VP=function(){return!!t})()}function Uc(t){return Uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uc(t)}function O5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zv(t,e)}function Zv(t,e){return Zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zv(t,e)}function Yd(t,e,r){return e=KP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KP(t){var e=A5(t,"string");return po(e)=="symbol"?e:e+""}function A5(t,e){if(po(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function E5(t,e){if(t==null)return{};var r=P5(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function P5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function T5(t){return t.value}function C5(t,e){if(q.isValidElement(t))return q.cloneElement(t,e);if(typeof t=="function")return q.createElement(t,e);e.ref;var r=E5(e,b5);return q.createElement(kx,r)}var Mk=1,ra=(function(t){function e(){var r;w5(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=S5(this,e,[].concat(i)),Yd(r,"lastBoundingBox",{width:-1,height:-1}),r}return O5(e,t),_5(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Mk||Math.abs(i.height-this.lastBoundingBox.height)>Mk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?On({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,l=i.align,u=i.verticalAlign,d=i.margin,h=i.chartWidth,y=i.chartHeight,p,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&o==="vertical"){var v=this.getBBoxSnapshot();p={left:((h||0)-v.width)/2}}else p=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var S=this.getBBoxSnapshot();m={top:((y||0)-S.height)/2}}else m=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return On(On({},p),m)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,l=i.width,u=i.height,d=i.wrapperStyle,h=i.payloadUniqBy,y=i.payload,p=On(On({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return q.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(v){n.wrapperNode=v}},C5(o,On(On({},this.props),{},{payload:HP(y,h,T5)})))}}],[{key:"getWithHeight",value:function(n,i){var o=On(On({},this.defaultProps),n.props),l=o.layout;return l==="vertical"&&de(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||i}:null}}])})(M.PureComponent);Yd(ra,"displayName","Legend");Yd(ra,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var nm,Dk;function N5(){if(Dk)return nm;Dk=1;var t=Gl(),e=Ax(),r=cr(),n=t?t.isConcatSpreadable:void 0;function i(o){return r(o)||e(o)||!!(n&&o&&o[n])}return nm=i,nm}var im,Lk;function GP(){if(Lk)return im;Lk=1;var t=MP(),e=N5();function r(n,i,o,l,u){var d=-1,h=n.length;for(o||(o=e),u||(u=[]);++d<h;){var y=n[d];i>0&&o(y)?i>1?r(y,i-1,o,l,u):t(u,y):l||(u[u.length]=y)}return u}return im=r,im}var am,zk;function I5(){if(zk)return am;zk=1;function t(e){return function(r,n,i){for(var o=-1,l=Object(r),u=i(r),d=u.length;d--;){var h=u[e?d:++o];if(n(l[h],h,l)===!1)break}return r}}return am=t,am}var om,Bk;function R5(){if(Bk)return om;Bk=1;var t=I5(),e=t();return om=e,om}var sm,qk;function YP(){if(qk)return sm;qk=1;var t=R5(),e=Gd();function r(n,i){return n&&t(n,i,e)}return sm=r,sm}var lm,Uk;function $5(){if(Uk)return lm;Uk=1;var t=Yl();function e(r,n){return function(i,o){if(i==null)return i;if(!t(i))return r(i,o);for(var l=i.length,u=n?l:-1,d=Object(i);(n?u--:++u<l)&&o(d[u],u,d)!==!1;);return i}}return lm=e,lm}var um,Fk;function Cx(){if(Fk)return um;Fk=1;var t=YP(),e=$5(),r=e(t);return um=r,um}var cm,Wk;function XP(){if(Wk)return cm;Wk=1;var t=Cx(),e=Yl();function r(n,i){var o=-1,l=e(n)?Array(n.length):[];return t(n,function(u,d,h){l[++o]=i(u,d,h)}),l}return cm=r,cm}var dm,Hk;function M5(){if(Hk)return dm;Hk=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return dm=t,dm}var fm,Vk;function D5(){if(Vk)return fm;Vk=1;var t=Do();function e(r,n){if(r!==n){var i=r!==void 0,o=r===null,l=r===r,u=t(r),d=n!==void 0,h=n===null,y=n===n,p=t(n);if(!h&&!p&&!u&&r>n||u&&d&&y&&!h&&!p||o&&d&&y||!i&&y||!l)return 1;if(!o&&!u&&!p&&r<n||p&&i&&l&&!o&&!u||h&&i&&l||!d&&l||!y)return-1}return 0}return fm=e,fm}var hm,Kk;function L5(){if(Kk)return hm;Kk=1;var t=D5();function e(r,n,i){for(var o=-1,l=r.criteria,u=n.criteria,d=l.length,h=i.length;++o<d;){var y=t(l[o],u[o]);if(y){if(o>=h)return y;var p=i[o];return y*(p=="desc"?-1:1)}}return r.index-n.index}return hm=e,hm}var pm,Gk;function z5(){if(Gk)return pm;Gk=1;var t=mx(),e=vx(),r=ji(),n=XP(),i=M5(),o=LP(),l=L5(),u=qo(),d=cr();function h(y,p,m){p.length?p=t(p,function(w){return d(w)?function(b){return e(b,w.length===1?w[0]:w)}:w}):p=[u];var v=-1;p=t(p,o(r));var S=n(y,function(w,b,k){var A=t(p,function(O){return O(w)});return{criteria:A,index:++v,value:w}});return i(S,function(w,b){return l(w,b,m)})}return pm=h,pm}var ym,Yk;function B5(){if(Yk)return ym;Yk=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return ym=t,ym}var gm,Xk;function q5(){if(Xk)return gm;Xk=1;var t=B5(),e=Math.max;function r(n,i,o){return i=e(i===void 0?n.length-1:i,0),function(){for(var l=arguments,u=-1,d=e(l.length-i,0),h=Array(d);++u<d;)h[u]=l[i+u];u=-1;for(var y=Array(i+1);++u<i;)y[u]=l[u];return y[i]=o(h),t(n,this,y)}}return gm=r,gm}var mm,Jk;function U5(){if(Jk)return mm;Jk=1;function t(e){return function(){return e}}return mm=t,mm}var vm,Qk;function JP(){if(Qk)return vm;Qk=1;var t=ca(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return vm=e,vm}var xm,Zk;function F5(){if(Zk)return xm;Zk=1;var t=U5(),e=JP(),r=qo(),n=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:r;return xm=n,xm}var bm,eO;function W5(){if(eO)return bm;eO=1;var t=800,e=16,r=Date.now;function n(i){var o=0,l=0;return function(){var u=r(),d=e-(u-l);if(l=u,d>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return bm=n,bm}var wm,tO;function H5(){if(tO)return wm;tO=1;var t=F5(),e=W5(),r=e(t);return wm=r,wm}var _m,rO;function V5(){if(rO)return _m;rO=1;var t=qo(),e=q5(),r=H5();function n(i,o){return r(e(i,o,t),i+"")}return _m=n,_m}var Sm,nO;function Xd(){if(nO)return Sm;nO=1;var t=px(),e=Yl(),r=Ex(),n=Si();function i(o,l,u){if(!n(u))return!1;var d=typeof l;return(d=="number"?e(u)&&r(l,u.length):d=="string"&&l in u)?t(u[l],o):!1}return Sm=i,Sm}var jm,iO;function K5(){if(iO)return jm;iO=1;var t=GP(),e=z5(),r=V5(),n=Xd(),i=r(function(o,l){if(o==null)return[];var u=l.length;return u>1&&n(o,l[0],l[1])?l=[]:u>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),e(o,t(l,1),[])});return jm=i,jm}var G5=K5();const Nx=Ke(G5);function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e0.apply(this,arguments)}function Y5(t,e){return Z5(t)||Q5(t,e)||J5(t,e)||X5()}function X5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J5(t,e){if(t){if(typeof t=="string")return aO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aO(t,e)}}function aO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Q5(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function Z5(t){if(Array.isArray(t))return t}function oO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function km(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(r),!0).forEach(function(n){ez(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ez(t,e,r){return e=tz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tz(t){var e=rz(t,"string");return hl(e)=="symbol"?e:e+""}function rz(t,e){if(hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nz(t){return Array.isArray(t)&&Ot(t[0])&&Ot(t[1])?t.join(" ~ "):t}var iz=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,l=e.itemStyle,u=l===void 0?{}:l,d=e.labelStyle,h=d===void 0?{}:d,y=e.payload,p=e.formatter,m=e.itemSorter,v=e.wrapperClassName,S=e.labelClassName,w=e.label,b=e.labelFormatter,k=e.accessibilityLayer,A=k===void 0?!1:k,O=function(){if(y&&y.length){var R={padding:0,margin:0},z=(m?Nx(y,m):y).map(function(W,H){if(W.type==="none")return null;var X=km({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},u),Q=W.formatter||p||nz,K=W.value,ee=W.name,Z=K,N=ee;if(Q&&Z!=null&&N!=null){var L=Q(K,ee,W,H,y);if(Array.isArray(L)){var re=Y5(L,2);Z=re[0],N=re[1]}else Z=L}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:X},Ot(N)?q.createElement("span",{className:"recharts-tooltip-item-name"},N):null,Ot(N)?q.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,q.createElement("span",{className:"recharts-tooltip-item-value"},Z),q.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:R},z)}return null},T=km({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),j=km({margin:0},h),E=!$e(w),P=E?w:"",I=De("recharts-default-tooltip",v),$=De("recharts-tooltip-label",S);E&&b&&y!==void 0&&y!==null&&(P=b(w,y));var V=A?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",e0({className:I,style:T},V),q.createElement("p",{className:$,style:j},q.isValidElement(P)?P:"".concat(P)),O())};function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function vc(t,e,r){return e=az(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function az(t){var e=oz(t,"string");return pl(e)=="symbol"?e:e+""}function oz(t,e){if(pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Is="recharts-tooltip-wrapper",sz={visibility:"hidden"};function lz(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return De(Is,vc(vc(vc(vc({},"".concat(Is,"-right"),de(r)&&e&&de(e.x)&&r>=e.x),"".concat(Is,"-left"),de(r)&&e&&de(e.x)&&r<e.x),"".concat(Is,"-bottom"),de(n)&&e&&de(e.y)&&n>=e.y),"".concat(Is,"-top"),de(n)&&e&&de(e.y)&&n<e.y))}function sO(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,l=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,h=t.viewBoxDimension;if(o&&de(o[n]))return o[n];var y=r[n]-u-i,p=r[n]+i;if(e[n])return l[n]?y:p;if(l[n]){var m=y,v=d[n];return m<v?Math.max(p,d[n]):Math.max(y,d[n])}var S=p+u,w=d[n]+h;return S>w?Math.max(y,d[n]):Math.max(p,d[n])}function uz(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function cz(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,h,y,p;return l.height>0&&l.width>0&&r?(y=sO({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=sO({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=uz({translateX:y,translateY:p,useTranslate3d:u})):h=sz,{cssProperties:h,cssClasses:lz({translateX:y,translateY:p,coordinate:r})}}function yo(t){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yo(t)}function lO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(r),!0).forEach(function(n){r0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZP(n.key),n)}}function hz(t,e,r){return e&&fz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pz(t,e,r){return e=Fc(e),yz(t,QP()?Reflect.construct(e,r||[],Fc(t).constructor):e.apply(t,r))}function yz(t,e){if(e&&(yo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gz(t)}function gz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QP=function(){return!!t})()}function Fc(t){return Fc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fc(t)}function mz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t0(t,e)}function t0(t,e){return t0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},t0(t,e)}function r0(t,e,r){return e=ZP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZP(t){var e=vz(t,"string");return yo(e)=="symbol"?e:e+""}function vz(t,e){if(yo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cO=1,xz=(function(t){function e(){var r;dz(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=pz(this,e,[].concat(i)),r0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),r0(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,h,y;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(h=(y=r.props.coordinate)===null||y===void 0?void 0:y.y)!==null&&h!==void 0?h:0}})}}),r}return mz(e,t),hz(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>cO||Math.abs(n.height-this.state.lastBoundingBox.height)>cO)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,h=i.children,y=i.coordinate,p=i.hasPayload,m=i.isAnimationActive,v=i.offset,S=i.position,w=i.reverseDirection,b=i.useTranslate3d,k=i.viewBox,A=i.wrapperStyle,O=cz({allowEscapeViewBox:l,coordinate:y,offsetTopLeft:v,position:S,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:k}),T=O.cssClasses,j=O.cssProperties,E=uO(uO({transition:m&&o?"transform ".concat(u,"ms ").concat(d):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},A);return q.createElement("div",{tabIndex:-1,className:T,style:E,ref:function(I){n.wrapperNode=I}},h)}}])})(M.PureComponent),bz=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},da={isSsr:bz()};function go(t){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},go(t)}function dO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(r),!0).forEach(function(n){Ix(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tT(n.key),n)}}function Sz(t,e,r){return e&&_z(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jz(t,e,r){return e=Wc(e),kz(t,eT()?Reflect.construct(e,r||[],Wc(t).constructor):e.apply(t,r))}function kz(t,e){if(e&&(go(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oz(t)}function Oz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eT=function(){return!!t})()}function Wc(t){return Wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wc(t)}function Az(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n0(t,e)}function n0(t,e){return n0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n0(t,e)}function Ix(t,e,r){return e=tT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tT(t){var e=Ez(t,"string");return go(e)=="symbol"?e:e+""}function Ez(t,e){if(go(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Pz(t){return t.dataKey}function Tz(t,e){return q.isValidElement(t)?q.cloneElement(t,e):typeof t=="function"?q.createElement(t,e):q.createElement(iz,e)}var cn=(function(t){function e(){return wz(this,e),jz(this,e,arguments)}return Az(e,t),Sz(e,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,h=i.content,y=i.coordinate,p=i.filterNull,m=i.isAnimationActive,v=i.offset,S=i.payload,w=i.payloadUniqBy,b=i.position,k=i.reverseDirection,A=i.useTranslate3d,O=i.viewBox,T=i.wrapperStyle,j=S??[];p&&j.length&&(j=HP(S.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),w,Pz));var E=j.length>0;return q.createElement(xz,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:m,active:o,coordinate:y,hasPayload:E,offset:v,position:b,reverseDirection:k,useTranslate3d:A,viewBox:O,wrapperStyle:T},Tz(h,fO(fO({},this.props),{},{payload:j})))}}])})(M.PureComponent);Ix(cn,"displayName","Tooltip");Ix(cn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!da.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Om,hO;function Cz(){if(hO)return Om;hO=1;var t=mn(),e=function(){return t.Date.now()};return Om=e,Om}var Am,pO;function Nz(){if(pO)return Am;pO=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Am=e,Am}var Em,yO;function Iz(){if(yO)return Em;yO=1;var t=Nz(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Em=r,Em}var Pm,gO;function rT(){if(gO)return Pm;gO=1;var t=Iz(),e=Si(),r=Do(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return n;if(e(h)){var y=typeof h.valueOf=="function"?h.valueOf():h;h=e(y)?y+"":y}if(typeof h!="string")return h===0?h:+h;h=t(h);var p=o.test(h);return p||l.test(h)?u(h.slice(2),p?2:8):i.test(h)?n:+h}return Pm=d,Pm}var Tm,mO;function Rz(){if(mO)return Tm;mO=1;var t=Si(),e=Cz(),r=rT(),n="Expected a function",i=Math.max,o=Math.min;function l(u,d,h){var y,p,m,v,S,w,b=0,k=!1,A=!1,O=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,t(h)&&(k=!!h.leading,A="maxWait"in h,m=A?i(r(h.maxWait)||0,d):m,O="trailing"in h?!!h.trailing:O);function T(z){var W=y,H=p;return y=p=void 0,b=z,v=u.apply(H,W),v}function j(z){return b=z,S=setTimeout(I,d),k?T(z):v}function E(z){var W=z-w,H=z-b,X=d-W;return A?o(X,m-H):X}function P(z){var W=z-w,H=z-b;return w===void 0||W>=d||W<0||A&&H>=m}function I(){var z=e();if(P(z))return $(z);S=setTimeout(I,E(z))}function $(z){return S=void 0,O&&y?T(z):(y=p=void 0,v)}function V(){S!==void 0&&clearTimeout(S),b=0,y=w=p=S=void 0}function U(){return S===void 0?v:$(e())}function R(){var z=e(),W=P(z);if(y=arguments,p=this,w=z,W){if(S===void 0)return j(w);if(A)return clearTimeout(S),S=setTimeout(I,d),T(w)}return S===void 0&&(S=setTimeout(I,d)),v}return R.cancel=V,R.flush=U,R}return Tm=l,Tm}var Cm,vO;function $z(){if(vO)return Cm;vO=1;var t=Rz(),e=Si(),r="Expected a function";function n(i,o,l){var u=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return e(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),t(i,o,{leading:u,maxWait:o,trailing:d})}return Cm=n,Cm}var Mz=$z();const nT=Ke(Mz);function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function xO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(r),!0).forEach(function(n){Dz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dz(t,e,r){return e=Lz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lz(t){var e=zz(t,"string");return yl(e)=="symbol"?e:e+""}function zz(t,e){if(yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bz(t,e){return Wz(t)||Fz(t,e)||Uz(t,e)||qz()}function qz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uz(t,e){if(t){if(typeof t=="string")return bO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bO(t,e)}}function bO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function Wz(t){if(Array.isArray(t))return t}var Hz=M.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=t.width,l=o===void 0?"100%":o,u=t.height,d=u===void 0?"100%":u,h=t.minWidth,y=h===void 0?0:h,p=t.minHeight,m=t.maxHeight,v=t.children,S=t.debounce,w=S===void 0?0:S,b=t.id,k=t.className,A=t.onResize,O=t.style,T=O===void 0?{}:O,j=M.useRef(null),E=M.useRef();E.current=A,M.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var P=M.useState({containerWidth:i.width,containerHeight:i.height}),I=Bz(P,2),$=I[0],V=I[1],U=M.useCallback(function(z,W){V(function(H){var X=Math.round(z),Q=Math.round(W);return H.containerWidth===X&&H.containerHeight===Q?H:{containerWidth:X,containerHeight:Q}})},[]);M.useEffect(function(){var z=function(ee){var Z,N=ee[0].contentRect,L=N.width,re=N.height;U(L,re),(Z=E.current)===null||Z===void 0||Z.call(E,L,re)};w>0&&(z=nT(z,w,{trailing:!0,leading:!1}));var W=new ResizeObserver(z),H=j.current.getBoundingClientRect(),X=H.width,Q=H.height;return U(X,Q),W.observe(j.current),function(){W.disconnect()}},[U,w]);var R=M.useMemo(function(){var z=$.containerWidth,W=$.containerHeight;if(z<0||W<0)return null;In(Ji(l)||Ji(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),In(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=Ji(l)?z:l,X=Ji(d)?W:d;r&&r>0&&(H?X=H/r:X&&(H=X*r),m&&X>m&&(X=m)),In(H>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,X,l,d,y,p,r);var Q=!Array.isArray(v)&&Nn(v.type).endsWith("Chart");return q.Children.map(v,function(K){return q.isValidElement(K)?M.cloneElement(K,xc({width:H,height:X},Q?{style:xc({height:"100%",width:"100%",maxHeight:X,maxWidth:H},K.props.style)}:{})):K})},[r,v,d,m,p,y,$,l]);return q.createElement("div",{id:b?"".concat(b):void 0,className:De("recharts-responsive-container",k),style:xc(xc({},T),{},{width:l,height:d,minWidth:y,minHeight:p,maxHeight:m}),ref:j},R)}),iT=function(e){return null};iT.displayName="Cell";function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function wO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(r),!0).forEach(function(n){Vz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vz(t,e,r){return e=Kz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kz(t){var e=Gz(t,"string");return gl(e)=="symbol"?e:e+""}function Gz(t,e){if(gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Va={widthCache:{},cacheCount:0},Yz=2e3,Xz={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_O="recharts_measurement_span";function Jz(t){var e=i0({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Ys=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||da.isSsr)return{width:0,height:0};var n=Jz(r),i=JSON.stringify({text:e,copyStyle:n});if(Va.widthCache[i])return Va.widthCache[i];try{var o=document.getElementById(_O);o||(o=document.createElement("span"),o.setAttribute("id",_O),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=i0(i0({},Xz),n);Object.assign(o.style,l),o.textContent="".concat(e);var u=o.getBoundingClientRect(),d={width:u.width,height:u.height};return Va.widthCache[i]=d,++Va.cacheCount>Yz&&(Va.cacheCount=0,Va.widthCache={}),d}catch{return{width:0,height:0}}},Qz=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function Hc(t,e){return r8(t)||t8(t,e)||e8(t,e)||Zz()}function Zz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e8(t,e){if(t){if(typeof t=="string")return SO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SO(t,e)}}function SO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function t8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function r8(t){if(Array.isArray(t))return t}function n8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a8(n.key),n)}}function i8(t,e,r){return e&&jO(t.prototype,e),r&&jO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function a8(t){var e=o8(t,"string");return ml(e)=="symbol"?e:e+""}function o8(t,e){if(ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,s8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,l8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,aT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},u8=Object.keys(aT),to="NaN";function c8(t,e){return t*aT[e]}var bc=(function(){function t(e,r){n8(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!s8.test(r)&&(this.num=NaN,this.unit=""),u8.includes(r)&&(this.num=c8(e,r),this.unit="px")}return i8(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=l8.exec(r))!==null&&n!==void 0?n:[],o=Hc(i,3),l=o[1],u=o[2];return new t(parseFloat(l),u??"")}}])})();function oT(t){if(t.includes(to))return to;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=kO.exec(e))!==null&&r!==void 0?r:[],i=Hc(n,4),o=i[1],l=i[2],u=i[3],d=bc.parse(o??""),h=bc.parse(u??""),y=l==="*"?d.multiply(h):d.divide(h);if(y.isNaN())return to;e=e.replace(kO,y.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,m=(p=OO.exec(e))!==null&&p!==void 0?p:[],v=Hc(m,4),S=v[1],w=v[2],b=v[3],k=bc.parse(S??""),A=bc.parse(b??""),O=w==="+"?k.add(A):k.subtract(A);if(O.isNaN())return to;e=e.replace(OO,O.toString())}return e}var AO=/\(([^()]*)\)/;function d8(t){for(var e=t;e.includes("(");){var r=AO.exec(e),n=Hc(r,2),i=n[1];e=e.replace(AO,oT(i))}return e}function f8(t){var e=t.replace(/\s+/g,"");return e=d8(e),e=oT(e),e}function h8(t){try{return f8(t)}catch{return to}}function Nm(t){var e=h8(t.slice(5,-1));return e===to?"":e}var p8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],y8=["dx","dy","angle","className","breakAll"];function a0(){return a0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a0.apply(this,arguments)}function EO(t,e){if(t==null)return{};var r=g8(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function g8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PO(t,e){return b8(t)||x8(t,e)||v8(t,e)||m8()}function m8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v8(t,e){if(t){if(typeof t=="string")return TO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TO(t,e)}}function TO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function x8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function b8(t){if(Array.isArray(t))return t}var sT=/[ \f\n\r\t\v\u2028\u2029]+/,lT=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];$e(r)||(n?o=r.toString().split(""):o=r.toString().split(sT));var l=o.map(function(d){return{word:d,width:Ys(d,i).width}}),u=n?0:Ys("",i).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},w8=function(e,r,n,i,o){var l=e.maxLines,u=e.children,d=e.style,h=e.breakAll,y=de(l),p=u,m=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(X,Q){var K=Q.word,ee=Q.width,Z=X[X.length-1];if(Z&&(i==null||o||Z.width+ee+n<Number(i)))Z.words.push(K),Z.width+=ee+n;else{var N={words:[K],width:ee};X.push(N)}return X},[])},v=m(r),S=function(H){return H.reduce(function(X,Q){return X.width>Q.width?X:Q})};if(!y)return v;for(var w="",b=function(H){var X=p.slice(0,H),Q=lT({breakAll:h,style:d,children:X+w}).wordsWithComputedWidth,K=m(Q),ee=K.length>l||S(K).width>Number(i);return[ee,K]},k=0,A=p.length-1,O=0,T;k<=A&&O<=p.length-1;){var j=Math.floor((k+A)/2),E=j-1,P=b(E),I=PO(P,2),$=I[0],V=I[1],U=b(j),R=PO(U,1),z=R[0];if(!$&&!z&&(k=j+1),$&&z&&(A=j-1),!$&&z){T=V;break}O++}return T||v},CO=function(e){var r=$e(e)?[]:e.toString().split(sT);return[{words:r}]},_8=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,l=e.breakAll,u=e.maxLines;if((r||n)&&!da.isSsr){var d,h,y=lT({breakAll:l,children:i,style:o});if(y){var p=y.wordsWithComputedWidth,m=y.spaceWidth;d=p,h=m}else return CO(i);return w8({breakAll:l,children:i,maxLines:u,style:o},d,h,r,n)}return CO(i)},NO="#808080",Vc=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,l=e.lineHeight,u=l===void 0?"1em":l,d=e.capHeight,h=d===void 0?"0.71em":d,y=e.scaleToFit,p=y===void 0?!1:y,m=e.textAnchor,v=m===void 0?"start":m,S=e.verticalAnchor,w=S===void 0?"end":S,b=e.fill,k=b===void 0?NO:b,A=EO(e,p8),O=M.useMemo(function(){return _8({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:p,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,p,A.style,A.width]),T=A.dx,j=A.dy,E=A.angle,P=A.className,I=A.breakAll,$=EO(A,y8);if(!Ot(n)||!Ot(o))return null;var V=n+(de(T)?T:0),U=o+(de(j)?j:0),R;switch(w){case"start":R=Nm("calc(".concat(h,")"));break;case"middle":R=Nm("calc(".concat((O.length-1)/2," * -").concat(u," + (").concat(h," / 2))"));break;default:R=Nm("calc(".concat(O.length-1," * -").concat(u,")"));break}var z=[];if(p){var W=O[0].width,H=A.width;z.push("scale(".concat((de(H)?H/W:1)/W,")"))}return E&&z.push("rotate(".concat(E,", ").concat(V,", ").concat(U,")")),z.length&&($.transform=z.join(" ")),q.createElement("text",a0({},Re($,!0),{x:V,y:U,className:De("recharts-text",P),textAnchor:v,fill:k.includes("url")?NO:k}),O.map(function(X,Q){var K=X.words.join(I?"":" ");return q.createElement("tspan",{x:V,dy:Q===0?R:u,key:"".concat(K,"-").concat(Q)},K)}))};function bi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function S8(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Rx(t){let e,r,n;t.length!==2?(e=bi,r=(u,d)=>bi(t(u),d),n=(u,d)=>t(u)-d):(e=t===bi||t===S8?t:j8,r=t,n=t);function i(u,d,h=0,y=u.length){if(h<y){if(e(d,d)!==0)return y;do{const p=h+y>>>1;r(u[p],d)<0?h=p+1:y=p}while(h<y)}return h}function o(u,d,h=0,y=u.length){if(h<y){if(e(d,d)!==0)return y;do{const p=h+y>>>1;r(u[p],d)<=0?h=p+1:y=p}while(h<y)}return h}function l(u,d,h=0,y=u.length){const p=i(u,d,h,y-1);return p>h&&n(u[p-1],d)>-n(u[p],d)?p-1:p}return{left:i,center:l,right:o}}function j8(){return 0}function uT(t){return t===null?NaN:+t}function*k8(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const O8=Rx(bi),Xl=O8.right;Rx(uT).center;class IO extends Map{constructor(e,r=P8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(RO(this,e))}has(e){return super.has(RO(this,e))}set(e,r){return super.set(A8(this,e),r)}delete(e){return super.delete(E8(this,e))}}function RO({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function A8({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function E8({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function P8(t){return t!==null&&typeof t=="object"?t.valueOf():t}function T8(t=bi){if(t===bi)return cT;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function cT(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const C8=Math.sqrt(50),N8=Math.sqrt(10),I8=Math.sqrt(2);function Kc(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),l=o>=C8?10:o>=N8?5:o>=I8?2:1;let u,d,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(t*h),d=Math.round(e*h),u/h<t&&++u,d/h>e&&--d,h=-h):(h=Math.pow(10,i)*l,u=Math.round(t/h),d=Math.round(e/h),u*h<t&&++u,d*h>e&&--d),d<u&&.5<=r&&r<2?Kc(t,e,r*2):[u,d,h]}function o0(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,l]=n?Kc(e,t,r):Kc(t,e,r);if(!(o>=i))return[];const u=o-i+1,d=new Array(u);if(n)if(l<0)for(let h=0;h<u;++h)d[h]=(o-h)/-l;else for(let h=0;h<u;++h)d[h]=(o-h)*l;else if(l<0)for(let h=0;h<u;++h)d[h]=(i+h)/-l;else for(let h=0;h<u;++h)d[h]=(i+h)*l;return d}function s0(t,e,r){return e=+e,t=+t,r=+r,Kc(t,e,r)[2]}function l0(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?s0(e,t,r):s0(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function $O(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function MO(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function dT(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?cT:T8(i);n>r;){if(n-r>600){const d=n-r+1,h=e-r+1,y=Math.log(d),p=.5*Math.exp(2*y/3),m=.5*Math.sqrt(y*p*(d-p)/d)*(h-d/2<0?-1:1),v=Math.max(r,Math.floor(e-h*p/d+m)),S=Math.min(n,Math.floor(e+(d-h)*p/d+m));dT(t,e,v,S,i)}const o=t[e];let l=r,u=n;for(Rs(t,r,e),i(t[n],o)>0&&Rs(t,r,n);l<u;){for(Rs(t,l,u),++l,--u;i(t[l],o)<0;)++l;for(;i(t[u],o)>0;)--u}i(t[r],o)===0?Rs(t,r,u):(++u,Rs(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Rs(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function R8(t,e,r){if(t=Float64Array.from(k8(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return MO(t);if(e>=1)return $O(t);var n,i=(n-1)*e,o=Math.floor(i),l=$O(dT(t,o).subarray(0,o+1)),u=MO(t.subarray(o+1));return l+(u-l)*(i-o)}}function $8(t,e,r=uT){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),l=+r(t[o],o,t),u=+r(t[o+1],o+1,t);return l+(u-l)*(i-o)}}function M8(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function Mr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Fn(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const u0=Symbol("implicit");function $x(){var t=new IO,e=[],r=[],n=u0;function i(o){let l=t.get(o);if(l===void 0){if(n!==u0)return n;t.set(o,l=e.push(o)-1)}return r[l%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new IO;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return $x(e,r).unknown(n)},Mr.apply(i,arguments),i}function vl(){var t=$x().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,l,u=!1,d=0,h=0,y=.5;delete t.unknown;function p(){var m=e().length,v=i<n,S=v?i:n,w=v?n:i;o=(w-S)/Math.max(1,m-d+h*2),u&&(o=Math.floor(o)),S+=(w-S-o*(m-d))*y,l=o*(1-d),u&&(S=Math.round(S),l=Math.round(l));var b=M8(m).map(function(k){return S+o*k});return r(v?b.reverse():b)}return t.domain=function(m){return arguments.length?(e(m),p()):e()},t.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,u=!0,p()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(m){return arguments.length?(u=!!m,p()):u},t.padding=function(m){return arguments.length?(d=Math.min(1,h=+m),p()):d},t.paddingInner=function(m){return arguments.length?(d=Math.min(1,m),p()):d},t.paddingOuter=function(m){return arguments.length?(h=+m,p()):h},t.align=function(m){return arguments.length?(y=Math.max(0,Math.min(1,m)),p()):y},t.copy=function(){return vl(e(),[n,i]).round(u).paddingInner(d).paddingOuter(h).align(y)},Mr.apply(p(),arguments)}function fT(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return fT(e())},t}function Xs(){return fT(vl.apply(null,arguments).paddingInner(1))}function Mx(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function hT(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Jl(){}var xl=.7,Gc=1/xl,oo="\\s*([+-]?\\d+)\\s*",bl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D8=/^#([0-9a-f]{3,8})$/,L8=new RegExp(`^rgb\\(${oo},${oo},${oo}\\)$`),z8=new RegExp(`^rgb\\(${hn},${hn},${hn}\\)$`),B8=new RegExp(`^rgba\\(${oo},${oo},${oo},${bl}\\)$`),q8=new RegExp(`^rgba\\(${hn},${hn},${hn},${bl}\\)$`),U8=new RegExp(`^hsl\\(${bl},${hn},${hn}\\)$`),F8=new RegExp(`^hsla\\(${bl},${hn},${hn},${bl}\\)$`),DO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mx(Jl,wl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:LO,formatHex:LO,formatHex8:W8,formatHsl:H8,formatRgb:zO,toString:zO});function LO(){return this.rgb().formatHex()}function W8(){return this.rgb().formatHex8()}function H8(){return pT(this).formatHsl()}function zO(){return this.rgb().formatRgb()}function wl(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=D8.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?BO(e):r===3?new lr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?wc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?wc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=L8.exec(t))?new lr(e[1],e[2],e[3],1):(e=z8.exec(t))?new lr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=B8.exec(t))?wc(e[1],e[2],e[3],e[4]):(e=q8.exec(t))?wc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=U8.exec(t))?FO(e[1],e[2]/100,e[3]/100,1):(e=F8.exec(t))?FO(e[1],e[2]/100,e[3]/100,e[4]):DO.hasOwnProperty(t)?BO(DO[t]):t==="transparent"?new lr(NaN,NaN,NaN,0):null}function BO(t){return new lr(t>>16&255,t>>8&255,t&255,1)}function wc(t,e,r,n){return n<=0&&(t=e=r=NaN),new lr(t,e,r,n)}function V8(t){return t instanceof Jl||(t=wl(t)),t?(t=t.rgb(),new lr(t.r,t.g,t.b,t.opacity)):new lr}function c0(t,e,r,n){return arguments.length===1?V8(t):new lr(t,e,r,n??1)}function lr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Mx(lr,c0,hT(Jl,{brighter(t){return t=t==null?Gc:Math.pow(Gc,t),new lr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xl:Math.pow(xl,t),new lr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new lr(na(this.r),na(this.g),na(this.b),Yc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qO,formatHex:qO,formatHex8:K8,formatRgb:UO,toString:UO}));function qO(){return`#${Qi(this.r)}${Qi(this.g)}${Qi(this.b)}`}function K8(){return`#${Qi(this.r)}${Qi(this.g)}${Qi(this.b)}${Qi((isNaN(this.opacity)?1:this.opacity)*255)}`}function UO(){const t=Yc(this.opacity);return`${t===1?"rgb(":"rgba("}${na(this.r)}, ${na(this.g)}, ${na(this.b)}${t===1?")":`, ${t})`}`}function Yc(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function na(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qi(t){return t=na(t),(t<16?"0":"")+t.toString(16)}function FO(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Jr(t,e,r,n)}function pT(t){if(t instanceof Jr)return new Jr(t.h,t.s,t.l,t.opacity);if(t instanceof Jl||(t=wl(t)),!t)return new Jr;if(t instanceof Jr)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),l=NaN,u=o-i,d=(o+i)/2;return u?(e===o?l=(r-n)/u+(r<n)*6:r===o?l=(n-e)/u+2:l=(e-r)/u+4,u/=d<.5?o+i:2-o-i,l*=60):u=d>0&&d<1?0:l,new Jr(l,u,d,t.opacity)}function G8(t,e,r,n){return arguments.length===1?pT(t):new Jr(t,e,r,n??1)}function Jr(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Mx(Jr,G8,hT(Jl,{brighter(t){return t=t==null?Gc:Math.pow(Gc,t),new Jr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xl:Math.pow(xl,t),new Jr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new lr(Im(t>=240?t-240:t+120,i,n),Im(t,i,n),Im(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Jr(WO(this.h),_c(this.s),_c(this.l),Yc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Yc(this.opacity);return`${t===1?"hsl(":"hsla("}${WO(this.h)}, ${_c(this.s)*100}%, ${_c(this.l)*100}%${t===1?")":`, ${t})`}`}}));function WO(t){return t=(t||0)%360,t<0?t+360:t}function _c(t){return Math.max(0,Math.min(1,t||0))}function Im(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Dx=t=>()=>t;function Y8(t,e){return function(r){return t+r*e}}function X8(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function J8(t){return(t=+t)==1?yT:function(e,r){return r-e?X8(e,r,t):Dx(isNaN(e)?r:e)}}function yT(t,e){var r=e-t;return r?Y8(t,r):Dx(isNaN(t)?e:t)}const HO=(function t(e){var r=J8(e);function n(i,o){var l=r((i=c0(i)).r,(o=c0(o)).r),u=r(i.g,o.g),d=r(i.b,o.b),h=yT(i.opacity,o.opacity);return function(y){return i.r=l(y),i.g=u(y),i.b=d(y),i.opacity=h(y),i+""}}return n.gamma=t,n})(1);function Q8(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function Z8(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function eB(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),l;for(l=0;l<n;++l)i[l]=Uo(t[l],e[l]);for(;l<r;++l)o[l]=e[l];return function(u){for(l=0;l<n;++l)o[l]=i[l](u);return o}}function tB(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Xc(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function rB(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Uo(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var d0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rm=new RegExp(d0.source,"g");function nB(t){return function(){return t}}function iB(t){return function(e){return t(e)+""}}function aB(t,e){var r=d0.lastIndex=Rm.lastIndex=0,n,i,o,l=-1,u=[],d=[];for(t=t+"",e=e+"";(n=d0.exec(t))&&(i=Rm.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),u[l]?u[l]+=o:u[++l]=o),(n=n[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:Xc(n,i)})),r=Rm.lastIndex;return r<e.length&&(o=e.slice(r),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?iB(d[0].x):nB(e):(e=d.length,function(h){for(var y=0,p;y<e;++y)u[(p=d[y]).i]=p.x(h);return u.join("")})}function Uo(t,e){var r=typeof e,n;return e==null||r==="boolean"?Dx(e):(r==="number"?Xc:r==="string"?(n=wl(e))?(e=n,HO):aB:e instanceof wl?HO:e instanceof Date?tB:Z8(e)?Q8:Array.isArray(e)?eB:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?rB:Xc)(t,e)}function Lx(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function oB(t,e){e===void 0&&(e=t,t=Uo);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return o[u](l-u)}}function sB(t){return function(){return t}}function Jc(t){return+t}var VO=[0,1];function Jt(t){return t}function f0(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:sB(isNaN(e)?NaN:.5)}function lB(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function uB(t,e,r){var n=t[0],i=t[1],o=e[0],l=e[1];return i<n?(n=f0(i,n),o=r(l,o)):(n=f0(n,i),o=r(o,l)),function(u){return o(n(u))}}function cB(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<n;)i[l]=f0(t[l],t[l+1]),o[l]=r(e[l],e[l+1]);return function(u){var d=Xl(t,u,1,n)-1;return o[d](i[d](u))}}function Ql(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Jd(){var t=VO,e=VO,r=Uo,n,i,o,l=Jt,u,d,h;function y(){var m=Math.min(t.length,e.length);return l!==Jt&&(l=lB(t[0],t[m-1])),u=m>2?cB:uB,d=h=null,p}function p(m){return m==null||isNaN(m=+m)?o:(d||(d=u(t.map(n),e,r)))(n(l(m)))}return p.invert=function(m){return l(i((h||(h=u(e,t.map(n),Xc)))(m)))},p.domain=function(m){return arguments.length?(t=Array.from(m,Jc),y()):t.slice()},p.range=function(m){return arguments.length?(e=Array.from(m),y()):e.slice()},p.rangeRound=function(m){return e=Array.from(m),r=Lx,y()},p.clamp=function(m){return arguments.length?(l=m?!0:Jt,y()):l!==Jt},p.interpolate=function(m){return arguments.length?(r=m,y()):r},p.unknown=function(m){return arguments.length?(o=m,p):o},function(m,v){return n=m,i=v,y()}}function zx(){return Jd()(Jt,Jt)}function dB(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qc(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function mo(t){return t=Qc(Math.abs(t)),t?t[1]:NaN}function fB(t,e){return function(r,n){for(var i=r.length,o=[],l=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),o.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=t[l=(l+1)%t.length];return o.reverse().join(e)}}function hB(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var pB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _l(t){if(!(e=pB.exec(t)))throw new Error("invalid format: "+t);var e;return new Bx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_l.prototype=Bx.prototype;function Bx(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Bx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yB(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Zc;function gB(t,e){var r=Qc(t,e);if(!r)return Zc=void 0,t.toPrecision(e);var n=r[0],i=r[1],o=i-(Zc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return o===l?n:o>l?n+new Array(o-l+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Qc(t,Math.max(0,e+o-1))[0]}function KO(t,e){var r=Qc(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const GO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:dB,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>KO(t*100,e),r:KO,s:gB,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function YO(t){return t}var XO=Array.prototype.map,JO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mB(t){var e=t.grouping===void 0||t.thousands===void 0?YO:fB(XO.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?YO:hB(XO.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(p,m){p=_l(p);var v=p.fill,S=p.align,w=p.sign,b=p.symbol,k=p.zero,A=p.width,O=p.comma,T=p.precision,j=p.trim,E=p.type;E==="n"?(O=!0,E="g"):GO[E]||(T===void 0&&(T=12),j=!0,E="g"),(k||v==="0"&&S==="=")&&(k=!0,v="0",S="=");var P=(m&&m.prefix!==void 0?m.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():""),I=(b==="$"?n:/[%p]/.test(E)?l:"")+(m&&m.suffix!==void 0?m.suffix:""),$=GO[E],V=/[defgprs%]/.test(E);T=T===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function U(R){var z=P,W=I,H,X,Q;if(E==="c")W=$(R)+W,R="";else{R=+R;var K=R<0||1/R<0;if(R=isNaN(R)?d:$(Math.abs(R),T),j&&(R=yB(R)),K&&+R==0&&w!=="+"&&(K=!1),z=(K?w==="("?w:u:w==="-"||w==="("?"":w)+z,W=(E==="s"&&!isNaN(R)&&Zc!==void 0?JO[8+Zc/3]:"")+W+(K&&w==="("?")":""),V){for(H=-1,X=R.length;++H<X;)if(Q=R.charCodeAt(H),48>Q||Q>57){W=(Q===46?i+R.slice(H+1):R.slice(H))+W,R=R.slice(0,H);break}}}O&&!k&&(R=e(R,1/0));var ee=z.length+R.length+W.length,Z=ee<A?new Array(A-ee+1).join(v):"";switch(O&&k&&(R=e(Z+R,Z.length?A-W.length:1/0),Z=""),S){case"<":R=z+R+W+Z;break;case"=":R=z+Z+R+W;break;case"^":R=Z.slice(0,ee=Z.length>>1)+z+R+W+Z.slice(ee);break;default:R=Z+z+R+W;break}return o(R)}return U.toString=function(){return p+""},U}function y(p,m){var v=Math.max(-8,Math.min(8,Math.floor(mo(m)/3)))*3,S=Math.pow(10,-v),w=h((p=_l(p),p.type="f",p),{suffix:JO[8+v/3]});return function(b){return w(S*b)}}return{format:h,formatPrefix:y}}var Sc,qx,gT;vB({thousands:",",grouping:[3],currency:["$",""]});function vB(t){return Sc=mB(t),qx=Sc.format,gT=Sc.formatPrefix,Sc}function xB(t){return Math.max(0,-mo(Math.abs(t)))}function bB(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mo(e)/3)))*3-mo(Math.abs(t)))}function wB(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,mo(e)-mo(t))+1}function mT(t,e,r,n){var i=l0(t,e,r),o;switch(n=_l(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=bB(i,l))&&(n.precision=o),gT(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=wB(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=xB(i))&&(n.precision=o-(n.type==="%")*2);break}}return qx(n)}function ki(t){var e=t.domain;return t.ticks=function(r){var n=e();return o0(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return mT(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,l=n[i],u=n[o],d,h,y=10;for(u<l&&(h=l,l=u,u=h,h=i,i=o,o=h);y-- >0;){if(h=s0(l,u,r),h===d)return n[i]=l,n[o]=u,e(n);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;d=h}return t},t}function ed(){var t=zx();return t.copy=function(){return Ql(t,ed())},Mr.apply(t,arguments),ki(t)}function vT(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Jc),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return vT(t).unknown(e)},t=arguments.length?Array.from(t,Jc):[0,1],ki(r)}function xT(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],l;return o<i&&(l=r,r=n,n=l,l=i,i=o,o=l),t[r]=e.floor(i),t[n]=e.ceil(o),t}function QO(t){return Math.log(t)}function ZO(t){return Math.exp(t)}function _B(t){return-Math.log(-t)}function SB(t){return-Math.exp(-t)}function jB(t){return isFinite(t)?+("1e"+t):t<0?0:t}function kB(t){return t===10?jB:t===Math.E?Math.exp:e=>Math.pow(t,e)}function OB(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function e2(t){return(e,r)=>-t(-e,r)}function Ux(t){const e=t(QO,ZO),r=e.domain;let n=10,i,o;function l(){return i=OB(n),o=kB(n),r()[0]<0?(i=e2(i),o=e2(o),t(_B,SB)):t(QO,ZO),e}return e.base=function(u){return arguments.length?(n=+u,l()):n},e.domain=function(u){return arguments.length?(r(u),l()):r()},e.ticks=u=>{const d=r();let h=d[0],y=d[d.length-1];const p=y<h;p&&([h,y]=[y,h]);let m=i(h),v=i(y),S,w;const b=u==null?10:+u;let k=[];if(!(n%1)&&v-m<b){if(m=Math.floor(m),v=Math.ceil(v),h>0){for(;m<=v;++m)for(S=1;S<n;++S)if(w=m<0?S/o(-m):S*o(m),!(w<h)){if(w>y)break;k.push(w)}}else for(;m<=v;++m)for(S=n-1;S>=1;--S)if(w=m>0?S/o(-m):S*o(m),!(w<h)){if(w>y)break;k.push(w)}k.length*2<b&&(k=o0(h,y,b))}else k=o0(m,v,Math.min(v-m,b)).map(o);return p?k.reverse():k},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=_l(d)).precision==null&&(d.trim=!0),d=qx(d)),u===1/0)return d;const h=Math.max(1,n*u/e.ticks().length);return y=>{let p=y/o(Math.round(i(y)));return p*n<n-.5&&(p*=n),p<=h?d(y):""}},e.nice=()=>r(xT(r(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function bT(){const t=Ux(Jd()).domain([1,10]);return t.copy=()=>Ql(t,bT()).base(t.base()),Mr.apply(t,arguments),t}function t2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function r2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Fx(t){var e=1,r=t(t2(e),r2(e));return r.constant=function(n){return arguments.length?t(t2(e=+n),r2(e)):e},ki(r)}function wT(){var t=Fx(Jd());return t.copy=function(){return Ql(t,wT()).constant(t.constant())},Mr.apply(t,arguments)}function n2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function AB(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function EB(t){return t<0?-t*t:t*t}function Wx(t){var e=t(Jt,Jt),r=1;function n(){return r===1?t(Jt,Jt):r===.5?t(AB,EB):t(n2(r),n2(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},ki(e)}function Hx(){var t=Wx(Jd());return t.copy=function(){return Ql(t,Hx()).exponent(t.exponent())},Mr.apply(t,arguments),t}function PB(){return Hx.apply(null,arguments).exponent(.5)}function i2(t){return Math.sign(t)*t*t}function TB(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function _T(){var t=zx(),e=[0,1],r=!1,n;function i(o){var l=TB(t(o));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(o){return t.invert(i2(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Jc)).map(i2)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return _T(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Mr.apply(i,arguments),ki(i)}function ST(){var t=[],e=[],r=[],n;function i(){var l=0,u=Math.max(1,e.length);for(r=new Array(u-1);++l<u;)r[l-1]=$8(t,l/u);return o}function o(l){return l==null||isNaN(l=+l)?n:e[Xl(r,l)]}return o.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(bi),i()},o.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},o.unknown=function(l){return arguments.length?(n=l,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return ST().domain(t).range(e).unknown(n)},Mr.apply(o,arguments)}function jT(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function l(d){return d!=null&&d<=d?i[Xl(n,d,0,r)]:o}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},l.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return jT().domain([t,e]).range(i).unknown(o)},Mr.apply(ki(l),arguments)}function kT(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[Xl(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return kT().domain(t).range(e).unknown(r)},Mr.apply(i,arguments)}const $m=new Date,Mm=new Date;function At(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const d=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return d;let h;do d.push(h=new Date(+o)),e(o,u),t(o);while(h<o&&o<l);return d},i.filter=o=>At(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!o(l););else for(;--u>=0;)for(;e(l,1),!o(l););}),r&&(i.count=(o,l)=>($m.setTime(+o),Mm.setTime(+l),t($m),t(Mm),Math.floor(r($m,Mm))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?l=>n(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const td=At(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);td.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?At(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):td);td.range;const En=1e3,Nr=En*60,Pn=Nr*60,Mn=Pn*24,Vx=Mn*7,a2=Mn*30,Dm=Mn*365,Zi=At(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*En)},(t,e)=>(e-t)/En,t=>t.getUTCSeconds());Zi.range;const Kx=At(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*En)},(t,e)=>{t.setTime(+t+e*Nr)},(t,e)=>(e-t)/Nr,t=>t.getMinutes());Kx.range;const Gx=At(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Nr)},(t,e)=>(e-t)/Nr,t=>t.getUTCMinutes());Gx.range;const Yx=At(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*En-t.getMinutes()*Nr)},(t,e)=>{t.setTime(+t+e*Pn)},(t,e)=>(e-t)/Pn,t=>t.getHours());Yx.range;const Xx=At(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Pn)},(t,e)=>(e-t)/Pn,t=>t.getUTCHours());Xx.range;const Zl=At(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Nr)/Mn,t=>t.getDate()-1);Zl.range;const Qd=At(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Mn,t=>t.getUTCDate()-1);Qd.range;const OT=At(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Mn,t=>Math.floor(t/Mn));OT.range;function fa(t){return At(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Nr)/Vx)}const Zd=fa(0),rd=fa(1),CB=fa(2),NB=fa(3),vo=fa(4),IB=fa(5),RB=fa(6);Zd.range;rd.range;CB.range;NB.range;vo.range;IB.range;RB.range;function ha(t){return At(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Vx)}const ef=ha(0),nd=ha(1),$B=ha(2),MB=ha(3),xo=ha(4),DB=ha(5),LB=ha(6);ef.range;nd.range;$B.range;MB.range;xo.range;DB.range;LB.range;const Jx=At(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Jx.range;const Qx=At(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Qx.range;const Dn=At(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Dn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:At(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Dn.range;const Ln=At(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ln.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:At(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ln.range;function AT(t,e,r,n,i,o){const l=[[Zi,1,En],[Zi,5,5*En],[Zi,15,15*En],[Zi,30,30*En],[o,1,Nr],[o,5,5*Nr],[o,15,15*Nr],[o,30,30*Nr],[i,1,Pn],[i,3,3*Pn],[i,6,6*Pn],[i,12,12*Pn],[n,1,Mn],[n,2,2*Mn],[r,1,Vx],[e,1,a2],[e,3,3*a2],[t,1,Dm]];function u(h,y,p){const m=y<h;m&&([h,y]=[y,h]);const v=p&&typeof p.range=="function"?p:d(h,y,p),S=v?v.range(h,+y+1):[];return m?S.reverse():S}function d(h,y,p){const m=Math.abs(y-h)/p,v=Rx(([,,b])=>b).right(l,m);if(v===l.length)return t.every(l0(h/Dm,y/Dm,p));if(v===0)return td.every(Math.max(l0(h,y,p),1));const[S,w]=l[m/l[v-1][2]<l[v][2]/m?v-1:v];return S.every(w)}return[u,d]}const[zB,BB]=AT(Ln,Qx,ef,OT,Xx,Gx),[qB,UB]=AT(Dn,Jx,Zd,Zl,Yx,Kx);function Lm(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zm(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function $s(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function FB(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,l=t.shortDays,u=t.months,d=t.shortMonths,h=Ms(i),y=Ds(i),p=Ms(o),m=Ds(o),v=Ms(l),S=Ds(l),w=Ms(u),b=Ds(u),k=Ms(d),A=Ds(d),O={a:Q,A:K,b:ee,B:Z,c:null,d:d2,e:d2,f:fq,g:_q,G:jq,H:uq,I:cq,j:dq,L:ET,m:hq,M:pq,p:N,q:L,Q:p2,s:y2,S:yq,u:gq,U:mq,V:vq,w:xq,W:bq,x:null,X:null,y:wq,Y:Sq,Z:kq,"%":h2},T={a:re,A:fe,b:me,B:we,c:null,d:f2,e:f2,f:Pq,g:zq,G:qq,H:Oq,I:Aq,j:Eq,L:TT,m:Tq,M:Cq,p:ie,q:he,Q:p2,s:y2,S:Nq,u:Iq,U:Rq,V:$q,w:Mq,W:Dq,x:null,X:null,y:Lq,Y:Bq,Z:Uq,"%":h2},j={a:V,A:U,b:R,B:z,c:W,d:u2,e:u2,f:aq,g:l2,G:s2,H:c2,I:c2,j:tq,L:iq,m:eq,M:rq,p:$,q:ZB,Q:sq,s:lq,S:nq,u:GB,U:YB,V:XB,w:KB,W:JB,x:H,X,y:l2,Y:s2,Z:QB,"%":oq};O.x=E(r,O),O.X=E(n,O),O.c=E(e,O),T.x=E(r,T),T.X=E(n,T),T.c=E(e,T);function E(ae,_e){return function(Ne){var oe=[],te=-1,je=0,Fe=ae.length,Ge,lt,bt;for(Ne instanceof Date||(Ne=new Date(+Ne));++te<Fe;)ae.charCodeAt(te)===37&&(oe.push(ae.slice(je,te)),(lt=o2[Ge=ae.charAt(++te)])!=null?Ge=ae.charAt(++te):lt=Ge==="e"?" ":"0",(bt=_e[Ge])&&(Ge=bt(Ne,lt)),oe.push(Ge),je=te+1);return oe.push(ae.slice(je,te)),oe.join("")}}function P(ae,_e){return function(Ne){var oe=$s(1900,void 0,1),te=I(oe,ae,Ne+="",0),je,Fe;if(te!=Ne.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(_e&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(je=zm($s(oe.y,0,1)),Fe=je.getUTCDay(),je=Fe>4||Fe===0?nd.ceil(je):nd(je),je=Qd.offset(je,(oe.V-1)*7),oe.y=je.getUTCFullYear(),oe.m=je.getUTCMonth(),oe.d=je.getUTCDate()+(oe.w+6)%7):(je=Lm($s(oe.y,0,1)),Fe=je.getDay(),je=Fe>4||Fe===0?rd.ceil(je):rd(je),je=Zl.offset(je,(oe.V-1)*7),oe.y=je.getFullYear(),oe.m=je.getMonth(),oe.d=je.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),Fe="Z"in oe?zm($s(oe.y,0,1)).getUTCDay():Lm($s(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(Fe+5)%7:oe.w+oe.U*7-(Fe+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,zm(oe)):Lm(oe)}}function I(ae,_e,Ne,oe){for(var te=0,je=_e.length,Fe=Ne.length,Ge,lt;te<je;){if(oe>=Fe)return-1;if(Ge=_e.charCodeAt(te++),Ge===37){if(Ge=_e.charAt(te++),lt=j[Ge in o2?_e.charAt(te++):Ge],!lt||(oe=lt(ae,Ne,oe))<0)return-1}else if(Ge!=Ne.charCodeAt(oe++))return-1}return oe}function $(ae,_e,Ne){var oe=h.exec(_e.slice(Ne));return oe?(ae.p=y.get(oe[0].toLowerCase()),Ne+oe[0].length):-1}function V(ae,_e,Ne){var oe=v.exec(_e.slice(Ne));return oe?(ae.w=S.get(oe[0].toLowerCase()),Ne+oe[0].length):-1}function U(ae,_e,Ne){var oe=p.exec(_e.slice(Ne));return oe?(ae.w=m.get(oe[0].toLowerCase()),Ne+oe[0].length):-1}function R(ae,_e,Ne){var oe=k.exec(_e.slice(Ne));return oe?(ae.m=A.get(oe[0].toLowerCase()),Ne+oe[0].length):-1}function z(ae,_e,Ne){var oe=w.exec(_e.slice(Ne));return oe?(ae.m=b.get(oe[0].toLowerCase()),Ne+oe[0].length):-1}function W(ae,_e,Ne){return I(ae,e,_e,Ne)}function H(ae,_e,Ne){return I(ae,r,_e,Ne)}function X(ae,_e,Ne){return I(ae,n,_e,Ne)}function Q(ae){return l[ae.getDay()]}function K(ae){return o[ae.getDay()]}function ee(ae){return d[ae.getMonth()]}function Z(ae){return u[ae.getMonth()]}function N(ae){return i[+(ae.getHours()>=12)]}function L(ae){return 1+~~(ae.getMonth()/3)}function re(ae){return l[ae.getUTCDay()]}function fe(ae){return o[ae.getUTCDay()]}function me(ae){return d[ae.getUTCMonth()]}function we(ae){return u[ae.getUTCMonth()]}function ie(ae){return i[+(ae.getUTCHours()>=12)]}function he(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var _e=E(ae+="",O);return _e.toString=function(){return ae},_e},parse:function(ae){var _e=P(ae+="",!1);return _e.toString=function(){return ae},_e},utcFormat:function(ae){var _e=E(ae+="",T);return _e.toString=function(){return ae},_e},utcParse:function(ae){var _e=P(ae+="",!0);return _e.toString=function(){return ae},_e}}}var o2={"-":"",_:" ",0:"0"},It=/^\s*\d+/,WB=/^%/,HB=/[\\^$*+?|[\]().{}]/g;function Be(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function VB(t){return t.replace(HB,"\\$&")}function Ms(t){return new RegExp("^(?:"+t.map(VB).join("|")+")","i")}function Ds(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function KB(t,e,r){var n=It.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function GB(t,e,r){var n=It.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function YB(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function XB(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function JB(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function s2(t,e,r){var n=It.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function l2(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function QB(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ZB(t,e,r){var n=It.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function eq(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function u2(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function tq(t,e,r){var n=It.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function c2(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function rq(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function nq(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function iq(t,e,r){var n=It.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function aq(t,e,r){var n=It.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function oq(t,e,r){var n=WB.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function sq(t,e,r){var n=It.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function lq(t,e,r){var n=It.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function d2(t,e){return Be(t.getDate(),e,2)}function uq(t,e){return Be(t.getHours(),e,2)}function cq(t,e){return Be(t.getHours()%12||12,e,2)}function dq(t,e){return Be(1+Zl.count(Dn(t),t),e,3)}function ET(t,e){return Be(t.getMilliseconds(),e,3)}function fq(t,e){return ET(t,e)+"000"}function hq(t,e){return Be(t.getMonth()+1,e,2)}function pq(t,e){return Be(t.getMinutes(),e,2)}function yq(t,e){return Be(t.getSeconds(),e,2)}function gq(t){var e=t.getDay();return e===0?7:e}function mq(t,e){return Be(Zd.count(Dn(t)-1,t),e,2)}function PT(t){var e=t.getDay();return e>=4||e===0?vo(t):vo.ceil(t)}function vq(t,e){return t=PT(t),Be(vo.count(Dn(t),t)+(Dn(t).getDay()===4),e,2)}function xq(t){return t.getDay()}function bq(t,e){return Be(rd.count(Dn(t)-1,t),e,2)}function wq(t,e){return Be(t.getFullYear()%100,e,2)}function _q(t,e){return t=PT(t),Be(t.getFullYear()%100,e,2)}function Sq(t,e){return Be(t.getFullYear()%1e4,e,4)}function jq(t,e){var r=t.getDay();return t=r>=4||r===0?vo(t):vo.ceil(t),Be(t.getFullYear()%1e4,e,4)}function kq(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Be(e/60|0,"0",2)+Be(e%60,"0",2)}function f2(t,e){return Be(t.getUTCDate(),e,2)}function Oq(t,e){return Be(t.getUTCHours(),e,2)}function Aq(t,e){return Be(t.getUTCHours()%12||12,e,2)}function Eq(t,e){return Be(1+Qd.count(Ln(t),t),e,3)}function TT(t,e){return Be(t.getUTCMilliseconds(),e,3)}function Pq(t,e){return TT(t,e)+"000"}function Tq(t,e){return Be(t.getUTCMonth()+1,e,2)}function Cq(t,e){return Be(t.getUTCMinutes(),e,2)}function Nq(t,e){return Be(t.getUTCSeconds(),e,2)}function Iq(t){var e=t.getUTCDay();return e===0?7:e}function Rq(t,e){return Be(ef.count(Ln(t)-1,t),e,2)}function CT(t){var e=t.getUTCDay();return e>=4||e===0?xo(t):xo.ceil(t)}function $q(t,e){return t=CT(t),Be(xo.count(Ln(t),t)+(Ln(t).getUTCDay()===4),e,2)}function Mq(t){return t.getUTCDay()}function Dq(t,e){return Be(nd.count(Ln(t)-1,t),e,2)}function Lq(t,e){return Be(t.getUTCFullYear()%100,e,2)}function zq(t,e){return t=CT(t),Be(t.getUTCFullYear()%100,e,2)}function Bq(t,e){return Be(t.getUTCFullYear()%1e4,e,4)}function qq(t,e){var r=t.getUTCDay();return t=r>=4||r===0?xo(t):xo.ceil(t),Be(t.getUTCFullYear()%1e4,e,4)}function Uq(){return"+0000"}function h2(){return"%"}function p2(t){return+t}function y2(t){return Math.floor(+t/1e3)}var Ka,NT,IT;Fq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Fq(t){return Ka=FB(t),NT=Ka.format,Ka.parse,IT=Ka.utcFormat,Ka.utcParse,Ka}function Wq(t){return new Date(t)}function Hq(t){return t instanceof Date?+t:+new Date(+t)}function Zx(t,e,r,n,i,o,l,u,d,h){var y=zx(),p=y.invert,m=y.domain,v=h(".%L"),S=h(":%S"),w=h("%I:%M"),b=h("%I %p"),k=h("%a %d"),A=h("%b %d"),O=h("%B"),T=h("%Y");function j(E){return(d(E)<E?v:u(E)<E?S:l(E)<E?w:o(E)<E?b:n(E)<E?i(E)<E?k:A:r(E)<E?O:T)(E)}return y.invert=function(E){return new Date(p(E))},y.domain=function(E){return arguments.length?m(Array.from(E,Hq)):m().map(Wq)},y.ticks=function(E){var P=m();return t(P[0],P[P.length-1],E??10)},y.tickFormat=function(E,P){return P==null?j:h(P)},y.nice=function(E){var P=m();return(!E||typeof E.range!="function")&&(E=e(P[0],P[P.length-1],E??10)),E?m(xT(P,E)):y},y.copy=function(){return Ql(y,Zx(t,e,r,n,i,o,l,u,d,h))},y}function Vq(){return Mr.apply(Zx(qB,UB,Dn,Jx,Zd,Zl,Yx,Kx,Zi,NT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Kq(){return Mr.apply(Zx(zB,BB,Ln,Qx,ef,Qd,Xx,Gx,Zi,IT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tf(){var t=0,e=1,r,n,i,o,l=Jt,u=!1,d;function h(p){return p==null||isNaN(p=+p)?d:l(i===0?.5:(p=(o(p)-r)*i,u?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(p){return arguments.length?(u=!!p,h):u},h.interpolator=function(p){return arguments.length?(l=p,h):l};function y(p){return function(m){var v,S;return arguments.length?([v,S]=m,l=p(v,S),h):[l(0),l(1)]}}return h.range=y(Uo),h.rangeRound=y(Lx),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return o=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),h}}function Oi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function RT(){var t=ki(tf()(Jt));return t.copy=function(){return Oi(t,RT())},Fn.apply(t,arguments)}function $T(){var t=Ux(tf()).domain([1,10]);return t.copy=function(){return Oi(t,$T()).base(t.base())},Fn.apply(t,arguments)}function MT(){var t=Fx(tf());return t.copy=function(){return Oi(t,MT()).constant(t.constant())},Fn.apply(t,arguments)}function eb(){var t=Wx(tf());return t.copy=function(){return Oi(t,eb()).exponent(t.exponent())},Fn.apply(t,arguments)}function Gq(){return eb.apply(null,arguments).exponent(.5)}function DT(){var t=[],e=Jt;function r(n){if(n!=null&&!isNaN(n=+n))return e((Xl(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(bi),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>R8(t,o/n))},r.copy=function(){return DT(e).domain(t)},Fn.apply(r,arguments)}function rf(){var t=0,e=.5,r=1,n=1,i,o,l,u,d,h=Jt,y,p=!1,m;function v(w){return isNaN(w=+w)?m:(w=.5+((w=+y(w))-o)*(n*w<n*o?u:d),h(p?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([t,e,r]=w,i=y(t=+t),o=y(e=+e),l=y(r=+r),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),n=o<i?-1:1,v):[t,e,r]},v.clamp=function(w){return arguments.length?(p=!!w,v):p},v.interpolator=function(w){return arguments.length?(h=w,v):h};function S(w){return function(b){var k,A,O;return arguments.length?([k,A,O]=b,h=oB(w,[k,A,O]),v):[h(0),h(.5),h(1)]}}return v.range=S(Uo),v.rangeRound=S(Lx),v.unknown=function(w){return arguments.length?(m=w,v):m},function(w){return y=w,i=w(t),o=w(e),l=w(r),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),n=o<i?-1:1,v}}function LT(){var t=ki(rf()(Jt));return t.copy=function(){return Oi(t,LT())},Fn.apply(t,arguments)}function zT(){var t=Ux(rf()).domain([.1,1,10]);return t.copy=function(){return Oi(t,zT()).base(t.base())},Fn.apply(t,arguments)}function BT(){var t=Fx(rf());return t.copy=function(){return Oi(t,BT()).constant(t.constant())},Fn.apply(t,arguments)}function tb(){var t=Wx(rf());return t.copy=function(){return Oi(t,tb()).exponent(t.exponent())},Fn.apply(t,arguments)}function Yq(){return tb.apply(null,arguments).exponent(.5)}const g2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vl,scaleDiverging:LT,scaleDivergingLog:zT,scaleDivergingPow:tb,scaleDivergingSqrt:Yq,scaleDivergingSymlog:BT,scaleIdentity:vT,scaleImplicit:u0,scaleLinear:ed,scaleLog:bT,scaleOrdinal:$x,scalePoint:Xs,scalePow:Hx,scaleQuantile:ST,scaleQuantize:jT,scaleRadial:_T,scaleSequential:RT,scaleSequentialLog:$T,scaleSequentialPow:eb,scaleSequentialQuantile:DT,scaleSequentialSqrt:Gq,scaleSequentialSymlog:MT,scaleSqrt:PB,scaleSymlog:wT,scaleThreshold:kT,scaleTime:Vq,scaleUtc:Kq,tickFormat:mT},Symbol.toStringTag,{value:"Module"}));var Bm,m2;function qT(){if(m2)return Bm;m2=1;var t=Do();function e(r,n,i){for(var o=-1,l=r.length;++o<l;){var u=r[o],d=n(u);if(d!=null&&(h===void 0?d===d&&!t(d):i(d,h)))var h=d,y=u}return y}return Bm=e,Bm}var qm,v2;function Xq(){if(v2)return qm;v2=1;function t(e,r){return e>r}return qm=t,qm}var Um,x2;function Jq(){if(x2)return Um;x2=1;var t=qT(),e=Xq(),r=qo();function n(i){return i&&i.length?t(i,r,e):void 0}return Um=n,Um}var Qq=Jq();const vi=Ke(Qq);var Fm,b2;function Zq(){if(b2)return Fm;b2=1;function t(e,r){return e<r}return Fm=t,Fm}var Wm,w2;function eU(){if(w2)return Wm;w2=1;var t=qT(),e=Zq(),r=qo();function n(i){return i&&i.length?t(i,r,e):void 0}return Wm=n,Wm}var tU=eU();const nf=Ke(tU);var Hm,_2;function rU(){if(_2)return Hm;_2=1;var t=mx(),e=ji(),r=XP(),n=cr();function i(o,l){var u=n(o)?t:r;return u(o,e(l,3))}return Hm=i,Hm}var Vm,S2;function nU(){if(S2)return Vm;S2=1;var t=GP(),e=rU();function r(n,i){return t(e(n,i),1)}return Vm=r,Vm}var iU=nU();const aU=Ke(iU);var Km,j2;function oU(){if(j2)return Km;j2=1;var t=Tx();function e(r,n){return t(r,n)}return Km=e,Km}var sU=oU();const bo=Ke(sU);var Fo=1e9,lU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nb,nt=!0,$r="[DecimalError] ",ia=$r+"Invalid argument: ",rb=$r+"Exponent out of range: ",Wo=Math.floor,Vi=Math.pow,uU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_r,Ct=1e7,tt=7,UT=9007199254740991,id=Wo(UT/tt),ge={};ge.absoluteValue=ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ge.comparedTo=ge.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*tt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ge.dividedBy=ge.div=function(t){return Rn(this,new this.constructor(t))};ge.dividedToIntegerBy=ge.idiv=function(t){var e=this,r=e.constructor;return Ve(Rn(e,new r(t),0,1),r.precision)};ge.equals=ge.eq=function(t){return!this.cmp(t)};ge.exponent=function(){return xt(this)};ge.greaterThan=ge.gt=function(t){return this.cmp(t)>0};ge.greaterThanOrEqualTo=ge.gte=function(t){return this.cmp(t)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(t){return this.cmp(t)<0};ge.lessThanOrEqualTo=ge.lte=function(t){return this.cmp(t)<1};ge.logarithm=ge.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(_r))throw Error($r+"NaN");if(r.s<1)throw Error($r+(r.s?"NaN":"-Infinity"));return r.eq(_r)?new n(0):(nt=!1,e=Rn(Sl(r,o),Sl(t,o),o),nt=!0,Ve(e,i))};ge.minus=ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?HT(e,t):FT(e,(t.s=-t.s,t))};ge.modulo=ge.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error($r+"NaN");return r.s?(nt=!1,e=Rn(r,t,0,1).times(t),nt=!0,r.minus(e)):Ve(new n(r),i)};ge.naturalExponential=ge.exp=function(){return WT(this)};ge.naturalLogarithm=ge.ln=function(){return Sl(this)};ge.negated=ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ge.plus=ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?FT(e,t):HT(e,(t.s=-t.s,t))};ge.precision=ge.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ia+t);if(e=xt(i)+1,n=i.d.length-1,r=n*tt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ge.squareRoot=ge.sqrt=function(){var t,e,r,n,i,o,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error($r+"NaN")}for(t=xt(u),nt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=dn(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Wo((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(i.toString()),r=d.precision,i=l=r+3;;)if(o=n,n=o.plus(Rn(u,o,l+2)).times(.5),dn(o.d).slice(0,l)===(e=dn(n.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Ve(o,r+1,0),o.times(o).eq(u)){n=o;break}}else if(e!="9999")break;l+=4}return nt=!0,Ve(n,r)};ge.times=ge.mul=function(t){var e,r,n,i,o,l,u,d,h,y=this,p=y.constructor,m=y.d,v=(t=new p(t)).d;if(!y.s||!t.s)return new p(0);for(t.s*=y.s,r=y.e+t.e,d=m.length,h=v.length,d<h&&(o=m,m=v,v=o,l=d,d=h,h=l),o=[],l=d+h,n=l;n--;)o.push(0);for(n=h;--n>=0;){for(e=0,i=d+n;i>n;)u=o[i]+v[n]*m[i-n-1]+e,o[i--]=u%Ct|0,e=u/Ct|0;o[i]=(o[i]+e)%Ct|0}for(;!o[--l];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,nt?Ve(t,p.precision):t};ge.toDecimalPlaces=ge.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(yn(t,0,Fo),e===void 0?e=n.rounding:yn(e,0,8),Ve(r,t+xt(r)+1,e))};ge.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=sa(n,!0):(yn(t,0,Fo),e===void 0?e=i.rounding:yn(e,0,8),n=Ve(new i(n),t+1,e),r=sa(n,!0,t+1)),r};ge.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?sa(i):(yn(t,0,Fo),e===void 0?e=o.rounding:yn(e,0,8),n=Ve(new o(i),t+xt(i)+1,e),r=sa(n.abs(),!1,t+xt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ge.toInteger=ge.toint=function(){var t=this,e=t.constructor;return Ve(new e(t),xt(t)+1,e.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(t){var e,r,n,i,o,l,u=this,d=u.constructor,h=12,y=+(t=new d(t));if(!t.s)return new d(_r);if(u=new d(u),!u.s){if(t.s<1)throw Error($r+"Infinity");return u}if(u.eq(_r))return u;if(n=d.precision,t.eq(_r))return Ve(u,n);if(e=t.e,r=t.d.length-1,l=e>=r,o=u.s,l){if((r=y<0?-y:y)<=UT){for(i=new d(_r),e=Math.ceil(n/tt+4),nt=!1;r%2&&(i=i.times(u),O2(i.d,e)),r=Wo(r/2),r!==0;)u=u.times(u),O2(u.d,e);return nt=!0,t.s<0?new d(_r).div(i):Ve(i,n)}}else if(o<0)throw Error($r+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,nt=!1,i=t.times(Sl(u,n+h)),nt=!0,i=WT(i),i.s=o,i};ge.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=xt(i),n=sa(i,r<=o.toExpNeg||r>=o.toExpPos)):(yn(t,1,Fo),e===void 0?e=o.rounding:yn(e,0,8),i=Ve(new o(i),t,e),r=xt(i),n=sa(i,t<=r||r<=o.toExpNeg,t)),n};ge.toSignificantDigits=ge.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(yn(t,1,Fo),e===void 0?e=n.rounding:yn(e,0,8)),Ve(new n(r),t,e)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=xt(t),r=t.constructor;return sa(t,e<=r.toExpNeg||e>=r.toExpPos)};function FT(t,e){var r,n,i,o,l,u,d,h,y=t.constructor,p=y.precision;if(!t.s||!e.s)return e.s||(e=new y(t)),nt?Ve(e,p):e;if(d=t.d,h=e.d,l=t.e,i=e.e,d=d.slice(),o=l-i,o){for(o<0?(n=d,o=-o,u=h.length):(n=h,i=l,u=d.length),l=Math.ceil(p/tt),u=l>u?l+1:u+1,o>u&&(o=u,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(u=d.length,o=h.length,u-o<0&&(o=u,n=h,h=d,d=n),r=0;o;)r=(d[--o]=d[o]+h[o]+r)/Ct|0,d[o]%=Ct;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,nt?Ve(e,p):e}function yn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ia+t)}function dn(t){var e,r,n,i=t.length-1,o="",l=t[0];if(i>0){for(o+=l,e=1;e<i;e++)n=t[e]+"",r=tt-n.length,r&&(o+=yi(r)),o+=n;l=t[e],n=l+"",r=tt-n.length,r&&(o+=yi(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var Rn=(function(){function t(n,i){var o,l=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+l,n[u]=o%Ct|0,l=o/Ct|0;return l&&n.unshift(l),n}function e(n,i,o,l){var u,d;if(o!=l)d=o>l?1:-1;else for(u=d=0;u<o;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,o){for(var l=0;o--;)n[o]-=l,l=n[o]<i[o]?1:0,n[o]=l*Ct+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,l){var u,d,h,y,p,m,v,S,w,b,k,A,O,T,j,E,P,I,$=n.constructor,V=n.s==i.s?1:-1,U=n.d,R=i.d;if(!n.s)return new $(n);if(!i.s)throw Error($r+"Division by zero");for(d=n.e-i.e,P=R.length,j=U.length,v=new $(V),S=v.d=[],h=0;R[h]==(U[h]||0);)++h;if(R[h]>(U[h]||0)&&--d,o==null?A=o=$.precision:l?A=o+(xt(n)-xt(i))+1:A=o,A<0)return new $(0);if(A=A/tt+2|0,h=0,P==1)for(y=0,R=R[0],A++;(h<j||y)&&A--;h++)O=y*Ct+(U[h]||0),S[h]=O/R|0,y=O%R|0;else{for(y=Ct/(R[0]+1)|0,y>1&&(R=t(R,y),U=t(U,y),P=R.length,j=U.length),T=P,w=U.slice(0,P),b=w.length;b<P;)w[b++]=0;I=R.slice(),I.unshift(0),E=R[0],R[1]>=Ct/2&&++E;do y=0,u=e(R,w,P,b),u<0?(k=w[0],P!=b&&(k=k*Ct+(w[1]||0)),y=k/E|0,y>1?(y>=Ct&&(y=Ct-1),p=t(R,y),m=p.length,b=w.length,u=e(p,w,m,b),u==1&&(y--,r(p,P<m?I:R,m))):(y==0&&(u=y=1),p=R.slice()),m=p.length,m<b&&p.unshift(0),r(w,p,b),u==-1&&(b=w.length,u=e(R,w,P,b),u<1&&(y++,r(w,P<b?I:R,b))),b=w.length):u===0&&(y++,w=[0]),S[h++]=y,u&&w[0]?w[b++]=U[T]||0:(w=[U[T]],b=1);while((T++<j||w[0]!==void 0)&&A--)}return S[0]||S.shift(),v.e=d,Ve(v,l?o+xt(v)+1:o)}})();function WT(t,e){var r,n,i,o,l,u,d=0,h=0,y=t.constructor,p=y.precision;if(xt(t)>16)throw Error(rb+xt(t));if(!t.s)return new y(_r);for(nt=!1,u=p,l=new y(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(n=Math.log(Vi(2,h))/Math.LN10*2+5|0,u+=n,r=i=o=new y(_r),y.precision=u;;){if(i=Ve(i.times(t),u),r=r.times(++d),l=o.plus(Rn(i,r,u)),dn(l.d).slice(0,u)===dn(o.d).slice(0,u)){for(;h--;)o=Ve(o.times(o),u);return y.precision=p,e==null?(nt=!0,Ve(o,p)):o}o=l}}function xt(t){for(var e=t.e*tt,r=t.d[0];r>=10;r/=10)e++;return e}function Gm(t,e,r){if(e>t.LN10.sd())throw nt=!0,r&&(t.precision=r),Error($r+"LN10 precision limit exceeded");return Ve(new t(t.LN10),e)}function yi(t){for(var e="";t--;)e+="0";return e}function Sl(t,e){var r,n,i,o,l,u,d,h,y,p=1,m=10,v=t,S=v.d,w=v.constructor,b=w.precision;if(v.s<1)throw Error($r+(v.s?"NaN":"-Infinity"));if(v.eq(_r))return new w(0);if(e==null?(nt=!1,h=b):h=e,v.eq(10))return e==null&&(nt=!0),Gm(w,h);if(h+=m,w.precision=h,r=dn(S),n=r.charAt(0),o=xt(v),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=dn(v.d),n=r.charAt(0),p++;o=xt(v),n>1?(v=new w("0."+r),o++):v=new w(n+"."+r.slice(1))}else return d=Gm(w,h+2,b).times(o+""),v=Sl(new w(n+"."+r.slice(1)),h-m).plus(d),w.precision=b,e==null?(nt=!0,Ve(v,b)):v;for(u=l=v=Rn(v.minus(_r),v.plus(_r),h),y=Ve(v.times(v),h),i=3;;){if(l=Ve(l.times(y),h),d=u.plus(Rn(l,new w(i),h)),dn(d.d).slice(0,h)===dn(u.d).slice(0,h))return u=u.times(2),o!==0&&(u=u.plus(Gm(w,h+2,b).times(o+""))),u=Rn(u,new w(p),h),w.precision=b,e==null?(nt=!0,Ve(u,b)):u;u=d,i+=2}}function k2(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Wo(r/tt),t.d=[],n=(r+1)%tt,r<0&&(n+=tt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=tt;n<i;)t.d.push(+e.slice(n,n+=tt));e=e.slice(n),n=tt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),nt&&(t.e>id||t.e<-id))throw Error(rb+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ve(t,e,r){var n,i,o,l,u,d,h,y,p=t.d;for(l=1,o=p[0];o>=10;o/=10)l++;if(n=e-l,n<0)n+=tt,i=e,h=p[y=0];else{if(y=Math.ceil((n+1)/tt),o=p.length,y>=o)return t;for(h=o=p[y],l=1;o>=10;o/=10)l++;n%=tt,i=n-tt+l}if(r!==void 0&&(o=Vi(10,l-i-1),u=h/o%10|0,d=e<0||p[y+1]!==void 0||h%o,d=r<4?(u||d)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?h/Vi(10,l-i):0:p[y-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return d?(o=xt(t),p.length=1,e=e-o-1,p[0]=Vi(10,(tt-e%tt)%tt),t.e=Wo(-e/tt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=y,o=1,y--):(p.length=y+1,o=Vi(10,tt-n),p[y]=i>0?(h/Vi(10,l-i)%Vi(10,i)|0)*o:0),d)for(;;)if(y==0){(p[0]+=o)==Ct&&(p[0]=1,++t.e);break}else{if(p[y]+=o,p[y]!=Ct)break;p[y--]=0,o=1}for(n=p.length;p[--n]===0;)p.pop();if(nt&&(t.e>id||t.e<-id))throw Error(rb+xt(t));return t}function HT(t,e){var r,n,i,o,l,u,d,h,y,p,m=t.constructor,v=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),nt?Ve(e,v):e;if(d=t.d,p=e.d,n=e.e,h=t.e,d=d.slice(),l=h-n,l){for(y=l<0,y?(r=d,l=-l,u=p.length):(r=p,n=h,u=d.length),i=Math.max(Math.ceil(v/tt),u)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=p.length,y=i<u,y&&(u=i),i=0;i<u;i++)if(d[i]!=p[i]){y=d[i]<p[i];break}l=0}for(y&&(r=d,d=p,p=r,e.s=-e.s),u=d.length,i=p.length-u;i>0;--i)d[u++]=0;for(i=p.length;i>l;){if(d[--i]<p[i]){for(o=i;o&&d[--o]===0;)d[o]=Ct-1;--d[o],d[i]+=Ct}d[i]-=p[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,nt?Ve(e,v):e):new m(0)}function sa(t,e,r){var n,i=xt(t),o=dn(t.d),l=o.length;return e?(r&&(n=r-l)>0?o=o.charAt(0)+"."+o.slice(1)+yi(n):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+yi(-i-1)+o,r&&(n=r-l)>0&&(o+=yi(n))):i>=l?(o+=yi(i+1-l),r&&(n=r-i-1)>0&&(o=o+"."+yi(n))):((n=i+1)<l&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(o+="."),o+=yi(n))),t.s<0?"-"+o:o}function O2(t,e){if(t.length>e)return t.length=e,!0}function VT(t){var e,r,n;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ia+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return k2(l,o.toString())}else if(typeof o!="string")throw Error(ia+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,uU.test(o))k2(l,o);else throw Error(ia+o)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=VT,i.config=i.set=cU,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function cU(t){if(!t||typeof t!="object")throw Error($r+"Object expected");var e,r,n,i=["precision",1,Fo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Wo(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(ia+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ia+r+": "+n);return this}var nb=VT(lU);_r=new nb(1);const He=nb;function dU(t){return yU(t)||pU(t)||hU(t)||fU()}function fU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hU(t,e){if(t){if(typeof t=="string")return h0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h0(t,e)}}function pU(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function yU(t){if(Array.isArray(t))return h0(t)}function h0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var gU=function(e){return e},KT={},GT=function(e){return e===KT},A2=function(e){return function r(){return arguments.length===0||arguments.length===1&&GT(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},mU=function t(e,r){return e===1?r:A2(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var l=i.filter(function(u){return u!==KT}).length;return l>=e?r.apply(void 0,i):t(e-l,A2(function(){for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var y=i.map(function(p){return GT(p)?d.shift():p});return r.apply(void 0,dU(y).concat(d))}))})},af=function(e){return mU(e.length,e)},p0=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},vU=af(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),xU=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return gU;var i=r.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce(function(u,d){return d(u)},o.apply(void 0,arguments))}},y0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},YT=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r&&o.every(function(u,d){return u===r[d]})||(r=o,n=e.apply(void 0,o)),n}};function bU(t){var e;return t===0?e=1:e=Math.floor(new He(t).abs().log(10).toNumber())+1,e}function wU(t,e,r){for(var n=new He(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var _U=af(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),SU=af(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),jU=af(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const of={rangeStep:wU,getDigitCount:bU,interpolateNumber:_U,uninterpolateNumber:SU,uninterpolateTruncation:jU};function g0(t){return AU(t)||OU(t)||XT(t)||kU()}function kU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OU(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function AU(t){if(Array.isArray(t))return m0(t)}function jl(t,e){return TU(t)||PU(t,e)||XT(t,e)||EU()}function EU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XT(t,e){if(t){if(typeof t=="string")return m0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m0(t,e)}}function m0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PU(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var l=t[Symbol.iterator](),u;!(n=(u=l.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,o=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(i)throw o}}return r}}function TU(t){if(Array.isArray(t))return t}function JT(t){var e=jl(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function QT(t,e,r){if(t.lte(0))return new He(0);var n=of.getDigitCount(t.toNumber()),i=new He(10).pow(n),o=t.div(i),l=n!==1?.05:.1,u=new He(Math.ceil(o.div(l).toNumber())).add(r).mul(l),d=u.mul(i);return e?d:new He(Math.ceil(d))}function CU(t,e,r){var n=1,i=new He(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new He(10).pow(of.getDigitCount(t)-1),i=new He(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new He(Math.floor(t)))}else t===0?i=new He(Math.floor((e-1)/2)):r||(i=new He(Math.floor(t)));var l=Math.floor((e-1)/2),u=xU(vU(function(d){return i.add(new He(d-l).mul(n)).toNumber()}),p0);return u(0,e)}function ZT(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new He(0),tickMin:new He(0),tickMax:new He(0)};var o=QT(new He(e).sub(t).div(r-1),n,i),l;t<=0&&e>=0?l=new He(0):(l=new He(t).add(e).div(2),l=l.sub(new He(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new He(e).sub(l).div(o).toNumber()),h=u+d+1;return h>r?ZT(t,e,r,n,i+1):(h<r&&(d=e>0?d+(r-h):d,u=e>0?u:u+(r-h)),{step:o,tickMin:l.sub(new He(u).mul(o)),tickMax:l.add(new He(d).mul(o))})}function NU(t){var e=jl(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),u=JT([r,n]),d=jl(u,2),h=d[0],y=d[1];if(h===-1/0||y===1/0){var p=y===1/0?[h].concat(g0(p0(0,i-1).map(function(){return 1/0}))):[].concat(g0(p0(0,i-1).map(function(){return-1/0})),[y]);return r>n?y0(p):p}if(h===y)return CU(h,i,o);var m=ZT(h,y,l,o),v=m.step,S=m.tickMin,w=m.tickMax,b=of.rangeStep(S,w.add(new He(.1).mul(v)),v);return r>n?y0(b):b}function IU(t,e){var r=jl(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=JT([n,i]),u=jl(l,2),d=u[0],h=u[1];if(d===-1/0||h===1/0)return[n,i];if(d===h)return[d];var y=Math.max(e,2),p=QT(new He(h).sub(d).div(y-1),o,0),m=[].concat(g0(of.rangeStep(new He(d),new He(h).sub(new He(.99).mul(p)),p)),[h]);return n>i?y0(m):m}var RU=YT(NU),$U=YT(IU),MU="Invariant failed";function la(t,e){throw new Error(MU)}var DU=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function wo(t){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(t)}function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ad.apply(this,arguments)}function LU(t,e){return UU(t)||qU(t,e)||BU(t,e)||zU()}function zU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BU(t,e){if(t){if(typeof t=="string")return E2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E2(t,e)}}function E2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qU(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function UU(t){if(Array.isArray(t))return t}function FU(t,e){if(t==null)return{};var r=WU(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function HU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rC(n.key),n)}}function KU(t,e,r){return e&&VU(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GU(t,e,r){return e=od(e),YU(t,eC()?Reflect.construct(e,r||[],od(t).constructor):e.apply(t,r))}function YU(t,e){if(e&&(wo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XU(t)}function XU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eC=function(){return!!t})()}function od(t){return od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},od(t)}function JU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v0(t,e)}function v0(t,e){return v0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v0(t,e)}function tC(t,e,r){return e=rC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rC(t){var e=QU(t,"string");return wo(e)=="symbol"?e:e+""}function QU(t,e){if(wo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eu=(function(t){function e(){return HU(this,e),GU(this,e,arguments)}return JU(e,t),KU(e,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,l=n.width,u=n.dataKey,d=n.data,h=n.dataPointFormatter,y=n.xAxis,p=n.yAxis,m=FU(n,DU),v=Re(m,!1);this.props.direction==="x"&&y.type!=="number"&&la();var S=d.map(function(w){var b=h(w,u),k=b.x,A=b.y,O=b.value,T=b.errorVal;if(!T)return null;var j=[],E,P;if(Array.isArray(T)){var I=LU(T,2);E=I[0],P=I[1]}else E=P=T;if(o==="vertical"){var $=y.scale,V=A+i,U=V+l,R=V-l,z=$(O-E),W=$(O+P);j.push({x1:W,y1:U,x2:W,y2:R}),j.push({x1:z,y1:V,x2:W,y2:V}),j.push({x1:z,y1:U,x2:z,y2:R})}else if(o==="horizontal"){var H=p.scale,X=k+i,Q=X-l,K=X+l,ee=H(O-E),Z=H(O+P);j.push({x1:Q,y1:Z,x2:K,y2:Z}),j.push({x1:X,y1:ee,x2:X,y2:Z}),j.push({x1:Q,y1:ee,x2:K,y2:ee})}return q.createElement(Qe,ad({className:"recharts-errorBar",key:"bar-".concat(j.map(function(N){return"".concat(N.x1,"-").concat(N.x2,"-").concat(N.y1,"-").concat(N.y2)}))},v),j.map(function(N){return q.createElement("line",ad({},N,{key:"line-".concat(N.x1,"-").concat(N.x2,"-").concat(N.y1,"-").concat(N.y2)}))}))});return q.createElement(Qe,{className:"recharts-errorBars"},S)}}])})(q.Component);tC(eu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});tC(eu,"displayName","ErrorBar");function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function P2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(r),!0).forEach(function(n){ZU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZU(t,e,r){return e=eF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eF(t){var e=tF(t,"string");return kl(e)=="symbol"?e:e+""}function tF(t,e){if(kl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nC=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,l=vr(r,ra);if(!l)return null;var u=ra.defaultProps,d=u!==void 0?Fi(Fi({},u),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:o==="children"?h=(n||[]).reduce(function(y,p){var m=p.item,v=p.props,S=v.sectors||v.data||[];return y.concat(S.map(function(w){return{type:l.props.iconType||m.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):h=(n||[]).map(function(y){var p=y.item,m=p.type.defaultProps,v=m!==void 0?Fi(Fi({},m),p.props):{},S=v.dataKey,w=v.name,b=v.legendType,k=v.hide;return{inactive:k,dataKey:S,type:d.iconType||b||"square",color:ib(p),value:w||S,payload:v}}),Fi(Fi(Fi({},d),ra.getWithHeight(l,i)),{},{payload:h,item:l})};function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function T2(t){return aF(t)||iF(t)||nF(t)||rF()}function rF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nF(t,e){if(t){if(typeof t=="string")return x0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x0(t,e)}}function iF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aF(t){if(Array.isArray(t))return x0(t)}function x0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function C2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C2(Object(r),!0).forEach(function(n){so(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function so(t,e,r){return e=oF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oF(t){var e=sF(t,"string");return Ol(e)=="symbol"?e:e+""}function sF(t,e){if(Ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zt(t,e,r){return $e(t)||$e(e)?r:Ot(e)?Ir(t,e,r):Ie(e)?e(t):r}function Js(t,e,r,n){var i=aU(t,function(u){return Zt(u,e)});if(r==="number"){var o=i.filter(function(u){return de(u)||parseFloat(u)});return o.length?[nf(o),vi(o)]:[1/0,-1/0]}var l=n?i.filter(function(u){return!$e(u)}):i;return l.map(function(u){return Ot(u)||u instanceof Date?u:""})}var lF=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var d=o.range,h=0;h<u;h++){var y=h>0?i[h-1].coordinate:i[u-1].coordinate,p=i[h].coordinate,m=h>=u-1?i[0].coordinate:i[h+1].coordinate,v=void 0;if(Qr(p-y)!==Qr(m-p)){var S=[];if(Qr(m-p)===Qr(d[1]-d[0])){v=m;var w=p+d[1]-d[0];S[0]=Math.min(w,(w+y)/2),S[1]=Math.max(w,(w+y)/2)}else{v=y;var b=m+d[1]-d[0];S[0]=Math.min(p,(b+p)/2),S[1]=Math.max(p,(b+p)/2)}var k=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>k[0]&&e<=k[1]||e>=S[0]&&e<=S[1]){l=i[h].index;break}}else{var A=Math.min(y,m),O=Math.max(y,m);if(e>(A+p)/2&&e<=(O+p)/2){l=i[h].index;break}}}else for(var T=0;T<u;T++)if(T===0&&e<=(n[T].coordinate+n[T+1].coordinate)/2||T>0&&T<u-1&&e>(n[T].coordinate+n[T-1].coordinate)/2&&e<=(n[T].coordinate+n[T+1].coordinate)/2||T===u-1&&e>(n[T].coordinate+n[T-1].coordinate)/2){l=n[T].index;break}return l},ib=function(e){var r,n=e,i=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?dt(dt({},e.type.defaultProps),e.props):e.props,l=o.stroke,u=o.fill,d;switch(i){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},uF=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var l={},u=Object.keys(o),d=0,h=u.length;d<h;d++)for(var y=o[u[d]].stackGroups,p=Object.keys(y),m=0,v=p.length;m<v;m++){var S=y[p[m]],w=S.items,b=S.cateAxisId,k=w.filter(function(P){return Nn(P.type).indexOf("Bar")>=0});if(k&&k.length){var A=k[0].type.defaultProps,O=A!==void 0?dt(dt({},A),k[0].props):k[0].props,T=O.barSize,j=O[b];l[j]||(l[j]=[]);var E=$e(T)?r:T;l[j].push({item:k[0],stackList:k.slice(1),barSize:$e(E)?void 0:oa(E,n,0)})}}return l},cF=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,l=o===void 0?[]:o,u=e.maxBarSize,d=l.length;if(d<1)return null;var h=oa(r,i,0,!0),y,p=[];if(l[0].barSize===+l[0].barSize){var m=!1,v=i/d,S=l.reduce(function(T,j){return T+j.barSize||0},0);S+=(d-1)*h,S>=i&&(S-=(d-1)*h,h=0),S>=i&&v>0&&(m=!0,v*=.9,S=d*v);var w=(i-S)/2>>0,b={offset:w-h,size:0};y=l.reduce(function(T,j){var E={item:j.item,position:{offset:b.offset+b.size+h,size:m?v:j.barSize}},P=[].concat(T2(T),[E]);return b=P[P.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(I){P.push({item:I,position:b})}),P},p)}else{var k=oa(n,i,0,!0);i-2*k-(d-1)*h<=0&&(h=0);var A=(i-2*k-(d-1)*h)/d;A>1&&(A>>=0);var O=u===+u?Math.min(A,u):A;y=l.reduce(function(T,j,E){var P=[].concat(T2(T),[{item:j.item,position:{offset:k+(A+h)*E+(A-O)/2,size:O}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(I){P.push({item:I,position:P[P.length-1].position})}),P},p)}return y},dF=function(e,r,n,i){var o=n.children,l=n.width,u=n.margin,d=l-(u.left||0)-(u.right||0),h=nC({children:o,legendWidth:d});if(h){var y=i||{},p=y.width,m=y.height,v=h.align,S=h.verticalAlign,w=h.layout;if((w==="vertical"||w==="horizontal"&&S==="middle")&&v!=="center"&&de(e[v]))return dt(dt({},e),{},so({},v,e[v]+(p||0)));if((w==="horizontal"||w==="vertical"&&v==="center")&&S!=="middle"&&de(e[S]))return dt(dt({},e),{},so({},S,e[S]+(m||0)))}return e},fF=function(e,r,n){return $e(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},iC=function(e,r,n,i,o){var l=r.props.children,u=Rr(l,eu).filter(function(h){return fF(i,o,h.props.direction)});if(u&&u.length){var d=u.map(function(h){return h.props.dataKey});return e.reduce(function(h,y){var p=Zt(y,n);if($e(p))return h;var m=Array.isArray(p)?[nf(p),vi(p)]:[p,p],v=d.reduce(function(S,w){var b=Zt(y,w,0),k=m[0]-Math.abs(Array.isArray(b)?b[0]:b),A=m[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(k,S[0]),Math.max(A,S[1])]},[1/0,-1/0]);return[Math.min(v[0],h[0]),Math.max(v[1],h[1])]},[1/0,-1/0])}return null},hF=function(e,r,n,i,o){var l=r.map(function(u){return iC(e,u,n,o,i)}).filter(function(u){return!$e(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},aC=function(e,r,n,i,o){var l=r.map(function(d){var h=d.props.dataKey;return n==="number"&&h&&iC(e,d,h,i)||Js(e,h,n,o)});if(n==="number")return l.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,h){for(var y=0,p=h.length;y<p;y++)u[h[y]]||(u[h[y]]=!0,d.push(h[y]));return d},[])},oC=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},sC=function(e,r,n,i){if(i)return e.map(function(d){return d.coordinate});var o,l,u=e.map(function(d){return d.coordinate===r&&(o=!0),d.coordinate===n&&(l=!0),d.coordinate});return o||u.push(r),l||u.push(n),u},Tn=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,l=e.type,u=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(r||n)&&l==="category"&&i.bandwidth?i.bandwidth()/d:0;if(h=e.axisType==="angleAxis"&&u?.length>=2?Qr(u[0]-u[1])*2*h:h,r&&(e.ticks||e.niceTicks)){var y=(e.ticks||e.niceTicks).map(function(p){var m=o?o.indexOf(p):p;return{coordinate:i(m)+h,value:p,offset:h}});return y.filter(function(p){return!zo(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,m){return{coordinate:i(p)+h,value:p,index:m,offset:h}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+h,value:p,offset:h}}):i.domain().map(function(p,m){return{coordinate:i(p)+h,value:o?o[p]:p,index:m,offset:h}})},Ym=new WeakMap,jc=function(e,r){if(typeof r!="function")return e;Ym.has(e)||Ym.set(e,new WeakMap);var n=Ym.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},pF=function(e,r,n){var i=e.scale,o=e.type,l=e.layout,u=e.axisType;if(i==="auto")return l==="radial"&&u==="radiusAxis"?{scale:vl(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:ed(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Xs(),realScaleType:"point"}:o==="category"?{scale:vl(),realScaleType:"band"}:{scale:ed(),realScaleType:"linear"};if(aa(i)){var d="scale".concat(Wd(i));return{scale:(g2[d]||Xs)(),realScaleType:g2[d]?d:"point"}}return Ie(i)?{scale:i}:{scale:Xs(),realScaleType:"point"}},N2=1e-4,yF=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-N2,l=Math.max(i[0],i[1])+N2,u=e(r[0]),d=e(r[n-1]);(u<o||u>l||d<o||d>l)&&e.domain([r[0],r[n-1]])}},gF=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},mF=function(e,r){if(!r||r.length!==2||!de(r[0])||!de(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!de(e[0])||e[0]<n)&&(o[0]=n),(!de(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},vF=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,l=0,u=0;u<r;++u){var d=zo(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=o,e[u][n][1]=o+d,o=e[u][n][1]):(e[u][n][0]=l,e[u][n][1]=l+d,l=e[u][n][1])}},xF=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,l=0;l<r;++l){var u=zo(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=o,e[l][n][1]=o+u,o=e[l][n][1]):(e[l][n][0]=0,e[l][n][1]=0)}},bF={sign:vF,expand:r6,none:fo,silhouette:n6,wiggle:i6,positive:xF},wF=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),o=bF[n],l=t6().keys(i).value(function(u,d){return+Zt(u,d,0)}).order(Yv).offset(o);return l(e)},_F=function(e,r,n,i,o,l){if(!e)return null;var u=l?r.reverse():r,d={},h=u.reduce(function(p,m){var v,S=(v=m.type)!==null&&v!==void 0&&v.defaultProps?dt(dt({},m.type.defaultProps),m.props):m.props,w=S.stackId,b=S.hide;if(b)return p;var k=S[n],A=p[k]||{hasStack:!1,stackGroups:{}};if(Ot(w)){var O=A.stackGroups[w]||{numericAxisId:n,cateAxisId:i,items:[]};O.items.push(m),A.hasStack=!0,A.stackGroups[w]=O}else A.stackGroups[Bo("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[m]};return dt(dt({},p),{},so({},k,A))},d),y={};return Object.keys(h).reduce(function(p,m){var v=h[m];if(v.hasStack){var S={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(w,b){var k=v.stackGroups[b];return dt(dt({},w),{},so({},b,{numericAxisId:n,cateAxisId:i,items:k.items,stackedData:wF(e,k.items,o)}))},S)}return dt(dt({},p),{},so({},m,v))},y)},SF=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(o&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=e.domain();if(!h.length)return null;var y=RU(h,o,u);return e.domain([nf(y),vi(y)]),{niceTicks:y}}if(o&&i==="number"){var p=e.domain(),m=$U(p,o,u);return{niceTicks:m}}return null};function sd(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,o=t.index,l=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!$e(i[e.dataKey])){var u=Ic(r,"value",i[e.dataKey]);if(u)return u.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var d=Zt(i,$e(l)?e.dataKey:l);return $e(d)?null:e.scale(d)}var I2=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,l=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var d=Zt(l,r.dataKey,r.domain[u]);return $e(d)?null:r.scale(d)-o/2+i},jF=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},kF=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?dt(dt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Ot(o)){var l=r[o];if(l){var u=l.items.indexOf(e);return u>=0?l.stackedData[u]:null}}return null},OF=function(e){return e.reduce(function(r,n){return[nf(n.concat([r[0]]).filter(de)),vi(n.concat([r[1]]).filter(de))]},[1/0,-1/0])},lC=function(e,r,n){return Object.keys(e).reduce(function(i,o){var l=e[o],u=l.stackedData,d=u.reduce(function(h,y){var p=OF(y.slice(r,n+1));return[Math.min(h[0],p[0]),Math.max(h[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},R2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,b0=function(e,r,n){if(Ie(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(de(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(R2.test(e[0])){var o=+R2.exec(e[0])[1];i[0]=r[0]-o}else Ie(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(de(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if($2.test(e[1])){var l=+$2.exec(e[1])[1];i[1]=r[1]+l}else Ie(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},ld=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=Nx(r,function(p){return p.coordinate}),l=1/0,u=1,d=o.length;u<d;u++){var h=o[u],y=o[u-1];l=Math.min((h.coordinate||0)-(y.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},M2=function(e,r,n){return!e||!e.length||bo(e,Ir(n,"type.defaultProps.domain"))?r:e},uC=function(e,r){var n=e.type.defaultProps?dt(dt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,o=n.name,l=n.unit,u=n.formatter,d=n.tooltipType,h=n.chartType,y=n.hide;return dt(dt({},Re(e,!1)),{},{dataKey:i,unit:l,formatter:u,name:o||i,color:ib(e),value:Zt(r,i),type:d,payload:r,chartType:h,hide:y})};function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function D2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function L2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(r),!0).forEach(function(n){AF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AF(t,e,r){return e=EF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EF(t){var e=PF(t,"string");return Al(e)=="symbol"?e:e+""}function PF(t,e){if(Al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ud=Math.PI/180,TF=function(e){return e*180/Math.PI},Bt=function(e,r,n,i){return{x:e+Math.cos(-ud*i)*n,y:r+Math.sin(-ud*i)*n}},CF=function(e,r){var n=e.x,i=e.y,o=r.x,l=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-l,2))},NF=function(e,r){var n=e.x,i=e.y,o=r.cx,l=r.cy,u=CF({x:n,y:i},{x:o,y:l});if(u<=0)return{radius:u};var d=(n-o)/u,h=Math.acos(d);return i>l&&(h=2*Math.PI-h),{radius:u,angle:TF(h),angleInRadian:h}},IF=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),l=Math.min(i,o);return{startAngle:r-l*360,endAngle:n-l*360}},RF=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),l=Math.floor(i/360),u=Math.min(o,l);return e+u*360},z2=function(e,r){var n=e.x,i=e.y,o=NF({x:n,y:i},r),l=o.radius,u=o.angle,d=r.innerRadius,h=r.outerRadius;if(l<d||l>h)return!1;if(l===0)return!0;var y=IF(r),p=y.startAngle,m=y.endAngle,v=u,S;if(p<=m){for(;v>m;)v-=360;for(;v<p;)v+=360;S=v>=p&&v<=m}else{for(;v>p;)v-=360;for(;v<m;)v+=360;S=v>=m&&v<=p}return S?L2(L2({},r),{},{radius:l,angle:RF(v,r)}):null};function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}var $F=["offset"];function MF(t){return BF(t)||zF(t)||LF(t)||DF()}function DF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LF(t,e){if(t){if(typeof t=="string")return w0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w0(t,e)}}function zF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BF(t){if(Array.isArray(t))return w0(t)}function w0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qF(t,e){if(t==null)return{};var r=UF(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UF(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function B2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(r),!0).forEach(function(n){FF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FF(t,e,r){return e=WF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WF(t){var e=HF(t,"string");return El(e)=="symbol"?e:e+""}function HF(t,e){if(El(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pl.apply(this,arguments)}var VF=function(e){var r=e.value,n=e.formatter,i=$e(e.children)?r:e.children;return Ie(n)?n(i):i},KF=function(e,r){var n=Qr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},GF=function(e,r,n){var i=e.position,o=e.viewBox,l=e.offset,u=e.className,d=o,h=d.cx,y=d.cy,p=d.innerRadius,m=d.outerRadius,v=d.startAngle,S=d.endAngle,w=d.clockWise,b=(p+m)/2,k=KF(v,S),A=k>=0?1:-1,O,T;i==="insideStart"?(O=v+A*l,T=w):i==="insideEnd"?(O=S-A*l,T=!w):i==="end"&&(O=S+A*l,T=w),T=k<=0?T:!T;var j=Bt(h,y,b,O),E=Bt(h,y,b,O+(T?1:-1)*359),P="M".concat(j.x,",").concat(j.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(T?0:1,`,
    `).concat(E.x,",").concat(E.y),I=$e(e.id)?Bo("recharts-radial-line-"):e.id;return q.createElement("text",Pl({},n,{dominantBaseline:"central",className:De("recharts-radial-bar-label",u)}),q.createElement("defs",null,q.createElement("path",{id:I,d:P})),q.createElement("textPath",{xlinkHref:"#".concat(I)},r))},YF=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,l=o.cx,u=o.cy,d=o.innerRadius,h=o.outerRadius,y=o.startAngle,p=o.endAngle,m=(y+p)/2;if(i==="outside"){var v=Bt(l,u,h+n,m),S=v.x,w=v.y;return{x:S,y:w,textAnchor:S>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var b=(d+h)/2,k=Bt(l,u,b,m),A=k.x,O=k.y;return{x:A,y:O,textAnchor:"middle",verticalAnchor:"middle"}},XF=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,l=r,u=l.x,d=l.y,h=l.width,y=l.height,p=y>=0?1:-1,m=p*i,v=p>0?"end":"start",S=p>0?"start":"end",w=h>=0?1:-1,b=w*i,k=w>0?"end":"start",A=w>0?"start":"end";if(o==="top"){var O={x:u+h/2,y:d-p*i,textAnchor:"middle",verticalAnchor:v};return jt(jt({},O),n?{height:Math.max(d-n.y,0),width:h}:{})}if(o==="bottom"){var T={x:u+h/2,y:d+y+m,textAnchor:"middle",verticalAnchor:S};return jt(jt({},T),n?{height:Math.max(n.y+n.height-(d+y),0),width:h}:{})}if(o==="left"){var j={x:u-b,y:d+y/2,textAnchor:k,verticalAnchor:"middle"};return jt(jt({},j),n?{width:Math.max(j.x-n.x,0),height:y}:{})}if(o==="right"){var E={x:u+h+b,y:d+y/2,textAnchor:A,verticalAnchor:"middle"};return jt(jt({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:y}:{})}var P=n?{width:h,height:y}:{};return o==="insideLeft"?jt({x:u+b,y:d+y/2,textAnchor:A,verticalAnchor:"middle"},P):o==="insideRight"?jt({x:u+h-b,y:d+y/2,textAnchor:k,verticalAnchor:"middle"},P):o==="insideTop"?jt({x:u+h/2,y:d+m,textAnchor:"middle",verticalAnchor:S},P):o==="insideBottom"?jt({x:u+h/2,y:d+y-m,textAnchor:"middle",verticalAnchor:v},P):o==="insideTopLeft"?jt({x:u+b,y:d+m,textAnchor:A,verticalAnchor:S},P):o==="insideTopRight"?jt({x:u+h-b,y:d+m,textAnchor:k,verticalAnchor:S},P):o==="insideBottomLeft"?jt({x:u+b,y:d+y-m,textAnchor:A,verticalAnchor:v},P):o==="insideBottomRight"?jt({x:u+h-b,y:d+y-m,textAnchor:k,verticalAnchor:v},P):Lo(o)&&(de(o.x)||Ji(o.x))&&(de(o.y)||Ji(o.y))?jt({x:u+oa(o.x,h),y:d+oa(o.y,y),textAnchor:"end",verticalAnchor:"end"},P):jt({x:u+h/2,y:d+y/2,textAnchor:"middle",verticalAnchor:"middle"},P)},JF=function(e){return"cx"in e&&de(e.cx)};function Vt(t){var e=t.offset,r=e===void 0?5:e,n=qF(t,$F),i=jt({offset:r},n),o=i.viewBox,l=i.position,u=i.value,d=i.children,h=i.content,y=i.className,p=y===void 0?"":y,m=i.textBreakAll;if(!o||$e(u)&&$e(d)&&!M.isValidElement(h)&&!Ie(h))return null;if(M.isValidElement(h))return M.cloneElement(h,i);var v;if(Ie(h)){if(v=M.createElement(h,i),M.isValidElement(v))return v}else v=VF(i);var S=JF(o),w=Re(i,!0);if(S&&(l==="insideStart"||l==="insideEnd"||l==="end"))return GF(i,v,w);var b=S?YF(i):XF(i);return q.createElement(Vc,Pl({className:De("recharts-label",p)},w,b,{breakAll:m}),v)}Vt.displayName="Label";var cC=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,l=e.endAngle,u=e.r,d=e.radius,h=e.innerRadius,y=e.outerRadius,p=e.x,m=e.y,v=e.top,S=e.left,w=e.width,b=e.height,k=e.clockWise,A=e.labelViewBox;if(A)return A;if(de(w)&&de(b)){if(de(p)&&de(m))return{x:p,y:m,width:w,height:b};if(de(v)&&de(S))return{x:v,y:S,width:w,height:b}}return de(p)&&de(m)?{x:p,y:m,width:0,height:0}:de(r)&&de(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:l||i||0,innerRadius:h||0,outerRadius:y||d||u||0,clockWise:k}:e.viewBox?e.viewBox:{}},QF=function(e,r){return e?e===!0?q.createElement(Vt,{key:"label-implicit",viewBox:r}):Ot(e)?q.createElement(Vt,{key:"label-implicit",viewBox:r,value:e}):M.isValidElement(e)?e.type===Vt?M.cloneElement(e,{key:"label-implicit",viewBox:r}):q.createElement(Vt,{key:"label-implicit",content:e,viewBox:r}):Ie(e)?q.createElement(Vt,{key:"label-implicit",content:e,viewBox:r}):Lo(e)?q.createElement(Vt,Pl({viewBox:r},e,{key:"label-implicit"})):null:null},ZF=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=cC(e),l=Rr(i,Vt).map(function(d,h){return M.cloneElement(d,{viewBox:r||o,key:"label-".concat(h)})});if(!n)return l;var u=QF(e.label,r||o);return[u].concat(MF(l))};Vt.parseViewBox=cC;Vt.renderCallByParent=ZF;var Xm,q2;function eW(){if(q2)return Xm;q2=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Xm=t,Xm}var tW=eW();const rW=Ke(tW);function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}var nW=["valueAccessor"],iW=["data","dataKey","clockWise","id","textBreakAll"];function aW(t){return uW(t)||lW(t)||sW(t)||oW()}function oW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sW(t,e){if(t){if(typeof t=="string")return _0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _0(t,e)}}function lW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uW(t){if(Array.isArray(t))return _0(t)}function _0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cd.apply(this,arguments)}function U2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(r),!0).forEach(function(n){cW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cW(t,e,r){return e=dW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dW(t){var e=fW(t,"string");return Tl(e)=="symbol"?e:e+""}function fW(t,e){if(Tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W2(t,e){if(t==null)return{};var r=hW(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var pW=function(e){return Array.isArray(e.value)?rW(e.value):e.value};function $n(t){var e=t.valueAccessor,r=e===void 0?pW:e,n=W2(t,nW),i=n.data,o=n.dataKey,l=n.clockWise,u=n.id,d=n.textBreakAll,h=W2(n,iW);return!i||!i.length?null:q.createElement(Qe,{className:"recharts-label-list"},i.map(function(y,p){var m=$e(o)?r(y,p):Zt(y&&y.payload,o),v=$e(u)?{}:{id:"".concat(u,"-").concat(p)};return q.createElement(Vt,cd({},Re(y,!0),h,v,{parentViewBox:y.parentViewBox,value:m,textBreakAll:d,viewBox:Vt.parseViewBox($e(l)?y:F2(F2({},y),{},{clockWise:l})),key:"label-".concat(p),index:p}))}))}$n.displayName="LabelList";function yW(t,e){return t?t===!0?q.createElement($n,{key:"labelList-implicit",data:e}):q.isValidElement(t)||Ie(t)?q.createElement($n,{key:"labelList-implicit",data:e,content:t}):Lo(t)?q.createElement($n,cd({data:e},t,{key:"labelList-implicit"})):null:null}function gW(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Rr(n,$n).map(function(l,u){return M.cloneElement(l,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var o=yW(t.label,e);return[o].concat(aW(i))}$n.renderCallByParent=gW;function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function S0(){return S0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S0.apply(this,arguments)}function H2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function V2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(r),!0).forEach(function(n){mW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mW(t,e,r){return e=vW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vW(t){var e=xW(t,"string");return Cl(e)=="symbol"?e:e+""}function xW(t,e){if(Cl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bW=function(e,r){var n=Qr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},kc=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,l=e.sign,u=e.isExternal,d=e.cornerRadius,h=e.cornerIsExternal,y=d*(u?1:-1)+i,p=Math.asin(d/y)/ud,m=h?o:o+l*p,v=Bt(r,n,y,m),S=Bt(r,n,i,m),w=h?o-l*p:o,b=Bt(r,n,y*Math.cos(p*ud),w);return{center:v,circleTangency:S,lineTangency:b,theta:p}},dC=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,l=e.startAngle,u=e.endAngle,d=bW(l,u),h=l+d,y=Bt(r,n,o,l),p=Bt(r,n,o,h),m="M ".concat(y.x,",").concat(y.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>h),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var v=Bt(r,n,i,l),S=Bt(r,n,i,h);m+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=h),`,
            `).concat(v.x,",").concat(v.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},wW=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,l=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,h=e.startAngle,y=e.endAngle,p=Qr(y-h),m=kc({cx:r,cy:n,radius:o,angle:h,sign:p,cornerRadius:l,cornerIsExternal:d}),v=m.circleTangency,S=m.lineTangency,w=m.theta,b=kc({cx:r,cy:n,radius:o,angle:y,sign:-p,cornerRadius:l,cornerIsExternal:d}),k=b.circleTangency,A=b.lineTangency,O=b.theta,T=d?Math.abs(h-y):Math.abs(h-y)-w-O;if(T<0)return u?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):dC({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:h,endAngle:y});var j="M ".concat(S.x,",").concat(S.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(p<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var E=kc({cx:r,cy:n,radius:i,angle:h,sign:p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),P=E.circleTangency,I=E.lineTangency,$=E.theta,V=kc({cx:r,cy:n,radius:i,angle:y,sign:-p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),U=V.circleTangency,R=V.lineTangency,z=V.theta,W=d?Math.abs(h-y):Math.abs(h-y)-$-z;if(W<0&&l===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(R.x,",").concat(R.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(U.x,",").concat(U.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(p>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},_W={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fC=function(e){var r=V2(V2({},_W),e),n=r.cx,i=r.cy,o=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,h=r.cornerIsExternal,y=r.startAngle,p=r.endAngle,m=r.className;if(l<o||y===p)return null;var v=De("recharts-sector",m),S=l-o,w=oa(u,S,0,!0),b;return w>0&&Math.abs(y-p)<360?b=wW({cx:n,cy:i,innerRadius:o,outerRadius:l,cornerRadius:Math.min(w,S/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:y,endAngle:p}):b=dC({cx:n,cy:i,innerRadius:o,outerRadius:l,startAngle:y,endAngle:p}),q.createElement("path",S0({},Re(r,!0),{className:v,d:b,role:"img"}))};function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function j0(){return j0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j0.apply(this,arguments)}function K2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(r),!0).forEach(function(n){SW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SW(t,e,r){return e=jW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jW(t){var e=kW(t,"string");return Nl(e)=="symbol"?e:e+""}function kW(t,e){if(Nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y2={curveBasisClosed:WL,curveBasisOpen:HL,curveBasis:FL,curveBumpX:PL,curveBumpY:TL,curveLinearClosed:VL,curveLinear:Vd,curveMonotoneX:KL,curveMonotoneY:GL,curveNatural:YL,curveStep:XL,curveStepAfter:QL,curveStepBefore:JL},Oc=function(e){return e.x===+e.x&&e.y===+e.y},Ls=function(e){return e.x},zs=function(e){return e.y},OW=function(e,r){if(Ie(e))return e;var n="curve".concat(Wd(e));return(n==="curveMonotone"||n==="curveBump")&&r?Y2["".concat(n).concat(r==="vertical"?"Y":"X")]:Y2[n]||Vd},AW=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,l=e.baseLine,u=e.layout,d=e.connectNulls,h=d===void 0?!1:d,y=OW(n,u),p=h?o.filter(function(w){return Oc(w)}):o,m;if(Array.isArray(l)){var v=h?l.filter(function(w){return Oc(w)}):l,S=p.map(function(w,b){return G2(G2({},w),{},{base:v[b]})});return u==="vertical"?m=mc().y(zs).x1(Ls).x0(function(w){return w.base.x}):m=mc().x(Ls).y1(zs).y0(function(w){return w.base.y}),m.defined(Oc).curve(y),m(S)}return u==="vertical"&&de(l)?m=mc().y(zs).x1(Ls).x0(l):de(l)?m=mc().x(Ls).y1(zs).y0(l):m=mP().x(Ls).y(zs),m.defined(Oc).curve(y),m(p)},lo=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var l=n&&n.length?AW(e):i;return M.createElement("path",j0({},Re(e,!1),Rc(e),{className:De("recharts-curve",r),d:l,ref:o}))},Jm={exports:{}},Qm,X2;function EW(){if(X2)return Qm;X2=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Qm=t,Qm}var Zm,J2;function PW(){if(J2)return Zm;J2=1;var t=EW();function e(){}function r(){}return r.resetWarningCache=e,Zm=function(){function n(l,u,d,h,y,p){if(p!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},Zm}var Q2;function TW(){return Q2||(Q2=1,Jm.exports=PW()()),Jm.exports}var CW=TW();const Ue=Ke(CW),{getOwnPropertyNames:NW,getOwnPropertySymbols:IW}=Object,{hasOwnProperty:RW}=Object.prototype;function ev(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function Ac(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:o}=i,l=o.get(r),u=o.get(n);if(l&&u)return l===n&&u===r;o.set(r,n),o.set(n,r);const d=t(r,n,i);return o.delete(r),o.delete(n),d}}function $W(t){return t?.[Symbol.toStringTag]}function Z2(t){return NW(t).concat(IW(t))}const MW=Object.hasOwn||((t,e)=>RW.call(t,e));function pa(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const DW="__v",LW="__o",zW="_owner",{getOwnPropertyDescriptor:eA,keys:tA}=Object;function BW(t,e){return t.byteLength===e.byteLength&&dd(new Uint8Array(t),new Uint8Array(e))}function qW(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function UW(t,e){return t.byteLength===e.byteLength&&dd(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function FW(t,e){return pa(t.getTime(),e.getTime())}function WW(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function HW(t,e){return t===e}function rA(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),o=t.entries();let l,u,d=0;for(;(l=o.next())&&!l.done;){const h=e.entries();let y=!1,p=0;for(;(u=h.next())&&!u.done;){if(i[p]){p++;continue}const m=l.value,v=u.value;if(r.equals(m[0],v[0],d,p,t,e,r)&&r.equals(m[1],v[1],m[0],v[0],t,e,r)){y=i[p]=!0;break}p++}if(!y)return!1;d++}return!0}const VW=pa;function KW(t,e,r){const n=tA(t);let i=n.length;if(tA(e).length!==i)return!1;for(;i-- >0;)if(!hC(t,e,r,n[i]))return!1;return!0}function Bs(t,e,r){const n=Z2(t);let i=n.length;if(Z2(e).length!==i)return!1;let o,l,u;for(;i-- >0;)if(o=n[i],!hC(t,e,r,o)||(l=eA(t,o),u=eA(e,o),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function GW(t,e){return pa(t.valueOf(),e.valueOf())}function YW(t,e){return t.source===e.source&&t.flags===e.flags}function nA(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),o=t.values();let l,u;for(;(l=o.next())&&!l.done;){const d=e.values();let h=!1,y=0;for(;(u=d.next())&&!u.done;){if(!i[y]&&r.equals(l.value,u.value,l.value,u.value,t,e,r)){h=i[y]=!0;break}y++}if(!h)return!1}return!0}function dd(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function XW(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function hC(t,e,r,n){return(n===zW||n===LW||n===DW)&&(t.$$typeof||e.$$typeof)?!0:MW(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const JW="[object ArrayBuffer]",QW="[object Arguments]",ZW="[object Boolean]",e7="[object DataView]",t7="[object Date]",r7="[object Error]",n7="[object Map]",i7="[object Number]",a7="[object Object]",o7="[object RegExp]",s7="[object Set]",l7="[object String]",u7={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},c7="[object URL]",d7=Object.prototype.toString;function f7({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:h,areRegExpsEqual:y,areSetsEqual:p,areTypedArraysEqual:m,areUrlsEqual:v,unknownTagComparators:S}){return function(b,k,A){if(b===k)return!0;if(b==null||k==null)return!1;const O=typeof b;if(O!==typeof k)return!1;if(O!=="object")return O==="number"?u(b,k,A):O==="function"?o(b,k,A):!1;const T=b.constructor;if(T!==k.constructor)return!1;if(T===Object)return d(b,k,A);if(Array.isArray(b))return e(b,k,A);if(T===Date)return n(b,k,A);if(T===RegExp)return y(b,k,A);if(T===Map)return l(b,k,A);if(T===Set)return p(b,k,A);const j=d7.call(b);if(j===t7)return n(b,k,A);if(j===o7)return y(b,k,A);if(j===n7)return l(b,k,A);if(j===s7)return p(b,k,A);if(j===a7)return typeof b.then!="function"&&typeof k.then!="function"&&d(b,k,A);if(j===c7)return v(b,k,A);if(j===r7)return i(b,k,A);if(j===QW)return d(b,k,A);if(u7[j])return m(b,k,A);if(j===JW)return t(b,k,A);if(j===e7)return r(b,k,A);if(j===ZW||j===i7||j===l7)return h(b,k,A);if(S){let E=S[j];if(!E){const P=$W(b);P&&(E=S[P])}if(E)return E(b,k,A)}return!1}}function h7({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:BW,areArraysEqual:r?Bs:qW,areDataViewsEqual:UW,areDatesEqual:FW,areErrorsEqual:WW,areFunctionsEqual:HW,areMapsEqual:r?ev(rA,Bs):rA,areNumbersEqual:VW,areObjectsEqual:r?Bs:KW,arePrimitiveWrappersEqual:GW,areRegExpsEqual:YW,areSetsEqual:r?ev(nA,Bs):nA,areTypedArraysEqual:r?ev(dd,Bs):dd,areUrlsEqual:XW,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=Ac(n.areArraysEqual),o=Ac(n.areMapsEqual),l=Ac(n.areObjectsEqual),u=Ac(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return n}function p7(t){return function(e,r,n,i,o,l,u){return t(e,r,u)}}function y7({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(u,d){const{cache:h=t?new WeakMap:void 0,meta:y}=r();return e(u,d,{cache:h,equals:n,meta:y,strict:i})};if(t)return function(u,d){return e(u,d,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const o={cache:void 0,equals:n,meta:void 0,strict:i};return function(u,d){return e(u,d,o)}}const g7=Ai();Ai({strict:!0});Ai({circular:!0});Ai({circular:!0,strict:!0});Ai({createInternalComparator:()=>pa});Ai({strict:!0,createInternalComparator:()=>pa});Ai({circular:!0,createInternalComparator:()=>pa});Ai({circular:!0,createInternalComparator:()=>pa,strict:!0});function Ai(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,o=h7(t),l=f7(o),u=r?r(l):p7(l);return y7({circular:e,comparator:l,createState:n,equals:u,strict:i})}function m7(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function iA(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):m7(i)};requestAnimationFrame(n)}function k0(t){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k0(t)}function v7(t){return _7(t)||w7(t)||b7(t)||x7()}function x7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b7(t,e){if(t){if(typeof t=="string")return aA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aA(t,e)}}function aA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _7(t){if(Array.isArray(t))return t}function S7(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,u=v7(l),d=u[0],h=u.slice(1);if(typeof d=="number"){iA(i.bind(null,h),d);return}i(d),iA(i.bind(null,h));return}k0(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function oA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(r),!0).forEach(function(n){pC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pC(t,e,r){return e=j7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j7(t){var e=k7(t,"string");return Il(e)==="symbol"?e:String(e)}function k7(t,e){if(Il(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Il(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O7=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},A7=function(e){return e},E7=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Qs=function(e,r){return Object.keys(r).reduce(function(n,i){return sA(sA({},n),{},pC({},i,e(i,r[i])))},{})},lA=function(e,r,n){return e.map(function(i){return"".concat(E7(i)," ").concat(r,"ms ").concat(n)}).join(",")};function P7(t,e){return N7(t)||C7(t,e)||yC(t,e)||T7()}function T7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C7(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function N7(t){if(Array.isArray(t))return t}function I7(t){return M7(t)||$7(t)||yC(t)||R7()}function R7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yC(t,e){if(t){if(typeof t=="string")return O0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O0(t,e)}}function $7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function M7(t){if(Array.isArray(t))return O0(t)}function O0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var fd=1e-4,gC=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},mC=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},uA=function(e,r){return function(n){var i=gC(e,r);return mC(i,n)}},D7=function(e,r){return function(n){var i=gC(e,r),o=[].concat(I7(i.map(function(l,u){return l*u}).slice(1)),[0]);return mC(o,n)}},cA=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,l=1,u=1;break;case"ease":i=.25,o=.1,l=.25,u=1;break;case"ease-in":i=.42,o=0,l=1,u=1;break;case"ease-out":i=.42,o=0,l=.58,u=1;break;case"ease-in-out":i=0,o=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),y=P7(h,4);i=y[0],o=y[1],l=y[2],u=y[3]}}}var p=uA(i,l),m=uA(o,u),v=D7(i,l),S=function(k){return k>1?1:k<0?0:k},w=function(k){for(var A=k>1?1:k,O=A,T=0;T<8;++T){var j=p(O)-A,E=v(O);if(Math.abs(j-A)<fd||E<fd)return m(O);O=S(O-j/E)}return m(O)};return w.isStepper=!1,w},L7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,l=e.dt,u=l===void 0?17:l,d=function(y,p,m){var v=-(y-p)*n,S=m*o,w=m+(v-S)*u/1e3,b=m*u/1e3+y;return Math.abs(b-p)<fd&&Math.abs(w)<fd?[p,0]:[b,w]};return d.isStepper=!0,d.dt=u,d},z7=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cA(i);case"spring":return L7();default:if(i.split("(")[0]==="cubic-bezier")return cA(i)}return typeof i=="function"?i:null};function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function dA(t){return U7(t)||q7(t)||vC(t)||B7()}function B7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function U7(t){if(Array.isArray(t))return E0(t)}function fA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fA(Object(r),!0).forEach(function(n){A0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A0(t,e,r){return e=F7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F7(t){var e=W7(t,"string");return Rl(e)==="symbol"?e:String(e)}function W7(t,e){if(Rl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H7(t,e){return G7(t)||K7(t,e)||vC(t,e)||V7()}function V7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vC(t,e){if(t){if(typeof t=="string")return E0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E0(t,e)}}function E0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function K7(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function G7(t){if(Array.isArray(t))return t}var hd=function(e,r,n){return e+(r-e)*n},P0=function(e){var r=e.from,n=e.to;return r!==n},Y7=function t(e,r,n){var i=Qs(function(o,l){if(P0(l)){var u=e(l.from,l.to,l.velocity),d=H7(u,2),h=d[0],y=d[1];return Lt(Lt({},l),{},{from:h,velocity:y})}return l},r);return n<1?Qs(function(o,l){return P0(l)?Lt(Lt({},l),{},{velocity:hd(l.velocity,i[o].velocity,n),from:hd(l.from,i[o].from,n)}):l},r):t(e,i,n-1)};const X7=(function(t,e,r,n,i){var o=O7(t,e),l=o.reduce(function(b,k){return Lt(Lt({},b),{},A0({},k,[t[k],e[k]]))},{}),u=o.reduce(function(b,k){return Lt(Lt({},b),{},A0({},k,{from:t[k],velocity:0,to:e[k]}))},{}),d=-1,h,y,p=function(){return null},m=function(){return Qs(function(k,A){return A.from},u)},v=function(){return!Object.values(u).filter(P0).length},S=function(k){h||(h=k);var A=k-h,O=A/r.dt;u=Y7(r,u,O),i(Lt(Lt(Lt({},t),e),m())),h=k,v()||(d=requestAnimationFrame(p))},w=function(k){y||(y=k);var A=(k-y)/n,O=Qs(function(j,E){return hd.apply(void 0,dA(E).concat([r(A)]))},l);if(i(Lt(Lt(Lt({},t),e),O)),A<1)d=requestAnimationFrame(p);else{var T=Qs(function(j,E){return hd.apply(void 0,dA(E).concat([r(1)]))},l);i(Lt(Lt(Lt({},t),e),T))}};return p=r.isStepper?S:w,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(d)}}});function _o(t){"@babel/helpers - typeof";return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(t)}var J7=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Q7(t,e){if(t==null)return{};var r=Z7(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Z7(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function tv(t){return n9(t)||r9(t)||t9(t)||e9()}function e9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t9(t,e){if(t){if(typeof t=="string")return T0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T0(t,e)}}function r9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function n9(t){if(Array.isArray(t))return T0(t)}function T0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hA(Object(r),!0).forEach(function(n){Hs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hs(t,e,r){return e=xC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xC(n.key),n)}}function o9(t,e,r){return e&&a9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xC(t){var e=s9(t,"string");return _o(e)==="symbol"?e:String(e)}function s9(t,e){if(_o(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_o(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C0(t,e)}function C0(t,e){return C0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},C0(t,e)}function u9(t){var e=c9();return function(){var n=pd(t),i;if(e){var o=pd(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return N0(this,i)}}function N0(t,e){if(e&&(_o(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I0(t)}function I0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pd(t){return pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pd(t)}var gn=(function(t){l9(r,t);var e=u9(r);function r(n,i){var o;i9(this,r),o=e.call(this,n,i);var l=o.props,u=l.isActive,d=l.attributeName,h=l.from,y=l.to,p=l.steps,m=l.children,v=l.duration;if(o.handleStyleChange=o.handleStyleChange.bind(I0(o)),o.changeStyle=o.changeStyle.bind(I0(o)),!u||v<=0)return o.state={style:{}},typeof m=="function"&&(o.state={style:y}),N0(o);if(p&&p.length)o.state={style:p[0].style};else if(h){if(typeof m=="function")return o.state={style:h},N0(o);o.state={style:d?Hs({},d,h):h}}else o.state={style:{}};return o}return o9(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,l=i.canBegin;this.mounted=!0,!(!o||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,l=o.isActive,u=o.canBegin,d=o.attributeName,h=o.shouldReAnimate,y=o.to,p=o.from,m=this.state.style;if(u){if(!l){var v={style:d?Hs({},d,y):y};this.state&&m&&(d&&m[d]!==y||!d&&m!==y)&&this.setState(v);return}if(!(g7(i.to,y)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=S||h?p:i.to;if(this.state&&m){var b={style:d?Hs({},d,w):w};(d&&m[d]!==w||!d&&m!==w)&&this.setState(b)}this.runAnimation(Hr(Hr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,l=i.from,u=i.to,d=i.duration,h=i.easing,y=i.begin,p=i.onAnimationEnd,m=i.onAnimationStart,v=X7(l,u,z7(h),d,this.changeStyle),S=function(){o.stopJSAnimation=v()};this.manager.start([m,y,S,d,p])}},{key:"runStepAnimation",value:function(i){var o=this,l=i.steps,u=i.begin,d=i.onAnimationStart,h=l[0],y=h.style,p=h.duration,m=p===void 0?0:p,v=function(w,b,k){if(k===0)return w;var A=b.duration,O=b.easing,T=O===void 0?"ease":O,j=b.style,E=b.properties,P=b.onAnimationEnd,I=k>0?l[k-1]:b,$=E||Object.keys(j);if(typeof T=="function"||T==="spring")return[].concat(tv(w),[o.runJSAnimation.bind(o,{from:I.style,to:j,duration:A,easing:T}),A]);var V=lA($,A,T),U=Hr(Hr(Hr({},I.style),j),{},{transition:V});return[].concat(tv(w),[U,A,P]).filter(A7)};return this.manager.start([d].concat(tv(l.reduce(v,[y,Math.max(m,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=S7());var o=i.begin,l=i.duration,u=i.attributeName,d=i.to,h=i.easing,y=i.onAnimationStart,p=i.onAnimationEnd,m=i.steps,v=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof h=="function"||typeof v=="function"||h==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var w=u?Hs({},u,d):d,b=lA(Object.keys(w),l,h);S.start([y,o,Hr(Hr({},w),{},{transition:b}),l,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=Q7(i,J7),h=M.Children.count(o),y=this.state.style;if(typeof o=="function")return o(y);if(!u||h===0||l<=0)return o;var p=function(v){var S=v.props,w=S.style,b=w===void 0?{}:w,k=S.className,A=M.cloneElement(v,Hr(Hr({},d),{},{style:Hr(Hr({},b),y),className:k}));return A};return h===1?p(M.Children.only(o)):q.createElement("div",null,M.Children.map(o,function(m){return p(m)}))}}]),r})(M.PureComponent);gn.displayName="Animate";gn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};gn.propTypes={from:Ue.oneOfType([Ue.object,Ue.string]),to:Ue.oneOfType([Ue.object,Ue.string]),attributeName:Ue.string,duration:Ue.number,begin:Ue.number,easing:Ue.oneOfType([Ue.string,Ue.func]),steps:Ue.arrayOf(Ue.shape({duration:Ue.number.isRequired,style:Ue.object.isRequired,easing:Ue.oneOfType([Ue.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ue.func]),properties:Ue.arrayOf("string"),onAnimationEnd:Ue.func})),children:Ue.oneOfType([Ue.node,Ue.func]),isActive:Ue.bool,canBegin:Ue.bool,onAnimationEnd:Ue.func,shouldReAnimate:Ue.bool,onAnimationStart:Ue.func,onAnimationReStart:Ue.func};function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function yd(){return yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yd.apply(this,arguments)}function d9(t,e){return y9(t)||p9(t,e)||h9(t,e)||f9()}function f9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h9(t,e){if(t){if(typeof t=="string")return pA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pA(t,e)}}function pA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function y9(t){if(Array.isArray(t))return t}function yA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yA(Object(r),!0).forEach(function(n){g9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g9(t,e,r){return e=m9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m9(t){var e=v9(t,"string");return $l(e)=="symbol"?e:e+""}function v9(t,e){if($l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mA=function(e,r,n,i,o){var l=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,d=n>=0?1:-1,h=i>=0&&n>=0||i<0&&n<0?1:0,y;if(l>0&&o instanceof Array){for(var p=[0,0,0,0],m=0,v=4;m<v;m++)p[m]=o[m]>l?l:o[m];y="M".concat(e,",").concat(r+u*p[0]),p[0]>0&&(y+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(h,",").concat(e+d*p[0],",").concat(r)),y+="L ".concat(e+n-d*p[1],",").concat(r),p[1]>0&&(y+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(r+u*p[1])),y+="L ".concat(e+n,",").concat(r+i-u*p[2]),p[2]>0&&(y+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(h,`,
        `).concat(e+n-d*p[2],",").concat(r+i)),y+="L ".concat(e+d*p[3],",").concat(r+i),p[3]>0&&(y+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(r+i-u*p[3])),y+="Z"}else if(l>0&&o===+o&&o>0){var S=Math.min(l,o);y="M ".concat(e,",").concat(r+u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(h,",").concat(e+d*S,",").concat(r,`
            L `).concat(e+n-d*S,",").concat(r,`
            A `).concat(S,",").concat(S,",0,0,").concat(h,",").concat(e+n,",").concat(r+u*S,`
            L `).concat(e+n,",").concat(r+i-u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(h,",").concat(e+n-d*S,",").concat(r+i,`
            L `).concat(e+d*S,",").concat(r+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(h,",").concat(e,",").concat(r+i-u*S," Z")}else y="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return y},x9=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var h=Math.min(o,o+u),y=Math.max(o,o+u),p=Math.min(l,l+d),m=Math.max(l,l+d);return n>=h&&n<=y&&i>=p&&i<=m}return!1},b9={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ab=function(e){var r=gA(gA({},b9),e),n=M.useRef(),i=M.useState(-1),o=d9(i,2),l=o[0],u=o[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&u(T)}catch{}},[]);var d=r.x,h=r.y,y=r.width,p=r.height,m=r.radius,v=r.className,S=r.animationEasing,w=r.animationDuration,b=r.animationBegin,k=r.isAnimationActive,A=r.isUpdateAnimationActive;if(d!==+d||h!==+h||y!==+y||p!==+p||y===0||p===0)return null;var O=De("recharts-rectangle",v);return A?q.createElement(gn,{canBegin:l>0,from:{width:y,height:p,x:d,y:h},to:{width:y,height:p,x:d,y:h},duration:w,animationEasing:S,isActive:A},function(T){var j=T.width,E=T.height,P=T.x,I=T.y;return q.createElement(gn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:k,easing:S},q.createElement("path",yd({},Re(r,!0),{className:O,d:mA(P,I,j,E,m),ref:n})))}):q.createElement("path",yd({},Re(r,!0),{className:O,d:mA(d,h,y,p,m)}))};function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R0.apply(this,arguments)}var sf=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,l=De("recharts-dot",o);return r===+r&&n===+n&&i===+i?M.createElement("circle",R0({},Re(e,!1),Rc(e),{className:l,cx:r,cy:n,r:i})):null};function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}var w9=["x","y","top","left","width","height","className"];function $0(){return $0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$0.apply(this,arguments)}function vA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vA(Object(r),!0).forEach(function(n){S9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S9(t,e,r){return e=j9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j9(t){var e=k9(t,"string");return Ml(e)=="symbol"?e:e+""}function k9(t,e){if(Ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O9(t,e){if(t==null)return{};var r=A9(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function A9(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var E9=function(e,r,n,i,o,l){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(l,",").concat(r,"h").concat(n)},P9=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,l=e.top,u=l===void 0?0:l,d=e.left,h=d===void 0?0:d,y=e.width,p=y===void 0?0:y,m=e.height,v=m===void 0?0:m,S=e.className,w=O9(e,w9),b=_9({x:n,y:o,top:u,left:h,width:p,height:v},w);return!de(n)||!de(o)||!de(p)||!de(v)||!de(u)||!de(h)?null:q.createElement("path",$0({},Re(b,!0),{className:De("recharts-cross",S),d:E9(n,o,p,v,u,h)}))},rv,xA;function T9(){if(xA)return rv;xA=1;var t=BP(),e=t(Object.getPrototypeOf,Object);return rv=e,rv}var nv,bA;function C9(){if(bA)return nv;bA=1;var t=qn(),e=T9(),r=Un(),n="[object Object]",i=Function.prototype,o=Object.prototype,l=i.toString,u=o.hasOwnProperty,d=l.call(Object);function h(y){if(!r(y)||t(y)!=n)return!1;var p=e(y);if(p===null)return!0;var m=u.call(p,"constructor")&&p.constructor;return typeof m=="function"&&m instanceof m&&l.call(m)==d}return nv=h,nv}var N9=C9();const I9=Ke(N9);var iv,wA;function R9(){if(wA)return iv;wA=1;var t=qn(),e=Un(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return iv=n,iv}var $9=R9();const M9=Ke($9);function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gd.apply(this,arguments)}function D9(t,e){return q9(t)||B9(t,e)||z9(t,e)||L9()}function L9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z9(t,e){if(t){if(typeof t=="string")return _A(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _A(t,e)}}function _A(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function B9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function q9(t){if(Array.isArray(t))return t}function SA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SA(Object(r),!0).forEach(function(n){U9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U9(t,e,r){return e=F9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F9(t){var e=W9(t,"string");return Dl(e)=="symbol"?e:e+""}function W9(t,e){if(Dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kA=function(e,r,n,i,o){var l=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-l/2,",").concat(r+o),u+="L ".concat(e+n-l/2-i,",").concat(r+o),u+="L ".concat(e,",").concat(r," Z"),u},H9={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},V9=function(e){var r=jA(jA({},H9),e),n=M.useRef(),i=M.useState(-1),o=D9(i,2),l=o[0],u=o[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&u(O)}catch{}},[]);var d=r.x,h=r.y,y=r.upperWidth,p=r.lowerWidth,m=r.height,v=r.className,S=r.animationEasing,w=r.animationDuration,b=r.animationBegin,k=r.isUpdateAnimationActive;if(d!==+d||h!==+h||y!==+y||p!==+p||m!==+m||y===0&&p===0||m===0)return null;var A=De("recharts-trapezoid",v);return k?q.createElement(gn,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:m,x:d,y:h},to:{upperWidth:y,lowerWidth:p,height:m,x:d,y:h},duration:w,animationEasing:S,isActive:k},function(O){var T=O.upperWidth,j=O.lowerWidth,E=O.height,P=O.x,I=O.y;return q.createElement(gn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:S},q.createElement("path",gd({},Re(r,!0),{className:A,d:kA(P,I,T,j,E),ref:n})))}):q.createElement("g",null,q.createElement("path",gd({},Re(r,!0),{className:A,d:kA(d,h,y,p,m)})))},K9=["option","shapeType","propTransformer","activeClassName","isActive"];function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function G9(t,e){if(t==null)return{};var r=Y9(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Y9(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function md(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OA(Object(r),!0).forEach(function(n){X9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X9(t,e,r){return e=J9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J9(t){var e=Q9(t,"string");return Ll(e)=="symbol"?e:e+""}function Q9(t,e){if(Ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z9(t,e){return md(md({},e),t)}function eH(t,e){return t==="symbols"}function AA(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return q.createElement(ab,r);case"trapezoid":return q.createElement(V9,r);case"sector":return q.createElement(fC,r);case"symbols":if(eH(e))return q.createElement(jx,r);break;default:return null}}function tH(t){return M.isValidElement(t)?t.props:t}function rH(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Z9:n,o=t.activeClassName,l=o===void 0?"recharts-active-shape":o,u=t.isActive,d=G9(t,K9),h;if(M.isValidElement(e))h=M.cloneElement(e,md(md({},d),tH(e)));else if(Ie(e))h=e(d);else if(I9(e)&&!M9(e)){var y=i(e,d);h=q.createElement(AA,{shapeType:r,elementProps:y})}else{var p=d;h=q.createElement(AA,{shapeType:r,elementProps:p})}return u?q.createElement(Qe,{className:l},h):h}function lf(t,e){return e!=null&&"trapezoids"in t.props}function uf(t,e){return e!=null&&"sectors"in t.props}function zl(t,e){return e!=null&&"points"in t.props}function nH(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function iH(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function aH(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function oH(t,e){var r;return lf(t,e)?r=nH:uf(t,e)?r=iH:zl(t,e)&&(r=aH),r}function sH(t,e){var r;return lf(t,e)?r="trapezoids":uf(t,e)?r="sectors":zl(t,e)&&(r="points"),r}function lH(t,e){if(lf(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(uf(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return zl(t,e)?e.payload:{}}function uH(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=sH(r,e),o=lH(r,e),l=n.filter(function(d,h){var y=bo(o,d),p=r.props[i].filter(function(S){var w=oH(r,e);return w(S,e)}),m=r.props[i].indexOf(p[p.length-1]),v=h===m;return y&&v}),u=n.indexOf(l[l.length-1]);return u}var av,EA;function cH(){if(EA)return av;EA=1;var t=Math.ceil,e=Math.max;function r(n,i,o,l){for(var u=-1,d=e(t((i-n)/(o||1)),0),h=Array(d);d--;)h[l?d:++u]=n,n+=o;return h}return av=r,av}var ov,PA;function bC(){if(PA)return ov;PA=1;var t=rT(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*r}return i===i?i:0}return ov=n,ov}var sv,TA;function dH(){if(TA)return sv;TA=1;var t=cH(),e=Xd(),r=bC();function n(i){return function(o,l,u){return u&&typeof u!="number"&&e(o,l,u)&&(l=u=void 0),o=r(o),l===void 0?(l=o,o=0):l=r(l),u=u===void 0?o<l?1:-1:r(u),t(o,l,u,i)}}return sv=n,sv}var lv,CA;function fH(){if(CA)return lv;CA=1;var t=dH(),e=t();return lv=e,lv}var hH=fH();const vd=Ke(hH);function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function NA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NA(Object(r),!0).forEach(function(n){wC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wC(t,e,r){return e=pH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pH(t){var e=yH(t,"string");return Bl(e)=="symbol"?e:e+""}function yH(t,e){if(Bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gH=["Webkit","Moz","O","ms"],mH=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=gH.reduce(function(o,l){return IA(IA({},o),{},wC({},l+n,r))},{});return i[e]=r,i};function So(t){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},So(t)}function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xd.apply(this,arguments)}function RA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RA(Object(r),!0).forEach(function(n){mr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SC(n.key),n)}}function xH(t,e,r){return e&&$A(t.prototype,e),r&&$A(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bH(t,e,r){return e=bd(e),wH(t,_C()?Reflect.construct(e,r||[],bd(t).constructor):e.apply(t,r))}function wH(t,e){if(e&&(So(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _H(t)}function _H(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _C(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_C=function(){return!!t})()}function bd(t){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bd(t)}function SH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M0(t,e)}function M0(t,e){return M0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M0(t,e)}function mr(t,e,r){return e=SC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SC(t){var e=jH(t,"string");return So(e)=="symbol"?e:e+""}function jH(t,e){if(So(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(So(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kH=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,l=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=Xs().domain(vd(0,d)).range([o,o+l-u]),y=h.domain().map(function(p){return h(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(i),scale:h,scaleValues:y}},MA=function(e){return e.changedTouches&&!!e.changedTouches.length},jo=(function(t){function e(r){var n;return vH(this,e),n=bH(this,e,[r]),mr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),mr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),mr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,l=i.onDragEnd,u=i.startIndex;l?.({endIndex:o,startIndex:u})}),n.detachDragEndListener()}),mr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),mr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),mr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),mr(n,"handleSlideDragStart",function(i){var o=MA(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return SH(e,t),xH(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,l=this.state.scaleValues,u=this.props,d=u.gap,h=u.data,y=h.length-1,p=Math.min(i,o),m=Math.max(i,o),v=e.getIndexInRange(l,p),S=e.getIndexInRange(l,m);return{startIndex:v-v%d,endIndex:S===y?y:S-S%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,l=i.tickFormatter,u=i.dataKey,d=Zt(o[n],u,n);return Ie(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,l=i.startX,u=i.endX,d=this.props,h=d.x,y=d.width,p=d.travellerWidth,m=d.startIndex,v=d.endIndex,S=d.onChange,w=n.pageX-o;w>0?w=Math.min(w,h+y-p-u,h+y-p-l):w<0&&(w=Math.max(w,h-l,h-u));var b=this.getIndex({startX:l+w,endX:u+w});(b.startIndex!==m||b.endIndex!==v)&&S&&S(b),this.setState({startX:l+w,endX:u+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=MA(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,l=i.movingTravellerId,u=i.endX,d=i.startX,h=this.state[l],y=this.props,p=y.x,m=y.width,v=y.travellerWidth,S=y.onChange,w=y.gap,b=y.data,k={startX:this.state.startX,endX:this.state.endX},A=n.pageX-o;A>0?A=Math.min(A,p+m-v-h):A<0&&(A=Math.max(A,p-h)),k[l]=h+A;var O=this.getIndex(k),T=O.startIndex,j=O.endIndex,E=function(){var I=b.length-1;return l==="startX"&&(u>d?T%w===0:j%w===0)||u<d&&j===I||l==="endX"&&(u>d?j%w===0:T%w===0)||u>d&&j===I};this.setState(mr(mr({},l,h+A),"brushMoveStartX",n.pageX),function(){S&&E()&&S(O)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,l=this.state,u=l.scaleValues,d=l.startX,h=l.endX,y=this.state[i],p=u.indexOf(y);if(p!==-1){var m=p+n;if(!(m===-1||m>=u.length)){var v=u[m];i==="startX"&&v>=h||i==="endX"&&v<=d||this.setState(mr({},i,v),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.fill,h=n.stroke;return q.createElement("rect",{stroke:h,fill:d,x:i,y:o,width:l,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.data,h=n.children,y=n.padding,p=M.Children.only(h);return p?q.cloneElement(p,{x:i,y:o,width:l,height:u,margin:y,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,l,u=this,d=this.props,h=d.y,y=d.travellerWidth,p=d.height,m=d.traveller,v=d.ariaLabel,S=d.data,w=d.startIndex,b=d.endIndex,k=Math.max(n,this.props.x),A=uv(uv({},Re(this.props,!1)),{},{x:k,y:h,width:y,height:p}),O=v||"Min value: ".concat((o=S[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((l=S[b])===null||l===void 0?void 0:l.name);return q.createElement(Qe,{tabIndex:0,role:"slider","aria-label":O,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),u.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,A))}},{key:"renderSlide",value:function(n,i){var o=this.props,l=o.y,u=o.height,d=o.stroke,h=o.travellerWidth,y=Math.min(n,i)+h,p=Math.max(Math.abs(i-n)-h,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:y,y:l,width:p,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,l=n.y,u=n.height,d=n.travellerWidth,h=n.stroke,y=this.state,p=y.startX,m=y.endX,v=5,S={pointerEvents:"none",fill:h};return q.createElement(Qe,{className:"recharts-brush-texts"},q.createElement(Vc,xd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,m)-v,y:l+u/2},S),this.getTextOfTick(i)),q.createElement(Vc,xd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,m)+d+v,y:l+u/2},S),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,l=n.children,u=n.x,d=n.y,h=n.width,y=n.height,p=n.alwaysShowText,m=this.state,v=m.startX,S=m.endX,w=m.isTextActive,b=m.isSlideMoving,k=m.isTravellerMoving,A=m.isTravellerFocused;if(!i||!i.length||!de(u)||!de(d)||!de(h)||!de(y)||h<=0||y<=0)return null;var O=De("recharts-brush",o),T=q.Children.count(l)===1,j=mH("userSelect","none");return q.createElement(Qe,{className:O,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(v,S),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(S,"endX"),(w||b||k||A||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,l=n.width,u=n.height,d=n.stroke,h=Math.floor(o+u/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:i,y:o,width:l,height:u,fill:d,stroke:"none"}),q.createElement("line",{x1:i+1,y1:h,x2:i+l-1,y2:h,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:i+1,y1:h+2,x2:i+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return q.isValidElement(n)?o=q.cloneElement(n,i):Ie(n)?o=n(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,l=n.width,u=n.x,d=n.travellerWidth,h=n.updateId,y=n.startIndex,p=n.endIndex;if(o!==i.prevData||h!==i.prevUpdateId)return uv({prevData:o,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:l},o&&o.length?kH({data:o,width:l,x:u,travellerWidth:d,startIndex:y,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||u!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([u,u+l-d]);var m=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:o,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:l,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,l=0,u=o-1;u-l>1;){var d=Math.floor((l+u)/2);n[d]>i?u=d:l=d}return i>=n[u]?u:l}}])})(M.PureComponent);mr(jo,"displayName","Brush");mr(jo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var cv,DA;function OH(){if(DA)return cv;DA=1;var t=Cx();function e(r,n){var i;return t(r,function(o,l,u){return i=n(o,l,u),!i}),!!i}return cv=e,cv}var dv,LA;function AH(){if(LA)return dv;LA=1;var t=IP(),e=ji(),r=OH(),n=cr(),i=Xd();function o(l,u,d){var h=n(l)?t:r;return d&&i(l,u,d)&&(u=void 0),h(l,e(u,3))}return dv=o,dv}var EH=AH();const PH=Ke(EH);var pn=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},fv,zA;function TH(){if(zA)return fv;zA=1;var t=JP();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return fv=e,fv}var hv,BA;function CH(){if(BA)return hv;BA=1;var t=TH(),e=YP(),r=ji();function n(i,o){var l={};return o=r(o,3),e(i,function(u,d,h){t(l,d,o(u,d,h))}),l}return hv=n,hv}var NH=CH();const IH=Ke(NH);var pv,qA;function RH(){if(qA)return pv;qA=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return pv=t,pv}var yv,UA;function $H(){if(UA)return yv;UA=1;var t=Cx();function e(r,n){var i=!0;return t(r,function(o,l,u){return i=!!n(o,l,u),i}),i}return yv=e,yv}var gv,FA;function MH(){if(FA)return gv;FA=1;var t=RH(),e=$H(),r=ji(),n=cr(),i=Xd();function o(l,u,d){var h=n(l)?t:e;return d&&i(l,u,d)&&(u=void 0),h(l,r(u,3))}return gv=o,gv}var DH=MH();const jC=Ke(DH);var LH=["x","y"];function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function D0(){return D0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D0.apply(this,arguments)}function WA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(r),!0).forEach(function(n){zH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zH(t,e,r){return e=BH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BH(t){var e=qH(t,"string");return ql(e)=="symbol"?e:e+""}function qH(t,e){if(ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UH(t,e){if(t==null)return{};var r=FH(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function WH(t,e){var r=t.x,n=t.y,i=UH(t,LH),o="".concat(r),l=parseInt(o,10),u="".concat(n),d=parseInt(u,10),h="".concat(e.height||i.height),y=parseInt(h,10),p="".concat(e.width||i.width),m=parseInt(p,10);return qs(qs(qs(qs(qs({},e),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:y,width:m,name:e.name,radius:e.radius})}function HA(t){return q.createElement(rH,D0({shapeType:"rectangle",propTransformer:WH,activeClassName:"recharts-active-bar"},t))}var HH=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var o=de(n)||J3(n);return o?e(n,i):(o||la(),r)}},VH=["value","background"],kC;function ko(t){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(t)}function KH(t,e){if(t==null)return{};var r=GH(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wd.apply(this,arguments)}function VA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VA(Object(r),!0).forEach(function(n){xi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AC(n.key),n)}}function XH(t,e,r){return e&&KA(t.prototype,e),r&&KA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function JH(t,e,r){return e=_d(e),QH(t,OC()?Reflect.construct(e,r||[],_d(t).constructor):e.apply(t,r))}function QH(t,e){if(e&&(ko(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZH(t)}function ZH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OC=function(){return!!t})()}function _d(t){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(t)}function eV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L0(t,e)}function L0(t,e){return L0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L0(t,e)}function xi(t,e,r){return e=AC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AC(t){var e=tV(t,"string");return ko(e)=="symbol"?e:e+""}function tV(t,e){if(ko(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tu=(function(t){function e(){var r;YH(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=JH(this,e,[].concat(i)),xi(r,"state",{isAnimationFinished:!1}),xi(r,"id",Bo("recharts-bar-")),xi(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),xi(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return eV(e,t),XH(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,l=o.shape,u=o.dataKey,d=o.activeIndex,h=o.activeBar,y=Re(this.props,!1);return n&&n.map(function(p,m){var v=m===d,S=v?h:l,w=gt(gt(gt({},y),p),{},{isActive:v,option:S,index:m,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return q.createElement(Qe,wd({className:"recharts-bar-rectangle"},$c(i.props,p,m),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(m)}),q.createElement(HA,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,l=i.layout,u=i.isAnimationActive,d=i.animationBegin,h=i.animationDuration,y=i.animationEasing,p=i.animationId,m=this.state.prevData;return q.createElement(gn,{begin:d,duration:h,isActive:u,easing:y,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var S=v.t,w=o.map(function(b,k){var A=m&&m[k];if(A){var O=zt(A.x,b.x),T=zt(A.y,b.y),j=zt(A.width,b.width),E=zt(A.height,b.height);return gt(gt({},b),{},{x:O(S),y:T(S),width:j(S),height:E(S)})}if(l==="horizontal"){var P=zt(0,b.height),I=P(S);return gt(gt({},b),{},{y:b.y+b.height-I,height:I})}var $=zt(0,b.width),V=$(S);return gt(gt({},b),{},{width:V})});return q.createElement(Qe,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,l=this.state.prevData;return o&&i&&i.length&&(!l||!bo(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,l=i.dataKey,u=i.activeIndex,d=Re(this.props.background,!1);return o.map(function(h,y){h.value;var p=h.background,m=KH(h,VH);if(!p)return null;var v=gt(gt(gt(gt(gt({},m),{},{fill:"#eee"},p),d),$c(n.props,h,y)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:y,className:"recharts-bar-background-rectangle"});return q.createElement(HA,wd({key:"background-bar-".concat(y),option:n.props.background,isActive:y===u},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.data,u=o.xAxis,d=o.yAxis,h=o.layout,y=o.children,p=Rr(y,eu);if(!p)return null;var m=h==="vertical"?l[0].height/2:l[0].width/2,v=function(b,k){var A=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:A,errorVal:Zt(b,k)}},S={clipPath:n?"url(#clipPath-".concat(i,")"):null};return q.createElement(Qe,S,p.map(function(w){return q.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:l,xAxis:u,yAxis:d,layout:h,offset:m,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,l=n.className,u=n.xAxis,d=n.yAxis,h=n.left,y=n.top,p=n.width,m=n.height,v=n.isAnimationActive,S=n.background,w=n.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,k=De("recharts-bar",l),A=u&&u.allowDataOverflow,O=d&&d.allowDataOverflow,T=A||O,j=$e(w)?this.id:w;return q.createElement(Qe,{className:k},A||O?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(j)},q.createElement("rect",{x:A?h:h-p/2,y:O?y:y-m/2,width:A?p:p*2,height:O?m:m*2}))):null,q.createElement(Qe,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(j,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,j),(!v||b)&&$n.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(M.PureComponent);kC=tu;xi(tu,"displayName","Bar");xi(tu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!da.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xi(tu,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,l=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,h=t.stackedData,y=t.dataStartIndex,p=t.displayedData,m=t.offset,v=gF(n,r);if(!v)return null;var S=e.layout,w=r.type.defaultProps,b=w!==void 0?gt(gt({},w),r.props):r.props,k=b.dataKey,A=b.children,O=b.minPointSize,T=S==="horizontal"?l:o,j=h?T.scale.domain():null,E=jF({numericAxis:T}),P=Rr(A,iT),I=p.map(function($,V){var U,R,z,W,H,X;h?U=mF(h[y+V],j):(U=Zt($,k),Array.isArray(U)||(U=[E,U]));var Q=HH(O,kC.defaultProps.minPointSize)(U[1],V);if(S==="horizontal"){var K,ee=[l.scale(U[0]),l.scale(U[1])],Z=ee[0],N=ee[1];R=I2({axis:o,ticks:u,bandSize:i,offset:v.offset,entry:$,index:V}),z=(K=N??Z)!==null&&K!==void 0?K:void 0,W=v.size;var L=Z-N;if(H=Number.isNaN(L)?0:L,X={x:R,y:l.y,width:W,height:l.height},Math.abs(Q)>0&&Math.abs(H)<Math.abs(Q)){var re=Qr(H||Q)*(Math.abs(Q)-Math.abs(H));z-=re,H+=re}}else{var fe=[o.scale(U[0]),o.scale(U[1])],me=fe[0],we=fe[1];if(R=me,z=I2({axis:l,ticks:d,bandSize:i,offset:v.offset,entry:$,index:V}),W=we-me,H=v.size,X={x:o.x,y:z,width:o.width,height:H},Math.abs(Q)>0&&Math.abs(W)<Math.abs(Q)){var ie=Qr(W||Q)*(Math.abs(Q)-Math.abs(W));W+=ie}}return gt(gt(gt({},$),{},{x:R,y:z,width:W,height:H,value:h?U:U[1],payload:$,background:X},P&&P[V]&&P[V].props),{},{tooltipPayload:[uC(r,$)],tooltipPosition:{x:R+W/2,y:z+H/2}})});return gt({data:I,layout:S},m)});function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function rV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EC(n.key),n)}}function nV(t,e,r){return e&&GA(t.prototype,e),r&&GA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function YA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(r),!0).forEach(function(n){cf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cf(t,e,r){return e=EC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EC(t){var e=iV(t,"string");return Ul(e)=="symbol"?e:e+""}function iV(t,e){if(Ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aV=function(e,r,n,i,o){var l=e.width,u=e.height,d=e.layout,h=e.children,y=Object.keys(r),p={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},m=!!vr(h,tu);return y.reduce(function(v,S){var w=r[S],b=w.orientation,k=w.domain,A=w.padding,O=A===void 0?{}:A,T=w.mirror,j=w.reversed,E="".concat(b).concat(T?"Mirror":""),P,I,$,V,U;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var R=k[1]-k[0],z=1/0,W=w.categoricalDomain.sort(eL);if(W.forEach(function(fe,me){me>0&&(z=Math.min((fe||0)-(W[me-1]||0),z))}),Number.isFinite(z)){var H=z/R,X=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(P=H*X/2),w.padding==="no-gap"){var Q=oa(e.barCategoryGap,H*X),K=H*X/2;P=K-Q-(K-Q)/X*Q}}}i==="xAxis"?I=[n.left+(O.left||0)+(P||0),n.left+n.width-(O.right||0)-(P||0)]:i==="yAxis"?I=d==="horizontal"?[n.top+n.height-(O.bottom||0),n.top+(O.top||0)]:[n.top+(O.top||0)+(P||0),n.top+n.height-(O.bottom||0)-(P||0)]:I=w.range,j&&(I=[I[1],I[0]]);var ee=pF(w,o,m),Z=ee.scale,N=ee.realScaleType;Z.domain(k).range(I),yF(Z);var L=SF(Z,Yr(Yr({},w),{},{realScaleType:N}));i==="xAxis"?(U=b==="top"&&!T||b==="bottom"&&T,$=n.left,V=p[E]-U*w.height):i==="yAxis"&&(U=b==="left"&&!T||b==="right"&&T,$=p[E]-U*w.width,V=n.top);var re=Yr(Yr(Yr({},w),L),{},{realScaleType:N,x:$,y:V,scale:Z,width:i==="xAxis"?n.width:w.width,height:i==="yAxis"?n.height:w.height});return re.bandSize=ld(re,L),!w.hide&&i==="xAxis"?p[E]+=(U?-1:1)*re.height:w.hide||(p[E]+=(U?-1:1)*re.width),Yr(Yr({},v),{},cf({},S,re))},{})},PC=function(e,r){var n=e.x,i=e.y,o=r.x,l=r.y;return{x:Math.min(n,o),y:Math.min(i,l),width:Math.abs(o-n),height:Math.abs(l-i)}},oV=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return PC({x:r,y:n},{x:i,y:o})},TC=(function(){function t(e){rV(this,t),this.scale=e}return nV(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();cf(TC,"EPS",1e-4);var ob=function(e){var r=Object.keys(e).reduce(function(n,i){return Yr(Yr({},n),{},cf({},i,TC.create(e[i])))},{});return Yr(Yr({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.bandAware,u=o.position;return IH(i,function(d,h){return r[h].apply(d,{bandAware:l,position:u})})},isInRange:function(i){return jC(i,function(o,l){return r[l].isInRange(o)})}})};function sV(t){return(t%180+180)%180}var lV=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=sV(i),l=o*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},mv,XA;function uV(){if(XA)return mv;XA=1;var t=ji(),e=Yl(),r=Gd();function n(i){return function(o,l,u){var d=Object(o);if(!e(o)){var h=t(l,3);o=r(o),l=function(p){return h(d[p],p,d)}}var y=i(o,l,u);return y>-1?d[h?o[y]:y]:void 0}}return mv=n,mv}var vv,JA;function cV(){if(JA)return vv;JA=1;var t=bC();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return vv=e,vv}var xv,QA;function dV(){if(QA)return xv;QA=1;var t=WP(),e=ji(),r=cV(),n=Math.max;function i(o,l,u){var d=o==null?0:o.length;if(!d)return-1;var h=u==null?0:r(u);return h<0&&(h=n(d+h,0)),t(o,e(l,3),h)}return xv=i,xv}var bv,ZA;function fV(){if(ZA)return bv;ZA=1;var t=uV(),e=dV(),r=t(e);return bv=r,bv}var hV=fV();const pV=Ke(hV);var yV=aP();const gV=Ke(yV);var mV=gV(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),sb=M.createContext(void 0),lb=M.createContext(void 0),CC=M.createContext(void 0),NC=M.createContext({}),IC=M.createContext(void 0),RC=M.createContext(0),$C=M.createContext(0),eE=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,l=e.clipPathId,u=e.children,d=e.width,h=e.height,y=mV(o);return q.createElement(sb.Provider,{value:n},q.createElement(lb.Provider,{value:i},q.createElement(NC.Provider,{value:o},q.createElement(CC.Provider,{value:y},q.createElement(IC.Provider,{value:l},q.createElement(RC.Provider,{value:h},q.createElement($C.Provider,{value:d},u)))))))},vV=function(){return M.useContext(IC)},MC=function(e){var r=M.useContext(sb);r==null&&la();var n=r[e];return n==null&&la(),n},xV=function(){var e=M.useContext(sb);return mi(e)},bV=function(){var e=M.useContext(lb),r=pV(e,function(n){return jC(n.domain,Number.isFinite)});return r||mi(e)},DC=function(e){var r=M.useContext(lb);r==null&&la();var n=r[e];return n==null&&la(),n},wV=function(){var e=M.useContext(CC);return e},_V=function(){return M.useContext(NC)},ub=function(){return M.useContext($C)},cb=function(){return M.useContext(RC)};function Oo(t){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oo(t)}function SV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zC(n.key),n)}}function kV(t,e,r){return e&&jV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OV(t,e,r){return e=Sd(e),AV(t,LC()?Reflect.construct(e,r||[],Sd(t).constructor):e.apply(t,r))}function AV(t,e){if(e&&(Oo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EV(t)}function EV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LC=function(){return!!t})()}function Sd(t){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sd(t)}function PV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z0(t,e)}function z0(t,e){return z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z0(t,e)}function tE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tE(Object(r),!0).forEach(function(n){db(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function db(t,e,r){return e=zC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zC(t){var e=TV(t,"string");return Oo(e)=="symbol"?e:e+""}function TV(t,e){if(Oo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CV(t,e){return $V(t)||RV(t,e)||IV(t,e)||NV()}function NV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IV(t,e){if(t){if(typeof t=="string")return nE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nE(t,e)}}function nE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RV(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function $V(t){if(Array.isArray(t))return t}function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B0.apply(this,arguments)}var MV=function(e,r){var n;return q.isValidElement(e)?n=q.cloneElement(e,r):Ie(e)?n=e(r):n=q.createElement("line",B0({},r,{className:"recharts-reference-line-line"})),n},DV=function(e,r,n,i,o,l,u,d,h){var y=o.x,p=o.y,m=o.width,v=o.height;if(n){var S=h.y,w=e.y.apply(S,{position:l});if(pn(h,"discard")&&!e.y.isInRange(w))return null;var b=[{x:y+m,y:w},{x:y,y:w}];return d==="left"?b.reverse():b}if(r){var k=h.x,A=e.x.apply(k,{position:l});if(pn(h,"discard")&&!e.x.isInRange(A))return null;var O=[{x:A,y:p+v},{x:A,y:p}];return u==="top"?O.reverse():O}if(i){var T=h.segment,j=T.map(function(E){return e.apply(E,{position:l})});return pn(h,"discard")&&PH(j,function(E){return!e.isInRange(E)})?null:j}return null};function LV(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,o=t.yAxisId,l=t.shape,u=t.className,d=t.alwaysShow,h=vV(),y=MC(i),p=DC(o),m=wV();if(!h||!m)return null;In(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=ob({x:y.scale,y:p.scale}),S=Ot(e),w=Ot(r),b=n&&n.length===2,k=DV(v,S,w,b,m,t.position,y.orientation,p.orientation,t);if(!k)return null;var A=CV(k,2),O=A[0],T=O.x,j=O.y,E=A[1],P=E.x,I=E.y,$=pn(t,"hidden")?"url(#".concat(h,")"):void 0,V=rE(rE({clipPath:$},Re(t,!0)),{},{x1:T,y1:j,x2:P,y2:I});return q.createElement(Qe,{className:De("recharts-reference-line",u)},MV(l,V),Vt.renderCallByParent(t,oV({x1:T,y1:j,x2:P,y2:I})))}var fb=(function(t){function e(){return SV(this,e),OV(this,e,arguments)}return PV(e,t),kV(e,[{key:"render",value:function(){return q.createElement(LV,this.props)}}])})(q.Component);db(fb,"displayName","ReferenceLine");db(fb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q0.apply(this,arguments)}function Ao(t){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao(t)}function iE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(r),!0).forEach(function(n){df(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qC(n.key),n)}}function qV(t,e,r){return e&&BV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UV(t,e,r){return e=jd(e),FV(t,BC()?Reflect.construct(e,r||[],jd(t).constructor):e.apply(t,r))}function FV(t,e){if(e&&(Ao(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WV(t)}function WV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BC=function(){return!!t})()}function jd(t){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(t)}function HV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U0(t,e)}function U0(t,e){return U0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},U0(t,e)}function df(t,e,r){return e=qC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qC(t){var e=VV(t,"string");return Ao(e)=="symbol"?e:e+""}function VV(t,e){if(Ao(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KV=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,l=ob({x:i.scale,y:o.scale}),u=l.apply({x:r,y:n},{bandAware:!0});return pn(e,"discard")&&!l.isInRange(u)?null:u},ff=(function(t){function e(){return zV(this,e),UV(this,e,arguments)}return HV(e,t),qV(e,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,l=n.r,u=n.alwaysShow,d=n.clipPathId,h=Ot(i),y=Ot(o);if(In(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!y)return null;var p=KV(this.props);if(!p)return null;var m=p.x,v=p.y,S=this.props,w=S.shape,b=S.className,k=pn(this.props,"hidden")?"url(#".concat(d,")"):void 0,A=aE(aE({clipPath:k},Re(this.props,!0)),{},{cx:m,cy:v});return q.createElement(Qe,{className:De("recharts-reference-dot",b)},e.renderDot(w,A),Vt.renderCallByParent(this.props,{x:m-l,y:v-l,width:2*l,height:2*l}))}}])})(q.Component);df(ff,"displayName","ReferenceDot");df(ff,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});df(ff,"renderDot",function(t,e){var r;return q.isValidElement(t)?r=q.cloneElement(t,e):Ie(t)?r=t(e):r=q.createElement(sf,q0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F0.apply(this,arguments)}function Eo(t){"@babel/helpers - typeof";return Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eo(t)}function oE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oE(Object(r),!0).forEach(function(n){hf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FC(n.key),n)}}function XV(t,e,r){return e&&YV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JV(t,e,r){return e=kd(e),QV(t,UC()?Reflect.construct(e,r||[],kd(t).constructor):e.apply(t,r))}function QV(t,e){if(e&&(Eo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZV(t)}function ZV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UC=function(){return!!t})()}function kd(t){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kd(t)}function eK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W0(t,e)}function W0(t,e){return W0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},W0(t,e)}function hf(t,e,r){return e=FC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FC(t){var e=tK(t,"string");return Eo(e)=="symbol"?e:e+""}function tK(t,e){if(Eo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rK=function(e,r,n,i,o){var l=o.x1,u=o.x2,d=o.y1,h=o.y2,y=o.xAxis,p=o.yAxis;if(!y||!p)return null;var m=ob({x:y.scale,y:p.scale}),v={x:e?m.x.apply(l,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(d,{position:"start"}):m.y.rangeMin},S={x:r?m.x.apply(u,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(h,{position:"end"}):m.y.rangeMax};return pn(o,"discard")&&(!m.isInRange(v)||!m.isInRange(S))?null:PC(v,S)},pf=(function(t){function e(){return GV(this,e),JV(this,e,arguments)}return eK(e,t),XV(e,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,l=n.y1,u=n.y2,d=n.className,h=n.alwaysShow,y=n.clipPathId;In(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Ot(i),m=Ot(o),v=Ot(l),S=Ot(u),w=this.props.shape;if(!p&&!m&&!v&&!S&&!w)return null;var b=rK(p,m,v,S,this.props);if(!b&&!w)return null;var k=pn(this.props,"hidden")?"url(#".concat(y,")"):void 0;return q.createElement(Qe,{className:De("recharts-reference-area",d)},e.renderRect(w,sE(sE({clipPath:k},Re(this.props,!0)),b)),Vt.renderCallByParent(this.props,b))}}])})(q.Component);hf(pf,"displayName","ReferenceArea");hf(pf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});hf(pf,"renderRect",function(t,e){var r;return q.isValidElement(t)?r=q.cloneElement(t,e):Ie(t)?r=t(e):r=q.createElement(ab,F0({},e,{className:"recharts-reference-area-rect"})),r});function WC(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function nK(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return lV(n,r)}function iK(t,e,r){var n=r==="width",i=t.x,o=t.y,l=t.width,u=t.height;return e===1?{start:n?i:o,end:n?i+l:o+u}:{start:n?i+l:o+u,end:n?i:o}}function Od(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function aK(t,e){return WC(t,e+1)}function oK(t,e,r,n,i){for(var o=(n||[]).slice(),l=e.start,u=e.end,d=0,h=1,y=l,p=function(){var S=n?.[d];if(S===void 0)return{v:WC(n,h)};var w=d,b,k=function(){return b===void 0&&(b=r(S,w)),b},A=S.coordinate,O=d===0||Od(t,A,k,y,u);O||(d=0,y=l,h+=1),O&&(y=A+t*(k()/2+i),d+=h)},m;h<=o.length;)if(m=p(),m)return m.v;return[]}function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function lE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ht(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lE(Object(r),!0).forEach(function(n){sK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sK(t,e,r){return e=lK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lK(t){var e=uK(t,"string");return Fl(e)=="symbol"?e:e+""}function uK(t,e){if(Fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cK(t,e,r,n,i){for(var o=(n||[]).slice(),l=o.length,u=e.start,d=e.end,h=function(m){var v=o[m],S,w=function(){return S===void 0&&(S=r(v,m)),S};if(m===l-1){var b=t*(v.coordinate+t*w()/2-d);o[m]=v=Ht(Ht({},v),{},{tickCoord:b>0?v.coordinate-b*t:v.coordinate})}else o[m]=v=Ht(Ht({},v),{},{tickCoord:v.coordinate});var k=Od(t,v.tickCoord,w,u,d);k&&(d=v.tickCoord-t*(w()/2+i),o[m]=Ht(Ht({},v),{},{isShow:!0}))},y=l-1;y>=0;y--)h(y);return o}function dK(t,e,r,n,i,o){var l=(n||[]).slice(),u=l.length,d=e.start,h=e.end;if(o){var y=n[u-1],p=r(y,u-1),m=t*(y.coordinate+t*p/2-h);l[u-1]=y=Ht(Ht({},y),{},{tickCoord:m>0?y.coordinate-m*t:y.coordinate});var v=Od(t,y.tickCoord,function(){return p},d,h);v&&(h=y.tickCoord-t*(p/2+i),l[u-1]=Ht(Ht({},y),{},{isShow:!0}))}for(var S=o?u-1:u,w=function(A){var O=l[A],T,j=function(){return T===void 0&&(T=r(O,A)),T};if(A===0){var E=t*(O.coordinate-t*j()/2-d);l[A]=O=Ht(Ht({},O),{},{tickCoord:E<0?O.coordinate-E*t:O.coordinate})}else l[A]=O=Ht(Ht({},O),{},{tickCoord:O.coordinate});var P=Od(t,O.tickCoord,j,d,h);P&&(d=O.tickCoord+t*(j()/2+i),l[A]=Ht(Ht({},O),{},{isShow:!0}))},b=0;b<S;b++)w(b);return l}function hb(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,l=t.minTickGap,u=t.orientation,d=t.interval,h=t.tickFormatter,y=t.unit,p=t.angle;if(!i||!i.length||!n)return[];if(de(d)||da.isSsr)return aK(i,typeof d=="number"&&de(d)?d:0);var m=[],v=u==="top"||u==="bottom"?"width":"height",S=y&&v==="width"?Ys(y,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(O,T){var j=Ie(h)?h(O.value,T):O.value;return v==="width"?nK(Ys(j,{fontSize:e,letterSpacing:r}),S,p):Ys(j,{fontSize:e,letterSpacing:r})[v]},b=i.length>=2?Qr(i[1].coordinate-i[0].coordinate):1,k=iK(o,b,v);return d==="equidistantPreserveStart"?oK(b,k,w,i,l):(d==="preserveStart"||d==="preserveStartEnd"?m=dK(b,k,w,i,l,d==="preserveStartEnd"):m=cK(b,k,w,i,l),m.filter(function(A){return A.isShow}))}var fK=["viewBox"],hK=["viewBox"],pK=["ticks"];function Po(t){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Po(t)}function ro(){return ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ro.apply(this,arguments)}function uE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function St(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uE(Object(r),!0).forEach(function(n){pb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wv(t,e){if(t==null)return{};var r=yK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VC(n.key),n)}}function mK(t,e,r){return e&&cE(t.prototype,e),r&&cE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vK(t,e,r){return e=Ad(e),xK(t,HC()?Reflect.construct(e,r||[],Ad(t).constructor):e.apply(t,r))}function xK(t,e){if(e&&(Po(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bK(t)}function bK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HC=function(){return!!t})()}function Ad(t){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ad(t)}function wK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H0(t,e)}function H0(t,e){return H0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},H0(t,e)}function pb(t,e,r){return e=VC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VC(t){var e=_K(t,"string");return Po(e)=="symbol"?e:e+""}function _K(t,e){if(Po(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ho=(function(t){function e(r){var n;return gK(this,e),n=vK(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return wK(e,t),mK(e,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,l=wv(n,fK),u=this.props,d=u.viewBox,h=wv(u,hK);return!ao(o,d)||!ao(l,h)||!ao(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,l=i.y,u=i.width,d=i.height,h=i.orientation,y=i.tickSize,p=i.mirror,m=i.tickMargin,v,S,w,b,k,A,O=p?-1:1,T=n.tickSize||y,j=de(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":v=S=n.coordinate,b=l+ +!p*d,w=b-O*T,A=w-O*m,k=j;break;case"left":w=b=n.coordinate,S=o+ +!p*u,v=S-O*T,k=v-O*m,A=j;break;case"right":w=b=n.coordinate,S=o+ +p*u,v=S+O*T,k=v+O*m,A=j;break;default:v=S=n.coordinate,b=l+ +p*d,w=b+O*T,A=w+O*m,k=j;break}return{line:{x1:v,y1:w,x2:S,y2:b},tick:{x:k,y:A}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,l;switch(i){case"left":l=o?"start":"end";break;case"right":l=o?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=o?"start":"end";break;default:l=o?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.orientation,h=n.mirror,y=n.axisLine,p=St(St(St({},Re(this.props,!1)),Re(y,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var m=+(d==="top"&&!h||d==="bottom"&&h);p=St(St({},p),{},{x1:i,y1:o+m*u,x2:i+l,y2:o+m*u})}else{var v=+(d==="left"&&!h||d==="right"&&h);p=St(St({},p),{},{x1:i+v*l,y1:o,x2:i+v*l,y2:o+u})}return q.createElement("line",ro({},p,{className:De("recharts-cartesian-axis-line",Ir(y,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var l=this,u=this.props,d=u.tickLine,h=u.stroke,y=u.tick,p=u.tickFormatter,m=u.unit,v=hb(St(St({},this.props),{},{ticks:n}),i,o),S=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=Re(this.props,!1),k=Re(y,!1),A=St(St({},b),{},{fill:"none"},Re(d,!1)),O=v.map(function(T,j){var E=l.getTickLineCoord(T),P=E.line,I=E.tick,$=St(St(St(St({textAnchor:S,verticalAnchor:w},b),{},{stroke:"none",fill:h},k),I),{},{index:j,payload:T,visibleTicksCount:v.length,tickFormatter:p});return q.createElement(Qe,ro({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},$c(l.props,T,j)),d&&q.createElement("line",ro({},A,P,{className:De("recharts-cartesian-axis-tick-line",Ir(d,"className"))})),y&&e.renderTickItem(y,$,"".concat(Ie(p)?p(T.value,j):T.value).concat(m||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},O)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,l=i.width,u=i.height,d=i.ticksGenerator,h=i.className,y=i.hide;if(y)return null;var p=this.props,m=p.ticks,v=wv(p,pK),S=m;return Ie(d)&&(S=m&&m.length>0?d(this.props):d(v)),l<=0||u<=0||!S||!S.length?null:q.createElement(Qe,{className:De("recharts-cartesian-axis",h),ref:function(b){n.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),Vt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var l,u=De(i.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(n)?l=q.cloneElement(n,St(St({},i),{},{className:u})):Ie(n)?l=n(St(St({},i),{},{className:u})):l=q.createElement(Vc,ro({},i,{className:"recharts-cartesian-axis-tick-value"}),o),l}}])})(M.Component);pb(Ho,"displayName","CartesianAxis");pb(Ho,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var SK=["x1","y1","x2","y2","key"],jK=["offset"];function ua(t){"@babel/helpers - typeof";return ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ua(t)}function dE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(r),!0).forEach(function(n){kK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kK(t,e,r){return e=OK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OK(t){var e=AK(t,"string");return ua(e)=="symbol"?e:e+""}function AK(t,e){if(ua(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ua(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ea(){return ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ea.apply(this,arguments)}function fE(t,e){if(t==null)return{};var r=EK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function EK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var PK=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,o=e.y,l=e.width,u=e.height,d=e.ry;return q.createElement("rect",{x:i,y:o,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function KC(t,e){var r;if(q.isValidElement(t))r=q.cloneElement(t,e);else if(Ie(t))r=t(e);else{var n=e.x1,i=e.y1,o=e.x2,l=e.y2,u=e.key,d=fE(e,SK),h=Re(d,!1);h.offset;var y=fE(h,jK);r=q.createElement("line",ea({},y,{x1:n,y1:i,x2:o,y2:l,fill:"none",key:u}))}return r}function TK(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(u,d){var h=Kt(Kt({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(d),index:d});return KC(i,h)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function CK(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,o=t.verticalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(u,d){var h=Kt(Kt({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(d),index:d});return KC(i,h)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function NK(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,o=t.width,l=t.height,u=t.horizontalPoints,d=t.horizontal,h=d===void 0?!0:d;if(!h||!e||!e.length)return null;var y=u.map(function(m){return Math.round(m+i-i)}).sort(function(m,v){return m-v});i!==y[0]&&y.unshift(0);var p=y.map(function(m,v){var S=!y[v+1],w=S?i+l-m:y[v+1]-m;if(w<=0)return null;var b=v%e.length;return q.createElement("rect",{key:"react-".concat(v),y:m,x:n,height:w,width:o,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function IK(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,o=t.x,l=t.y,u=t.width,d=t.height,h=t.verticalPoints;if(!r||!n||!n.length)return null;var y=h.map(function(m){return Math.round(m+o-o)}).sort(function(m,v){return m-v});o!==y[0]&&y.unshift(0);var p=y.map(function(m,v){var S=!y[v+1],w=S?o+u-m:y[v+1]-m;if(w<=0)return null;var b=v%n.length;return q.createElement("rect",{key:"react-".concat(v),x:m,y:l,width:w,height:d,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var RK=function(e,r){var n=e.xAxis,i=e.width,o=e.height,l=e.offset;return sC(hb(Kt(Kt(Kt({},Ho.defaultProps),n),{},{ticks:Tn(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.left,l.left+l.width,r)},$K=function(e,r){var n=e.yAxis,i=e.width,o=e.height,l=e.offset;return sC(hb(Kt(Kt(Kt({},Ho.defaultProps),n),{},{ticks:Tn(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.top,l.top+l.height,r)},Ga={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function GC(t){var e,r,n,i,o,l,u=ub(),d=cb(),h=_V(),y=Kt(Kt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ga.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Ga.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Ga.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ga.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ga.vertical,verticalFill:(l=t.verticalFill)!==null&&l!==void 0?l:Ga.verticalFill,x:de(t.x)?t.x:h.left,y:de(t.y)?t.y:h.top,width:de(t.width)?t.width:h.width,height:de(t.height)?t.height:h.height}),p=y.x,m=y.y,v=y.width,S=y.height,w=y.syncWithTicks,b=y.horizontalValues,k=y.verticalValues,A=xV(),O=bV();if(!de(v)||v<=0||!de(S)||S<=0||!de(p)||p!==+p||!de(m)||m!==+m)return null;var T=y.verticalCoordinatesGenerator||RK,j=y.horizontalCoordinatesGenerator||$K,E=y.horizontalPoints,P=y.verticalPoints;if((!E||!E.length)&&Ie(j)){var I=b&&b.length,$=j({yAxis:O?Kt(Kt({},O),{},{ticks:I?b:O.ticks}):void 0,width:u,height:d,offset:h},I?!0:w);In(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ua($),"]")),Array.isArray($)&&(E=$)}if((!P||!P.length)&&Ie(T)){var V=k&&k.length,U=T({xAxis:A?Kt(Kt({},A),{},{ticks:V?k:A.ticks}):void 0,width:u,height:d,offset:h},V?!0:w);In(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ua(U),"]")),Array.isArray(U)&&(P=U)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(PK,{fill:y.fill,fillOpacity:y.fillOpacity,x:y.x,y:y.y,width:y.width,height:y.height,ry:y.ry}),q.createElement(TK,ea({},y,{offset:h,horizontalPoints:E,xAxis:A,yAxis:O})),q.createElement(CK,ea({},y,{offset:h,verticalPoints:P,xAxis:A,yAxis:O})),q.createElement(NK,ea({},y,{horizontalPoints:E})),q.createElement(IK,ea({},y,{verticalPoints:P})))}GC.displayName="CartesianGrid";var MK=["type","layout","connectNulls","ref"],DK=["key"];function To(t){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(t)}function hE(t,e){if(t==null)return{};var r=LK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Zs(){return Zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zs.apply(this,arguments)}function pE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(r),!0).forEach(function(n){Xr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ya(t){return UK(t)||qK(t)||BK(t)||zK()}function zK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BK(t,e){if(t){if(typeof t=="string")return V0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V0(t,e)}}function qK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UK(t){if(Array.isArray(t))return V0(t)}function V0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XC(n.key),n)}}function WK(t,e,r){return e&&yE(t.prototype,e),r&&yE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function HK(t,e,r){return e=Ed(e),VK(t,YC()?Reflect.construct(e,r||[],Ed(t).constructor):e.apply(t,r))}function VK(t,e){if(e&&(To(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KK(t)}function KK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YC=function(){return!!t})()}function Ed(t){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(t)}function GK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K0(t,e)}function K0(t,e){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K0(t,e)}function Xr(t,e,r){return e=XC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XC(t){var e=YK(t,"string");return To(e)=="symbol"?e:e+""}function YK(t,e){if(To(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(To(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wl=(function(t){function e(){var r;FK(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=HK(this,e,[].concat(i)),Xr(r,"state",{isAnimationFinished:!0,totalLength:0}),Xr(r,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),Xr(r,"getStrokeDasharray",function(l,u,d){var h=d.reduce(function(k,A){return k+A});if(!h)return r.generateSimpleStrokeDasharray(u,l);for(var y=Math.floor(l/h),p=l%h,m=u-l,v=[],S=0,w=0;S<d.length;w+=d[S],++S)if(w+d[S]>p){v=[].concat(Ya(d.slice(0,S)),[p-w]);break}var b=v.length%2===0?[0,m]:[m];return[].concat(Ya(e.repeat(d,y)),Ya(v),b).map(function(k){return"".concat(k,"px")}).join(", ")}),Xr(r,"id",Bo("recharts-line-")),Xr(r,"pathRef",function(l){r.mainCurve=l}),Xr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Xr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return GK(e,t),WK(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.points,u=o.xAxis,d=o.yAxis,h=o.layout,y=o.children,p=Rr(y,eu);if(!p)return null;var m=function(w,b){return{x:w.x,y:w.y,value:w.value,errorVal:Zt(w.payload,b)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return q.createElement(Qe,v,p.map(function(S){return q.cloneElement(S,{key:"bar-".concat(S.props.dataKey),data:l,xAxis:u,yAxis:d,layout:h,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,i,o){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,h=u.points,y=u.dataKey,p=Re(this.props,!1),m=Re(d,!0),v=h.map(function(w,b){var k=gr(gr(gr({key:"dot-".concat(b),r:3},p),m),{},{index:b,cx:w.x,cy:w.y,value:w.value,dataKey:y,payload:w.payload,points:h});return e.renderDotItem(d,k)}),S={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return q.createElement(Qe,Zs({className:"recharts-line-dots",key:"dots"},S),v)}},{key:"renderCurveStatically",value:function(n,i,o,l){var u=this.props,d=u.type,h=u.layout,y=u.connectNulls;u.ref;var p=hE(u,MK),m=gr(gr(gr({},Re(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:n},l),{},{type:d,layout:h,connectNulls:y});return q.createElement(lo,Zs({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var o=this,l=this.props,u=l.points,d=l.strokeDasharray,h=l.isAnimationActive,y=l.animationBegin,p=l.animationDuration,m=l.animationEasing,v=l.animationId,S=l.animateNewValues,w=l.width,b=l.height,k=this.state,A=k.prevPoints,O=k.totalLength;return q.createElement(gn,{begin:y,duration:p,isActive:h,easing:m,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var j=T.t;if(A){var E=A.length/u.length,P=u.map(function(R,z){var W=Math.floor(z*E);if(A[W]){var H=A[W],X=zt(H.x,R.x),Q=zt(H.y,R.y);return gr(gr({},R),{},{x:X(j),y:Q(j)})}if(S){var K=zt(w*2,R.x),ee=zt(b/2,R.y);return gr(gr({},R),{},{x:K(j),y:ee(j)})}return gr(gr({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(P,n,i)}var I=zt(0,O),$=I(j),V;if(d){var U="".concat(d).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});V=o.getStrokeDasharray($,O,U)}else V=o.generateSimpleStrokeDasharray(O,$);return o.renderCurveStatically(u,n,i,{strokeDasharray:V})})}},{key:"renderCurve",value:function(n,i){var o=this.props,l=o.points,u=o.isAnimationActive,d=this.state,h=d.prevPoints,y=d.totalLength;return u&&l&&l.length&&(!h&&y>0||!bo(h,l))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(l,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,l=i.dot,u=i.points,d=i.className,h=i.xAxis,y=i.yAxis,p=i.top,m=i.left,v=i.width,S=i.height,w=i.isAnimationActive,b=i.id;if(o||!u||!u.length)return null;var k=this.state.isAnimationFinished,A=u.length===1,O=De("recharts-line",d),T=h&&h.allowDataOverflow,j=y&&y.allowDataOverflow,E=T||j,P=$e(b)?this.id:b,I=(n=Re(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},$=I.r,V=$===void 0?3:$,U=I.strokeWidth,R=U===void 0?2:U,z=cP(l)?l:{},W=z.clipDot,H=W===void 0?!0:W,X=V*2+R;return q.createElement(Qe,{className:O},T||j?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(P)},q.createElement("rect",{x:T?m:m-v/2,y:j?p:p-S/2,width:T?v:v*2,height:j?S:S*2})),!H&&q.createElement("clipPath",{id:"clipPath-dots-".concat(P)},q.createElement("rect",{x:m-X/2,y:p-X/2,width:v+X,height:S+X}))):null,!A&&this.renderCurve(E,P),this.renderErrorBar(E,P),(A||l)&&this.renderDots(E,H,P),(!w||k)&&$n.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var o=n.length%2!==0?[].concat(Ya(n),[0]):n,l=[],u=0;u<i;++u)l=[].concat(Ya(l),Ya(o));return l}},{key:"renderDotItem",value:function(n,i){var o;if(q.isValidElement(n))o=q.cloneElement(n,i);else if(Ie(n))o=n(i);else{var l=i.key,u=hE(i,DK),d=De("recharts-line-dot",typeof n!="boolean"?n.className:"");o=q.createElement(sf,Zs({key:l},u,{className:d}))}return o}}])})(M.PureComponent);Xr(Wl,"displayName","Line");Xr(Wl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!da.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Xr(Wl,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.dataKey,u=t.bandSize,d=t.displayedData,h=t.offset,y=e.layout,p=d.map(function(m,v){var S=Zt(m,l);return y==="horizontal"?{x:sd({axis:r,ticks:i,bandSize:u,entry:m,index:v}),y:$e(S)?null:n.scale(S),value:S,payload:m}:{x:$e(S)?null:r.scale(S),y:sd({axis:n,ticks:o,bandSize:u,entry:m,index:v}),value:S,payload:m}});return gr({points:p,layout:y},h)});var XK=["layout","type","stroke","connectNulls","isRange","ref"],JK=["key"],JC;function Co(t){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(t)}function QC(t,e){if(t==null)return{};var r=QK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ta(){return ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ta.apply(this,arguments)}function gE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gE(Object(r),!0).forEach(function(n){fn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eN(n.key),n)}}function eG(t,e,r){return e&&mE(t.prototype,e),r&&mE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tG(t,e,r){return e=Pd(e),rG(t,ZC()?Reflect.construct(e,r||[],Pd(t).constructor):e.apply(t,r))}function rG(t,e){if(e&&(Co(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nG(t)}function nG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZC=function(){return!!t})()}function Pd(t){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pd(t)}function iG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G0(t,e)}function G0(t,e){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},G0(t,e)}function fn(t,e,r){return e=eN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eN(t){var e=aG(t,"string");return Co(e)=="symbol"?e:e+""}function aG(t,e){if(Co(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zn=(function(t){function e(){var r;ZK(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=tG(this,e,[].concat(i)),fn(r,"state",{isAnimationFinished:!0}),fn(r,"id",Bo("recharts-area-")),fn(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ie(l)&&l()}),fn(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ie(l)&&l()}),r}return iG(e,t),eG(e,[{key:"renderDots",value:function(n,i,o){var l=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(l&&!u)return null;var d=this.props,h=d.dot,y=d.points,p=d.dataKey,m=Re(this.props,!1),v=Re(h,!0),S=y.map(function(b,k){var A=hi(hi(hi({key:"dot-".concat(k),r:3},m),v),{},{index:k,cx:b.x,cy:b.y,dataKey:p,value:b.value,payload:b.payload,points:y});return e.renderDotItem(h,A)}),w={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return q.createElement(Qe,ta({className:"recharts-area-dots"},w),S)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,o=i.baseLine,l=i.points,u=i.strokeWidth,d=l[0].x,h=l[l.length-1].x,y=n*Math.abs(d-h),p=vi(l.map(function(m){return m.y||0}));return de(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(vi(o.map(function(m){return m.y||0})),p)),de(p)?q.createElement("rect",{x:d<h?d:d-y,y:0,width:y,height:Math.floor(p+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,o=i.baseLine,l=i.points,u=i.strokeWidth,d=l[0].y,h=l[l.length-1].y,y=n*Math.abs(d-h),p=vi(l.map(function(m){return m.x||0}));return de(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(vi(o.map(function(m){return m.x||0})),p)),de(p)?q.createElement("rect",{x:0,y:d<h?d:d-y,width:p+(u?parseInt("".concat(u),10):1),height:Math.floor(y)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,o,l){var u=this.props,d=u.layout,h=u.type,y=u.stroke,p=u.connectNulls,m=u.isRange;u.ref;var v=QC(u,XK);return q.createElement(Qe,{clipPath:o?"url(#clipPath-".concat(l,")"):null},q.createElement(lo,ta({},Re(v,!0),{points:n,connectNulls:p,type:h,baseLine:i,layout:d,stroke:"none",className:"recharts-area-area"})),y!=="none"&&q.createElement(lo,ta({},Re(this.props,!1),{className:"recharts-area-curve",layout:d,type:h,connectNulls:p,fill:"none",points:n})),y!=="none"&&m&&q.createElement(lo,ta({},Re(this.props,!1),{className:"recharts-area-curve",layout:d,type:h,connectNulls:p,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var o=this,l=this.props,u=l.points,d=l.baseLine,h=l.isAnimationActive,y=l.animationBegin,p=l.animationDuration,m=l.animationEasing,v=l.animationId,S=this.state,w=S.prevPoints,b=S.prevBaseLine;return q.createElement(gn,{begin:y,duration:p,isActive:h,easing:m,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var A=k.t;if(w){var O=w.length/u.length,T=u.map(function(I,$){var V=Math.floor($*O);if(w[V]){var U=w[V],R=zt(U.x,I.x),z=zt(U.y,I.y);return hi(hi({},I),{},{x:R(A),y:z(A)})}return I}),j;if(de(d)&&typeof d=="number"){var E=zt(b,d);j=E(A)}else if($e(d)||zo(d)){var P=zt(b,0);j=P(A)}else j=d.map(function(I,$){var V=Math.floor($*O);if(b[V]){var U=b[V],R=zt(U.x,I.x),z=zt(U.y,I.y);return hi(hi({},I),{},{x:R(A),y:z(A)})}return I});return o.renderAreaStatically(T,j,n,i)}return q.createElement(Qe,null,q.createElement("defs",null,q.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(A))),q.createElement(Qe,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(u,d,n,i)))})}},{key:"renderArea",value:function(n,i){var o=this.props,l=o.points,u=o.baseLine,d=o.isAnimationActive,h=this.state,y=h.prevPoints,p=h.prevBaseLine,m=h.totalLength;return d&&l&&l.length&&(!y&&m>0||!bo(y,l)||!bo(p,u))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(l,u,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,l=i.dot,u=i.points,d=i.className,h=i.top,y=i.left,p=i.xAxis,m=i.yAxis,v=i.width,S=i.height,w=i.isAnimationActive,b=i.id;if(o||!u||!u.length)return null;var k=this.state.isAnimationFinished,A=u.length===1,O=De("recharts-area",d),T=p&&p.allowDataOverflow,j=m&&m.allowDataOverflow,E=T||j,P=$e(b)?this.id:b,I=(n=Re(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},$=I.r,V=$===void 0?3:$,U=I.strokeWidth,R=U===void 0?2:U,z=cP(l)?l:{},W=z.clipDot,H=W===void 0?!0:W,X=V*2+R;return q.createElement(Qe,{className:O},T||j?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(P)},q.createElement("rect",{x:T?y:y-v/2,y:j?h:h-S/2,width:T?v:v*2,height:j?S:S*2})),!H&&q.createElement("clipPath",{id:"clipPath-dots-".concat(P)},q.createElement("rect",{x:y-X/2,y:h-X/2,width:v+X,height:S+X}))):null,A?null:this.renderArea(E,P),(l||A)&&this.renderDots(E,H,P),(!w||k)&&$n.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(M.PureComponent);JC=zn;fn(zn,"displayName","Area");fn(zn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!da.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});fn(zn,"getBaseValue",function(t,e,r,n){var i=t.layout,o=t.baseValue,l=e.props.baseValue,u=l??o;if(de(u)&&typeof u=="number")return u;var d=i==="horizontal"?n:r,h=d.scale.domain();if(d.type==="number"){var y=Math.max(h[0],h[1]),p=Math.min(h[0],h[1]);return u==="dataMin"?p:u==="dataMax"||y<0?y:Math.max(Math.min(h[0],h[1]),0)}return u==="dataMin"?h[0]:u==="dataMax"?h[1]:h[0]});fn(zn,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.bandSize,d=t.dataKey,h=t.stackedData,y=t.dataStartIndex,p=t.displayedData,m=t.offset,v=e.layout,S=h&&h.length,w=JC.getBaseValue(e,r,n,i),b=v==="horizontal",k=!1,A=p.map(function(T,j){var E;S?E=h[y+j]:(E=Zt(T,d),Array.isArray(E)?k=!0:E=[w,E]);var P=E[1]==null||S&&Zt(T,d)==null;return b?{x:sd({axis:n,ticks:o,bandSize:u,entry:T,index:j}),y:P?null:i.scale(E[1]),value:E,payload:T}:{x:P?null:n.scale(E[1]),y:sd({axis:i,ticks:l,bandSize:u,entry:T,index:j}),value:E,payload:T}}),O;return S||k?O=A.map(function(T){var j=Array.isArray(T.value)?T.value[0]:null;return b?{x:T.x,y:j!=null&&T.y!=null?i.scale(j):null}:{x:j!=null?n.scale(j):null,y:T.y}}):O=b?i.scale(w):n.scale(w),hi({points:A,baseLine:O,layout:v,isRange:k},m)});fn(zn,"renderDotItem",function(t,e){var r;if(q.isValidElement(t))r=q.cloneElement(t,e);else if(Ie(t))r=t(e);else{var n=De("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=QC(e,JK);r=q.createElement(sf,ta({},o,{key:i,className:n}))}return r});function No(t){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(t)}function oG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nN(n.key),n)}}function lG(t,e,r){return e&&sG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uG(t,e,r){return e=Td(e),cG(t,tN()?Reflect.construct(e,r||[],Td(t).constructor):e.apply(t,r))}function cG(t,e){if(e&&(No(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dG(t)}function dG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tN=function(){return!!t})()}function Td(t){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Td(t)}function fG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y0(t,e)}function Y0(t,e){return Y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y0(t,e)}function rN(t,e,r){return e=nN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nN(t){var e=hG(t,"string");return No(e)=="symbol"?e:e+""}function hG(t,e){if(No(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(No(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X0.apply(this,arguments)}function pG(t){var e=t.xAxisId,r=ub(),n=cb(),i=MC(e);return i==null?null:M.createElement(Ho,X0({},i,{className:De("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return Tn(l,!0)}}))}var yf=(function(t){function e(){return oG(this,e),uG(this,e,arguments)}return fG(e,t),lG(e,[{key:"render",value:function(){return M.createElement(pG,this.props)}}])})(M.Component);rN(yf,"displayName","XAxis");rN(yf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Io(t){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(t)}function yG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oN(n.key),n)}}function mG(t,e,r){return e&&gG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vG(t,e,r){return e=Cd(e),xG(t,iN()?Reflect.construct(e,r||[],Cd(t).constructor):e.apply(t,r))}function xG(t,e){if(e&&(Io(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bG(t)}function bG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iN=function(){return!!t})()}function Cd(t){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cd(t)}function wG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J0(t,e)}function J0(t,e){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J0(t,e)}function aN(t,e,r){return e=oN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oN(t){var e=_G(t,"string");return Io(e)=="symbol"?e:e+""}function _G(t,e){if(Io(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q0.apply(this,arguments)}var SG=function(e){var r=e.yAxisId,n=ub(),i=cb(),o=DC(r);return o==null?null:M.createElement(Ho,Q0({},o,{className:De("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return Tn(u,!0)}}))},gf=(function(t){function e(){return yG(this,e),vG(this,e,arguments)}return wG(e,t),mG(e,[{key:"render",value:function(){return M.createElement(SG,this.props)}}])})(M.Component);aN(gf,"displayName","YAxis");aN(gf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function vE(t){return AG(t)||OG(t)||kG(t)||jG()}function jG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kG(t,e){if(t){if(typeof t=="string")return Z0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z0(t,e)}}function OG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AG(t){if(Array.isArray(t))return Z0(t)}function Z0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ex=function(e,r,n,i,o){var l=Rr(e,fb),u=Rr(e,ff),d=[].concat(vE(l),vE(u)),h=Rr(e,pf),y="".concat(i,"Id"),p=i[0],m=r;if(d.length&&(m=d.reduce(function(w,b){if(b.props[y]===n&&pn(b.props,"extendDomain")&&de(b.props[p])){var k=b.props[p];return[Math.min(w[0],k),Math.max(w[1],k)]}return w},m)),h.length){var v="".concat(p,"1"),S="".concat(p,"2");m=h.reduce(function(w,b){if(b.props[y]===n&&pn(b.props,"extendDomain")&&de(b.props[v])&&de(b.props[S])){var k=b.props[v],A=b.props[S];return[Math.min(w[0],k,A),Math.max(w[1],k,A)]}return w},m)}return o&&o.length&&(m=o.reduce(function(w,b){return de(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},m)),m},_v={exports:{}},xE;function EG(){return xE||(xE=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,h,y){this.fn=d,this.context=h,this.once=y||!1}function o(d,h,y,p,m){if(typeof y!="function")throw new TypeError("The listener must be a function");var v=new i(y,p||d,m),S=r?r+h:h;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],v]:d._events[S].push(v):(d._events[S]=v,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],y,p;if(this._eventsCount===0)return h;for(p in y=this._events)e.call(y,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(y)):h},u.prototype.listeners=function(h){var y=r?r+h:h,p=this._events[y];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,v=p.length,S=new Array(v);m<v;m++)S[m]=p[m].fn;return S},u.prototype.listenerCount=function(h){var y=r?r+h:h,p=this._events[y];return p?p.fn?1:p.length:0},u.prototype.emit=function(h,y,p,m,v,S){var w=r?r+h:h;if(!this._events[w])return!1;var b=this._events[w],k=arguments.length,A,O;if(b.fn){switch(b.once&&this.removeListener(h,b.fn,void 0,!0),k){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,y),!0;case 3:return b.fn.call(b.context,y,p),!0;case 4:return b.fn.call(b.context,y,p,m),!0;case 5:return b.fn.call(b.context,y,p,m,v),!0;case 6:return b.fn.call(b.context,y,p,m,v,S),!0}for(O=1,A=new Array(k-1);O<k;O++)A[O-1]=arguments[O];b.fn.apply(b.context,A)}else{var T=b.length,j;for(O=0;O<T;O++)switch(b[O].once&&this.removeListener(h,b[O].fn,void 0,!0),k){case 1:b[O].fn.call(b[O].context);break;case 2:b[O].fn.call(b[O].context,y);break;case 3:b[O].fn.call(b[O].context,y,p);break;case 4:b[O].fn.call(b[O].context,y,p,m);break;default:if(!A)for(j=1,A=new Array(k-1);j<k;j++)A[j-1]=arguments[j];b[O].fn.apply(b[O].context,A)}}return!0},u.prototype.on=function(h,y,p){return o(this,h,y,p,!1)},u.prototype.once=function(h,y,p){return o(this,h,y,p,!0)},u.prototype.removeListener=function(h,y,p,m){var v=r?r+h:h;if(!this._events[v])return this;if(!y)return l(this,v),this;var S=this._events[v];if(S.fn)S.fn===y&&(!m||S.once)&&(!p||S.context===p)&&l(this,v);else{for(var w=0,b=[],k=S.length;w<k;w++)(S[w].fn!==y||m&&!S[w].once||p&&S[w].context!==p)&&b.push(S[w]);b.length?this._events[v]=b.length===1?b[0]:b:l(this,v)}return this},u.prototype.removeAllListeners=function(h){var y;return h?(y=r?r+h:h,this._events[y]&&l(this,y)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(_v)),_v.exports}var PG=EG();const TG=Ke(PG);var Sv=new TG,jv="recharts.syncMouseEvents";function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function CG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sN(n.key),n)}}function IG(t,e,r){return e&&NG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kv(t,e,r){return e=sN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sN(t){var e=RG(t,"string");return Hl(e)=="symbol"?e:e+""}function RG(t,e){if(Hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $G=(function(){function t(){CG(this,t),kv(this,"activeIndex",0),kv(this,"coordinateList",[]),kv(this,"layout","horizontal")}return IG(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,l=r.container,u=l===void 0?null:l,d=r.layout,h=d===void 0?null:d,y=r.offset,p=y===void 0?null:y,m=r.mouseHandlerCallback,v=m===void 0?null:m;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=h??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,l=i.y,u=i.height,d=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,y=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=o+d+h,m=l+this.offset.top+u/2+y;this.mouseHandlerCallback({pageX:p,pageY:m})}}}])})();function MG(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&de(n)&&de(i))return!0}return!1}function DG(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function lN(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,l=Bt(e,r,n,i),u=Bt(e,r,n,o);return{points:[l,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function LG(t,e,r){var n,i,o,l;if(t==="horizontal")n=e.x,o=n,i=r.top,l=r.top+r.height;else if(t==="vertical")i=e.y,l=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,h=e.innerRadius,y=e.outerRadius,p=e.angle,m=Bt(u,d,h,p),v=Bt(u,d,y,p);n=m.x,i=m.y,o=v.x,l=v.y}else return lN(e);return[{x:n,y:i},{x:o,y:l}]}function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function bE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ec(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bE(Object(r),!0).forEach(function(n){zG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zG(t,e,r){return e=BG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BG(t){var e=qG(t,"string");return Vl(e)=="symbol"?e:e+""}function qG(t,e){if(Vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UG(t){var e,r,n=t.element,i=t.tooltipEventType,o=t.isActive,l=t.activeCoordinate,u=t.activePayload,d=t.offset,h=t.activeTooltipIndex,y=t.tooltipAxisBandSize,p=t.layout,m=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!o||!l||m!=="ScatterChart"&&i!=="axis")return null;var S,w=lo;if(m==="ScatterChart")S=l,w=P9;else if(m==="BarChart")S=DG(p,l,d,y),w=ab;else if(p==="radial"){var b=lN(l),k=b.cx,A=b.cy,O=b.radius,T=b.startAngle,j=b.endAngle;S={cx:k,cy:A,startAngle:T,endAngle:j,innerRadius:O,outerRadius:O},w=fC}else S={points:LG(p,l,d)},w=lo;var E=Ec(Ec(Ec(Ec({stroke:"#ccc",pointerEvents:"none"},d),S),Re(v,!1)),{},{payload:u,payloadIndex:h,className:De("recharts-tooltip-cursor",v.className)});return M.isValidElement(v)?M.cloneElement(v,E):M.createElement(w,E)}var FG=["item"],WG=["children","className","width","height","style","compact","title","desc"];function Ro(t){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(t)}function no(){return no=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},no.apply(this,arguments)}function wE(t,e){return KG(t)||VG(t,e)||cN(t,e)||HG()}function HG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function KG(t){if(Array.isArray(t))return t}function _E(t,e){if(t==null)return{};var r=GG(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dN(n.key),n)}}function JG(t,e,r){return e&&XG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QG(t,e,r){return e=Nd(e),ZG(t,uN()?Reflect.construct(e,r||[],Nd(t).constructor):e.apply(t,r))}function ZG(t,e){if(e&&(Ro(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eY(t)}function eY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uN=function(){return!!t})()}function Nd(t){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nd(t)}function tY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tx(t,e)}function tx(t,e){return tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tx(t,e)}function $o(t){return iY(t)||nY(t)||cN(t)||rY()}function rY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cN(t,e){if(t){if(typeof t=="string")return rx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rx(t,e)}}function nY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iY(t){if(Array.isArray(t))return rx(t)}function rx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SE(Object(r),!0).forEach(function(n){Ae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ae(t,e,r){return e=dN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dN(t){var e=aY(t,"string");return Ro(e)=="symbol"?e:e+""}function aY(t,e){if(Ro(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oY={xAxis:["bottom","top"],yAxis:["left","right"]},sY={width:"100%",height:"100%"},fN={x:0,y:0};function Pc(t){return t}var lY=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},uY=function(e,r,n,i){var o=r.find(function(y){return y&&y.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var l=o.coordinate,u=i.radius;return ne(ne(ne({},i),Bt(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}var d=o.coordinate,h=i.angle;return ne(ne(ne({},i),Bt(i.cx,i.cy,d,h)),{},{angle:h,radius:d})}return fN},mf=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,l=(n??[]).reduce(function(u,d){var h=d.props.data;return h&&h.length?[].concat($o(u),$o(h)):u},[]);return l.length>0?l:e&&e.length&&de(i)&&de(o)?e.slice(i,o+1):[]};function hN(t){return t==="number"?[0,"auto"]:void 0}var nx=function(e,r,n,i){var o=e.graphicalItems,l=e.tooltipAxis,u=mf(r,e);return n<0||!o||!o.length||n>=u.length?null:o.reduce(function(d,h){var y,p=(y=h.props.data)!==null&&y!==void 0?y:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(l.dataKey&&!l.allowDuplicatedCategory){var v=p===void 0?u:p;m=Ic(v,l.dataKey,i)}else m=p&&p[n]||u[n];return m?[].concat($o(d),[uC(h,m)]):d},[])},jE=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},l=lY(o,n),u=e.orderedTooltipTicks,d=e.tooltipAxis,h=e.tooltipTicks,y=lF(l,u,h,d);if(y>=0&&h){var p=h[y]&&h[y].value,m=nx(e,r,y,p),v=uY(n,u,y,o);return{activeTooltipIndex:y,activeLabel:p,activePayload:m,activeCoordinate:v}}return null},cY=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,y=e.layout,p=e.children,m=e.stackOffset,v=oC(y,o);return n.reduce(function(S,w){var b,k=w.type.defaultProps!==void 0?ne(ne({},w.type.defaultProps),w.props):w.props,A=k.type,O=k.dataKey,T=k.allowDataOverflow,j=k.allowDuplicatedCategory,E=k.scale,P=k.ticks,I=k.includeHidden,$=k[l];if(S[$])return S;var V=mf(e.data,{graphicalItems:i.filter(function(L){var re,fe=l in L.props?L.props[l]:(re=L.type.defaultProps)===null||re===void 0?void 0:re[l];return fe===$}),dataStartIndex:d,dataEndIndex:h}),U=V.length,R,z,W;MG(k.domain,T,A)&&(R=b0(k.domain,null,T),v&&(A==="number"||E!=="auto")&&(W=Js(V,O,"category")));var H=hN(A);if(!R||R.length===0){var X,Q=(X=k.domain)!==null&&X!==void 0?X:H;if(O){if(R=Js(V,O,A),A==="category"&&v){var K=Z3(R);j&&K?(z=R,R=vd(0,U)):j||(R=M2(Q,R,w).reduce(function(L,re){return L.indexOf(re)>=0?L:[].concat($o(L),[re])},[]))}else if(A==="category")j?R=R.filter(function(L){return L!==""&&!$e(L)}):R=M2(Q,R,w).reduce(function(L,re){return L.indexOf(re)>=0||re===""||$e(re)?L:[].concat($o(L),[re])},[]);else if(A==="number"){var ee=hF(V,i.filter(function(L){var re,fe,me=l in L.props?L.props[l]:(re=L.type.defaultProps)===null||re===void 0?void 0:re[l],we="hide"in L.props?L.props.hide:(fe=L.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return me===$&&(I||!we)}),O,o,y);ee&&(R=ee)}v&&(A==="number"||E!=="auto")&&(W=Js(V,O,"category"))}else v?R=vd(0,U):u&&u[$]&&u[$].hasStack&&A==="number"?R=m==="expand"?[0,1]:lC(u[$].stackGroups,d,h):R=aC(V,i.filter(function(L){var re=l in L.props?L.props[l]:L.type.defaultProps[l],fe="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return re===$&&(I||!fe)}),A,y,!0);if(A==="number")R=ex(p,R,$,o,P),Q&&(R=b0(Q,R,T));else if(A==="category"&&Q){var Z=Q,N=R.every(function(L){return Z.indexOf(L)>=0});N&&(R=Z)}}return ne(ne({},S),{},Ae({},$,ne(ne({},k),{},{axisType:o,domain:R,categoricalDomain:W,duplicateDomain:z,originalDomain:(b=k.domain)!==null&&b!==void 0?b:H,isCategorical:v,layout:y})))},{})},dY=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,y=e.layout,p=e.children,m=mf(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:h}),v=m.length,S=oC(y,o),w=-1;return n.reduce(function(b,k){var A=k.type.defaultProps!==void 0?ne(ne({},k.type.defaultProps),k.props):k.props,O=A[l],T=hN("number");if(!b[O]){w++;var j;return S?j=vd(0,v):u&&u[O]&&u[O].hasStack?(j=lC(u[O].stackGroups,d,h),j=ex(p,j,O,o)):(j=b0(T,aC(m,n.filter(function(E){var P,I,$=l in E.props?E.props[l]:(P=E.type.defaultProps)===null||P===void 0?void 0:P[l],V="hide"in E.props?E.props.hide:(I=E.type.defaultProps)===null||I===void 0?void 0:I.hide;return $===O&&!V}),"number",y),i.defaultProps.allowDataOverflow),j=ex(p,j,O,o)),ne(ne({},b),{},Ae({},O,ne(ne({axisType:o},i.defaultProps),{},{hide:!0,orientation:Ir(oY,"".concat(o,".").concat(w%2),null),domain:j,originalDomain:T,isCategorical:S,layout:y})))}return b},{})},fY=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,y=e.children,p="".concat(i,"Id"),m=Rr(y,o),v={};return m&&m.length?v=cY(e,{axes:m,graphicalItems:l,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:h}):l&&l.length&&(v=dY(e,{Axis:o,graphicalItems:l,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:h})),v},hY=function(e){var r=mi(e),n=Tn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Nx(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ld(r,n)}},kE=function(e){var r=e.children,n=e.defaultShowTooltip,i=vr(r,jo),o=0,l=0;return e.data&&e.data.length!==0&&(l=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},pY=function(e){return!e||!e.length?!1:e.some(function(r){var n=Nn(r&&r.type);return n&&n.indexOf("Bar")>=0})},OE=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},yY=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,l=o===void 0?{}:o,u=e.yAxisMap,d=u===void 0?{}:u,h=n.width,y=n.height,p=n.children,m=n.margin||{},v=vr(p,jo),S=vr(p,ra),w=Object.keys(d).reduce(function(j,E){var P=d[E],I=P.orientation;return!P.mirror&&!P.hide?ne(ne({},j),{},Ae({},I,j[I]+P.width)):j},{left:m.left||0,right:m.right||0}),b=Object.keys(l).reduce(function(j,E){var P=l[E],I=P.orientation;return!P.mirror&&!P.hide?ne(ne({},j),{},Ae({},I,Ir(j,"".concat(I))+P.height)):j},{top:m.top||0,bottom:m.bottom||0}),k=ne(ne({},b),w),A=k.bottom;v&&(k.bottom+=v.props.height||jo.defaultProps.height),S&&r&&(k=dF(k,i,n,r));var O=h-k.left-k.right,T=y-k.top-k.bottom;return ne(ne({brushBottom:A},k),{},{width:Math.max(O,0),height:Math.max(T,0)})},gY=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},mY=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,l=e.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=e.axisComponents,h=e.legendContent,y=e.formatAxisMap,p=e.defaultProps,m=function(k,A){var O=A.graphicalItems,T=A.stackGroups,j=A.offset,E=A.updateId,P=A.dataStartIndex,I=A.dataEndIndex,$=k.barSize,V=k.layout,U=k.barGap,R=k.barCategoryGap,z=k.maxBarSize,W=OE(V),H=W.numericAxisName,X=W.cateAxisName,Q=pY(O),K=[];return O.forEach(function(ee,Z){var N=mf(k.data,{graphicalItems:[ee],dataStartIndex:P,dataEndIndex:I}),L=ee.type.defaultProps!==void 0?ne(ne({},ee.type.defaultProps),ee.props):ee.props,re=L.dataKey,fe=L.maxBarSize,me=L["".concat(H,"Id")],we=L["".concat(X,"Id")],ie={},he=d.reduce(function(er,Dr){var ya=A["".concat(Dr.axisType,"Map")],Vo=L["".concat(Dr.axisType,"Id")];ya&&ya[Vo]||Dr.axisType==="zAxis"||la();var Ko=ya[Vo];return ne(ne({},er),{},Ae(Ae({},Dr.axisType,Ko),"".concat(Dr.axisType,"Ticks"),Tn(Ko)))},ie),ae=he[X],_e=he["".concat(X,"Ticks")],Ne=T&&T[me]&&T[me].hasStack&&kF(ee,T[me].stackGroups),oe=Nn(ee.type).indexOf("Bar")>=0,te=ld(ae,_e),je=[],Fe=Q&&uF({barSize:$,stackGroups:T,totalSize:gY(he,X)});if(oe){var Ge,lt,bt=$e(fe)?z:fe,tn=(Ge=(lt=ld(ae,_e,!0))!==null&&lt!==void 0?lt:bt)!==null&&Ge!==void 0?Ge:0;je=cF({barGap:U,barCategoryGap:R,bandSize:tn!==te?tn:te,sizeList:Fe[we],maxBarSize:bt}),tn!==te&&(je=je.map(function(er){return ne(ne({},er),{},{position:ne(ne({},er.position),{},{offset:er.position.offset-tn/2})})}))}var rn=ee&&ee.type&&ee.type.getComposedData;rn&&K.push({props:ne(ne({},rn(ne(ne({},he),{},{displayedData:N,props:k,dataKey:re,item:ee,bandSize:te,barPosition:je,offset:j,stackedData:Ne,layout:V,dataStartIndex:P,dataEndIndex:I}))),{},Ae(Ae(Ae({key:ee.key||"item-".concat(Z)},H,he[H]),X,he[X]),"animationId",E)),childIndex:dL(ee,k.children),item:ee})}),K},v=function(k,A){var O=k.props,T=k.dataStartIndex,j=k.dataEndIndex,E=k.updateId;if(!JS({props:O}))return null;var P=O.children,I=O.layout,$=O.stackOffset,V=O.data,U=O.reverseStackOrder,R=OE(I),z=R.numericAxisName,W=R.cateAxisName,H=Rr(P,n),X=_F(V,H,"".concat(z,"Id"),"".concat(W,"Id"),$,U),Q=d.reduce(function(L,re){var fe="".concat(re.axisType,"Map");return ne(ne({},L),{},Ae({},fe,fY(O,ne(ne({},re),{},{graphicalItems:H,stackGroups:re.axisType===z&&X,dataStartIndex:T,dataEndIndex:j}))))},{}),K=yY(ne(ne({},Q),{},{props:O,graphicalItems:H}),A?.legendBBox);Object.keys(Q).forEach(function(L){Q[L]=y(O,Q[L],K,L.replace("Map",""),r)});var ee=Q["".concat(W,"Map")],Z=hY(ee),N=m(O,ne(ne({},Q),{},{dataStartIndex:T,dataEndIndex:j,updateId:E,graphicalItems:H,stackGroups:X,offset:K}));return ne(ne({formattedGraphicalItems:N,graphicalItems:H,offset:K,stackGroups:X},Z),Q)},S=(function(b){function k(A){var O,T,j;return YG(this,k),j=QG(this,k,[A]),Ae(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ae(j,"accessibilityManager",new $G),Ae(j,"handleLegendBBoxUpdate",function(E){if(E){var P=j.state,I=P.dataStartIndex,$=P.dataEndIndex,V=P.updateId;j.setState(ne({legendBBox:E},v({props:j.props,dataStartIndex:I,dataEndIndex:$,updateId:V},ne(ne({},j.state),{},{legendBBox:E}))))}}),Ae(j,"handleReceiveSyncEvent",function(E,P,I){if(j.props.syncId===E){if(I===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(P)}}),Ae(j,"handleBrushChange",function(E){var P=E.startIndex,I=E.endIndex;if(P!==j.state.dataStartIndex||I!==j.state.dataEndIndex){var $=j.state.updateId;j.setState(function(){return ne({dataStartIndex:P,dataEndIndex:I},v({props:j.props,dataStartIndex:P,dataEndIndex:I,updateId:$},j.state))}),j.triggerSyncEvent({dataStartIndex:P,dataEndIndex:I})}}),Ae(j,"handleMouseEnter",function(E){var P=j.getMouseInfo(E);if(P){var I=ne(ne({},P),{},{isTooltipActive:!0});j.setState(I),j.triggerSyncEvent(I);var $=j.props.onMouseEnter;Ie($)&&$(I,E)}}),Ae(j,"triggeredAfterMouseMove",function(E){var P=j.getMouseInfo(E),I=P?ne(ne({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(I),j.triggerSyncEvent(I);var $=j.props.onMouseMove;Ie($)&&$(I,E)}),Ae(j,"handleItemMouseEnter",function(E){j.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),Ae(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ae(j,"handleMouseMove",function(E){E.persist(),j.throttleTriggeredAfterMouseMove(E)}),Ae(j,"handleMouseLeave",function(E){j.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};j.setState(P),j.triggerSyncEvent(P);var I=j.props.onMouseLeave;Ie(I)&&I(P,E)}),Ae(j,"handleOuterEvent",function(E){var P=cL(E),I=Ir(j.props,"".concat(P));if(P&&Ie(I)){var $,V;/.*touch.*/i.test(P)?V=j.getMouseInfo(E.changedTouches[0]):V=j.getMouseInfo(E),I(($=V)!==null&&$!==void 0?$:{},E)}}),Ae(j,"handleClick",function(E){var P=j.getMouseInfo(E);if(P){var I=ne(ne({},P),{},{isTooltipActive:!0});j.setState(I),j.triggerSyncEvent(I);var $=j.props.onClick;Ie($)&&$(I,E)}}),Ae(j,"handleMouseDown",function(E){var P=j.props.onMouseDown;if(Ie(P)){var I=j.getMouseInfo(E);P(I,E)}}),Ae(j,"handleMouseUp",function(E){var P=j.props.onMouseUp;if(Ie(P)){var I=j.getMouseInfo(E);P(I,E)}}),Ae(j,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),Ae(j,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&j.handleMouseDown(E.changedTouches[0])}),Ae(j,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&j.handleMouseUp(E.changedTouches[0])}),Ae(j,"handleDoubleClick",function(E){var P=j.props.onDoubleClick;if(Ie(P)){var I=j.getMouseInfo(E);P(I,E)}}),Ae(j,"handleContextMenu",function(E){var P=j.props.onContextMenu;if(Ie(P)){var I=j.getMouseInfo(E);P(I,E)}}),Ae(j,"triggerSyncEvent",function(E){j.props.syncId!==void 0&&Sv.emit(jv,j.props.syncId,E,j.eventEmitterSymbol)}),Ae(j,"applySyncEvent",function(E){var P=j.props,I=P.layout,$=P.syncMethod,V=j.state.updateId,U=E.dataStartIndex,R=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)j.setState(ne({dataStartIndex:U,dataEndIndex:R},v({props:j.props,dataStartIndex:U,dataEndIndex:R,updateId:V},j.state)));else if(E.activeTooltipIndex!==void 0){var z=E.chartX,W=E.chartY,H=E.activeTooltipIndex,X=j.state,Q=X.offset,K=X.tooltipTicks;if(!Q)return;if(typeof $=="function")H=$(K,E);else if($==="value"){H=-1;for(var ee=0;ee<K.length;ee++)if(K[ee].value===E.activeLabel){H=ee;break}}var Z=ne(ne({},Q),{},{x:Q.left,y:Q.top}),N=Math.min(z,Z.x+Z.width),L=Math.min(W,Z.y+Z.height),re=K[H]&&K[H].value,fe=nx(j.state,j.props.data,H),me=K[H]?{x:I==="horizontal"?K[H].coordinate:N,y:I==="horizontal"?L:K[H].coordinate}:fN;j.setState(ne(ne({},E),{},{activeLabel:re,activeCoordinate:me,activePayload:fe,activeTooltipIndex:H}))}else j.setState(E)}),Ae(j,"renderCursor",function(E){var P,I=j.state,$=I.isTooltipActive,V=I.activeCoordinate,U=I.activePayload,R=I.offset,z=I.activeTooltipIndex,W=I.tooltipAxisBandSize,H=j.getTooltipEventType(),X=(P=E.props.active)!==null&&P!==void 0?P:$,Q=j.props.layout,K=E.key||"_recharts-cursor";return q.createElement(UG,{key:K,activeCoordinate:V,activePayload:U,activeTooltipIndex:z,chartName:r,element:E,isActive:X,layout:Q,offset:R,tooltipAxisBandSize:W,tooltipEventType:H})}),Ae(j,"renderPolarAxis",function(E,P,I){var $=Ir(E,"type.axisType"),V=Ir(j.state,"".concat($,"Map")),U=E.type.defaultProps,R=U!==void 0?ne(ne({},U),E.props):E.props,z=V&&V[R["".concat($,"Id")]];return M.cloneElement(E,ne(ne({},z),{},{className:De($,z.className),key:E.key||"".concat(P,"-").concat(I),ticks:Tn(z,!0)}))}),Ae(j,"renderPolarGrid",function(E){var P=E.props,I=P.radialLines,$=P.polarAngles,V=P.polarRadius,U=j.state,R=U.radiusAxisMap,z=U.angleAxisMap,W=mi(R),H=mi(z),X=H.cx,Q=H.cy,K=H.innerRadius,ee=H.outerRadius;return M.cloneElement(E,{polarAngles:Array.isArray($)?$:Tn(H,!0).map(function(Z){return Z.coordinate}),polarRadius:Array.isArray(V)?V:Tn(W,!0).map(function(Z){return Z.coordinate}),cx:X,cy:Q,innerRadius:K,outerRadius:ee,key:E.key||"polar-grid",radialLines:I})}),Ae(j,"renderLegend",function(){var E=j.state.formattedGraphicalItems,P=j.props,I=P.children,$=P.width,V=P.height,U=j.props.margin||{},R=$-(U.left||0)-(U.right||0),z=nC({children:I,formattedGraphicalItems:E,legendWidth:R,legendContent:h});if(!z)return null;var W=z.item,H=_E(z,FG);return M.cloneElement(W,ne(ne({},H),{},{chartWidth:$,chartHeight:V,margin:U,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ae(j,"renderTooltip",function(){var E,P=j.props,I=P.children,$=P.accessibilityLayer,V=vr(I,cn);if(!V)return null;var U=j.state,R=U.isTooltipActive,z=U.activeCoordinate,W=U.activePayload,H=U.activeLabel,X=U.offset,Q=(E=V.props.active)!==null&&E!==void 0?E:R;return M.cloneElement(V,{viewBox:ne(ne({},X),{},{x:X.left,y:X.top}),active:Q,label:H,payload:Q?W:[],coordinate:z,accessibilityLayer:$})}),Ae(j,"renderBrush",function(E){var P=j.props,I=P.margin,$=P.data,V=j.state,U=V.offset,R=V.dataStartIndex,z=V.dataEndIndex,W=V.updateId;return M.cloneElement(E,{key:E.key||"_recharts-brush",onChange:jc(j.handleBrushChange,E.props.onChange),data:$,x:de(E.props.x)?E.props.x:U.left,y:de(E.props.y)?E.props.y:U.top+U.height+U.brushBottom-(I.bottom||0),width:de(E.props.width)?E.props.width:U.width,startIndex:R,endIndex:z,updateId:"brush-".concat(W)})}),Ae(j,"renderReferenceElement",function(E,P,I){if(!E)return null;var $=j,V=$.clipPathId,U=j.state,R=U.xAxisMap,z=U.yAxisMap,W=U.offset,H=E.type.defaultProps||{},X=E.props,Q=X.xAxisId,K=Q===void 0?H.xAxisId:Q,ee=X.yAxisId,Z=ee===void 0?H.yAxisId:ee;return M.cloneElement(E,{key:E.key||"".concat(P,"-").concat(I),xAxis:R[K],yAxis:z[Z],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:V})}),Ae(j,"renderActivePoints",function(E){var P=E.item,I=E.activePoint,$=E.basePoint,V=E.childIndex,U=E.isRange,R=[],z=P.props.key,W=P.item.type.defaultProps!==void 0?ne(ne({},P.item.type.defaultProps),P.item.props):P.item.props,H=W.activeDot,X=W.dataKey,Q=ne(ne({index:V,dataKey:X,cx:I.x,cy:I.y,r:4,fill:ib(P.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Re(H,!1)),Rc(H));return R.push(k.renderActiveDot(H,Q,"".concat(z,"-activePoint-").concat(V))),$?R.push(k.renderActiveDot(H,ne(ne({},Q),{},{cx:$.x,cy:$.y}),"".concat(z,"-basePoint-").concat(V))):U&&R.push(null),R}),Ae(j,"renderGraphicChild",function(E,P,I){var $=j.filterFormatItem(E,P,I);if(!$)return null;var V=j.getTooltipEventType(),U=j.state,R=U.isTooltipActive,z=U.tooltipAxis,W=U.activeTooltipIndex,H=U.activeLabel,X=j.props.children,Q=vr(X,cn),K=$.props,ee=K.points,Z=K.isRange,N=K.baseLine,L=$.item.type.defaultProps!==void 0?ne(ne({},$.item.type.defaultProps),$.item.props):$.item.props,re=L.activeDot,fe=L.hide,me=L.activeBar,we=L.activeShape,ie=!!(!fe&&R&&Q&&(re||me||we)),he={};V!=="axis"&&Q&&Q.props.trigger==="click"?he={onClick:jc(j.handleItemMouseEnter,E.props.onClick)}:V!=="axis"&&(he={onMouseLeave:jc(j.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:jc(j.handleItemMouseEnter,E.props.onMouseEnter)});var ae=M.cloneElement(E,ne(ne({},$.props),he));function _e(Dr){return typeof z.dataKey=="function"?z.dataKey(Dr.payload):null}if(ie)if(W>=0){var Ne,oe;if(z.dataKey&&!z.allowDuplicatedCategory){var te=typeof z.dataKey=="function"?_e:"payload.".concat(z.dataKey.toString());Ne=Ic(ee,te,H),oe=Z&&N&&Ic(N,te,H)}else Ne=ee?.[W],oe=Z&&N&&N[W];if(we||me){var je=E.props.activeIndex!==void 0?E.props.activeIndex:W;return[M.cloneElement(E,ne(ne(ne({},$.props),he),{},{activeIndex:je})),null,null]}if(!$e(Ne))return[ae].concat($o(j.renderActivePoints({item:$,activePoint:Ne,basePoint:oe,childIndex:W,isRange:Z})))}else{var Fe,Ge=(Fe=j.getItemByXY(j.state.activeCoordinate))!==null&&Fe!==void 0?Fe:{graphicalItem:ae},lt=Ge.graphicalItem,bt=lt.item,tn=bt===void 0?E:bt,rn=lt.childIndex,er=ne(ne(ne({},$.props),he),{},{activeIndex:rn});return[M.cloneElement(tn,er),null,null]}return Z?[ae,null,null]:[ae,null]}),Ae(j,"renderCustomized",function(E,P,I){return M.cloneElement(E,ne(ne({key:"recharts-customized-".concat(I)},j.props),j.state))}),Ae(j,"renderMap",{CartesianGrid:{handler:Pc,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Pc},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Pc},YAxis:{handler:Pc},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((O=A.id)!==null&&O!==void 0?O:Bo("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=nT(j.triggeredAfterMouseMove,(T=A.throttleDelay)!==null&&T!==void 0?T:1e3/60),j.state={},j}return tY(k,b),JG(k,[{key:"componentDidMount",value:function(){var O,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var O=this.props,T=O.children,j=O.data,E=O.height,P=O.layout,I=vr(T,cn);if(I){var $=I.props.defaultIndex;if(!(typeof $!="number"||$<0||$>this.state.tooltipTicks.length-1)){var V=this.state.tooltipTicks[$]&&this.state.tooltipTicks[$].value,U=nx(this.state,j,$,V),R=this.state.tooltipTicks[$].coordinate,z=(this.state.offset.top+E)/2,W=P==="horizontal",H=W?{x:R,y:z}:{y:R,x:z},X=this.state.formattedGraphicalItems.find(function(K){var ee=K.item;return ee.type.name==="Scatter"});X&&(H=ne(ne({},H),X.props.points[$].tooltipPosition),U=X.props.points[$].tooltipPayload);var Q={activeTooltipIndex:$,isTooltipActive:!0,activeLabel:V,activePayload:U,activeCoordinate:H};this.setState(Q),this.renderCursor(I),this.accessibilityManager.setIndex($)}}}},{key:"getSnapshotBeforeUpdate",value:function(O,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==O.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==O.margin){var j,E;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(O){Uv([vr(O.children,cn)],[vr(this.props.children,cn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var O=vr(this.props.children,cn);if(O&&typeof O.props.shared=="boolean"){var T=O.props.shared?"axis":"item";return u.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(O){if(!this.container)return null;var T=this.container,j=T.getBoundingClientRect(),E=Qz(j),P={chartX:Math.round(O.pageX-E.left),chartY:Math.round(O.pageY-E.top)},I=j.width/T.offsetWidth||1,$=this.inRange(P.chartX,P.chartY,I);if(!$)return null;var V=this.state,U=V.xAxisMap,R=V.yAxisMap,z=this.getTooltipEventType(),W=jE(this.state,this.props.data,this.props.layout,$);if(z!=="axis"&&U&&R){var H=mi(U).scale,X=mi(R).scale,Q=H&&H.invert?H.invert(P.chartX):null,K=X&&X.invert?X.invert(P.chartY):null;return ne(ne({},P),{},{xValue:Q,yValue:K},W)}return W?ne(ne({},P),W):null}},{key:"inRange",value:function(O,T){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,P=O/j,I=T/j;if(E==="horizontal"||E==="vertical"){var $=this.state.offset,V=P>=$.left&&P<=$.left+$.width&&I>=$.top&&I<=$.top+$.height;return V?{x:P,y:I}:null}var U=this.state,R=U.angleAxisMap,z=U.radiusAxisMap;if(R&&z){var W=mi(R);return z2({x:P,y:I},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var O=this.props.children,T=this.getTooltipEventType(),j=vr(O,cn),E={};j&&T==="axis"&&(j.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Rc(this.props,this.handleOuterEvent);return ne(ne({},P),E)}},{key:"addListener",value:function(){Sv.on(jv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Sv.removeListener(jv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(O,T,j){for(var E=this.state.formattedGraphicalItems,P=0,I=E.length;P<I;P++){var $=E[P];if($.item===O||$.props.key===O.key||T===Nn($.item.type)&&j===$.childIndex)return $}return null}},{key:"renderClipPath",value:function(){var O=this.clipPathId,T=this.state.offset,j=T.left,E=T.top,P=T.height,I=T.width;return q.createElement("defs",null,q.createElement("clipPath",{id:O},q.createElement("rect",{x:j,y:E,height:P,width:I})))}},{key:"getXScales",value:function(){var O=this.state.xAxisMap;return O?Object.entries(O).reduce(function(T,j){var E=wE(j,2),P=E[0],I=E[1];return ne(ne({},T),{},Ae({},P,I.scale))},{}):null}},{key:"getYScales",value:function(){var O=this.state.yAxisMap;return O?Object.entries(O).reduce(function(T,j){var E=wE(j,2),P=E[0],I=E[1];return ne(ne({},T),{},Ae({},P,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(O){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[O])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(O){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[O])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(O){var T=this.state,j=T.formattedGraphicalItems,E=T.activeItem;if(j&&j.length)for(var P=0,I=j.length;P<I;P++){var $=j[P],V=$.props,U=$.item,R=U.type.defaultProps!==void 0?ne(ne({},U.type.defaultProps),U.props):U.props,z=Nn(U.type);if(z==="Bar"){var W=(V.data||[]).find(function(K){return x9(O,K)});if(W)return{graphicalItem:$,payload:W}}else if(z==="RadialBar"){var H=(V.data||[]).find(function(K){return z2(O,K)});if(H)return{graphicalItem:$,payload:H}}else if(lf($,E)||uf($,E)||zl($,E)){var X=uH({graphicalItem:$,activeTooltipItem:E,itemData:R.data}),Q=R.activeIndex===void 0?X:R.activeIndex;return{graphicalItem:ne(ne({},$),{},{childIndex:Q}),payload:zl($,E)?R.data[X]:$.props.data[X]}}}return null}},{key:"render",value:function(){var O=this;if(!JS(this))return null;var T=this.props,j=T.children,E=T.className,P=T.width,I=T.height,$=T.style,V=T.compact,U=T.title,R=T.desc,z=_E(T,WG),W=Re(z,!1);if(V)return q.createElement(eE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(Wv,no({},W,{width:P,height:I,title:U,desc:R}),this.renderClipPath(),ZS(j,this.renderMap)));if(this.props.accessibilityLayer){var H,X;W.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,W.role=(X=this.props.role)!==null&&X!==void 0?X:"application",W.onKeyDown=function(K){O.accessibilityManager.keyboardEvent(K)},W.onFocus=function(){O.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return q.createElement(eE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",no({className:De("recharts-wrapper",E),style:ne({position:"relative",cursor:"default",width:P,height:I},$)},Q,{ref:function(ee){O.container=ee}}),q.createElement(Wv,no({},W,{width:P,height:I,title:U,desc:R,style:sY}),this.renderClipPath(),ZS(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(M.Component);Ae(S,"displayName",r),Ae(S,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Ae(S,"getDerivedStateFromProps",function(b,k){var A=b.dataKey,O=b.data,T=b.children,j=b.width,E=b.height,P=b.layout,I=b.stackOffset,$=b.margin,V=k.dataStartIndex,U=k.dataEndIndex;if(k.updateId===void 0){var R=kE(b);return ne(ne(ne({},R),{},{updateId:0},v(ne(ne({props:b},R),{},{updateId:0}),k)),{},{prevDataKey:A,prevData:O,prevWidth:j,prevHeight:E,prevLayout:P,prevStackOffset:I,prevMargin:$,prevChildren:T})}if(A!==k.prevDataKey||O!==k.prevData||j!==k.prevWidth||E!==k.prevHeight||P!==k.prevLayout||I!==k.prevStackOffset||!ao($,k.prevMargin)){var z=kE(b),W={chartX:k.chartX,chartY:k.chartY,isTooltipActive:k.isTooltipActive},H=ne(ne({},jE(k,O,P)),{},{updateId:k.updateId+1}),X=ne(ne(ne({},z),W),H);return ne(ne(ne({},X),v(ne({props:b},X),k)),{},{prevDataKey:A,prevData:O,prevWidth:j,prevHeight:E,prevLayout:P,prevStackOffset:I,prevMargin:$,prevChildren:T})}if(!Uv(T,k.prevChildren)){var Q,K,ee,Z,N=vr(T,jo),L=N&&(Q=(K=N.props)===null||K===void 0?void 0:K.startIndex)!==null&&Q!==void 0?Q:V,re=N&&(ee=(Z=N.props)===null||Z===void 0?void 0:Z.endIndex)!==null&&ee!==void 0?ee:U,fe=L!==V||re!==U,me=!$e(O),we=me&&!fe?k.updateId:k.updateId+1;return ne(ne({updateId:we},v(ne(ne({props:b},k),{},{updateId:we,dataStartIndex:L,dataEndIndex:re}),k)),{},{prevChildren:T,dataStartIndex:L,dataEndIndex:re})}return null}),Ae(S,"renderActiveDot",function(b,k,A){var O;return M.isValidElement(b)?O=M.cloneElement(b,k):Ie(b)?O=b(k):O=q.createElement(sf,k),q.createElement(Qe,{className:"recharts-active-dot",key:A},O)});var w=M.forwardRef(function(k,A){return q.createElement(S,no({},k,{ref:A}))});return w.displayName=S.displayName,w},vY=mY({chartName:"AreaChart",GraphicalChild:zn,axisComponents:[{axisType:"xAxis",AxisComp:yf},{axisType:"yAxis",AxisComp:gf}],formatAxisMap:aV});function xY({accessToken:t}){const[e,r]=M.useState([]),[n,i]=M.useState(""),[o,l]=M.useState(null),[u,d]=M.useState(!1),[h,y]=M.useState(!1),[p,m]=M.useState(6),[v,S]=M.useState(12);M.useEffect(()=>{w()},[]);const w=async()=>{try{const O=await fetch(`https://${Gt}.supabase.co/functions/v1/make-server-9c637d11/items`,{headers:{Authorization:`Bearer ${t}`}});if(!O.ok)throw new Error("Failed to fetch items");const T=await O.json();r(T.items||[])}catch(O){console.error("Error fetching items:",O)}},b=async()=>{if(!n){alert("Please select an item first");return}y(!0);try{const O=await fetch(`https://${Gt}.supabase.co/functions/v1/make-server-9c637d11/forecast/generate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({itemId:n,periods:p,seasonalPeriods:v})});if(!O.ok){const j=await O.json();throw new Error(j.error||"Failed to generate forecast")}const T=await O.json();l(T)}catch(O){console.error("Error generating forecast:",O),alert(O instanceof Error?O.message:"Failed to generate forecast")}finally{y(!1)}},k=()=>{if(!o)return[];const O=[],T=o.historicalDemand.length;for(let j=0;j<T;j++)O.push({period:`Period ${j+1}`,index:j+1,actual:o.historicalDemand[j],forecast:null,lowerBound:null,upperBound:null});for(let j=0;j<o.forecast.length;j++)O.push({period:`Forecast ${j+1}`,index:T+j+1,actual:null,forecast:o.forecast[j],lowerBound:o.lowerBound[j],upperBound:o.upperBound[j]});return O},A=e.find(O=>O.id===n);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Demand Forecasting"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Holt-Winters Triple Exponential Smoothing Algorithm"})]}),c.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 px-4 py-2 rounded-lg border border-blue-200",children:[c.jsx(XE,{className:"text-blue-600",size:20}),c.jsx("span",{className:"text-sm font-semibold text-blue-900",children:"AI-Powered"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Item *"}),c.jsxs("select",{value:n,onChange:O=>i(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[c.jsx("option",{value:"",children:"Choose an item to forecast..."}),e.map(O=>c.jsxs("option",{value:O.id,children:[O.itemCode," - ",O.itemName]},O.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Forecast Periods"}),c.jsx("input",{type:"number",value:p,onChange:O=>m(parseInt(O.target.value)||6),min:"1",max:"24",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"1-24 periods ahead"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seasonal Periods"}),c.jsx("input",{type:"number",value:v,onChange:O=>S(parseInt(O.target.value)||12),min:"2",max:"12",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Seasonality cycle"})]})]}),c.jsx("div",{className:"mt-4",children:c.jsx("button",{onClick:b,disabled:!n||h,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed font-medium",children:h?c.jsxs(c.Fragment,{children:[c.jsx(_i,{className:"animate-spin",size:20}),"Generating Forecast..."]}):c.jsxs(c.Fragment,{children:[c.jsx(ul,{size:20}),"Generate Forecast"]})})})]}),c.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(iD,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:20}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-blue-900",children:"Holt-Winters Triple Exponential Smoothing"}),c.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Advanced time series forecasting that captures ",c.jsx("strong",{children:"level"}),", ",c.jsx("strong",{children:"trend"}),", and ",c.jsx("strong",{children:"seasonality"})," patterns in your demand data. Automatically optimizes  (alpha),  (beta), and  (gamma) parameters for maximum accuracy."]})]})]})}),o&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Algorithm"}),c.jsx("p",{className:"text-lg font-bold text-gray-900 mt-1",children:o.algorithm})]}),c.jsx(eo,{className:"text-blue-600",size:24})]})}),c.jsx("div",{className:"bg-green-50 rounded-lg border border-green-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Alpha ()"}),c.jsx("p",{className:"text-lg font-bold text-green-700 mt-1",children:o.parameters.alpha?.toFixed(3)||"N/A"})]}),c.jsx("div",{className:"text-xs text-green-600",children:"Level"})]})}),c.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Beta ()"}),c.jsx("p",{className:"text-lg font-bold text-blue-700 mt-1",children:o.parameters.beta?.toFixed(3)||"N/A"})]}),c.jsx("div",{className:"text-xs text-blue-600",children:"Trend"})]})}),c.jsx("div",{className:"bg-purple-50 rounded-lg border border-purple-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-purple-700 font-medium",children:"Gamma ()"}),c.jsx("p",{className:"text-lg font-bold text-purple-700 mt-1",children:o.parameters.gamma?.toFixed(3)||"N/A"})]}),c.jsx("div",{className:"text-xs text-purple-600",children:"Season"})]})})]}),o.metrics&&c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Forecast Accuracy Metrics"}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"MAE"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.metrics.mae?.toFixed(2)||"N/A"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mean Absolute Error"})]}),c.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"MSE"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.metrics.mse?.toFixed(2)||"N/A"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mean Squared Error"})]}),c.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"RMSE"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.metrics.rmse?.toFixed(2)||"N/A"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Root Mean Squared Error"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Demand Forecast"}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[A?.itemCode," - ",A?.itemName]})]}),c.jsxs("div",{className:"text-sm text-gray-500",children:["Generated: ",new Date(o.generatedAt).toLocaleString()]})]}),c.jsx(Hz,{width:"100%",height:400,children:c.jsxs(vY,{data:k(),children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"colorForecast",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),c.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),c.jsxs("linearGradient",{id:"colorActual",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),c.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),c.jsx(GC,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),c.jsx(yf,{dataKey:"period",tick:{fontSize:12},angle:-45,textAnchor:"end",height:80}),c.jsx(gf,{tick:{fontSize:12}}),c.jsx(cn,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),c.jsx(ra,{}),c.jsx(zn,{type:"monotone",dataKey:"actual",stroke:"#10b981",strokeWidth:2,fill:"url(#colorActual)",name:"Historical Demand",dot:{fill:"#10b981",r:4}}),c.jsx(zn,{type:"monotone",dataKey:"forecast",stroke:"#3b82f6",strokeWidth:2,fill:"url(#colorForecast)",name:"Forecast",dot:{fill:"#3b82f6",r:4},strokeDasharray:"5 5"}),c.jsx(Wl,{type:"monotone",dataKey:"lowerBound",stroke:"#94a3b8",strokeWidth:1,dot:!1,name:"Lower Bound (80%)",strokeDasharray:"3 3"}),c.jsx(Wl,{type:"monotone",dataKey:"upperBound",stroke:"#94a3b8",strokeWidth:1,dot:!1,name:"Upper Bound (80%)",strokeDasharray:"3 3"})]})}),c.jsxs("div",{className:"mt-4 flex items-center gap-6 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),c.jsx("span",{className:"text-gray-600",children:"Historical Demand"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),c.jsx("span",{className:"text-gray-600",children:"Forecast"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-4 h-1 bg-gray-400 rounded"}),c.jsx("span",{className:"text-gray-600",children:"80% Confidence Interval"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Forecast Details"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-gray-900",children:"Period"}),c.jsx("th",{className:"text-right px-6 py-3 text-sm font-semibold text-gray-900",children:"Forecast"}),c.jsx("th",{className:"text-right px-6 py-3 text-sm font-semibold text-gray-900",children:"Lower Bound"}),c.jsx("th",{className:"text-right px-6 py-3 text-sm font-semibold text-gray-900",children:"Upper Bound"}),c.jsx("th",{className:"text-center px-6 py-3 text-sm font-semibold text-gray-900",children:"Confidence"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:o.forecast.map((O,T)=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsxs("td",{className:"px-6 py-3 text-sm font-medium text-gray-900",children:["Period ",o.historicalDemand.length+T+1]}),c.jsx("td",{className:"px-6 py-3 text-sm text-right font-bold text-blue-600",children:O.toFixed(2)}),c.jsx("td",{className:"px-6 py-3 text-sm text-right text-gray-600",children:o.lowerBound[T].toFixed(2)}),c.jsx("td",{className:"px-6 py-3 text-sm text-right text-gray-600",children:o.upperBound[T].toFixed(2)}),c.jsx("td",{className:"px-6 py-3 text-center",children:c.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700",children:"80%"})})]},T))})]})})]})]}),!o&&!h&&c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[c.jsx(ul,{className:"mx-auto text-gray-400 mb-4",size:64}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Forecast Generated Yet"}),c.jsx("p",{className:"text-gray-600",children:'Select an item and click "Generate Forecast" to see AI-powered demand predictions'})]})]})}function bY({accessToken:t}){const[e,r]=M.useState(null),[n,i]=M.useState(!1),[o,l]=M.useState("ALL"),u=async()=>{i(!0);try{const p=await fetch(`https://${Gt}.supabase.co/functions/v1/make-server-9c637d11/planning/mrp`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({})});if(!p.ok){const v=await p.json();throw new Error(v.error||"Failed to run MRP")}const m=await p.json();r(m)}catch(p){console.error("Error running MRP:",p),alert(p instanceof Error?p.message:"Failed to run MRP")}finally{i(!1)}},d=p=>{switch(p){case"CRITICAL":return"bg-red-100 text-red-700 border-red-300";case"HIGH":return"bg-orange-100 text-orange-700 border-orange-300";case"MEDIUM":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"LOW":return"bg-blue-100 text-blue-700 border-blue-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},h=p=>{switch(p){case"CRITICAL":return c.jsx(wr,{className:"text-red-600",size:20});case"HIGH":return c.jsx(wr,{className:"text-orange-600",size:20});case"MEDIUM":return c.jsx(Lv,{className:"text-yellow-600",size:20});case"LOW":return c.jsx(Cn,{className:"text-blue-600",size:20});default:return null}},y=e?.recommendations.filter(p=>o==="ALL"||p.priority===o)||[];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"MRP Planning"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Material Requirements Planning with Min/Max Logic"})]}),c.jsxs("div",{className:"flex items-center gap-2 bg-purple-50 px-4 py-2 rounded-lg border border-purple-200",children:[c.jsx(XE,{className:"text-purple-600",size:20}),c.jsx("span",{className:"text-sm font-semibold text-purple-900",children:"Intelligent Planning"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsx("button",{onClick:u,disabled:n,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed font-medium",children:n?c.jsxs(c.Fragment,{children:[c.jsx(_i,{className:"animate-spin",size:20}),"Running MRP Analysis..."]}):c.jsxs(c.Fragment,{children:[c.jsx(eo,{size:20}),"Run MRP Planning"]})})}),e&&c.jsxs("div",{className:"mt-4 text-sm text-gray-600 flex items-center justify-between",children:[c.jsxs("span",{children:["Last run: ",new Date(e.generatedAt).toLocaleString()]}),c.jsxs("button",{onClick:u,className:"flex items-center gap-1 text-blue-600 hover:text-blue-700",children:[c.jsx(Mo,{size:14}),"Refresh"]})]})]}),c.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(eo,{className:"text-purple-600 flex-shrink-0 mt-0.5",size:20}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-purple-900",children:"How MRP Works"}),c.jsxs("p",{className:"text-sm text-purple-700 mt-1",children:["The system analyzes ",c.jsx("strong",{children:"current stock"}),", ",c.jsx("strong",{children:"min/max levels"}),", ",c.jsx("strong",{children:"safety stock"}),",",c.jsx("strong",{children:" forecasted demand"}),", and ",c.jsx("strong",{children:"lead times"})," to generate intelligent replenishment recommendations. Priorities are automatically assigned based on urgency and risk of stockout."]})]})]})}),e&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[c.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Items"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.summary.totalItems})]}),c.jsx(eo,{className:"text-gray-600",size:24})]})}),c.jsx("div",{className:"bg-red-50 rounded-lg border border-red-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-red-700 font-medium",children:"Critical"}),c.jsx("p",{className:"text-2xl font-bold text-red-700 mt-1",children:e.summary.criticalCount})]}),c.jsx(wr,{className:"text-red-600",size:24})]})}),c.jsx("div",{className:"bg-orange-50 rounded-lg border border-orange-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-orange-700 font-medium",children:"High"}),c.jsx("p",{className:"text-2xl font-bold text-orange-700 mt-1",children:e.summary.highCount})]}),c.jsx(wr,{className:"text-orange-600",size:24})]})}),c.jsx("div",{className:"bg-yellow-50 rounded-lg border border-yellow-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-yellow-700 font-medium",children:"Medium"}),c.jsx("p",{className:"text-2xl font-bold text-yellow-700 mt-1",children:e.summary.mediumCount})]}),c.jsx(Lv,{className:"text-yellow-600",size:24})]})}),c.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Low"}),c.jsx("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:e.summary.lowCount})]}),c.jsx(Cn,{className:"text-blue-600",size:24})]})})]}),e&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter by Priority:"}),c.jsx("div",{className:"flex gap-2",children:["ALL","CRITICAL","HIGH","MEDIUM","LOW"].map(p=>c.jsx("button",{onClick:()=>l(p),className:`px-3 py-1 text-sm font-medium rounded-lg transition-colors ${o===p?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:p},p))})]}),e&&y.length>0&&c.jsx("div",{className:"space-y-4",children:y.map(p=>c.jsxs("div",{className:`bg-white rounded-xl shadow-sm border-2 p-6 ${d(p.priority)}`,children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[c.jsx("div",{className:"p-3 rounded-lg bg-white border border-gray-200",children:h(p.priority)}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:p.itemCode}),c.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-bold rounded-full ${d(p.priority)}`,children:[p.priority," PRIORITY"]})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:p.itemName}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Current Stock"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:p.currentStock})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Min / Max"}),c.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[p.minStock," / ",p.maxStock]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Safety Stock"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:p.safetyStock})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Forecasted Demand"}),c.jsx("p",{className:"text-lg font-bold text-blue-600",children:p.forecastedDemand})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Lead Time"}),c.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[p.leadTimeDays," days"]})]})]}),c.jsxs("div",{className:"bg-white/50 rounded-lg p-3 mb-3",children:[c.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Reason:"}),c.jsx("p",{className:"text-sm text-gray-900",children:p.reason})]}),p.daysUntilStockout!==void 0&&p.daysUntilStockout<30&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-700",children:[c.jsx(wr,{size:16}),c.jsxs("span",{className:"font-medium",children:["Estimated stockout in ",p.daysUntilStockout," days"]})]})]})]}),c.jsxs("div",{className:"text-right ml-4",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Recommended Order"}),c.jsx("p",{className:"text-4xl font-bold text-green-600",children:p.recommendedOrder}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"units"}),p.targetDate&&c.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Target: ",new Date(p.targetDate).toLocaleDateString()]})]})]}),c.jsxs("div",{className:"flex gap-3 mt-4 pt-4 border-t border-gray-200",children:[c.jsx("button",{className:"flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Create Purchase Order"}),c.jsx("button",{className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Schedule Production"}),c.jsx("button",{className:"px-6 bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Ignore"})]})]},p.itemId))}),!e&&!n&&c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[c.jsx(eo,{className:"mx-auto text-gray-400 mb-4",size:64}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No MRP Analysis Yet"}),c.jsx("p",{className:"text-gray-600",children:'Click "Run MRP Planning" to generate intelligent replenishment recommendations'})]}),e&&y.length===0&&c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[c.jsx(Cn,{className:"mx-auto text-green-500 mb-4",size:64}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Recommendations"}),c.jsx("p",{className:"text-gray-600",children:o==="ALL"?"All items are within acceptable stock levels!":`No items with ${o} priority at this time.`})]})]})}function wY({accessToken:t}){const[e,r]=M.useState([]),[n,i]=M.useState([]),[o,l]=M.useState([]),[u,d]=M.useState(!0),[h,y]=M.useState(!1),[p,m]=M.useState(""),[v,S]=M.useState(""),[w,b]=M.useState(""),[k,A]=M.useState("IN"),[O,T]=M.useState(0),[j,E]=M.useState(""),[P,I]=M.useState("Manual"),[$,V]=M.useState("");M.useEffect(()=>{U()},[p]);const U=async()=>{try{d(!0);const N=`https://${Gt}.supabase.co/functions/v1/make-server-9c637d11`,[L,re,fe]=await Promise.all([fetch(`${N}/stock-movements${p?`?itemId=${p}`:""}`,{headers:{Authorization:`Bearer ${t}`}}),fetch(`${N}/items`,{headers:{Authorization:`Bearer ${t}`}}),fetch(`${N}/inventory`,{headers:{Authorization:`Bearer ${t}`}})]);if(!L.ok||!re.ok||!fe.ok)throw new Error("Failed to fetch data");const me=await L.json(),we=await re.json(),ie=await fe.json();r(me.movements||[]),i(we.items||[]),l(ie.inventory||[])}catch(N){console.error("Error fetching data:",N)}finally{d(!1)}},R=async N=>{if(N.preventDefault(),!(!w||O<=0))try{const L=await fetch(`https://${Gt}.supabase.co/functions/v1/make-server-9c637d11/inventory/adjust`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({itemId:w,movementType:k,transactionType:P,quantity:O,reason:j,referenceType:P,referenceId:$||void 0})}),re=await L.json();if(!L.ok){const fe=re.error||"Failed to create stock movement";console.error("Stock movement creation failed:",fe),alert(`Error: ${fe}`);return}await U(),z()}catch(L){console.error("Error creating stock movement:",L),alert(`Failed to create stock movement: ${L instanceof Error?L.message:"Unknown error"}`)}},z=()=>{y(!1),b(""),A("IN"),T(0),E(""),I("Manual"),V("")},W=N=>n.find(L=>L.id===N),H=N=>o.find(L=>L.itemId===N),X=N=>new Date(N).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Q=e.filter(N=>{if(!v)return!0;const L=W(N.itemId),re=v.toLowerCase();return L?.itemCode.toLowerCase().includes(re)||L?.itemName.toLowerCase().includes(re)||N.reason.toLowerCase().includes(re)||N.referenceType.toLowerCase().includes(re)||N.referenceId.toLowerCase().includes(re)}),K=e.length,ee=e.filter(N=>N.movementType==="IN").reduce((N,L)=>N+L.quantity,0),Z=e.filter(N=>N.movementType==="OUT").reduce((N,L)=>N+L.quantity,0);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Stock Movement Ledger"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Complete audit trail of all inventory transactions"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:U,className:"flex items-center gap-2 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:[c.jsx(Mo,{size:20}),"Refresh"]}),c.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(sl,{size:20}),"New Movement"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Movements"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:K})]}),c.jsx(CD,{className:"text-blue-600",size:24})]})}),c.jsx("div",{className:"bg-green-50 rounded-lg border border-green-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Total Inward"}),c.jsxs("p",{className:"text-2xl font-bold text-green-700 mt-1",children:["+",ee.toLocaleString()]})]}),c.jsx(Sp,{className:"text-green-600",size:24})]})}),c.jsx("div",{className:"bg-red-50 rounded-lg border border-red-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-red-700 font-medium",children:"Total Outward"}),c.jsxs("p",{className:"text-2xl font-bold text-red-700 mt-1",children:["-",Z.toLocaleString()]})]}),c.jsx(_p,{className:"text-red-600",size:24})]})})]}),c.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[c.jsx(PD,{size:16,className:"inline mr-1"}),"Filter by Item"]}),c.jsxs("select",{value:p,onChange:N=>m(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[c.jsx("option",{value:"",children:"All Items"}),n.map(N=>c.jsxs("option",{value:N.id,children:[N.itemCode," - ",N.itemName]},N.id))]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[c.jsx(wi,{size:16,className:"inline mr-1"}),"Search Movements"]}),c.jsx("input",{type:"text",value:v,onChange:N=>S(N.target.value),placeholder:"Search by item, reason, reference...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]})]})}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:u?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx(_i,{className:"animate-spin text-blue-600",size:32})}):Q.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Xi,{className:"mx-auto text-gray-400 mb-4",size:48}),c.jsx("p",{className:"text-gray-600",children:"No stock movements found"}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:v||p?"Try adjusting your filters":"Create your first stock movement to get started"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Date & Time"}),c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Item"}),c.jsx("th",{className:"text-center px-6 py-4 text-sm font-semibold text-gray-900",children:"Type"}),c.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-gray-900",children:"Quantity"}),c.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-gray-900",children:"Balance After"}),c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Reference"}),c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Reason"}),c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Created By"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:Q.map(N=>{const L=W(N.itemId),re=N.movementType==="IN";return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:X(N.createdAt)}),c.jsxs("td",{className:"px-6 py-4 text-sm",children:[c.jsx("div",{className:"font-medium text-gray-900",children:L?.itemCode||"N/A"}),c.jsx("div",{className:"text-gray-500 text-xs",children:L?.itemName})]}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-1 text-xs font-medium rounded-full ${re?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:re?c.jsxs(c.Fragment,{children:[c.jsx(Sp,{size:14}),"IN"]}):c.jsxs(c.Fragment,{children:[c.jsx(_p,{size:14}),"OUT"]})})}),c.jsxs("td",{className:"px-6 py-4 text-sm text-right",children:[c.jsxs("span",{className:`font-bold ${re?"text-green-600":"text-red-600"}`,children:[re?"+":"-",N.quantity.toLocaleString()]}),c.jsx("span",{className:"text-gray-500 ml-1",children:L?.uom})]}),c.jsx("td",{className:"px-6 py-4 text-sm text-right font-bold text-gray-900",children:N.balanceAfter.toLocaleString()}),c.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[c.jsx("div",{className:"font-medium",children:N.referenceType}),N.referenceId&&c.jsx("div",{className:"text-xs text-gray-500",children:N.referenceId})]}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 max-w-xs truncate",children:N.reason||"-"}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:N.createdByName})]},N.id)})})]})})}),h&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Stock Movement"}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Record a new inventory transaction"})]}),c.jsxs("form",{onSubmit:R,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Item *"}),c.jsxs("select",{value:w,onChange:N=>b(N.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[c.jsx("option",{value:"",children:"Select an item"}),n.map(N=>{const L=H(N.id);return c.jsxs("option",{value:N.id,children:[N.itemCode," - ",N.itemName," (Current: ",L?.currentStock||0," ",N.uom,")"]},N.id)})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Movement Type *"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>A("IN"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${k==="IN"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(Sp,{size:16,className:"inline mr-1"}),"IN"]}),c.jsxs("button",{type:"button",onClick:()=>A("OUT"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${k==="OUT"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(_p,{size:16,className:"inline mr-1"}),"OUT"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),c.jsx("input",{type:"number",value:O,onChange:N=>T(parseInt(N.target.value)||0),required:!0,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference Type"}),c.jsxs("select",{value:P,onChange:N=>I(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[c.jsx("option",{value:"Manual",children:"Manual"}),c.jsx("option",{value:"Production Order",children:"Production Order"}),c.jsx("option",{value:"Blanket Release Shipment",children:"Blanket Release Shipment"}),c.jsx("option",{value:"Purchase Order",children:"Purchase Order"}),c.jsx("option",{value:"Sales Order",children:"Sales Order"}),c.jsx("option",{value:"Stock Adjustment",children:"Stock Adjustment"}),c.jsx("option",{value:"Stock Transfer",children:"Stock Transfer"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reference ID ",P==="Blanket Release Shipment"&&k==="OUT"&&c.jsx("span",{className:"text-red-600",children:"*"})]}),c.jsx("input",{type:"text",value:$,onChange:N=>V(N.target.value),placeholder:"e.g., PO-2024-001, BO-REL-123",required:P==="Blanket Release Shipment"&&k==="OUT",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),P==="Blanket Release Shipment"&&k==="OUT"&&c.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Blanket Release ID is mandatory for shipments"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason / Notes *"}),c.jsx("textarea",{value:j,onChange:N=>E(N.target.value),rows:3,required:!0,placeholder:"Enter the reason for this stock movement (required)...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Required: Provide a clear reason for this stock movement"})]}),w&&c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Current Stock Information"}),(()=>{const N=W(w),L=H(w);if(!N||!L)return null;const re=k==="IN"?L.currentStock+O:L.currentStock-O;return c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Current Stock:"}),c.jsxs("p",{className:"font-bold text-gray-900",children:[L.currentStock," ",N.uom]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"After Transaction:"}),c.jsxs("p",{className:`font-bold ${re<N.minStock?"text-red-600":re>N.maxStock?"text-orange-600":"text-green-600"}`,children:[re," ",N.uom]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Min Stock:"}),c.jsxs("p",{className:"font-bold text-gray-900",children:[N.minStock," ",N.uom]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Max Stock:"}),c.jsxs("p",{className:"font-bold text-gray-900",children:[N.maxStock," ",N.uom]})]})]})})()]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Create Movement"}),c.jsx("button",{type:"button",onClick:z,className:"flex-1 bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"})]})]})]})})]})}function _Y({minDuration:t=4e3}){const[e,r]=M.useState(0);M.useEffect(()=>{const u=setInterval(()=>{r(d=>d>=100?(clearInterval(u),100):d+.5)},t/200);return()=>clearInterval(u)},[t]);const n=Math.min(e*.75,75),i=e>35?Math.min((e-35)*.8,50):0,o=e>40?Math.min((e-40)*1.2,70):0,l=e>40?Math.min((e-40)*.8,50):0;return c.jsxs("div",{style:{position:"fixed",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"linear-gradient(180deg, #f8fafc 0%, #f1f5f9 100%)",zIndex:9999,fontFamily:'"Inter", "Segoe UI", system-ui, sans-serif'},children:[c.jsx("style",{children:`
        @keyframes smoke {
          0% { transform: translateY(0) scale(1); opacity: 0.5; }
          100% { transform: translateY(-12px) scale(1.4); opacity: 0; }
        }
        @keyframes wheelSpin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        @keyframes wave {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-2px); }
        }
        @keyframes cloudDrift {
          0%, 100% { transform: translateX(0); opacity: 0.6; }
          50% { transform: translateX(8px); opacity: 0.8; }
        }
        @keyframes factoryPulse {
          0%, 100% { opacity: 0.8; }
          50% { opacity: 1; }
        }
        @keyframes bob {
          0%, 100% { transform: translateY(0) rotate(0deg); }
          25% { transform: translateY(-2px) rotate(1deg); }
          75% { transform: translateY(-1px) rotate(-1deg); }
        }
      `}),c.jsx("h1",{style:{fontSize:"26px",fontWeight:600,color:"#1e293b",marginBottom:"50px",letterSpacing:"-0.5px"},children:"Warehouse Management System"}),c.jsxs("div",{style:{position:"relative",width:"95vw",maxWidth:"1400px",height:"140px",padding:"0 20px"},children:[c.jsx("div",{style:{position:"absolute",bottom:"35px",left:"20px",right:"20px",height:"2px",background:"linear-gradient(90deg, #94a3b8, #64748b, #94a3b8)"}}),c.jsx("div",{style:{position:"absolute",bottom:"38px",left:"20px",right:"20px",height:"1px",background:"repeating-linear-gradient(90deg, transparent, transparent 20px, #cbd5e1 20px, #cbd5e1 40px)"}}),c.jsx("div",{style:{position:"absolute",left:"20px",bottom:"35px",animation:"factoryPulse 3s ease-in-out infinite"},children:c.jsxs("svg",{width:"60",height:"70",viewBox:"0 0 60 70",fill:"none",stroke:"#475569",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"5",y:"30",width:"50",height:"40",rx:"2"}),c.jsx("path",{d:"M5 30 L20 15 L35 30"}),c.jsx("path",{d:"M25 30 L40 15 L55 30"}),c.jsx("rect",{x:"42",y:"5",width:"10",height:"25"}),c.jsx("rect",{x:"22",y:"50",width:"16",height:"20"}),c.jsx("rect",{x:"10",y:"38",width:"10",height:"10"}),c.jsx("rect",{x:"40",y:"38",width:"10",height:"10"}),c.jsx("circle",{cx:"47",cy:"0",r:"4",fill:"none",style:{animation:"smoke 1.5s ease-out infinite"}}),c.jsx("circle",{cx:"50",cy:"-5",r:"3",fill:"none",style:{animation:"smoke 2s ease-out infinite",animationDelay:"0.4s"}}),c.jsx("circle",{cx:"44",cy:"-3",r:"3",fill:"none",style:{animation:"smoke 1.8s ease-out infinite",animationDelay:"0.8s"}})]})}),c.jsx("div",{style:{position:"absolute",left:`calc(80px + ${n}%)`,bottom:"35px",transition:"left 0.15s linear"},children:c.jsxs("svg",{width:"55",height:"35",viewBox:"0 0 55 35",fill:"none",stroke:"#475569",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"2",y:"5",width:"32",height:"20",rx:"2"}),c.jsx("path",{d:"M34 8 L34 25 L50 25 L50 15 L45 8 Z"}),c.jsx("path",{d:"M45 10 L50 15 L50 20 L45 20 Z",fill:"none"}),c.jsx("circle",{cx:"49",cy:"22",r:"2"}),c.jsxs("g",{style:{transformOrigin:"12px 30px",animation:e>0&&e<80?"wheelSpin 0.25s linear infinite":"none"},children:[c.jsx("circle",{cx:"12",cy:"30",r:"6"}),c.jsx("circle",{cx:"12",cy:"30",r:"2"}),c.jsx("line",{x1:"12",y1:"24",x2:"12",y2:"36"}),c.jsx("line",{x1:"6",y1:"30",x2:"18",y2:"30"})]}),c.jsxs("g",{style:{transformOrigin:"42px 30px",animation:e>0&&e<80?"wheelSpin 0.25s linear infinite":"none"},children:[c.jsx("circle",{cx:"42",cy:"30",r:"6"}),c.jsx("circle",{cx:"42",cy:"30",r:"2"}),c.jsx("line",{x1:"42",y1:"24",x2:"42",y2:"36"}),c.jsx("line",{x1:"36",y1:"30",x2:"48",y2:"30"})]}),e>0&&e<80&&c.jsxs(c.Fragment,{children:[c.jsx("circle",{cx:"-2",cy:"22",r:"3",fill:"none",style:{animation:"smoke 0.6s ease-out infinite"}}),c.jsx("circle",{cx:"-5",cy:"20",r:"2",fill:"none",style:{animation:"smoke 0.8s ease-out infinite",animationDelay:"0.2s"}})]})]})}),c.jsx("div",{style:{position:"absolute",left:"42%",bottom:"35px"},children:c.jsxs("svg",{width:"80",height:"60",viewBox:"0 0 80 60",fill:"none",stroke:"#475569",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"0",y:"45",width:"80",height:"8"}),c.jsx("rect",{x:"35",y:"5",width:"6",height:"40"}),c.jsx("path",{d:"M5 5 L70 5"}),c.jsx("path",{d:"M8 5 L8 3 L12 3 L12 5"}),c.jsx("path",{d:"M65 5 L65 3 L69 3 L69 5"}),c.jsx("line",{x1:"20",y1:"5",x2:"20",y2:"28",strokeDasharray:"3,2"}),c.jsx("rect",{x:"15",y:"28",width:"10",height:"8"})," ",c.jsx("rect",{x:"5",y:"33",width:"15",height:"12"}),c.jsx("rect",{x:"60",y:"33",width:"15",height:"12"}),c.jsx("rect",{x:"8",y:"22",width:"12",height:"11"})]})}),c.jsx("div",{style:{position:"absolute",left:`calc(48% + ${i}px)`,bottom:"20px",transition:"left 0.2s linear",opacity:e>35?1:.3,animation:e>35?"bob 2s ease-in-out infinite":"none"},children:c.jsxs("svg",{width:"60",height:"40",viewBox:"0 0 60 40",fill:"none",stroke:"#475569",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M5 22 L12 35 L48 35 L55 22 Z"}),c.jsx("rect",{x:"12",y:"16",width:"36",height:"7"}),c.jsx("rect",{x:"40",y:"5",width:"10",height:"12"}),c.jsx("rect",{x:"42",y:"7",width:"3",height:"3"})," ",c.jsx("rect",{x:"14",y:"8",width:"10",height:"9"}),c.jsx("rect",{x:"26",y:"8",width:"10",height:"9"}),c.jsx("rect",{x:"44",y:"0",width:"4",height:"6"}),e>35&&c.jsxs(c.Fragment,{children:[c.jsx("circle",{cx:"46",cy:"-4",r:"3",fill:"none",style:{animation:"smoke 1.2s ease-out infinite"}}),c.jsx("circle",{cx:"48",cy:"-7",r:"2",fill:"none",style:{animation:"smoke 1.5s ease-out infinite",animationDelay:"0.3s"}})]}),e>35&&c.jsx("g",{style:{animation:"wave 1s ease-in-out infinite"},children:c.jsx("path",{d:"M0 38 Q8 35 16 38 T32 38 T48 38 T60 38",strokeWidth:"1"})})]})}),c.jsxs("div",{style:{position:"absolute",left:`calc(52% + ${o}px)`,bottom:`${50+l}px`,transition:"all 0.2s linear",opacity:e>40?1:.3},children:[c.jsxs("svg",{width:"50",height:"30",viewBox:"0 0 50 30",fill:"none",stroke:"#475569",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("ellipse",{cx:"25",cy:"15",rx:"20",ry:"5"}),c.jsx("path",{d:"M45 15 L50 15"}),c.jsx("ellipse",{cx:"40",cy:"14",rx:"4",ry:"3"}),c.jsx("path",{d:"M18 15 L8 5 L22 5 L28 13"}),c.jsx("path",{d:"M18 15 L8 25 L22 25 L28 17"}),c.jsx("path",{d:"M6 15 L2 8 L10 8"}),c.jsx("path",{d:"M7 15 L4 11"}),c.jsx("path",{d:"M7 15 L4 19"}),c.jsx("ellipse",{cx:"15",cy:"8",rx:"4",ry:"2"}),c.jsx("ellipse",{cx:"15",cy:"22",rx:"4",ry:"2"})]}),e>50&&c.jsxs("svg",{style:{position:"absolute",top:"-10px",right:"-30px",animation:"cloudDrift 3s ease-in-out infinite"},width:"40",height:"20",viewBox:"0 0 40 20",fill:"none",stroke:"#94a3b8",strokeWidth:"1",children:[c.jsx("ellipse",{cx:"20",cy:"14",rx:"15",ry:"6"}),c.jsx("ellipse",{cx:"12",cy:"10",rx:"8",ry:"5"}),c.jsx("ellipse",{cx:"28",cy:"10",rx:"7",ry:"4"})]})]}),c.jsx("div",{style:{position:"absolute",right:"20px",bottom:"35px"},children:c.jsxs("svg",{width:"70",height:"65",viewBox:"0 0 70 65",fill:"none",stroke:"#475569",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"5",y:"22",width:"60",height:"43",rx:"2"}),c.jsx("path",{d:"M0 22 L35 5 L70 22"}),c.jsx("rect",{x:"20",y:"40",width:"30",height:"25"}),c.jsx("line",{x1:"20",y1:"48",x2:"50",y2:"48"}),c.jsx("line",{x1:"20",y1:"56",x2:"50",y2:"56"}),c.jsx("rect",{x:"25",y:"28",width:"20",height:"10",rx:"1"}),c.jsx("text",{x:"35",y:"36",textAnchor:"middle",fontSize:"7",fill:"#475569",stroke:"none",fontWeight:"600",children:"WMS"}),e>80&&c.jsxs(c.Fragment,{children:[c.jsx("rect",{x:"8",y:"52",width:"8",height:"8",strokeWidth:"1.5"}),c.jsx("rect",{x:"54",y:"52",width:"8",height:"8",strokeWidth:"1.5"}),c.jsx("rect",{x:"10",y:"44",width:"6",height:"6",strokeWidth:"1"})]})]})})]}),c.jsxs("div",{style:{marginTop:"45px",textAlign:"center"},children:[c.jsx("div",{style:{width:"350px",height:"4px",background:"#e2e8f0",borderRadius:"2px",overflow:"hidden",marginBottom:"14px"},children:c.jsx("div",{style:{height:"100%",width:`${e}%`,background:"linear-gradient(90deg, #475569, #64748b)",borderRadius:"2px",transition:"width 0.1s linear"}})}),c.jsxs("p",{style:{fontSize:"15px",color:"#64748b"},children:[e<20?"Manufacturing...":e<40?"Loading truck...":e<55?"Arrived at port...":e<75?"Shipping cargo...":e<90?"Delivering to warehouse...":"Complete!",c.jsxs("span",{style:{marginLeft:"10px",fontWeight:600,color:"#334155"},children:[Math.round(e),"%"]})]})]}),c.jsx("p",{style:{position:"absolute",bottom:"20px",fontSize:"11px",color:"#94a3b8",letterSpacing:"1.5px",textTransform:"uppercase"},children:"Autocrat Engineers  Supply Chain Excellence"})]})}const pt=Zr();async function SY(){try{const{data:t,error:e}=await pt.from("profiles").select("*").is("deleted_at",null).order("created_at",{ascending:!1});if(e)throw console.error("Get users error:",e),new Error("Failed to fetch users");return(t||[]).map(r=>({...r,created_by_name:null}))}catch(t){throw console.error("Get users exception:",t),t}}async function jY(t,e){try{const{data:{session:r}}=await pt.auth.getSession();if(!r)return{success:!1,error:"Not authenticated"};const n=r.access_token,i=r.refresh_token,{data:o}=await pt.from("profiles").select("role").eq("id",r.user.id).single();if(o?.role!=="L3")return{success:!1,error:"Only L3 managers can create users"};const{data:l}=await pt.from("profiles").select("email").eq("email",t.email);if(l&&l.length>0)return{success:!1,error:"A user with this email already exists"};const{data:u,error:d}=await pt.auth.signUp({email:t.email,password:t.password,options:{data:{full_name:t.full_name,role:t.role},emailRedirectTo:void 0}});if(await pt.auth.setSession({access_token:n,refresh_token:i}),d)return console.error("Auth signup error:",d),{success:!1,error:d.message};if(!u.user)return{success:!1,error:"Failed to create user"};await new Promise(y=>setTimeout(y,500));const{error:h}=await pt.from("profiles").upsert({id:u.user.id,email:t.email,full_name:t.full_name,role:t.role,is_active:!0,employee_id:t.employee_id||null,department:t.department||null,shift:t.shift||null,created_by:e,updated_at:new Date().toISOString()},{onConflict:"id"});h&&console.error("Profile update error:",h);try{await pt.from("audit_log").insert({user_id:r.user.id,action:"CREATE_USER",target_type:"user",target_id:u.user.id,new_value:{email:t.email,role:t.role}})}catch{}return{success:!0,user:{id:u.user.id,email:t.email,full_name:t.full_name,role:t.role,is_active:!0,employee_id:t.employee_id||null,department:t.department||null,shift:t.shift||null}}}catch(r){const n=r instanceof Error?r.message:"Unknown error";return console.error("Create user exception:",r),{success:!1,error:n}}}async function kY(t,e){try{const{data:{user:r}}=await pt.auth.getUser();if(!r)return{success:!1,error:"Not authenticated"};const{data:n}=await pt.from("profiles").select("role").eq("id",r.id).single();if(n?.role!=="L3")return{success:!1,error:"Only L3 managers can update users"};const{data:i}=await pt.from("profiles").select("*").eq("id",t).single();if(!i)return{success:!1,error:"User not found"};const o={updated_at:new Date().toISOString()};e.full_name!==void 0&&e.full_name!==""&&(o.full_name=e.full_name),e.role!==void 0&&(o.role=e.role),e.is_active!==void 0&&(o.is_active=e.is_active),e.employee_id!==void 0&&(o.employee_id=e.employee_id||null),e.department!==void 0&&(o.department=e.department||null),e.shift!==void 0&&(o.shift=e.shift||null),console.log("Updating user with data:",o);const{data:l,error:u}=await pt.from("profiles").update(o).eq("id",t).select();if(u)return console.error("Update user error:",u.message,u.details,u.hint),{success:!1,error:`Failed to update user: ${u.message}`};console.log("Update result:",l);try{await pt.from("audit_log").insert({user_id:r.id,action:"UPDATE_USER",target_type:"user",target_id:t,old_value:i,new_value:e})}catch{}return{success:!0}}catch(r){const n=r instanceof Error?r.message:"Unknown error";return console.error("Update user exception:",r),{success:!1,error:n}}}async function OY(t,e){try{const{data:{user:r}}=await pt.auth.getUser();if(!r)return{success:!1,error:"Not authenticated"};if(t===r.id&&!e)return{success:!1,error:"Cannot deactivate your own account"};const{error:n}=await pt.from("profiles").update({is_active:e,updated_at:new Date().toISOString()}).eq("id",t);return n?(console.error("Update status error:",n),{success:!1,error:"Failed to update status"}):(await pt.from("audit_log").insert({user_id:r.id,action:e?"ACTIVATE_USER":"DEACTIVATE_USER",target_type:"user",target_id:t}),{success:!0})}catch(r){const n=r instanceof Error?r.message:"Unknown error";return console.error("Update status exception:",r),{success:!1,error:n}}}async function AY(t){try{const{data:{user:e}}=await pt.auth.getUser();if(!e)return{success:!1,error:"Not authenticated"};if(t===e.id)return{success:!1,error:"Cannot delete your own account"};const{data:r}=await pt.from("profiles").select("role").eq("id",e.id).single();if(r?.role!=="L3")return{success:!1,error:"Only L3 managers can delete users"};const{data:n}=await pt.from("profiles").select("email, full_name").eq("id",t).single(),{error:i}=await pt.from("profiles").update({is_active:!1,deleted_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",t);if(i)return console.error("Delete user error:",i),{success:!1,error:"Failed to delete user"};try{await pt.from("audit_log").insert({user_id:e.id,action:"DELETE_USER",target_type:"user",target_id:t,old_value:{email:n?.email,full_name:n?.full_name}})}catch{}return{success:!0}}catch(e){const r=e instanceof Error?e.message:"Unknown error";return console.error("Delete user exception:",e),{success:!1,error:r}}}const AE={L1:{label:"OPERATOR",bg:"#dbeafe",color:"#1d4ed8"},L2:{label:"SUPERVISOR",bg:"#fef3c7",color:"#b45309"},L3:{label:"MANAGER",bg:"#ede9fe",color:"#7c3aed"}};function EY({role:t}){const e=AE[t]||AE.L1;return c.jsx("span",{style:{display:"inline-flex",alignItems:"center",padding:"4px 12px",borderRadius:"20px",fontSize:"11px",fontWeight:"700",letterSpacing:"0.05em",backgroundColor:e.bg,color:e.color},children:e.label})}function PY({currentUserId:t}){const[e,r]=M.useState([]),[n,i]=M.useState(!0),[o,l]=M.useState(null),[u,d]=M.useState(null),[h,y]=M.useState(""),[p,m]=M.useState("all"),[v,S]=M.useState("all"),[w,b]=M.useState(20),k=20,[A,O]=M.useState(!1),[T,j]=M.useState(!1),[E,P]=M.useState(!1),[I,$]=M.useState(null),[V,U]=M.useState(null),R=M.useRef(null),[z,W]=M.useState({email:"",password:"",full_name:"",role:"L1",employee_id:"",department:"",shift:"DAY"}),[H,X]=M.useState(!1),[Q,K]=M.useState({full_name:"",role:"L1",employee_id:"",department:"",shift:""}),[ee,Z]=M.useState(!1);M.useEffect(()=>{N()},[]),M.useEffect(()=>{const te=je=>{V&&R.current&&!R.current.contains(je.target)&&U(null)};return document.addEventListener("mousedown",te),()=>document.removeEventListener("mousedown",te)},[V]);const N=async()=>{try{i(!0),l(null);const te=await SY();r(te)}catch{l("Failed to fetch users")}finally{i(!1)}},L=async te=>{te.preventDefault(),X(!0),l(null);const je=await jY(z,t);je.success?(d("User created successfully"),O(!1),W({email:"",password:"",full_name:"",role:"L1",employee_id:"",department:"",shift:"DAY"}),N()):l(je.error||"Failed to create user"),X(!1)},re=async te=>{if(te.preventDefault(),!I)return;Z(!0),l(null);const je=await kY(I.id,Q);je.success?(d("User updated successfully"),j(!1),$(null),N()):l(je.error||"Failed to update user"),Z(!1)},fe=te=>{$(te),K({full_name:te.full_name,role:te.role,employee_id:te.employee_id||"",department:te.department||"",shift:te.shift||""}),j(!0),U(null)},me=async(te,je)=>{const Fe=await OY(te,je);Fe.success?(d(je?"User activated":"User deactivated"),N(),U(null)):l(Fe.error||"Failed to update status")},we=te=>{$(te),P(!0),U(null)},ie=async()=>{if(!I)return;const te=await AY(I.id);te.success?(d("User deleted successfully"),P(!1),$(null),N()):l(te.error||"Failed to delete user")},he=e.filter(te=>{const je=te.email.toLowerCase().includes(h.toLowerCase())||te.full_name.toLowerCase().includes(h.toLowerCase())||(te.employee_id||"").toLowerCase().includes(h.toLowerCase()),Fe=p==="all"||te.role===p,Ge=v==="all"||v==="active"&&te.is_active||v==="inactive"&&!te.is_active;return je&&Fe&&Ge}),ae=he.slice(0,w),_e=w<he.length;M.useEffect(()=>{b(k)},[h,p,v]);const Ne=()=>{b(te=>te+k)},oe={total:e.length,active:e.filter(te=>te.is_active).length,inactive:e.filter(te=>!te.is_active).length,operators:e.filter(te=>te.role==="L1").length,supervisors:e.filter(te=>te.role==="L2").length};return M.useEffect(()=>{if(u){const te=setTimeout(()=>d(null),3e3);return()=>clearTimeout(te)}},[u]),M.useEffect(()=>{if(o){const te=setTimeout(()=>l(null),5e3);return()=>clearTimeout(te)}},[o]),c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[u&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 18px",borderRadius:"10px",fontSize:"14px",backgroundColor:"#dcfce7",color:"#15803d",border:"1px solid #86efac"},children:[c.jsx(Cn,{size:18}),u]}),o&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 18px",borderRadius:"10px",fontSize:"14px",backgroundColor:"#fef2f2",color:"#dc2626",border:"1px solid #fca5a5"},children:[c.jsx(uo,{size:18}),o]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"14px"},children:[c.jsxs("div",{onClick:()=>{m("all"),S("all")},style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.08)",border:p==="all"&&v==="all"?"2px solid #3b82f6":"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"14px"},children:[c.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"10px",backgroundColor:"rgba(59, 130, 246, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(zv,{size:22,style:{color:"#3b82f6"}})}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"#6b7280",marginBottom:"2px"},children:"Total Users"}),c.jsx("div",{style:{fontSize:"26px",fontWeight:"700",color:"#111827"},children:oe.total})]})]}),c.jsxs("div",{onClick:()=>{S(v==="active"?"all":"active"),m("all")},style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.08)",border:v==="active"?"2px solid #10b981":"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"14px"},children:[c.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"10px",backgroundColor:"rgba(16, 185, 129, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(M_,{size:22,style:{color:"#10b981"}})}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"#6b7280",marginBottom:"2px"},children:"Active"}),c.jsx("div",{style:{fontSize:"26px",fontWeight:"700",color:"#111827"},children:oe.active})]})]}),c.jsxs("div",{onClick:()=>{S(v==="inactive"?"all":"inactive"),m("all")},style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.08)",border:v==="inactive"?"2px solid #ef4444":"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"14px"},children:[c.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"10px",backgroundColor:"rgba(239, 68, 68, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(D_,{size:22,style:{color:"#ef4444"}})}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"#6b7280",marginBottom:"2px"},children:"Inactive"}),c.jsx("div",{style:{fontSize:"26px",fontWeight:"700",color:"#111827"},children:oe.inactive})]})]}),c.jsxs("div",{onClick:()=>{m(p==="L1"?"all":"L1"),S("all")},style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.08)",border:p==="L1"?"2px solid #6366f1":"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"14px"},children:[c.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"10px",backgroundColor:"rgba(99, 102, 241, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(d4,{size:22,style:{color:"#6366f1"}})}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"#6b7280",marginBottom:"2px"},children:"Operators"}),c.jsx("div",{style:{fontSize:"26px",fontWeight:"700",color:"#111827"},children:oe.operators})]})]}),c.jsxs("div",{onClick:()=>{m(p==="L2"?"all":"L2"),S("all")},style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.08)",border:p==="L2"?"2px solid #a855f7":"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"14px"},children:[c.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"10px",backgroundColor:"rgba(168, 85, 247, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(YE,{size:22,style:{color:"#a855f7"}})}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"#6b7280",marginBottom:"2px"},children:"Supervisors"}),c.jsx("div",{style:{fontSize:"26px",fontWeight:"700",color:"#111827"},children:oe.supervisors})]})]})]}),c.jsxs("div",{style:{backgroundColor:"white",padding:"16px 20px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[c.jsxs("div",{style:{position:"relative",flex:"1 1 350px",minWidth:"280px"},children:[c.jsx(wi,{size:18,style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),c.jsx("input",{type:"text",placeholder:"Search by name, employee ID, or email...",value:h,onChange:te=>y(te.target.value),style:{width:"100%",padding:"11px 40px 11px 42px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box",outline:"none",transition:"border-color 0.2s"}}),h&&c.jsx("button",{onClick:()=>y(""),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",color:"#9ca3af"},onMouseEnter:te=>te.currentTarget.style.color="#6b7280",onMouseLeave:te=>te.currentTarget.style.color="#9ca3af",children:c.jsx(Gs,{size:16})})]}),c.jsx("div",{style:{width:"1px",height:"28px",backgroundColor:"#e5e7eb"}}),(p!=="all"||v!=="all")&&c.jsxs("button",{onClick:()=>{m("all"),S("all")},style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 14px",border:"1px solid #fca5a5",borderRadius:"8px",backgroundColor:"#fef2f2",color:"#dc2626",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:[c.jsx(cx,{size:16}),"Clear Filters"]}),c.jsxs("button",{onClick:N,disabled:n,style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 14px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"white",color:"#374151",fontSize:"13px",fontWeight:"500",cursor:n?"not-allowed":"pointer",opacity:n?.6:1},children:[c.jsx(Mo,{size:16,style:{animation:n?"spin 1s linear infinite":"none"}}),"Refresh"]}),c.jsxs("button",{onClick:()=>{const te=he.map(bt=>`${bt.employee_id||""},${bt.full_name},${bt.email},${bt.role},${bt.department||""},${bt.shift||""},${bt.is_active?"Active":"Inactive"}`).join(`
`),je=`Employee ID,Name,Email,Role,Department,Shift,Status
`,Fe=new Blob([je+te],{type:"text/csv"}),Ge=URL.createObjectURL(Fe),lt=document.createElement("a");lt.href=Ge,lt.download="users_export.csv",lt.click()},style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 14px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"white",color:"#374151",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:[c.jsx(dx,{size:16}),"Export CSV"]}),c.jsxs("button",{onClick:()=>O(!0),style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 16px",border:"none",borderRadius:"8px",backgroundColor:"#2563eb",color:"white",fontSize:"13px",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 4px rgba(37, 99, 235, 0.2)"},children:[c.jsx(h4,{size:16}),"Add User"]})]}),c.jsx("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",overflow:"hidden"},children:n?c.jsxs("div",{style:{padding:"80px",textAlign:"center"},children:[c.jsx(_i,{size:36,style:{animation:"spin 1s linear infinite",color:"#3b82f6"}}),c.jsx("p",{style:{marginTop:"16px",color:"#64748b",fontSize:"14px"},children:"Loading users..."})]}):he.length===0?c.jsxs("div",{style:{padding:"80px",textAlign:"center"},children:[c.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"#f1f5f9",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:c.jsx(zv,{size:32,style:{color:"#94a3b8"}})}),c.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#374151",marginBottom:"4px"},children:h||p!=="all"||v!=="all"?"No Matching Users":"No Users Found"}),c.jsx("p",{style:{color:"#64748b",fontSize:"14px"},children:h||p!=="all"||v!=="all"?"Try adjusting your search or filter criteria":'Click "Add User" to create the first user'})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{style:{overflowX:"auto"},children:c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[c.jsx("thead",{children:c.jsx("tr",{style:{backgroundColor:"#f8fafc",borderBottom:"1px solid #e5e7eb"},children:["Employee ID","Name","Email","Role","Department","Shift","Status","Actions"].map(te=>c.jsx("th",{style:{padding:"14px 20px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#64748b",textTransform:"uppercase",letterSpacing:"0.05em",whiteSpace:"nowrap"},children:te},te))})}),c.jsx("tbody",{children:ae.map(te=>c.jsxs("tr",{style:{borderBottom:"1px solid #f3f4f6",backgroundColor:te.id===t?"#f0f9ff":"transparent"},children:[c.jsx("td",{style:{padding:"20px 24px",fontSize:"14px",fontWeight:"600",color:"#374151"},children:te.employee_id||"---"}),c.jsxs("td",{style:{padding:"20px 24px"},children:[c.jsx("div",{style:{fontWeight:"600",color:"#111827"},children:te.full_name}),c.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af"},children:["@",te.email.split("@")[0]]})]}),c.jsx("td",{style:{padding:"20px 24px",fontSize:"14px",color:"#4b5563"},children:te.email}),c.jsx("td",{style:{padding:"20px 24px"},children:c.jsx(EY,{role:te.role})}),c.jsx("td",{style:{padding:"20px 24px",fontSize:"14px",color:"#4b5563"},children:te.department||"Production"}),c.jsx("td",{style:{padding:"20px 24px",fontSize:"14px",color:"#4b5563"},children:te.shift||"DAY"}),c.jsx("td",{style:{padding:"20px 24px"},children:c.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",backgroundColor:te.is_active?"#ecfdf5":"#fef2f2",color:te.is_active?"#059669":"#dc2626"},children:[te.is_active?c.jsx(M_,{size:14}):c.jsx(D_,{size:14}),te.is_active?"Active":"Inactive"]})}),c.jsxs("td",{style:{padding:"20px 24px",position:"relative"},children:[te.id!==t&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>U(V===te.id?null:te.id),style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",color:"#374151"},children:[c.jsx(e4,{size:16}),"Actions",c.jsx(KE,{size:14})]}),V===te.id&&c.jsxs("div",{ref:R,style:{position:"absolute",top:"100%",right:"24px",marginTop:"4px",zIndex:50,width:"180px",backgroundColor:"white",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.15)",border:"1px solid #e5e7eb",overflow:"hidden"},children:[c.jsxs("button",{onClick:()=>fe(te),style:{width:"100%",padding:"12px 16px",display:"flex",alignItems:"center",gap:"10px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"14px",textAlign:"left",color:"#374151"},children:[c.jsx(n4,{size:16})," Edit User"]}),c.jsx("div",{style:{borderTop:"1px solid #f3f4f6"}}),c.jsxs("button",{onClick:()=>me(te.id,!te.is_active),style:{width:"100%",padding:"12px 16px",display:"flex",alignItems:"center",gap:"10px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"14px",textAlign:"left",color:te.is_active?"#f59e0b":"#10b981"},children:[c.jsx(XD,{size:16})," ",te.is_active?"Deactivate":"Activate"]}),c.jsx("div",{style:{borderTop:"1px solid #f3f4f6"}}),c.jsxs("button",{onClick:()=>we(te),style:{width:"100%",padding:"12px 16px",display:"flex",alignItems:"center",gap:"10px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"14px",textAlign:"left",color:"#ef4444"},children:[c.jsx(ll,{size:16})," Delete User"]})]})]}),te.id===t&&c.jsx("span",{style:{color:"#94a3b8",fontSize:"12px"},children:"You"})]})]},te.id))})]})}),_e&&c.jsxs("div",{style:{padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",borderTop:"1px solid #e5e7eb",position:"relative",zIndex:10,backgroundColor:"white"},children:[c.jsxs("p",{style:{fontSize:"13px",color:"#64748b",margin:0},children:["Showing ",ae.length," of ",he.length," users"]}),c.jsxs("button",{onClick:Ne,style:{padding:"10px 24px",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:600,cursor:"pointer"},children:["Load More (",Math.min(k,he.length-ae.length)," more)"]})]}),!_e&&ae.length>0&&c.jsx("div",{style:{padding:"16px",textAlign:"center",borderTop:"1px solid #e5e7eb"},children:c.jsxs("p",{style:{fontSize:"13px",color:"#64748b"},children:["Showing all ",he.length," users"]})})]})}),A&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},children:c.jsxs("div",{style:{backgroundColor:"white",padding:"32px",borderRadius:"20px",width:"100%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[c.jsx("h2",{style:{fontSize:"24px",fontWeight:"800",margin:0},children:"Add New Enterprise User"}),c.jsx("button",{onClick:()=>O(!1),style:{border:"none",backgroundColor:"transparent",cursor:"pointer",color:"#6b7280"},children:c.jsx(Gs,{size:24})})]}),c.jsxs("form",{onSubmit:L,children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Full Name"}),c.jsx("input",{type:"text",required:!0,value:z.full_name,onChange:te=>W({...z,full_name:te.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Employee ID"}),c.jsx("input",{type:"text",placeholder:"EMP000",value:z.employee_id,onChange:te=>W({...z,employee_id:te.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"}})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Email Address"}),c.jsx("input",{type:"email",required:!0,value:z.email,onChange:te=>W({...z,email:te.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Password"}),c.jsx("input",{type:"password",required:!0,value:z.password,onChange:te=>W({...z,password:te.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"}})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Department"}),c.jsxs("select",{value:z.department,onChange:te=>W({...z,department:te.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"},children:[c.jsx("option",{value:"",children:"Select Department"}),c.jsx("option",{value:"Cutting",children:"Cutting"}),c.jsx("option",{value:"Production",children:"Production"}),c.jsx("option",{value:"Quality",children:"Quality"}),c.jsx("option",{value:"Dispatch",children:"Dispatch"})]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Shift"}),c.jsxs("select",{value:z.shift,onChange:te=>W({...z,shift:te.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"},children:[c.jsx("option",{value:"DAY",children:"Day Shift"}),c.jsx("option",{value:"NIGHT",children:"Night Shift"})]})]})]}),c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"System Role"}),c.jsxs("select",{value:z.role,onChange:te=>W({...z,role:te.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"},children:[c.jsx("option",{value:"L1",children:"Operator (L1)"}),c.jsx("option",{value:"L2",children:"Supervisor (L2)"}),c.jsx("option",{value:"L3",children:"Manager (L3)"})]})]}),c.jsxs("div",{style:{display:"flex",gap:"12px"},children:[c.jsx("button",{type:"button",onClick:()=>O(!1),style:{flex:1,padding:"14px",border:"none",borderRadius:"12px",backgroundColor:"#f3f4f6",color:"#4b5563",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),c.jsx("button",{type:"submit",disabled:H,style:{flex:2,padding:"14px",border:"none",borderRadius:"12px",backgroundColor:"#2563eb",color:"white",fontWeight:"600",cursor:H?"not-allowed":"pointer",opacity:H?.7:1},children:H?"Creating...":"Create Enterprise User"})]})]})]})}),T&&I&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},children:c.jsxs("div",{style:{backgroundColor:"white",padding:"32px",borderRadius:"20px",width:"100%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[c.jsx("h2",{style:{fontSize:"24px",fontWeight:"800",margin:0},children:"Edit User"}),c.jsx("button",{onClick:()=>{j(!1),$(null)},style:{border:"none",backgroundColor:"transparent",cursor:"pointer",color:"#6b7280"},children:c.jsx(Gs,{size:24})})]}),c.jsxs("div",{style:{backgroundColor:"#f0f9ff",padding:"16px",borderRadius:"12px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"16px"},children:[c.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:"#2563eb",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"20px",fontWeight:"700"},children:I.full_name.charAt(0).toUpperCase()}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#111827"},children:I.email}),c.jsxs("div",{style:{fontSize:"13px",color:"#6b7280"},children:["User ID: ",I.id.slice(0,8),"..."]})]})]}),c.jsxs("form",{onSubmit:re,children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Full Name"}),c.jsx("input",{type:"text",required:!0,value:Q.full_name,onChange:te=>K({...Q,full_name:te.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Employee ID"}),c.jsx("input",{type:"text",placeholder:"EMP000",value:Q.employee_id,onChange:te=>K({...Q,employee_id:te.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"}})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Department"}),c.jsxs("select",{value:Q.department,onChange:te=>K({...Q,department:te.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"},children:[c.jsx("option",{value:"",children:"Select Department"}),c.jsx("option",{value:"Cutting",children:"Cutting"}),c.jsx("option",{value:"Production",children:"Production"}),c.jsx("option",{value:"Quality",children:"Quality"}),c.jsx("option",{value:"Dispatch",children:"Dispatch"})]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Shift"}),c.jsxs("select",{value:Q.shift,onChange:te=>K({...Q,shift:te.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"},children:[c.jsx("option",{value:"DAY",children:"Day Shift"}),c.jsx("option",{value:"NIGHT",children:"Night Shift"})]})]})]}),c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"System Role"}),c.jsxs("select",{value:Q.role,onChange:te=>K({...Q,role:te.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"},children:[c.jsx("option",{value:"L1",children:"Operator (L1)"}),c.jsx("option",{value:"L2",children:"Supervisor (L2)"}),c.jsx("option",{value:"L3",children:"Manager (L3)"})]})]}),c.jsxs("div",{style:{display:"flex",gap:"12px"},children:[c.jsx("button",{type:"button",onClick:()=>{j(!1),$(null)},style:{flex:1,padding:"14px",border:"none",borderRadius:"12px",backgroundColor:"#f3f4f6",color:"#4b5563",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),c.jsx("button",{type:"submit",disabled:ee,style:{flex:2,padding:"14px",border:"none",borderRadius:"12px",backgroundColor:"#2563eb",color:"white",fontWeight:"600",cursor:ee?"not-allowed":"pointer",opacity:ee?.7:1},children:ee?"Saving...":"Save Changes"})]})]})]})}),E&&I&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},children:c.jsxs("div",{style:{backgroundColor:"white",padding:"32px",borderRadius:"20px",width:"100%",maxWidth:"450px"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[c.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"#fef2f2",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:c.jsx(ll,{size:32,style:{color:"#ef4444"}})}),c.jsx("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#111827",margin:"0 0 8px"},children:"Delete User"}),c.jsxs("p",{style:{color:"#6b7280",fontSize:"14px",margin:0},children:["Are you sure you want to delete ",c.jsx("strong",{children:I.full_name}),"? This action cannot be undone."]})]}),c.jsxs("div",{style:{display:"flex",gap:"12px"},children:[c.jsx("button",{onClick:()=>{P(!1),$(null)},style:{flex:1,padding:"14px",border:"none",borderRadius:"12px",backgroundColor:"#f3f4f6",color:"#4b5563",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),c.jsx("button",{onClick:ie,style:{flex:1,padding:"14px",border:"none",borderRadius:"12px",backgroundColor:"#ef4444",color:"white",fontWeight:"600",cursor:"pointer"},children:"Delete User"})]})]})}),c.jsx("style",{children:`
                @keyframes spin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
            `})]})}const Ov=Zr(),TY="/logo.png",CY=[{id:"dashboard",label:"Dashboard",icon:ID,description:"Overview & KPIs"},{id:"items",label:"Item Master",icon:ur,description:"FG Catalog"},{id:"inventory",label:"Inventory",icon:lD,description:"Multi-Warehouse Stock"},{id:"stock-movements",label:"Stock Movements",icon:oD,description:"Audit Trail"},{id:"orders",label:"Blanket Orders",icon:Xi,description:"Customer Orders"},{id:"releases",label:"Blanket Releases",icon:ol,description:"Delivery Schedule"},{id:"forecast",label:"Forecasting",icon:ul,description:"Demand Prediction"},{id:"planning",label:"MRP Planning",icon:eo,description:"Replenishment"}];function NY(){const[t,e]=M.useState(!1),[r,n]=M.useState(null),[i,o]=M.useState(null),[l,u]=M.useState(null),[d,h]=M.useState("dashboard"),[y,p]=M.useState(!0),[m,v]=M.useState(!0),[S,w]=M.useState(null);M.useEffect(()=>{b();const{data:{subscription:P}}=Ov.auth.onAuthStateChange(async(I,$)=>{console.log("Auth state changed:",I),$?.access_token&&$.user?(n($.access_token),o($.user),e(!0),w(null),A($.user.id)):(n(null),o(null),u(null),e(!1))});return()=>{P.unsubscribe()}},[]);const b=async()=>{try{v(!0);const{data:{session:P},error:I}=await Ov.auth.getSession();if(I){console.error("Session check error:",I),v(!1);return}P?.access_token&&P.user?(console.log(" Session found, setting access token"),n(P.access_token),o(P.user),e(!0),w(null),await A(P.user.id)):(console.log("No active session"),e(!1))}catch(P){console.error("Auth initialization error:",P),w(P instanceof Error?P.message:"Failed to initialize auth"),e(!1)}finally{v(!1)}},k=async(P,I)=>{try{w(null),v(!0);const $=await QM(P,I);return $.error?(w($.error),!1):$.session?.access_token?(console.log(" Login successful"),n($.session.access_token),o($.session.user),e(!0),!0):(w("Login failed: No session received"),!1)}catch($){const V=$ instanceof Error?$.message:"Login failed";return console.error("Login error:",$),w(V),!1}finally{v(!1)}},A=async P=>{console.log(" Fetching role for user:",P);try{const{data:I,error:$}=await Ov.from("profiles").select("role, is_active, email, full_name").eq("id",P).single();if(console.log(" Profile query result:",{data:I,error:$}),$){console.error(" Could not fetch user role:",$),console.error("Error code:",$.code,"Message:",$.message),u("L1");return}I&&I.is_active?(console.log(" User role set to:",I.role),u(I.role)):I&&!I.is_active?(console.warn(" User account is inactive"),u(null),w("Account is inactive. Please contact your administrator."),await R_(),e(!1)):(console.warn(" No profile data found, defaulting to L1"),u("L1"))}catch(I){console.error(" Error fetching user role:",I),u("L1")}},O=async()=>{try{v(!0),await R_(),n(null),o(null),u(null),e(!1),h("dashboard"),w(null)}catch(P){console.error("Logout error:",P),w(P instanceof Error?P.message:"Logout failed")}finally{v(!1)}};if(m&&!t)return c.jsx(_Y,{message:"Initializing System..."});if(!t)return c.jsx(_4,{onLogin:k,isLoading:m,error:S});const T=()=>{if(!r)return c.jsxs("div",{style:{padding:"32px",backgroundColor:"#fee2e2",borderRadius:"12px",display:"flex",alignItems:"center",gap:"12px",color:"#dc2626"},children:[c.jsx(uo,{size:24}),c.jsxs("div",{children:[c.jsx("strong",{children:"Authentication Error:"})," No access token available. Please login again."]})]});switch(d){case"dashboard":return c.jsx(z_,{accessToken:r});case"items":return c.jsx(L4,{});case"inventory":return c.jsx(l3,{});case"stock-movements":return c.jsx(wY,{accessToken:r});case"orders":return c.jsx(u3,{accessToken:r});case"releases":return c.jsx(c3,{accessToken:r});case"forecast":return c.jsx(xY,{accessToken:r});case"planning":return c.jsx(bY,{accessToken:r});case"users":return l!=="L3"?c.jsxs("div",{style:{padding:"32px",backgroundColor:"#fef3c7",borderRadius:"12px",display:"flex",alignItems:"center",gap:"12px",color:"#92400e"},children:[c.jsx(YE,{size:24}),c.jsxs("div",{children:[c.jsx("strong",{children:"Access Denied:"})," Only L3 Managers can access User Management."]})]}):c.jsx(PY,{currentUserId:i?.id||""});default:return c.jsx(z_,{accessToken:r})}},j=()=>{const P=CY;return console.log(" getMenuItems called, userRole:",l),l==="L3"?(console.log(" Adding User Management menu for L3"),[...P,{id:"users",label:"User Management",icon:zv,description:"Manage Users & Roles"}]):P};console.log(" Current userRole state:",l);const E=j().find(P=>P.id===d);return c.jsx(b4,{children:c.jsxs("div",{style:{display:"flex",height:"100vh",overflow:"hidden",backgroundColor:"var(--background-secondary)"},children:[c.jsxs("aside",{style:{width:y?"280px":"0",backgroundColor:"var(--card-background)",borderRight:"1px solid var(--border-color)",display:"flex",flexDirection:"column",transition:"width 300ms ease",overflow:"hidden",boxShadow:"var(--shadow-lg)"},children:[c.jsx("div",{style:{padding:"24px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",backgroundColor:"#1e3a8a"},children:c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[c.jsx("div",{style:{backgroundColor:"white",padding:"16px 20px",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:c.jsx("img",{src:TY,alt:"Autocrat Engineers",style:{width:"100%",height:"auto",display:"block"},onError:P=>{P.currentTarget.style.display="none"}})}),c.jsx("p",{style:{color:"rgba(255, 255, 255, 0.95)",fontSize:"13px",margin:"0",fontWeight:"500",letterSpacing:"0.3px",textAlign:"center"},children:"U.S.A Warehouse Management System"})]})}),c.jsx("nav",{style:{flex:1,overflowY:"auto",padding:"16px 0"},children:j().map(P=>{const I=P.icon,$=d===P.id;return c.jsxs("button",{onClick:()=>h(P.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 24px",border:"none",backgroundColor:$?"rgba(30, 58, 138, 0.08)":"transparent",borderLeft:$?"3px solid var(--enterprise-primary)":"3px solid transparent",color:$?"var(--enterprise-primary)":"var(--enterprise-gray-600)",textAlign:"left",cursor:"pointer",transition:"all 200ms ease",fontWeight:$?"600":"500",fontSize:"14px"},onMouseEnter:V=>{$||(V.currentTarget.style.backgroundColor="var(--enterprise-gray-50)")},onMouseLeave:V=>{$||(V.currentTarget.style.backgroundColor="transparent")},children:[c.jsx(I,{size:20,strokeWidth:$?2.5:2}),c.jsxs("div",{style:{flex:1},children:[c.jsx("div",{children:P.label}),c.jsx("div",{style:{fontSize:"11px",color:"var(--enterprise-gray-500)",fontWeight:"400"},children:P.description})]}),$&&c.jsx(GE,{size:16})]},P.id)})}),c.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid var(--border-color)",backgroundColor:"var(--enterprise-gray-50)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[c.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",backgroundColor:"var(--enterprise-primary)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"13px"},children:i?.email?.charAt(0).toUpperCase()||"U"}),c.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[c.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"var(--enterprise-gray-900)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i?.user_metadata?.name||i?.email||"User"}),c.jsx("div",{style:{fontSize:"11px",color:l==="L3"?"#1e40af":l==="L2"?"#ca8a04":"#6b7280",fontWeight:"600"},children:l==="L3"?"Manager (Admin)":l==="L2"?"Supervisor":"Operator"})]})]}),c.jsxs("button",{onClick:O,disabled:m,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"10px",border:"1px solid var(--border-color)",backgroundColor:m?"#f3f4f6":"white",borderRadius:"var(--border-radius-md)",color:m?"#9ca3af":"var(--enterprise-primary)",fontSize:"13px",fontWeight:"500",cursor:m?"not-allowed":"pointer",transition:"all 200ms ease",opacity:m?.6:1},children:[c.jsx(BD,{size:16}),m?"Signing out...":"Sign Out"]})]})]}),c.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[c.jsxs("header",{style:{height:"70px",backgroundColor:"var(--card-background)",borderBottom:"1px solid var(--border-color)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 32px",boxShadow:"var(--shadow-sm)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[c.jsx("button",{onClick:()=>p(!y),style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",backgroundColor:"transparent",borderRadius:"var(--border-radius-md)",color:"var(--enterprise-gray-600)",cursor:"pointer",transition:"all 200ms ease"},onMouseEnter:P=>{P.currentTarget.style.backgroundColor="var(--enterprise-gray-100)"},onMouseLeave:P=>{P.currentTarget.style.backgroundColor="transparent"},children:y?c.jsx(hD,{size:20}):c.jsx(WD,{size:20})}),E&&c.jsxs("div",{children:[c.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",color:"var(--enterprise-gray-900)",margin:0},children:E.label}),c.jsx("p",{style:{fontSize:"13px",color:"var(--enterprise-gray-500)",margin:0},children:E.description})]})]}),c.jsx("div",{style:{padding:"6px 12px",backgroundColor:"#dcfce7",borderRadius:"var(--border-radius-md)",fontSize:"11px",fontWeight:"600",color:"#15803d",textTransform:"uppercase",letterSpacing:"0.5px"},children:" Authenticated"})]}),c.jsx("main",{style:{flex:1,overflow:"auto",padding:"32px"},children:c.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[S&&c.jsxs("div",{style:{padding:"16px",marginBottom:"24px",backgroundColor:"#fee2e2",borderRadius:"8px",color:"#dc2626",display:"flex",gap:"12px",alignItems:"flex-start"},children:[c.jsx(uo,{size:20,style:{flexShrink:0,marginTop:"2px"}}),c.jsx("div",{children:S})]}),T()]})})]})]})})}vR.createRoot(document.getElementById("root")).render(c.jsx(NY,{}));
