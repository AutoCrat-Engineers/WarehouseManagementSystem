(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sp={exports:{}},Js={},jp={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function _R(){if(d_)return ze;d_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),p=Symbol.iterator;function m(D){return D===null||typeof D!="object"?null:(D=p&&D[p]||D["@@iterator"],typeof D=="function"?D:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function b(D,L,oe){this.props=D,this.context=L,this.refs=w,this.updater=oe||v}b.prototype.isReactComponent={},b.prototype.setState=function(D,L){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,L,"setState")},b.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function k(){}k.prototype=b.prototype;function E(D,L,oe){this.props=D,this.context=L,this.refs=w,this.updater=oe||v}var O=E.prototype=new k;O.constructor=E,_(O,b.prototype),O.isPureReactComponent=!0;var T=Array.isArray,j=Object.prototype.hasOwnProperty,A={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function I(D,L,oe){var fe,pe={},_e=null,Re=null;if(L!=null)for(fe in L.ref!==void 0&&(Re=L.ref),L.key!==void 0&&(_e=""+L.key),L)j.call(L,fe)&&!C.hasOwnProperty(fe)&&(pe[fe]=L[fe]);var Se=arguments.length-2;if(Se===1)pe.children=oe;else if(1<Se){for(var se=Array(Se),Q=0;Q<Se;Q++)se[Q]=arguments[Q+2];pe.children=se}if(D&&D.defaultProps)for(fe in Se=D.defaultProps,Se)pe[fe]===void 0&&(pe[fe]=Se[fe]);return{$$typeof:t,type:D,key:_e,ref:Re,props:pe,_owner:A.current}}function R(D,L){return{$$typeof:t,type:D.type,key:L,ref:D.ref,props:D.props,_owner:D._owner}}function H(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function z(D){var L={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return L[oe]})}var N=/\/+/g;function q(D,L){return typeof D=="object"&&D!==null&&D.key!=null?z(""+D.key):L.toString(36)}function U(D,L,oe,fe,pe){var _e=typeof D;(_e==="undefined"||_e==="boolean")&&(D=null);var Re=!1;if(D===null)Re=!0;else switch(_e){case"string":case"number":Re=!0;break;case"object":switch(D.$$typeof){case t:case e:Re=!0}}if(Re)return Re=D,pe=pe(Re),D=fe===""?"."+q(Re,0):fe,T(pe)?(oe="",D!=null&&(oe=D.replace(N,"$&/")+"/"),U(pe,L,oe,"",function(Q){return Q})):pe!=null&&(H(pe)&&(pe=R(pe,oe+(!pe.key||Re&&Re.key===pe.key?"":(""+pe.key).replace(N,"$&/")+"/")+D)),L.push(pe)),1;if(Re=0,fe=fe===""?".":fe+":",T(D))for(var Se=0;Se<D.length;Se++){_e=D[Se];var se=fe+q(_e,Se);Re+=U(_e,L,oe,se,pe)}else if(se=m(D),typeof se=="function")for(D=se.call(D),Se=0;!(_e=D.next()).done;)_e=_e.value,se=fe+q(_e,Se++),Re+=U(_e,L,oe,se,pe);else if(_e==="object")throw L=String(D),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return Re}function V(D,L,oe){if(D==null)return D;var fe=[],pe=0;return U(D,fe,"","",function(_e){return L.call(oe,_e,pe++)}),fe}function X(D){if(D._status===-1){var L=D._result;L=L(),L.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=L)}if(D._status===1)return D._result.default;throw D._result}var ee={current:null},K={transition:null},te={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:K,ReactCurrentOwner:A};function J(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:V,forEach:function(D,L,oe){V(D,function(){L.apply(this,arguments)},oe)},count:function(D){var L=0;return V(D,function(){L++}),L},toArray:function(D){return V(D,function(L){return L})||[]},only:function(D){if(!H(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},ze.Component=b,ze.Fragment=r,ze.Profiler=i,ze.PureComponent=E,ze.StrictMode=n,ze.Suspense=d,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,ze.act=J,ze.cloneElement=function(D,L,oe){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var fe=_({},D.props),pe=D.key,_e=D.ref,Re=D._owner;if(L!=null){if(L.ref!==void 0&&(_e=L.ref,Re=A.current),L.key!==void 0&&(pe=""+L.key),D.type&&D.type.defaultProps)var Se=D.type.defaultProps;for(se in L)j.call(L,se)&&!C.hasOwnProperty(se)&&(fe[se]=L[se]===void 0&&Se!==void 0?Se[se]:L[se])}var se=arguments.length-2;if(se===1)fe.children=oe;else if(1<se){Se=Array(se);for(var Q=0;Q<se;Q++)Se[Q]=arguments[Q+2];fe.children=Se}return{$$typeof:t,type:D.type,key:pe,ref:_e,props:fe,_owner:Re}},ze.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:o,_context:D},D.Consumer=D},ze.createElement=I,ze.createFactory=function(D){var L=I.bind(null,D);return L.type=D,L},ze.createRef=function(){return{current:null}},ze.forwardRef=function(D){return{$$typeof:u,render:D}},ze.isValidElement=H,ze.lazy=function(D){return{$$typeof:y,_payload:{_status:-1,_result:D},_init:X}},ze.memo=function(D,L){return{$$typeof:h,type:D,compare:L===void 0?null:L}},ze.startTransition=function(D){var L=K.transition;K.transition={};try{D()}finally{K.transition=L}},ze.unstable_act=J,ze.useCallback=function(D,L){return ee.current.useCallback(D,L)},ze.useContext=function(D){return ee.current.useContext(D)},ze.useDebugValue=function(){},ze.useDeferredValue=function(D){return ee.current.useDeferredValue(D)},ze.useEffect=function(D,L){return ee.current.useEffect(D,L)},ze.useId=function(){return ee.current.useId()},ze.useImperativeHandle=function(D,L,oe){return ee.current.useImperativeHandle(D,L,oe)},ze.useInsertionEffect=function(D,L){return ee.current.useInsertionEffect(D,L)},ze.useLayoutEffect=function(D,L){return ee.current.useLayoutEffect(D,L)},ze.useMemo=function(D,L){return ee.current.useMemo(D,L)},ze.useReducer=function(D,L,oe){return ee.current.useReducer(D,L,oe)},ze.useRef=function(D){return ee.current.useRef(D)},ze.useState=function(D){return ee.current.useState(D)},ze.useSyncExternalStore=function(D,L,oe){return ee.current.useSyncExternalStore(D,L,oe)},ze.useTransition=function(){return ee.current.useTransition()},ze.version="18.3.1",ze}var f_;function wx(){return f_||(f_=1,jp.exports=_R()),jp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function SR(){if(h_)return Js;h_=1;var t=wx(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var y,p={},m=null,v=null;h!==void 0&&(m=""+h),d.key!==void 0&&(m=""+d.key),d.ref!==void 0&&(v=d.ref);for(y in d)n.call(d,y)&&!o.hasOwnProperty(y)&&(p[y]=d[y]);if(u&&u.defaultProps)for(y in d=u.defaultProps,d)p[y]===void 0&&(p[y]=d[y]);return{$$typeof:e,type:u,key:m,ref:v,props:p,_owner:i.current}}return Js.Fragment=r,Js.jsx=l,Js.jsxs=l,Js}var p_;function jR(){return p_||(p_=1,Sp.exports=SR()),Sp.exports}var c=jR(),Ic={},kp={exports:{}},yr={},Op={exports:{}},Ep={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function kR(){return y_||(y_=1,(function(t){function e(K,te){var J=K.length;K.push(te);e:for(;0<J;){var D=J-1>>>1,L=K[D];if(0<i(L,te))K[D]=te,K[J]=L,J=D;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var te=K[0],J=K.pop();if(J!==te){K[0]=J;e:for(var D=0,L=K.length,oe=L>>>1;D<oe;){var fe=2*(D+1)-1,pe=K[fe],_e=fe+1,Re=K[_e];if(0>i(pe,J))_e<L&&0>i(Re,pe)?(K[D]=Re,K[_e]=J,D=_e):(K[D]=pe,K[fe]=J,D=fe);else if(_e<L&&0>i(Re,J))K[D]=Re,K[_e]=J,D=_e;else break e}}return te}function i(K,te){var J=K.sortIndex-te.sortIndex;return J!==0?J:K.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],y=1,p=null,m=3,v=!1,_=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(K){for(var te=r(h);te!==null;){if(te.callback===null)n(h);else if(te.startTime<=K)n(h),te.sortIndex=te.expirationTime,e(d,te);else break;te=r(h)}}function T(K){if(w=!1,O(K),!_)if(r(d)!==null)_=!0,X(j);else{var te=r(h);te!==null&&ee(T,te.startTime-K)}}function j(K,te){_=!1,w&&(w=!1,k(I),I=-1),v=!0;var J=m;try{for(O(te),p=r(d);p!==null&&(!(p.expirationTime>te)||K&&!z());){var D=p.callback;if(typeof D=="function"){p.callback=null,m=p.priorityLevel;var L=D(p.expirationTime<=te);te=t.unstable_now(),typeof L=="function"?p.callback=L:p===r(d)&&n(d),O(te)}else n(d);p=r(d)}if(p!==null)var oe=!0;else{var fe=r(h);fe!==null&&ee(T,fe.startTime-te),oe=!1}return oe}finally{p=null,m=J,v=!1}}var A=!1,C=null,I=-1,R=5,H=-1;function z(){return!(t.unstable_now()-H<R)}function N(){if(C!==null){var K=t.unstable_now();H=K;var te=!0;try{te=C(!0,K)}finally{te?q():(A=!1,C=null)}}else A=!1}var q;if(typeof E=="function")q=function(){E(N)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,V=U.port2;U.port1.onmessage=N,q=function(){V.postMessage(null)}}else q=function(){b(N,0)};function X(K){C=K,A||(A=!0,q())}function ee(K,te){I=b(function(){K(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,X(j))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(K){switch(m){case 1:case 2:case 3:var te=3;break;default:te=m}var J=m;m=te;try{return K()}finally{m=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var J=m;m=K;try{return te()}finally{m=J}},t.unstable_scheduleCallback=function(K,te,J){var D=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?D+J:D):J=D,K){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=J+L,K={id:y++,callback:te,priorityLevel:K,startTime:J,expirationTime:L,sortIndex:-1},J>D?(K.sortIndex=J,e(h,K),r(d)===null&&K===r(h)&&(w?(k(I),I=-1):w=!0,ee(T,J-D))):(K.sortIndex=L,e(d,K),_||v||(_=!0,X(j))),K},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(K){var te=m;return function(){var J=m;m=te;try{return K.apply(this,arguments)}finally{m=J}}}})(Ep)),Ep}var g_;function OR(){return g_||(g_=1,Op.exports=kR()),Op.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function ER(){if(m_)return yr;m_=1;var t=wx(),e=OR();function r(a){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(a,s){l(a,s),l(a+"Capture",s)}function l(a,s){for(i[a]=s,a=0;a<s.length;a++)n.add(s[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},p={};function m(a){return d.call(p,a)?!0:d.call(y,a)?!1:h.test(a)?p[a]=!0:(y[a]=!0,!1)}function v(a,s,f,g){if(f!==null&&f.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function _(a,s,f,g){if(s===null||typeof s>"u"||v(a,s,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function w(a,s,f,g,x,S,P){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=f,this.propertyName=a,this.type=s,this.sanitizeURL=S,this.removeEmptyString=P}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){b[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var s=a[0];b[s]=new w(s,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){b[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){b[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){b[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){b[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){b[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){b[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){b[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function E(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var s=a.replace(k,E);b[s]=new w(s,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var s=a.replace(k,E);b[s]=new w(s,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var s=a.replace(k,E);b[s]=new w(s,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){b[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){b[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function O(a,s,f,g){var x=b.hasOwnProperty(s)?b[s]:null;(x!==null?x.type!==0:g||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(_(s,f,x,g)&&(f=null),g||x===null?m(s)&&(f===null?a.removeAttribute(s):a.setAttribute(s,""+f)):x.mustUseProperty?a[x.propertyName]=f===null?x.type===3?!1:"":f:(s=x.attributeName,g=x.attributeNamespace,f===null?a.removeAttribute(s):(x=x.type,f=x===3||x===4&&f===!0?"":""+f,g?a.setAttributeNS(g,s,f):a.setAttribute(s,f))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),z=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),K=Symbol.iterator;function te(a){return a===null||typeof a!="object"?null:(a=K&&a[K]||a["@@iterator"],typeof a=="function"?a:null)}var J=Object.assign,D;function L(a){if(D===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);D=s&&s[1]||""}return`
`+D+a}var oe=!1;function fe(a,s){if(!a||oe)return"";oe=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Z){var g=Z}Reflect.construct(a,[],s)}else{try{s.call()}catch(Z){g=Z}a.call(s.prototype)}else{try{throw Error()}catch(Z){g=Z}a()}}catch(Z){if(Z&&g&&typeof Z.stack=="string"){for(var x=Z.stack.split(`
`),S=g.stack.split(`
`),P=x.length-1,$=S.length-1;1<=P&&0<=$&&x[P]!==S[$];)$--;for(;1<=P&&0<=$;P--,$--)if(x[P]!==S[$]){if(P!==1||$!==1)do if(P--,$--,0>$||x[P]!==S[$]){var B=`
`+x[P].replace(" at new "," at ");return a.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",a.displayName)),B}while(1<=P&&0<=$);break}}}finally{oe=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?L(a):""}function pe(a){switch(a.tag){case 5:return L(a.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return a=fe(a.type,!1),a;case 11:return a=fe(a.type.render,!1),a;case 1:return a=fe(a.type,!0),a;default:return""}}function _e(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case C:return"Fragment";case A:return"Portal";case R:return"Profiler";case I:return"StrictMode";case q:return"Suspense";case U:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case z:return(a.displayName||"Context")+".Consumer";case H:return(a._context.displayName||"Context")+".Provider";case N:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case V:return s=a.displayName||null,s!==null?s:_e(a.type)||"Memo";case X:s=a._payload,a=a._init;try{return _e(a(s))}catch{}}return null}function Re(a){var s=a.type;switch(a.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=s.render,a=a.displayName||a.name||"",s.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Se(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function se(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Q(a){var s=se(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),g=""+a[s];if(!a.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,S=f.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return x.call(this)},set:function(P){g=""+P,S.call(this,P)}}),Object.defineProperty(a,s,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(P){g=""+P},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function ye(a){a._valueTracker||(a._valueTracker=Q(a))}function ie(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var f=s.getValue(),g="";return a&&(g=se(a)?a.checked?"true":"false":a.value),a=g,a!==f?(s.setValue(a),!0):!1}function re(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function ke(a,s){var f=s.checked;return J({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??a._wrapperState.initialChecked})}function $e(a,s){var f=s.defaultValue==null?"":s.defaultValue,g=s.checked!=null?s.checked:s.defaultChecked;f=Se(s.value!=null?s.value:f),a._wrapperState={initialChecked:g,initialValue:f,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ke(a,s){s=s.checked,s!=null&&O(a,"checked",s,!1)}function it(a,s){Ke(a,s);var f=Se(s.value),g=s.type;if(f!=null)g==="number"?(f===0&&a.value===""||a.value!=f)&&(a.value=""+f):a.value!==""+f&&(a.value=""+f);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}s.hasOwnProperty("value")?Rr(a,s.type,f):s.hasOwnProperty("defaultValue")&&Rr(a,s.type,Se(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(a.defaultChecked=!!s.defaultChecked)}function ct(a,s,f){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var g=s.type;if(!(g!=="submit"&&g!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+a._wrapperState.initialValue,f||s===a.value||(a.value=s),a.defaultValue=s}f=a.name,f!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,f!==""&&(a.name=f)}function Rr(a,s,f){(s!=="number"||re(a.ownerDocument)!==a)&&(f==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+f&&(a.defaultValue=""+f))}var Gt=Array.isArray;function Yt(a,s,f,g){if(a=a.options,s){s={};for(var x=0;x<f.length;x++)s["$"+f[x]]=!0;for(f=0;f<a.length;f++)x=s.hasOwnProperty("$"+a[f].value),a[f].selected!==x&&(a[f].selected=x),x&&g&&(a[f].defaultSelected=!0)}else{for(f=""+Se(f),s=null,x=0;x<a.length;x++){if(a[x].value===f){a[x].selected=!0,g&&(a[x].defaultSelected=!0);return}s!==null||a[x].disabled||(s=a[x])}s!==null&&(s.selected=!0)}}function _r(a,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return J({},s,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function di(a,s){var f=s.value;if(f==null){if(f=s.children,s=s.defaultValue,f!=null){if(s!=null)throw Error(r(92));if(Gt(f)){if(1<f.length)throw Error(r(93));f=f[0]}s=f}s==null&&(s=""),f=s}a._wrapperState={initialValue:Se(f)}}function Ki(a,s){var f=Se(s.value),g=Se(s.defaultValue);f!=null&&(f=""+f,f!==a.value&&(a.value=f),s.defaultValue==null&&a.defaultValue!==f&&(a.defaultValue=f)),g!=null&&(a.defaultValue=""+g)}function Gi(a){var s=a.textContent;s===a._wrapperState.initialValue&&s!==""&&s!==null&&(a.value=s)}function _u(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ps(a,s){return a==null||a==="http://www.w3.org/1999/xhtml"?_u(s):a==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ma,Su=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,f,g,x){MSApp.execUnsafeLocalFunction(function(){return a(s,f,g,x)})}:a})(function(a,s){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=s;else{for(Ma=Ma||document.createElement("div"),Ma.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ma.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;s.firstChild;)a.appendChild(s.firstChild)}});function gn(a,s){if(s){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=s;return}}a.textContent=s}var Mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ae=["Webkit","ms","Moz","O"];Object.keys(Mr).forEach(function(a){ae.forEach(function(s){s=s+a.charAt(0).toUpperCase()+a.substring(1),Mr[s]=Mr[a]})});function De(a,s,f){return s==null||typeof s=="boolean"||s===""?"":f||typeof s!="number"||s===0||Mr.hasOwnProperty(a)&&Mr[a]?(""+s).trim():s+"px"}function Ye(a,s){a=a.style;for(var f in s)if(s.hasOwnProperty(f)){var g=f.indexOf("--")===0,x=De(f,s[f],g);f==="float"&&(f="cssFloat"),g?a.setProperty(f,x):a[f]=x}}var vt=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nr(a,s){if(s){if(vt[a]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function Je(a,s){if(a.indexOf("-")===-1)return typeof s.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $r=null;function qe(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var _t=null,Qr=null,Nn=null;function ur(a){if(a=$s(a)){if(typeof _t!="function")throw Error(r(280));var s=a.stateNode;s&&(s=Vu(s),_t(a.stateNode,a.type,s))}}function mn(a){Qr?Nn?Nn.push(a):Nn=[a]:Qr=a}function $a(){if(Qr){var a=Qr,s=Nn;if(Nn=Qr=null,ur(a),s)for(a=0;a<s.length;a++)ur(s[a])}}function Pb(a,s){return a(s)}function Ib(){}var Bf=!1;function Nb(a,s,f){if(Bf)return a(s,f);Bf=!0;try{return Pb(a,s,f)}finally{Bf=!1,(Qr!==null||Nn!==null)&&(Ib(),$a())}}function ys(a,s){var f=a.stateNode;if(f===null)return null;var g=Vu(f);if(g===null)return null;f=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(r(231,s,typeof f));return f}var qf=!1;if(u)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){qf=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{qf=!1}function AI(a,s,f,g,x,S,P,$,B){var Z=Array.prototype.slice.call(arguments,3);try{s.apply(f,Z)}catch(ue){this.onError(ue)}}var ms=!1,ju=null,ku=!1,Uf=null,TI={onError:function(a){ms=!0,ju=a}};function CI(a,s,f,g,x,S,P,$,B){ms=!1,ju=null,AI.apply(TI,arguments)}function PI(a,s,f,g,x,S,P,$,B){if(CI.apply(this,arguments),ms){if(ms){var Z=ju;ms=!1,ju=null}else throw Error(r(198));ku||(ku=!0,Uf=Z)}}function Yi(a){var s=a,f=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(f=s.return),a=s.return;while(a)}return s.tag===3?f:null}function Rb(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function Mb(a){if(Yi(a)!==a)throw Error(r(188))}function II(a){var s=a.alternate;if(!s){if(s=Yi(a),s===null)throw Error(r(188));return s!==a?null:a}for(var f=a,g=s;;){var x=f.return;if(x===null)break;var S=x.alternate;if(S===null){if(g=x.return,g!==null){f=g;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===f)return Mb(x),a;if(S===g)return Mb(x),s;S=S.sibling}throw Error(r(188))}if(f.return!==g.return)f=x,g=S;else{for(var P=!1,$=x.child;$;){if($===f){P=!0,f=x,g=S;break}if($===g){P=!0,g=x,f=S;break}$=$.sibling}if(!P){for($=S.child;$;){if($===f){P=!0,f=S,g=x;break}if($===g){P=!0,g=S,f=x;break}$=$.sibling}if(!P)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?a:s}function $b(a){return a=II(a),a!==null?Db(a):null}function Db(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var s=Db(a);if(s!==null)return s;a=a.sibling}return null}var Lb=e.unstable_scheduleCallback,zb=e.unstable_cancelCallback,NI=e.unstable_shouldYield,RI=e.unstable_requestPaint,xt=e.unstable_now,MI=e.unstable_getCurrentPriorityLevel,Ff=e.unstable_ImmediatePriority,Bb=e.unstable_UserBlockingPriority,Ou=e.unstable_NormalPriority,$I=e.unstable_LowPriority,qb=e.unstable_IdlePriority,Eu=null,vn=null;function DI(a){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(Eu,a,void 0,(a.current.flags&128)===128)}catch{}}var Zr=Math.clz32?Math.clz32:BI,LI=Math.log,zI=Math.LN2;function BI(a){return a>>>=0,a===0?32:31-(LI(a)/zI|0)|0}var Au=64,Tu=4194304;function vs(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Cu(a,s){var f=a.pendingLanes;if(f===0)return 0;var g=0,x=a.suspendedLanes,S=a.pingedLanes,P=f&268435455;if(P!==0){var $=P&~x;$!==0?g=vs($):(S&=P,S!==0&&(g=vs(S)))}else P=f&~x,P!==0?g=vs(P):S!==0&&(g=vs(S));if(g===0)return 0;if(s!==0&&s!==g&&(s&x)===0&&(x=g&-g,S=s&-s,x>=S||x===16&&(S&4194240)!==0))return s;if((g&4)!==0&&(g|=f&16),s=a.entangledLanes,s!==0)for(a=a.entanglements,s&=g;0<s;)f=31-Zr(s),x=1<<f,g|=a[f],s&=~x;return g}function qI(a,s){switch(a){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UI(a,s){for(var f=a.suspendedLanes,g=a.pingedLanes,x=a.expirationTimes,S=a.pendingLanes;0<S;){var P=31-Zr(S),$=1<<P,B=x[P];B===-1?(($&f)===0||($&g)!==0)&&(x[P]=qI($,s)):B<=s&&(a.expiredLanes|=$),S&=~$}}function Wf(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Ub(){var a=Au;return Au<<=1,(Au&4194240)===0&&(Au=64),a}function Hf(a){for(var s=[],f=0;31>f;f++)s.push(a);return s}function xs(a,s,f){a.pendingLanes|=s,s!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,s=31-Zr(s),a[s]=f}function FI(a,s){var f=a.pendingLanes&~s;a.pendingLanes=s,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=s,a.mutableReadLanes&=s,a.entangledLanes&=s,s=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<f;){var x=31-Zr(f),S=1<<x;s[x]=0,g[x]=-1,a[x]=-1,f&=~S}}function Vf(a,s){var f=a.entangledLanes|=s;for(a=a.entanglements;f;){var g=31-Zr(f),x=1<<g;x&s|a[g]&s&&(a[g]|=s),f&=~x}}var Ge=0;function Fb(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Wb,Kf,Hb,Vb,Kb,Gf=!1,Pu=[],fi=null,hi=null,pi=null,bs=new Map,ws=new Map,yi=[],WI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gb(a,s){switch(a){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":bs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(s.pointerId)}}function _s(a,s,f,g,x,S){return a===null||a.nativeEvent!==S?(a={blockedOn:s,domEventName:f,eventSystemFlags:g,nativeEvent:S,targetContainers:[x]},s!==null&&(s=$s(s),s!==null&&Kf(s)),a):(a.eventSystemFlags|=g,s=a.targetContainers,x!==null&&s.indexOf(x)===-1&&s.push(x),a)}function HI(a,s,f,g,x){switch(s){case"focusin":return fi=_s(fi,a,s,f,g,x),!0;case"dragenter":return hi=_s(hi,a,s,f,g,x),!0;case"mouseover":return pi=_s(pi,a,s,f,g,x),!0;case"pointerover":var S=x.pointerId;return bs.set(S,_s(bs.get(S)||null,a,s,f,g,x)),!0;case"gotpointercapture":return S=x.pointerId,ws.set(S,_s(ws.get(S)||null,a,s,f,g,x)),!0}return!1}function Yb(a){var s=Xi(a.target);if(s!==null){var f=Yi(s);if(f!==null){if(s=f.tag,s===13){if(s=Rb(f),s!==null){a.blockedOn=s,Kb(a.priority,function(){Hb(f)});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Iu(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var f=Xf(a.domEventName,a.eventSystemFlags,s[0],a.nativeEvent);if(f===null){f=a.nativeEvent;var g=new f.constructor(f.type,f);$r=g,f.target.dispatchEvent(g),$r=null}else return s=$s(f),s!==null&&Kf(s),a.blockedOn=f,!1;s.shift()}return!0}function Xb(a,s,f){Iu(a)&&f.delete(s)}function VI(){Gf=!1,fi!==null&&Iu(fi)&&(fi=null),hi!==null&&Iu(hi)&&(hi=null),pi!==null&&Iu(pi)&&(pi=null),bs.forEach(Xb),ws.forEach(Xb)}function Ss(a,s){a.blockedOn===s&&(a.blockedOn=null,Gf||(Gf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,VI)))}function js(a){function s(x){return Ss(x,a)}if(0<Pu.length){Ss(Pu[0],a);for(var f=1;f<Pu.length;f++){var g=Pu[f];g.blockedOn===a&&(g.blockedOn=null)}}for(fi!==null&&Ss(fi,a),hi!==null&&Ss(hi,a),pi!==null&&Ss(pi,a),bs.forEach(s),ws.forEach(s),f=0;f<yi.length;f++)g=yi[f],g.blockedOn===a&&(g.blockedOn=null);for(;0<yi.length&&(f=yi[0],f.blockedOn===null);)Yb(f),f.blockedOn===null&&yi.shift()}var Da=T.ReactCurrentBatchConfig,Nu=!0;function KI(a,s,f,g){var x=Ge,S=Da.transition;Da.transition=null;try{Ge=1,Yf(a,s,f,g)}finally{Ge=x,Da.transition=S}}function GI(a,s,f,g){var x=Ge,S=Da.transition;Da.transition=null;try{Ge=4,Yf(a,s,f,g)}finally{Ge=x,Da.transition=S}}function Yf(a,s,f,g){if(Nu){var x=Xf(a,s,f,g);if(x===null)hh(a,s,g,Ru,f),Gb(a,g);else if(HI(x,a,s,f,g))g.stopPropagation();else if(Gb(a,g),s&4&&-1<WI.indexOf(a)){for(;x!==null;){var S=$s(x);if(S!==null&&Wb(S),S=Xf(a,s,f,g),S===null&&hh(a,s,g,Ru,f),S===x)break;x=S}x!==null&&g.stopPropagation()}else hh(a,s,g,null,f)}}var Ru=null;function Xf(a,s,f,g){if(Ru=null,a=qe(g),a=Xi(a),a!==null)if(s=Yi(a),s===null)a=null;else if(f=s.tag,f===13){if(a=Rb(s),a!==null)return a;a=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null);return Ru=a,null}function Jb(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MI()){case Ff:return 1;case Bb:return 4;case Ou:case $I:return 16;case qb:return 536870912;default:return 16}default:return 16}}var gi=null,Jf=null,Mu=null;function Qb(){if(Mu)return Mu;var a,s=Jf,f=s.length,g,x="value"in gi?gi.value:gi.textContent,S=x.length;for(a=0;a<f&&s[a]===x[a];a++);var P=f-a;for(g=1;g<=P&&s[f-g]===x[S-g];g++);return Mu=x.slice(a,1<g?1-g:void 0)}function $u(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Du(){return!0}function Zb(){return!1}function Sr(a){function s(f,g,x,S,P){this._reactName=f,this._targetInst=x,this.type=g,this.nativeEvent=S,this.target=P,this.currentTarget=null;for(var $ in a)a.hasOwnProperty($)&&(f=a[$],this[$]=f?f(S):S[$]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Du:Zb,this.isPropagationStopped=Zb,this}return J(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),s}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qf=Sr(La),ks=J({},La,{view:0,detail:0}),YI=Sr(ks),Zf,eh,Os,Lu=J({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Os&&(Os&&a.type==="mousemove"?(Zf=a.screenX-Os.screenX,eh=a.screenY-Os.screenY):eh=Zf=0,Os=a),Zf)},movementY:function(a){return"movementY"in a?a.movementY:eh}}),ew=Sr(Lu),XI=J({},Lu,{dataTransfer:0}),JI=Sr(XI),QI=J({},ks,{relatedTarget:0}),th=Sr(QI),ZI=J({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),eN=Sr(ZI),tN=J({},La,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),rN=Sr(tN),nN=J({},La,{data:0}),tw=Sr(nN),iN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sN(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=oN[a])?!!s[a]:!1}function rh(){return sN}var lN=J({},ks,{key:function(a){if(a.key){var s=iN[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=$u(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?aN[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rh,charCode:function(a){return a.type==="keypress"?$u(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?$u(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),uN=Sr(lN),cN=J({},Lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rw=Sr(cN),dN=J({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rh}),fN=Sr(dN),hN=J({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),pN=Sr(hN),yN=J({},Lu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),gN=Sr(yN),mN=[9,13,27,32],nh=u&&"CompositionEvent"in window,Es=null;u&&"documentMode"in document&&(Es=document.documentMode);var vN=u&&"TextEvent"in window&&!Es,nw=u&&(!nh||Es&&8<Es&&11>=Es),iw=" ",aw=!1;function ow(a,s){switch(a){case"keyup":return mN.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var za=!1;function xN(a,s){switch(a){case"compositionend":return sw(s);case"keypress":return s.which!==32?null:(aw=!0,iw);case"textInput":return a=s.data,a===iw&&aw?null:a;default:return null}}function bN(a,s){if(za)return a==="compositionend"||!nh&&ow(a,s)?(a=Qb(),Mu=Jf=gi=null,za=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return nw&&s.locale!=="ko"?null:s.data;default:return null}}var wN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lw(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!wN[a.type]:s==="textarea"}function uw(a,s,f,g){mn(g),s=Fu(s,"onChange"),0<s.length&&(f=new Qf("onChange","change",null,f,g),a.push({event:f,listeners:s}))}var As=null,Ts=null;function _N(a){Ew(a,0)}function zu(a){var s=Wa(a);if(ie(s))return a}function SN(a,s){if(a==="change")return s}var cw=!1;if(u){var ih;if(u){var ah="oninput"in document;if(!ah){var dw=document.createElement("div");dw.setAttribute("oninput","return;"),ah=typeof dw.oninput=="function"}ih=ah}else ih=!1;cw=ih&&(!document.documentMode||9<document.documentMode)}function fw(){As&&(As.detachEvent("onpropertychange",hw),Ts=As=null)}function hw(a){if(a.propertyName==="value"&&zu(Ts)){var s=[];uw(s,Ts,a,qe(a)),Nb(_N,s)}}function jN(a,s,f){a==="focusin"?(fw(),As=s,Ts=f,As.attachEvent("onpropertychange",hw)):a==="focusout"&&fw()}function kN(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return zu(Ts)}function ON(a,s){if(a==="click")return zu(s)}function EN(a,s){if(a==="input"||a==="change")return zu(s)}function AN(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var en=typeof Object.is=="function"?Object.is:AN;function Cs(a,s){if(en(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var f=Object.keys(a),g=Object.keys(s);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var x=f[g];if(!d.call(s,x)||!en(a[x],s[x]))return!1}return!0}function pw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function yw(a,s){var f=pw(a);a=0;for(var g;f;){if(f.nodeType===3){if(g=a+f.textContent.length,a<=s&&g>=s)return{node:f,offset:s-a};a=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=pw(f)}}function gw(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?gw(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function mw(){for(var a=window,s=re();s instanceof a.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)a=s.contentWindow;else break;s=re(a.document)}return s}function oh(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}function TN(a){var s=mw(),f=a.focusedElem,g=a.selectionRange;if(s!==f&&f&&f.ownerDocument&&gw(f.ownerDocument.documentElement,f)){if(g!==null&&oh(f)){if(s=g.start,a=g.end,a===void 0&&(a=s),"selectionStart"in f)f.selectionStart=s,f.selectionEnd=Math.min(a,f.value.length);else if(a=(s=f.ownerDocument||document)&&s.defaultView||window,a.getSelection){a=a.getSelection();var x=f.textContent.length,S=Math.min(g.start,x);g=g.end===void 0?S:Math.min(g.end,x),!a.extend&&S>g&&(x=g,g=S,S=x),x=yw(f,S);var P=yw(f,g);x&&P&&(a.rangeCount!==1||a.anchorNode!==x.node||a.anchorOffset!==x.offset||a.focusNode!==P.node||a.focusOffset!==P.offset)&&(s=s.createRange(),s.setStart(x.node,x.offset),a.removeAllRanges(),S>g?(a.addRange(s),a.extend(P.node,P.offset)):(s.setEnd(P.node,P.offset),a.addRange(s)))}}for(s=[],a=f;a=a.parentNode;)a.nodeType===1&&s.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<s.length;f++)a=s[f],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var CN=u&&"documentMode"in document&&11>=document.documentMode,Ba=null,sh=null,Ps=null,lh=!1;function vw(a,s,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;lh||Ba==null||Ba!==re(g)||(g=Ba,"selectionStart"in g&&oh(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ps&&Cs(Ps,g)||(Ps=g,g=Fu(sh,"onSelect"),0<g.length&&(s=new Qf("onSelect","select",null,s,f),a.push({event:s,listeners:g}),s.target=Ba)))}function Bu(a,s){var f={};return f[a.toLowerCase()]=s.toLowerCase(),f["Webkit"+a]="webkit"+s,f["Moz"+a]="moz"+s,f}var qa={animationend:Bu("Animation","AnimationEnd"),animationiteration:Bu("Animation","AnimationIteration"),animationstart:Bu("Animation","AnimationStart"),transitionend:Bu("Transition","TransitionEnd")},uh={},xw={};u&&(xw=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function qu(a){if(uh[a])return uh[a];if(!qa[a])return a;var s=qa[a],f;for(f in s)if(s.hasOwnProperty(f)&&f in xw)return uh[a]=s[f];return a}var bw=qu("animationend"),ww=qu("animationiteration"),_w=qu("animationstart"),Sw=qu("transitionend"),jw=new Map,kw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(a,s){jw.set(a,s),o(s,[a])}for(var ch=0;ch<kw.length;ch++){var dh=kw[ch],PN=dh.toLowerCase(),IN=dh[0].toUpperCase()+dh.slice(1);mi(PN,"on"+IN)}mi(bw,"onAnimationEnd"),mi(ww,"onAnimationIteration"),mi(_w,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(Sw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function Ow(a,s,f){var g=a.type||"unknown-event";a.currentTarget=f,PI(g,s,void 0,a),a.currentTarget=null}function Ew(a,s){s=(s&4)!==0;for(var f=0;f<a.length;f++){var g=a[f],x=g.event;g=g.listeners;e:{var S=void 0;if(s)for(var P=g.length-1;0<=P;P--){var $=g[P],B=$.instance,Z=$.currentTarget;if($=$.listener,B!==S&&x.isPropagationStopped())break e;Ow(x,$,Z),S=B}else for(P=0;P<g.length;P++){if($=g[P],B=$.instance,Z=$.currentTarget,$=$.listener,B!==S&&x.isPropagationStopped())break e;Ow(x,$,Z),S=B}}}if(ku)throw a=Uf,ku=!1,Uf=null,a}function at(a,s){var f=s[xh];f===void 0&&(f=s[xh]=new Set);var g=a+"__bubble";f.has(g)||(Aw(s,a,2,!1),f.add(g))}function fh(a,s,f){var g=0;s&&(g|=4),Aw(f,a,g,s)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Ns(a){if(!a[Uu]){a[Uu]=!0,n.forEach(function(f){f!=="selectionchange"&&(NN.has(f)||fh(f,!1,a),fh(f,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Uu]||(s[Uu]=!0,fh("selectionchange",!1,s))}}function Aw(a,s,f,g){switch(Jb(s)){case 1:var x=KI;break;case 4:x=GI;break;default:x=Yf}f=x.bind(null,s,f,a),x=void 0,!qf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(x=!0),g?x!==void 0?a.addEventListener(s,f,{capture:!0,passive:x}):a.addEventListener(s,f,!0):x!==void 0?a.addEventListener(s,f,{passive:x}):a.addEventListener(s,f,!1)}function hh(a,s,f,g,x){var S=g;if((s&1)===0&&(s&2)===0&&g!==null)e:for(;;){if(g===null)return;var P=g.tag;if(P===3||P===4){var $=g.stateNode.containerInfo;if($===x||$.nodeType===8&&$.parentNode===x)break;if(P===4)for(P=g.return;P!==null;){var B=P.tag;if((B===3||B===4)&&(B=P.stateNode.containerInfo,B===x||B.nodeType===8&&B.parentNode===x))return;P=P.return}for(;$!==null;){if(P=Xi($),P===null)return;if(B=P.tag,B===5||B===6){g=S=P;continue e}$=$.parentNode}}g=g.return}Nb(function(){var Z=S,ue=qe(f),ce=[];e:{var le=jw.get(a);if(le!==void 0){var ge=Qf,xe=a;switch(a){case"keypress":if($u(f)===0)break e;case"keydown":case"keyup":ge=uN;break;case"focusin":xe="focus",ge=th;break;case"focusout":xe="blur",ge=th;break;case"beforeblur":case"afterblur":ge=th;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=ew;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=JI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=fN;break;case bw:case ww:case _w:ge=eN;break;case Sw:ge=pN;break;case"scroll":ge=YI;break;case"wheel":ge=gN;break;case"copy":case"cut":case"paste":ge=rN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=rw}var be=(s&4)!==0,bt=!be&&a==="scroll",G=be?le!==null?le+"Capture":null:le;be=[];for(var W=Z,Y;W!==null;){Y=W;var de=Y.stateNode;if(Y.tag===5&&de!==null&&(Y=de,G!==null&&(de=ys(W,G),de!=null&&be.push(Rs(W,de,Y)))),bt)break;W=W.return}0<be.length&&(le=new ge(le,xe,null,f,ue),ce.push({event:le,listeners:be}))}}if((s&7)===0){e:{if(le=a==="mouseover"||a==="pointerover",ge=a==="mouseout"||a==="pointerout",le&&f!==$r&&(xe=f.relatedTarget||f.fromElement)&&(Xi(xe)||xe[Rn]))break e;if((ge||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,ge?(xe=f.relatedTarget||f.toElement,ge=Z,xe=xe?Xi(xe):null,xe!==null&&(bt=Yi(xe),xe!==bt||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(ge=null,xe=Z),ge!==xe)){if(be=ew,de="onMouseLeave",G="onMouseEnter",W="mouse",(a==="pointerout"||a==="pointerover")&&(be=rw,de="onPointerLeave",G="onPointerEnter",W="pointer"),bt=ge==null?le:Wa(ge),Y=xe==null?le:Wa(xe),le=new be(de,W+"leave",ge,f,ue),le.target=bt,le.relatedTarget=Y,de=null,Xi(ue)===Z&&(be=new be(G,W+"enter",xe,f,ue),be.target=Y,be.relatedTarget=bt,de=be),bt=de,ge&&xe)t:{for(be=ge,G=xe,W=0,Y=be;Y;Y=Ua(Y))W++;for(Y=0,de=G;de;de=Ua(de))Y++;for(;0<W-Y;)be=Ua(be),W--;for(;0<Y-W;)G=Ua(G),Y--;for(;W--;){if(be===G||G!==null&&be===G.alternate)break t;be=Ua(be),G=Ua(G)}be=null}else be=null;ge!==null&&Tw(ce,le,ge,be,!1),xe!==null&&bt!==null&&Tw(ce,bt,xe,be,!0)}}e:{if(le=Z?Wa(Z):window,ge=le.nodeName&&le.nodeName.toLowerCase(),ge==="select"||ge==="input"&&le.type==="file")var we=SN;else if(lw(le))if(cw)we=EN;else{we=kN;var Oe=jN}else(ge=le.nodeName)&&ge.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(we=ON);if(we&&(we=we(a,Z))){uw(ce,we,f,ue);break e}Oe&&Oe(a,le,Z),a==="focusout"&&(Oe=le._wrapperState)&&Oe.controlled&&le.type==="number"&&Rr(le,"number",le.value)}switch(Oe=Z?Wa(Z):window,a){case"focusin":(lw(Oe)||Oe.contentEditable==="true")&&(Ba=Oe,sh=Z,Ps=null);break;case"focusout":Ps=sh=Ba=null;break;case"mousedown":lh=!0;break;case"contextmenu":case"mouseup":case"dragend":lh=!1,vw(ce,f,ue);break;case"selectionchange":if(CN)break;case"keydown":case"keyup":vw(ce,f,ue)}var Ee;if(nh)e:{switch(a){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else za?ow(a,f)&&(Ie="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(Ie="onCompositionStart");Ie&&(nw&&f.locale!=="ko"&&(za||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&za&&(Ee=Qb()):(gi=ue,Jf="value"in gi?gi.value:gi.textContent,za=!0)),Oe=Fu(Z,Ie),0<Oe.length&&(Ie=new tw(Ie,a,null,f,ue),ce.push({event:Ie,listeners:Oe}),Ee?Ie.data=Ee:(Ee=sw(f),Ee!==null&&(Ie.data=Ee)))),(Ee=vN?xN(a,f):bN(a,f))&&(Z=Fu(Z,"onBeforeInput"),0<Z.length&&(ue=new tw("onBeforeInput","beforeinput",null,f,ue),ce.push({event:ue,listeners:Z}),ue.data=Ee))}Ew(ce,s)})}function Rs(a,s,f){return{instance:a,listener:s,currentTarget:f}}function Fu(a,s){for(var f=s+"Capture",g=[];a!==null;){var x=a,S=x.stateNode;x.tag===5&&S!==null&&(x=S,S=ys(a,f),S!=null&&g.unshift(Rs(a,S,x)),S=ys(a,s),S!=null&&g.push(Rs(a,S,x))),a=a.return}return g}function Ua(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Tw(a,s,f,g,x){for(var S=s._reactName,P=[];f!==null&&f!==g;){var $=f,B=$.alternate,Z=$.stateNode;if(B!==null&&B===g)break;$.tag===5&&Z!==null&&($=Z,x?(B=ys(f,S),B!=null&&P.unshift(Rs(f,B,$))):x||(B=ys(f,S),B!=null&&P.push(Rs(f,B,$)))),f=f.return}P.length!==0&&a.push({event:s,listeners:P})}var RN=/\r\n?/g,MN=/\u0000|\uFFFD/g;function Cw(a){return(typeof a=="string"?a:""+a).replace(RN,`
`).replace(MN,"")}function Wu(a,s,f){if(s=Cw(s),Cw(a)!==s&&f)throw Error(r(425))}function Hu(){}var ph=null,yh=null;function gh(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mh=typeof setTimeout=="function"?setTimeout:void 0,$N=typeof clearTimeout=="function"?clearTimeout:void 0,Pw=typeof Promise=="function"?Promise:void 0,DN=typeof queueMicrotask=="function"?queueMicrotask:typeof Pw<"u"?function(a){return Pw.resolve(null).then(a).catch(LN)}:mh;function LN(a){setTimeout(function(){throw a})}function vh(a,s){var f=s,g=0;do{var x=f.nextSibling;if(a.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(g===0){a.removeChild(x),js(s);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=x}while(f);js(s)}function vi(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return a}function Iw(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(s===0)return a;s--}else f==="/$"&&s++}a=a.previousSibling}return null}var Fa=Math.random().toString(36).slice(2),xn="__reactFiber$"+Fa,Ms="__reactProps$"+Fa,Rn="__reactContainer$"+Fa,xh="__reactEvents$"+Fa,zN="__reactListeners$"+Fa,BN="__reactHandles$"+Fa;function Xi(a){var s=a[xn];if(s)return s;for(var f=a.parentNode;f;){if(s=f[Rn]||f[xn]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(a=Iw(a);a!==null;){if(f=a[xn])return f;a=Iw(a)}return s}a=f,f=a.parentNode}return null}function $s(a){return a=a[xn]||a[Rn],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Wa(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function Vu(a){return a[Ms]||null}var bh=[],Ha=-1;function xi(a){return{current:a}}function ot(a){0>Ha||(a.current=bh[Ha],bh[Ha]=null,Ha--)}function et(a,s){Ha++,bh[Ha]=a.current,a.current=s}var bi={},Xt=xi(bi),cr=xi(!1),Ji=bi;function Va(a,s){var f=a.type.contextTypes;if(!f)return bi;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===s)return g.__reactInternalMemoizedMaskedChildContext;var x={},S;for(S in f)x[S]=s[S];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=s,a.__reactInternalMemoizedMaskedChildContext=x),x}function dr(a){return a=a.childContextTypes,a!=null}function Ku(){ot(cr),ot(Xt)}function Nw(a,s,f){if(Xt.current!==bi)throw Error(r(168));et(Xt,s),et(cr,f)}function Rw(a,s,f){var g=a.stateNode;if(s=s.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var x in g)if(!(x in s))throw Error(r(108,Re(a)||"Unknown",x));return J({},f,g)}function Gu(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||bi,Ji=Xt.current,et(Xt,a),et(cr,cr.current),!0}function Mw(a,s,f){var g=a.stateNode;if(!g)throw Error(r(169));f?(a=Rw(a,s,Ji),g.__reactInternalMemoizedMergedChildContext=a,ot(cr),ot(Xt),et(Xt,a)):ot(cr),et(cr,f)}var Mn=null,Yu=!1,wh=!1;function $w(a){Mn===null?Mn=[a]:Mn.push(a)}function qN(a){Yu=!0,$w(a)}function wi(){if(!wh&&Mn!==null){wh=!0;var a=0,s=Ge;try{var f=Mn;for(Ge=1;a<f.length;a++){var g=f[a];do g=g(!0);while(g!==null)}Mn=null,Yu=!1}catch(x){throw Mn!==null&&(Mn=Mn.slice(a+1)),Lb(Ff,wi),x}finally{Ge=s,wh=!1}}return null}var Ka=[],Ga=0,Xu=null,Ju=0,Dr=[],Lr=0,Qi=null,$n=1,Dn="";function Zi(a,s){Ka[Ga++]=Ju,Ka[Ga++]=Xu,Xu=a,Ju=s}function Dw(a,s,f){Dr[Lr++]=$n,Dr[Lr++]=Dn,Dr[Lr++]=Qi,Qi=a;var g=$n;a=Dn;var x=32-Zr(g)-1;g&=~(1<<x),f+=1;var S=32-Zr(s)+x;if(30<S){var P=x-x%5;S=(g&(1<<P)-1).toString(32),g>>=P,x-=P,$n=1<<32-Zr(s)+x|f<<x|g,Dn=S+a}else $n=1<<S|f<<x|g,Dn=a}function _h(a){a.return!==null&&(Zi(a,1),Dw(a,1,0))}function Sh(a){for(;a===Xu;)Xu=Ka[--Ga],Ka[Ga]=null,Ju=Ka[--Ga],Ka[Ga]=null;for(;a===Qi;)Qi=Dr[--Lr],Dr[Lr]=null,Dn=Dr[--Lr],Dr[Lr]=null,$n=Dr[--Lr],Dr[Lr]=null}var jr=null,kr=null,lt=!1,tn=null;function Lw(a,s){var f=Ur(5,null,null,0);f.elementType="DELETED",f.stateNode=s,f.return=a,s=a.deletions,s===null?(a.deletions=[f],a.flags|=16):s.push(f)}function zw(a,s){switch(a.tag){case 5:var f=a.type;return s=s.nodeType!==1||f.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(a.stateNode=s,jr=a,kr=vi(s.firstChild),!0):!1;case 6:return s=a.pendingProps===""||s.nodeType!==3?null:s,s!==null?(a.stateNode=s,jr=a,kr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(f=Qi!==null?{id:$n,overflow:Dn}:null,a.memoizedState={dehydrated:s,treeContext:f,retryLane:1073741824},f=Ur(18,null,null,0),f.stateNode=s,f.return=a,a.child=f,jr=a,kr=null,!0):!1;default:return!1}}function jh(a){return(a.mode&1)!==0&&(a.flags&128)===0}function kh(a){if(lt){var s=kr;if(s){var f=s;if(!zw(a,s)){if(jh(a))throw Error(r(418));s=vi(f.nextSibling);var g=jr;s&&zw(a,s)?Lw(g,f):(a.flags=a.flags&-4097|2,lt=!1,jr=a)}}else{if(jh(a))throw Error(r(418));a.flags=a.flags&-4097|2,lt=!1,jr=a}}}function Bw(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;jr=a}function Qu(a){if(a!==jr)return!1;if(!lt)return Bw(a),lt=!0,!1;var s;if((s=a.tag!==3)&&!(s=a.tag!==5)&&(s=a.type,s=s!=="head"&&s!=="body"&&!gh(a.type,a.memoizedProps)),s&&(s=kr)){if(jh(a))throw qw(),Error(r(418));for(;s;)Lw(a,s),s=vi(s.nextSibling)}if(Bw(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"){if(s===0){kr=vi(a.nextSibling);break e}s--}else f!=="$"&&f!=="$!"&&f!=="$?"||s++}a=a.nextSibling}kr=null}}else kr=jr?vi(a.stateNode.nextSibling):null;return!0}function qw(){for(var a=kr;a;)a=vi(a.nextSibling)}function Ya(){kr=jr=null,lt=!1}function Oh(a){tn===null?tn=[a]:tn.push(a)}var UN=T.ReactCurrentBatchConfig;function Ds(a,s,f){if(a=f.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var g=f.stateNode}if(!g)throw Error(r(147,a));var x=g,S=""+a;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===S?s.ref:(s=function(P){var $=x.refs;P===null?delete $[S]:$[S]=P},s._stringRef=S,s)}if(typeof a!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,a))}return a}function Zu(a,s){throw a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a))}function Uw(a){var s=a._init;return s(a._payload)}function Fw(a){function s(G,W){if(a){var Y=G.deletions;Y===null?(G.deletions=[W],G.flags|=16):Y.push(W)}}function f(G,W){if(!a)return null;for(;W!==null;)s(G,W),W=W.sibling;return null}function g(G,W){for(G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function x(G,W){return G=Ti(G,W),G.index=0,G.sibling=null,G}function S(G,W,Y){return G.index=Y,a?(Y=G.alternate,Y!==null?(Y=Y.index,Y<W?(G.flags|=2,W):Y):(G.flags|=2,W)):(G.flags|=1048576,W)}function P(G){return a&&G.alternate===null&&(G.flags|=2),G}function $(G,W,Y,de){return W===null||W.tag!==6?(W=mp(Y,G.mode,de),W.return=G,W):(W=x(W,Y),W.return=G,W)}function B(G,W,Y,de){var we=Y.type;return we===C?ue(G,W,Y.props.children,de,Y.key):W!==null&&(W.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===X&&Uw(we)===W.type)?(de=x(W,Y.props),de.ref=Ds(G,W,Y),de.return=G,de):(de=Sc(Y.type,Y.key,Y.props,null,G.mode,de),de.ref=Ds(G,W,Y),de.return=G,de)}function Z(G,W,Y,de){return W===null||W.tag!==4||W.stateNode.containerInfo!==Y.containerInfo||W.stateNode.implementation!==Y.implementation?(W=vp(Y,G.mode,de),W.return=G,W):(W=x(W,Y.children||[]),W.return=G,W)}function ue(G,W,Y,de,we){return W===null||W.tag!==7?(W=sa(Y,G.mode,de,we),W.return=G,W):(W=x(W,Y),W.return=G,W)}function ce(G,W,Y){if(typeof W=="string"&&W!==""||typeof W=="number")return W=mp(""+W,G.mode,Y),W.return=G,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case j:return Y=Sc(W.type,W.key,W.props,null,G.mode,Y),Y.ref=Ds(G,null,W),Y.return=G,Y;case A:return W=vp(W,G.mode,Y),W.return=G,W;case X:var de=W._init;return ce(G,de(W._payload),Y)}if(Gt(W)||te(W))return W=sa(W,G.mode,Y,null),W.return=G,W;Zu(G,W)}return null}function le(G,W,Y,de){var we=W!==null?W.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return we!==null?null:$(G,W,""+Y,de);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:return Y.key===we?B(G,W,Y,de):null;case A:return Y.key===we?Z(G,W,Y,de):null;case X:return we=Y._init,le(G,W,we(Y._payload),de)}if(Gt(Y)||te(Y))return we!==null?null:ue(G,W,Y,de,null);Zu(G,Y)}return null}function ge(G,W,Y,de,we){if(typeof de=="string"&&de!==""||typeof de=="number")return G=G.get(Y)||null,$(W,G,""+de,we);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case j:return G=G.get(de.key===null?Y:de.key)||null,B(W,G,de,we);case A:return G=G.get(de.key===null?Y:de.key)||null,Z(W,G,de,we);case X:var Oe=de._init;return ge(G,W,Y,Oe(de._payload),we)}if(Gt(de)||te(de))return G=G.get(Y)||null,ue(W,G,de,we,null);Zu(W,de)}return null}function xe(G,W,Y,de){for(var we=null,Oe=null,Ee=W,Ie=W=0,Dt=null;Ee!==null&&Ie<Y.length;Ie++){Ee.index>Ie?(Dt=Ee,Ee=null):Dt=Ee.sibling;var Fe=le(G,Ee,Y[Ie],de);if(Fe===null){Ee===null&&(Ee=Dt);break}a&&Ee&&Fe.alternate===null&&s(G,Ee),W=S(Fe,W,Ie),Oe===null?we=Fe:Oe.sibling=Fe,Oe=Fe,Ee=Dt}if(Ie===Y.length)return f(G,Ee),lt&&Zi(G,Ie),we;if(Ee===null){for(;Ie<Y.length;Ie++)Ee=ce(G,Y[Ie],de),Ee!==null&&(W=S(Ee,W,Ie),Oe===null?we=Ee:Oe.sibling=Ee,Oe=Ee);return lt&&Zi(G,Ie),we}for(Ee=g(G,Ee);Ie<Y.length;Ie++)Dt=ge(Ee,G,Ie,Y[Ie],de),Dt!==null&&(a&&Dt.alternate!==null&&Ee.delete(Dt.key===null?Ie:Dt.key),W=S(Dt,W,Ie),Oe===null?we=Dt:Oe.sibling=Dt,Oe=Dt);return a&&Ee.forEach(function(Ci){return s(G,Ci)}),lt&&Zi(G,Ie),we}function be(G,W,Y,de){var we=te(Y);if(typeof we!="function")throw Error(r(150));if(Y=we.call(Y),Y==null)throw Error(r(151));for(var Oe=we=null,Ee=W,Ie=W=0,Dt=null,Fe=Y.next();Ee!==null&&!Fe.done;Ie++,Fe=Y.next()){Ee.index>Ie?(Dt=Ee,Ee=null):Dt=Ee.sibling;var Ci=le(G,Ee,Fe.value,de);if(Ci===null){Ee===null&&(Ee=Dt);break}a&&Ee&&Ci.alternate===null&&s(G,Ee),W=S(Ci,W,Ie),Oe===null?we=Ci:Oe.sibling=Ci,Oe=Ci,Ee=Dt}if(Fe.done)return f(G,Ee),lt&&Zi(G,Ie),we;if(Ee===null){for(;!Fe.done;Ie++,Fe=Y.next())Fe=ce(G,Fe.value,de),Fe!==null&&(W=S(Fe,W,Ie),Oe===null?we=Fe:Oe.sibling=Fe,Oe=Fe);return lt&&Zi(G,Ie),we}for(Ee=g(G,Ee);!Fe.done;Ie++,Fe=Y.next())Fe=ge(Ee,G,Ie,Fe.value,de),Fe!==null&&(a&&Fe.alternate!==null&&Ee.delete(Fe.key===null?Ie:Fe.key),W=S(Fe,W,Ie),Oe===null?we=Fe:Oe.sibling=Fe,Oe=Fe);return a&&Ee.forEach(function(wR){return s(G,wR)}),lt&&Zi(G,Ie),we}function bt(G,W,Y,de){if(typeof Y=="object"&&Y!==null&&Y.type===C&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:e:{for(var we=Y.key,Oe=W;Oe!==null;){if(Oe.key===we){if(we=Y.type,we===C){if(Oe.tag===7){f(G,Oe.sibling),W=x(Oe,Y.props.children),W.return=G,G=W;break e}}else if(Oe.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===X&&Uw(we)===Oe.type){f(G,Oe.sibling),W=x(Oe,Y.props),W.ref=Ds(G,Oe,Y),W.return=G,G=W;break e}f(G,Oe);break}else s(G,Oe);Oe=Oe.sibling}Y.type===C?(W=sa(Y.props.children,G.mode,de,Y.key),W.return=G,G=W):(de=Sc(Y.type,Y.key,Y.props,null,G.mode,de),de.ref=Ds(G,W,Y),de.return=G,G=de)}return P(G);case A:e:{for(Oe=Y.key;W!==null;){if(W.key===Oe)if(W.tag===4&&W.stateNode.containerInfo===Y.containerInfo&&W.stateNode.implementation===Y.implementation){f(G,W.sibling),W=x(W,Y.children||[]),W.return=G,G=W;break e}else{f(G,W);break}else s(G,W);W=W.sibling}W=vp(Y,G.mode,de),W.return=G,G=W}return P(G);case X:return Oe=Y._init,bt(G,W,Oe(Y._payload),de)}if(Gt(Y))return xe(G,W,Y,de);if(te(Y))return be(G,W,Y,de);Zu(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,W!==null&&W.tag===6?(f(G,W.sibling),W=x(W,Y),W.return=G,G=W):(f(G,W),W=mp(Y,G.mode,de),W.return=G,G=W),P(G)):f(G,W)}return bt}var Xa=Fw(!0),Ww=Fw(!1),ec=xi(null),tc=null,Ja=null,Eh=null;function Ah(){Eh=Ja=tc=null}function Th(a){var s=ec.current;ot(ec),a._currentValue=s}function Ch(a,s,f){for(;a!==null;){var g=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),a===f)break;a=a.return}}function Qa(a,s){tc=a,Eh=Ja=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&s)!==0&&(fr=!0),a.firstContext=null)}function zr(a){var s=a._currentValue;if(Eh!==a)if(a={context:a,memoizedValue:s,next:null},Ja===null){if(tc===null)throw Error(r(308));Ja=a,tc.dependencies={lanes:0,firstContext:a}}else Ja=Ja.next=a;return s}var ea=null;function Ph(a){ea===null?ea=[a]:ea.push(a)}function Hw(a,s,f,g){var x=s.interleaved;return x===null?(f.next=f,Ph(s)):(f.next=x.next,x.next=f),s.interleaved=f,Ln(a,g)}function Ln(a,s){a.lanes|=s;var f=a.alternate;for(f!==null&&(f.lanes|=s),f=a,a=a.return;a!==null;)a.childLanes|=s,f=a.alternate,f!==null&&(f.childLanes|=s),f=a,a=a.return;return f.tag===3?f.stateNode:null}var _i=!1;function Ih(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vw(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function zn(a,s){return{eventTime:a,lane:s,tag:0,payload:null,callback:null,next:null}}function Si(a,s,f){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Ue&2)!==0){var x=g.pending;return x===null?s.next=s:(s.next=x.next,x.next=s),g.pending=s,Ln(a,f)}return x=g.interleaved,x===null?(s.next=s,Ph(g)):(s.next=x.next,x.next=s),g.interleaved=s,Ln(a,f)}function rc(a,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194240)!==0)){var g=s.lanes;g&=a.pendingLanes,f|=g,s.lanes=f,Vf(a,f)}}function Kw(a,s){var f=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var x=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var P={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};S===null?x=S=P:S=S.next=P,f=f.next}while(f!==null);S===null?x=S=s:S=S.next=s}else x=S=s;f={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:g.shared,effects:g.effects},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=s:a.next=s,f.lastBaseUpdate=s}function nc(a,s,f,g){var x=a.updateQueue;_i=!1;var S=x.firstBaseUpdate,P=x.lastBaseUpdate,$=x.shared.pending;if($!==null){x.shared.pending=null;var B=$,Z=B.next;B.next=null,P===null?S=Z:P.next=Z,P=B;var ue=a.alternate;ue!==null&&(ue=ue.updateQueue,$=ue.lastBaseUpdate,$!==P&&($===null?ue.firstBaseUpdate=Z:$.next=Z,ue.lastBaseUpdate=B))}if(S!==null){var ce=x.baseState;P=0,ue=Z=B=null,$=S;do{var le=$.lane,ge=$.eventTime;if((g&le)===le){ue!==null&&(ue=ue.next={eventTime:ge,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var xe=a,be=$;switch(le=s,ge=f,be.tag){case 1:if(xe=be.payload,typeof xe=="function"){ce=xe.call(ge,ce,le);break e}ce=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=be.payload,le=typeof xe=="function"?xe.call(ge,ce,le):xe,le==null)break e;ce=J({},ce,le);break e;case 2:_i=!0}}$.callback!==null&&$.lane!==0&&(a.flags|=64,le=x.effects,le===null?x.effects=[$]:le.push($))}else ge={eventTime:ge,lane:le,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ue===null?(Z=ue=ge,B=ce):ue=ue.next=ge,P|=le;if($=$.next,$===null){if($=x.shared.pending,$===null)break;le=$,$=le.next,le.next=null,x.lastBaseUpdate=le,x.shared.pending=null}}while(!0);if(ue===null&&(B=ce),x.baseState=B,x.firstBaseUpdate=Z,x.lastBaseUpdate=ue,s=x.shared.interleaved,s!==null){x=s;do P|=x.lane,x=x.next;while(x!==s)}else S===null&&(x.shared.lanes=0);na|=P,a.lanes=P,a.memoizedState=ce}}function Gw(a,s,f){if(a=s.effects,s.effects=null,a!==null)for(s=0;s<a.length;s++){var g=a[s],x=g.callback;if(x!==null){if(g.callback=null,g=f,typeof x!="function")throw Error(r(191,x));x.call(g)}}}var Ls={},bn=xi(Ls),zs=xi(Ls),Bs=xi(Ls);function ta(a){if(a===Ls)throw Error(r(174));return a}function Nh(a,s){switch(et(Bs,s),et(zs,a),et(bn,Ls),a=s.nodeType,a){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ps(null,"");break;default:a=a===8?s.parentNode:s,s=a.namespaceURI||null,a=a.tagName,s=ps(s,a)}ot(bn),et(bn,s)}function Za(){ot(bn),ot(zs),ot(Bs)}function Yw(a){ta(Bs.current);var s=ta(bn.current),f=ps(s,a.type);s!==f&&(et(zs,a),et(bn,f))}function Rh(a){zs.current===a&&(ot(bn),ot(zs))}var dt=xi(0);function ic(a){for(var s=a;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Mh=[];function $h(){for(var a=0;a<Mh.length;a++)Mh[a]._workInProgressVersionPrimary=null;Mh.length=0}var ac=T.ReactCurrentDispatcher,Dh=T.ReactCurrentBatchConfig,ra=0,ft=null,Et=null,Mt=null,oc=!1,qs=!1,Us=0,FN=0;function Jt(){throw Error(r(321))}function Lh(a,s){if(s===null)return!1;for(var f=0;f<s.length&&f<a.length;f++)if(!en(a[f],s[f]))return!1;return!0}function zh(a,s,f,g,x,S){if(ra=S,ft=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ac.current=a===null||a.memoizedState===null?KN:GN,a=f(g,x),qs){S=0;do{if(qs=!1,Us=0,25<=S)throw Error(r(301));S+=1,Mt=Et=null,s.updateQueue=null,ac.current=YN,a=f(g,x)}while(qs)}if(ac.current=uc,s=Et!==null&&Et.next!==null,ra=0,Mt=Et=ft=null,oc=!1,s)throw Error(r(300));return a}function Bh(){var a=Us!==0;return Us=0,a}function wn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ft.memoizedState=Mt=a:Mt=Mt.next=a,Mt}function Br(){if(Et===null){var a=ft.alternate;a=a!==null?a.memoizedState:null}else a=Et.next;var s=Mt===null?ft.memoizedState:Mt.next;if(s!==null)Mt=s,Et=a;else{if(a===null)throw Error(r(310));Et=a,a={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Mt===null?ft.memoizedState=Mt=a:Mt=Mt.next=a}return Mt}function Fs(a,s){return typeof s=="function"?s(a):s}function qh(a){var s=Br(),f=s.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var g=Et,x=g.baseQueue,S=f.pending;if(S!==null){if(x!==null){var P=x.next;x.next=S.next,S.next=P}g.baseQueue=x=S,f.pending=null}if(x!==null){S=x.next,g=g.baseState;var $=P=null,B=null,Z=S;do{var ue=Z.lane;if((ra&ue)===ue)B!==null&&(B=B.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),g=Z.hasEagerState?Z.eagerState:a(g,Z.action);else{var ce={lane:ue,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};B===null?($=B=ce,P=g):B=B.next=ce,ft.lanes|=ue,na|=ue}Z=Z.next}while(Z!==null&&Z!==S);B===null?P=g:B.next=$,en(g,s.memoizedState)||(fr=!0),s.memoizedState=g,s.baseState=P,s.baseQueue=B,f.lastRenderedState=g}if(a=f.interleaved,a!==null){x=a;do S=x.lane,ft.lanes|=S,na|=S,x=x.next;while(x!==a)}else x===null&&(f.lanes=0);return[s.memoizedState,f.dispatch]}function Uh(a){var s=Br(),f=s.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var g=f.dispatch,x=f.pending,S=s.memoizedState;if(x!==null){f.pending=null;var P=x=x.next;do S=a(S,P.action),P=P.next;while(P!==x);en(S,s.memoizedState)||(fr=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),f.lastRenderedState=S}return[S,g]}function Xw(){}function Jw(a,s){var f=ft,g=Br(),x=s(),S=!en(g.memoizedState,x);if(S&&(g.memoizedState=x,fr=!0),g=g.queue,Fh(e1.bind(null,f,g,a),[a]),g.getSnapshot!==s||S||Mt!==null&&Mt.memoizedState.tag&1){if(f.flags|=2048,Ws(9,Zw.bind(null,f,g,x,s),void 0,null),$t===null)throw Error(r(349));(ra&30)!==0||Qw(f,s,x)}return x}function Qw(a,s,f){a.flags|=16384,a={getSnapshot:s,value:f},s=ft.updateQueue,s===null?(s={lastEffect:null,stores:null},ft.updateQueue=s,s.stores=[a]):(f=s.stores,f===null?s.stores=[a]:f.push(a))}function Zw(a,s,f,g){s.value=f,s.getSnapshot=g,t1(s)&&r1(a)}function e1(a,s,f){return f(function(){t1(s)&&r1(a)})}function t1(a){var s=a.getSnapshot;a=a.value;try{var f=s();return!en(a,f)}catch{return!0}}function r1(a){var s=Ln(a,1);s!==null&&on(s,a,1,-1)}function n1(a){var s=wn();return typeof a=="function"&&(a=a()),s.memoizedState=s.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:a},s.queue=a,a=a.dispatch=VN.bind(null,ft,a),[s.memoizedState,a]}function Ws(a,s,f,g){return a={tag:a,create:s,destroy:f,deps:g,next:null},s=ft.updateQueue,s===null?(s={lastEffect:null,stores:null},ft.updateQueue=s,s.lastEffect=a.next=a):(f=s.lastEffect,f===null?s.lastEffect=a.next=a:(g=f.next,f.next=a,a.next=g,s.lastEffect=a)),a}function i1(){return Br().memoizedState}function sc(a,s,f,g){var x=wn();ft.flags|=a,x.memoizedState=Ws(1|s,f,void 0,g===void 0?null:g)}function lc(a,s,f,g){var x=Br();g=g===void 0?null:g;var S=void 0;if(Et!==null){var P=Et.memoizedState;if(S=P.destroy,g!==null&&Lh(g,P.deps)){x.memoizedState=Ws(s,f,S,g);return}}ft.flags|=a,x.memoizedState=Ws(1|s,f,S,g)}function a1(a,s){return sc(8390656,8,a,s)}function Fh(a,s){return lc(2048,8,a,s)}function o1(a,s){return lc(4,2,a,s)}function s1(a,s){return lc(4,4,a,s)}function l1(a,s){if(typeof s=="function")return a=a(),s(a),function(){s(null)};if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function u1(a,s,f){return f=f!=null?f.concat([a]):null,lc(4,4,l1.bind(null,s,a),f)}function Wh(){}function c1(a,s){var f=Br();s=s===void 0?null:s;var g=f.memoizedState;return g!==null&&s!==null&&Lh(s,g[1])?g[0]:(f.memoizedState=[a,s],a)}function d1(a,s){var f=Br();s=s===void 0?null:s;var g=f.memoizedState;return g!==null&&s!==null&&Lh(s,g[1])?g[0]:(a=a(),f.memoizedState=[a,s],a)}function f1(a,s,f){return(ra&21)===0?(a.baseState&&(a.baseState=!1,fr=!0),a.memoizedState=f):(en(f,s)||(f=Ub(),ft.lanes|=f,na|=f,a.baseState=!0),s)}function WN(a,s){var f=Ge;Ge=f!==0&&4>f?f:4,a(!0);var g=Dh.transition;Dh.transition={};try{a(!1),s()}finally{Ge=f,Dh.transition=g}}function h1(){return Br().memoizedState}function HN(a,s,f){var g=Ei(a);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},p1(a))y1(s,f);else if(f=Hw(a,s,f,g),f!==null){var x=ar();on(f,a,g,x),g1(f,s,g)}}function VN(a,s,f){var g=Ei(a),x={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(p1(a))y1(s,x);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var P=s.lastRenderedState,$=S(P,f);if(x.hasEagerState=!0,x.eagerState=$,en($,P)){var B=s.interleaved;B===null?(x.next=x,Ph(s)):(x.next=B.next,B.next=x),s.interleaved=x;return}}catch{}finally{}f=Hw(a,s,x,g),f!==null&&(x=ar(),on(f,a,g,x),g1(f,s,g))}}function p1(a){var s=a.alternate;return a===ft||s!==null&&s===ft}function y1(a,s){qs=oc=!0;var f=a.pending;f===null?s.next=s:(s.next=f.next,f.next=s),a.pending=s}function g1(a,s,f){if((f&4194240)!==0){var g=s.lanes;g&=a.pendingLanes,f|=g,s.lanes=f,Vf(a,f)}}var uc={readContext:zr,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},KN={readContext:zr,useCallback:function(a,s){return wn().memoizedState=[a,s===void 0?null:s],a},useContext:zr,useEffect:a1,useImperativeHandle:function(a,s,f){return f=f!=null?f.concat([a]):null,sc(4194308,4,l1.bind(null,s,a),f)},useLayoutEffect:function(a,s){return sc(4194308,4,a,s)},useInsertionEffect:function(a,s){return sc(4,2,a,s)},useMemo:function(a,s){var f=wn();return s=s===void 0?null:s,a=a(),f.memoizedState=[a,s],a},useReducer:function(a,s,f){var g=wn();return s=f!==void 0?f(s):s,g.memoizedState=g.baseState=s,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:s},g.queue=a,a=a.dispatch=HN.bind(null,ft,a),[g.memoizedState,a]},useRef:function(a){var s=wn();return a={current:a},s.memoizedState=a},useState:n1,useDebugValue:Wh,useDeferredValue:function(a){return wn().memoizedState=a},useTransition:function(){var a=n1(!1),s=a[0];return a=WN.bind(null,a[1]),wn().memoizedState=a,[s,a]},useMutableSource:function(){},useSyncExternalStore:function(a,s,f){var g=ft,x=wn();if(lt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=s(),$t===null)throw Error(r(349));(ra&30)!==0||Qw(g,s,f)}x.memoizedState=f;var S={value:f,getSnapshot:s};return x.queue=S,a1(e1.bind(null,g,S,a),[a]),g.flags|=2048,Ws(9,Zw.bind(null,g,S,f,s),void 0,null),f},useId:function(){var a=wn(),s=$t.identifierPrefix;if(lt){var f=Dn,g=$n;f=(g&~(1<<32-Zr(g)-1)).toString(32)+f,s=":"+s+"R"+f,f=Us++,0<f&&(s+="H"+f.toString(32)),s+=":"}else f=FN++,s=":"+s+"r"+f.toString(32)+":";return a.memoizedState=s},unstable_isNewReconciler:!1},GN={readContext:zr,useCallback:c1,useContext:zr,useEffect:Fh,useImperativeHandle:u1,useInsertionEffect:o1,useLayoutEffect:s1,useMemo:d1,useReducer:qh,useRef:i1,useState:function(){return qh(Fs)},useDebugValue:Wh,useDeferredValue:function(a){var s=Br();return f1(s,Et.memoizedState,a)},useTransition:function(){var a=qh(Fs)[0],s=Br().memoizedState;return[a,s]},useMutableSource:Xw,useSyncExternalStore:Jw,useId:h1,unstable_isNewReconciler:!1},YN={readContext:zr,useCallback:c1,useContext:zr,useEffect:Fh,useImperativeHandle:u1,useInsertionEffect:o1,useLayoutEffect:s1,useMemo:d1,useReducer:Uh,useRef:i1,useState:function(){return Uh(Fs)},useDebugValue:Wh,useDeferredValue:function(a){var s=Br();return Et===null?s.memoizedState=a:f1(s,Et.memoizedState,a)},useTransition:function(){var a=Uh(Fs)[0],s=Br().memoizedState;return[a,s]},useMutableSource:Xw,useSyncExternalStore:Jw,useId:h1,unstable_isNewReconciler:!1};function rn(a,s){if(a&&a.defaultProps){s=J({},s),a=a.defaultProps;for(var f in a)s[f]===void 0&&(s[f]=a[f]);return s}return s}function Hh(a,s,f,g){s=a.memoizedState,f=f(g,s),f=f==null?s:J({},s,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var cc={isMounted:function(a){return(a=a._reactInternals)?Yi(a)===a:!1},enqueueSetState:function(a,s,f){a=a._reactInternals;var g=ar(),x=Ei(a),S=zn(g,x);S.payload=s,f!=null&&(S.callback=f),s=Si(a,S,x),s!==null&&(on(s,a,x,g),rc(s,a,x))},enqueueReplaceState:function(a,s,f){a=a._reactInternals;var g=ar(),x=Ei(a),S=zn(g,x);S.tag=1,S.payload=s,f!=null&&(S.callback=f),s=Si(a,S,x),s!==null&&(on(s,a,x,g),rc(s,a,x))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var f=ar(),g=Ei(a),x=zn(f,g);x.tag=2,s!=null&&(x.callback=s),s=Si(a,x,g),s!==null&&(on(s,a,g,f),rc(s,a,g))}};function m1(a,s,f,g,x,S,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,S,P):s.prototype&&s.prototype.isPureReactComponent?!Cs(f,g)||!Cs(x,S):!0}function v1(a,s,f){var g=!1,x=bi,S=s.contextType;return typeof S=="object"&&S!==null?S=zr(S):(x=dr(s)?Ji:Xt.current,g=s.contextTypes,S=(g=g!=null)?Va(a,x):bi),s=new s(f,S),a.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=cc,a.stateNode=s,s._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=x,a.__reactInternalMemoizedMaskedChildContext=S),s}function x1(a,s,f,g){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,g),s.state!==a&&cc.enqueueReplaceState(s,s.state,null)}function Vh(a,s,f,g){var x=a.stateNode;x.props=f,x.state=a.memoizedState,x.refs={},Ih(a);var S=s.contextType;typeof S=="object"&&S!==null?x.context=zr(S):(S=dr(s)?Ji:Xt.current,x.context=Va(a,S)),x.state=a.memoizedState,S=s.getDerivedStateFromProps,typeof S=="function"&&(Hh(a,s,S,f),x.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(s=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),s!==x.state&&cc.enqueueReplaceState(x,x.state,null),nc(a,f,x,g),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308)}function eo(a,s){try{var f="",g=s;do f+=pe(g),g=g.return;while(g);var x=f}catch(S){x=`
Error generating stack: `+S.message+`
`+S.stack}return{value:a,source:s,stack:x,digest:null}}function Kh(a,s,f){return{value:a,source:null,stack:f??null,digest:s??null}}function Gh(a,s){try{console.error(s.value)}catch(f){setTimeout(function(){throw f})}}var XN=typeof WeakMap=="function"?WeakMap:Map;function b1(a,s,f){f=zn(-1,f),f.tag=3,f.payload={element:null};var g=s.value;return f.callback=function(){mc||(mc=!0,up=g),Gh(a,s)},f}function w1(a,s,f){f=zn(-1,f),f.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var x=s.value;f.payload=function(){return g(x)},f.callback=function(){Gh(a,s)}}var S=a.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(f.callback=function(){Gh(a,s),typeof g!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var P=s.stack;this.componentDidCatch(s.value,{componentStack:P!==null?P:""})}),f}function _1(a,s,f){var g=a.pingCache;if(g===null){g=a.pingCache=new XN;var x=new Set;g.set(s,x)}else x=g.get(s),x===void 0&&(x=new Set,g.set(s,x));x.has(f)||(x.add(f),a=cR.bind(null,a,s,f),s.then(a,a))}function S1(a){do{var s;if((s=a.tag===13)&&(s=a.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return a;a=a.return}while(a!==null);return null}function j1(a,s,f,g,x){return(a.mode&1)===0?(a===s?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(s=zn(-1,1),s.tag=2,Si(f,s,1))),f.lanes|=1),a):(a.flags|=65536,a.lanes=x,a)}var JN=T.ReactCurrentOwner,fr=!1;function ir(a,s,f,g){s.child=a===null?Ww(s,null,f,g):Xa(s,a.child,f,g)}function k1(a,s,f,g,x){f=f.render;var S=s.ref;return Qa(s,x),g=zh(a,s,f,g,S,x),f=Bh(),a!==null&&!fr?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~x,Bn(a,s,x)):(lt&&f&&_h(s),s.flags|=1,ir(a,s,g,x),s.child)}function O1(a,s,f,g,x){if(a===null){var S=f.type;return typeof S=="function"&&!gp(S)&&S.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(s.tag=15,s.type=S,E1(a,s,S,g,x)):(a=Sc(f.type,null,g,s,s.mode,x),a.ref=s.ref,a.return=s,s.child=a)}if(S=a.child,(a.lanes&x)===0){var P=S.memoizedProps;if(f=f.compare,f=f!==null?f:Cs,f(P,g)&&a.ref===s.ref)return Bn(a,s,x)}return s.flags|=1,a=Ti(S,g),a.ref=s.ref,a.return=s,s.child=a}function E1(a,s,f,g,x){if(a!==null){var S=a.memoizedProps;if(Cs(S,g)&&a.ref===s.ref)if(fr=!1,s.pendingProps=g=S,(a.lanes&x)!==0)(a.flags&131072)!==0&&(fr=!0);else return s.lanes=a.lanes,Bn(a,s,x)}return Yh(a,s,f,g,x)}function A1(a,s,f){var g=s.pendingProps,x=g.children,S=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(ro,Or),Or|=f;else{if((f&1073741824)===0)return a=S!==null?S.baseLanes|f:f,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:a,cachePool:null,transitions:null},s.updateQueue=null,et(ro,Or),Or|=a,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:f,et(ro,Or),Or|=g}else S!==null?(g=S.baseLanes|f,s.memoizedState=null):g=f,et(ro,Or),Or|=g;return ir(a,s,x,f),s.child}function T1(a,s){var f=s.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(s.flags|=512,s.flags|=2097152)}function Yh(a,s,f,g,x){var S=dr(f)?Ji:Xt.current;return S=Va(s,S),Qa(s,x),f=zh(a,s,f,g,S,x),g=Bh(),a!==null&&!fr?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~x,Bn(a,s,x)):(lt&&g&&_h(s),s.flags|=1,ir(a,s,f,x),s.child)}function C1(a,s,f,g,x){if(dr(f)){var S=!0;Gu(s)}else S=!1;if(Qa(s,x),s.stateNode===null)fc(a,s),v1(s,f,g),Vh(s,f,g,x),g=!0;else if(a===null){var P=s.stateNode,$=s.memoizedProps;P.props=$;var B=P.context,Z=f.contextType;typeof Z=="object"&&Z!==null?Z=zr(Z):(Z=dr(f)?Ji:Xt.current,Z=Va(s,Z));var ue=f.getDerivedStateFromProps,ce=typeof ue=="function"||typeof P.getSnapshotBeforeUpdate=="function";ce||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||($!==g||B!==Z)&&x1(s,P,g,Z),_i=!1;var le=s.memoizedState;P.state=le,nc(s,g,P,x),B=s.memoizedState,$!==g||le!==B||cr.current||_i?(typeof ue=="function"&&(Hh(s,f,ue,g),B=s.memoizedState),($=_i||m1(s,f,$,g,le,B,Z))?(ce||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(s.flags|=4194308)):(typeof P.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=B),P.props=g,P.state=B,P.context=Z,g=$):(typeof P.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{P=s.stateNode,Vw(a,s),$=s.memoizedProps,Z=s.type===s.elementType?$:rn(s.type,$),P.props=Z,ce=s.pendingProps,le=P.context,B=f.contextType,typeof B=="object"&&B!==null?B=zr(B):(B=dr(f)?Ji:Xt.current,B=Va(s,B));var ge=f.getDerivedStateFromProps;(ue=typeof ge=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||($!==ce||le!==B)&&x1(s,P,g,B),_i=!1,le=s.memoizedState,P.state=le,nc(s,g,P,x);var xe=s.memoizedState;$!==ce||le!==xe||cr.current||_i?(typeof ge=="function"&&(Hh(s,f,ge,g),xe=s.memoizedState),(Z=_i||m1(s,f,Z,g,le,xe,B)||!1)?(ue||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(g,xe,B),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(g,xe,B)),typeof P.componentDidUpdate=="function"&&(s.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof P.componentDidUpdate!="function"||$===a.memoizedProps&&le===a.memoizedState||(s.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&le===a.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=xe),P.props=g,P.state=xe,P.context=B,g=Z):(typeof P.componentDidUpdate!="function"||$===a.memoizedProps&&le===a.memoizedState||(s.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&le===a.memoizedState||(s.flags|=1024),g=!1)}return Xh(a,s,f,g,S,x)}function Xh(a,s,f,g,x,S){T1(a,s);var P=(s.flags&128)!==0;if(!g&&!P)return x&&Mw(s,f,!1),Bn(a,s,S);g=s.stateNode,JN.current=s;var $=P&&typeof f.getDerivedStateFromError!="function"?null:g.render();return s.flags|=1,a!==null&&P?(s.child=Xa(s,a.child,null,S),s.child=Xa(s,null,$,S)):ir(a,s,$,S),s.memoizedState=g.state,x&&Mw(s,f,!0),s.child}function P1(a){var s=a.stateNode;s.pendingContext?Nw(a,s.pendingContext,s.pendingContext!==s.context):s.context&&Nw(a,s.context,!1),Nh(a,s.containerInfo)}function I1(a,s,f,g,x){return Ya(),Oh(x),s.flags|=256,ir(a,s,f,g),s.child}var Jh={dehydrated:null,treeContext:null,retryLane:0};function Qh(a){return{baseLanes:a,cachePool:null,transitions:null}}function N1(a,s,f){var g=s.pendingProps,x=dt.current,S=!1,P=(s.flags&128)!==0,$;if(($=P)||($=a!==null&&a.memoizedState===null?!1:(x&2)!==0),$?(S=!0,s.flags&=-129):(a===null||a.memoizedState!==null)&&(x|=1),et(dt,x&1),a===null)return kh(s),a=s.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((s.mode&1)===0?s.lanes=1:a.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(P=g.children,a=g.fallback,S?(g=s.mode,S=s.child,P={mode:"hidden",children:P},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=P):S=jc(P,g,0,null),a=sa(a,g,f,null),S.return=s,a.return=s,S.sibling=a,s.child=S,s.child.memoizedState=Qh(f),s.memoizedState=Jh,a):Zh(s,P));if(x=a.memoizedState,x!==null&&($=x.dehydrated,$!==null))return QN(a,s,P,g,$,x,f);if(S){S=g.fallback,P=s.mode,x=a.child,$=x.sibling;var B={mode:"hidden",children:g.children};return(P&1)===0&&s.child!==x?(g=s.child,g.childLanes=0,g.pendingProps=B,s.deletions=null):(g=Ti(x,B),g.subtreeFlags=x.subtreeFlags&14680064),$!==null?S=Ti($,S):(S=sa(S,P,f,null),S.flags|=2),S.return=s,g.return=s,g.sibling=S,s.child=g,g=S,S=s.child,P=a.child.memoizedState,P=P===null?Qh(f):{baseLanes:P.baseLanes|f,cachePool:null,transitions:P.transitions},S.memoizedState=P,S.childLanes=a.childLanes&~f,s.memoizedState=Jh,g}return S=a.child,a=S.sibling,g=Ti(S,{mode:"visible",children:g.children}),(s.mode&1)===0&&(g.lanes=f),g.return=s,g.sibling=null,a!==null&&(f=s.deletions,f===null?(s.deletions=[a],s.flags|=16):f.push(a)),s.child=g,s.memoizedState=null,g}function Zh(a,s){return s=jc({mode:"visible",children:s},a.mode,0,null),s.return=a,a.child=s}function dc(a,s,f,g){return g!==null&&Oh(g),Xa(s,a.child,null,f),a=Zh(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function QN(a,s,f,g,x,S,P){if(f)return s.flags&256?(s.flags&=-257,g=Kh(Error(r(422))),dc(a,s,P,g)):s.memoizedState!==null?(s.child=a.child,s.flags|=128,null):(S=g.fallback,x=s.mode,g=jc({mode:"visible",children:g.children},x,0,null),S=sa(S,x,P,null),S.flags|=2,g.return=s,S.return=s,g.sibling=S,s.child=g,(s.mode&1)!==0&&Xa(s,a.child,null,P),s.child.memoizedState=Qh(P),s.memoizedState=Jh,S);if((s.mode&1)===0)return dc(a,s,P,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var $=g.dgst;return g=$,S=Error(r(419)),g=Kh(S,g,void 0),dc(a,s,P,g)}if($=(P&a.childLanes)!==0,fr||$){if(g=$t,g!==null){switch(P&-P){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|P))!==0?0:x,x!==0&&x!==S.retryLane&&(S.retryLane=x,Ln(a,x),on(g,a,x,-1))}return yp(),g=Kh(Error(r(421))),dc(a,s,P,g)}return x.data==="$?"?(s.flags|=128,s.child=a.child,s=dR.bind(null,a),x._reactRetry=s,null):(a=S.treeContext,kr=vi(x.nextSibling),jr=s,lt=!0,tn=null,a!==null&&(Dr[Lr++]=$n,Dr[Lr++]=Dn,Dr[Lr++]=Qi,$n=a.id,Dn=a.overflow,Qi=s),s=Zh(s,g.children),s.flags|=4096,s)}function R1(a,s,f){a.lanes|=s;var g=a.alternate;g!==null&&(g.lanes|=s),Ch(a.return,s,f)}function ep(a,s,f,g,x){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:x}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=f,S.tailMode=x)}function M1(a,s,f){var g=s.pendingProps,x=g.revealOrder,S=g.tail;if(ir(a,s,g.children,f),g=dt.current,(g&2)!==0)g=g&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&R1(a,f,s);else if(a.tag===19)R1(a,f,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(et(dt,g),(s.mode&1)===0)s.memoizedState=null;else switch(x){case"forwards":for(f=s.child,x=null;f!==null;)a=f.alternate,a!==null&&ic(a)===null&&(x=f),f=f.sibling;f=x,f===null?(x=s.child,s.child=null):(x=f.sibling,f.sibling=null),ep(s,!1,x,f,S);break;case"backwards":for(f=null,x=s.child,s.child=null;x!==null;){if(a=x.alternate,a!==null&&ic(a)===null){s.child=x;break}a=x.sibling,x.sibling=f,f=x,x=a}ep(s,!0,f,null,S);break;case"together":ep(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function fc(a,s){(s.mode&1)===0&&a!==null&&(a.alternate=null,s.alternate=null,s.flags|=2)}function Bn(a,s,f){if(a!==null&&(s.dependencies=a.dependencies),na|=s.lanes,(f&s.childLanes)===0)return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,f=Ti(a,a.pendingProps),s.child=f,f.return=s;a.sibling!==null;)a=a.sibling,f=f.sibling=Ti(a,a.pendingProps),f.return=s;f.sibling=null}return s.child}function ZN(a,s,f){switch(s.tag){case 3:P1(s),Ya();break;case 5:Yw(s);break;case 1:dr(s.type)&&Gu(s);break;case 4:Nh(s,s.stateNode.containerInfo);break;case 10:var g=s.type._context,x=s.memoizedProps.value;et(ec,g._currentValue),g._currentValue=x;break;case 13:if(g=s.memoizedState,g!==null)return g.dehydrated!==null?(et(dt,dt.current&1),s.flags|=128,null):(f&s.child.childLanes)!==0?N1(a,s,f):(et(dt,dt.current&1),a=Bn(a,s,f),a!==null?a.sibling:null);et(dt,dt.current&1);break;case 19:if(g=(f&s.childLanes)!==0,(a.flags&128)!==0){if(g)return M1(a,s,f);s.flags|=128}if(x=s.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),et(dt,dt.current),g)break;return null;case 22:case 23:return s.lanes=0,A1(a,s,f)}return Bn(a,s,f)}var $1,tp,D1,L1;$1=function(a,s){for(var f=s.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},tp=function(){},D1=function(a,s,f,g){var x=a.memoizedProps;if(x!==g){a=s.stateNode,ta(bn.current);var S=null;switch(f){case"input":x=ke(a,x),g=ke(a,g),S=[];break;case"select":x=J({},x,{value:void 0}),g=J({},g,{value:void 0}),S=[];break;case"textarea":x=_r(a,x),g=_r(a,g),S=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=Hu)}nr(f,g);var P;f=null;for(Z in x)if(!g.hasOwnProperty(Z)&&x.hasOwnProperty(Z)&&x[Z]!=null)if(Z==="style"){var $=x[Z];for(P in $)$.hasOwnProperty(P)&&(f||(f={}),f[P]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?S||(S=[]):(S=S||[]).push(Z,null));for(Z in g){var B=g[Z];if($=x?.[Z],g.hasOwnProperty(Z)&&B!==$&&(B!=null||$!=null))if(Z==="style")if($){for(P in $)!$.hasOwnProperty(P)||B&&B.hasOwnProperty(P)||(f||(f={}),f[P]="");for(P in B)B.hasOwnProperty(P)&&$[P]!==B[P]&&(f||(f={}),f[P]=B[P])}else f||(S||(S=[]),S.push(Z,f)),f=B;else Z==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,$=$?$.__html:void 0,B!=null&&$!==B&&(S=S||[]).push(Z,B)):Z==="children"?typeof B!="string"&&typeof B!="number"||(S=S||[]).push(Z,""+B):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(B!=null&&Z==="onScroll"&&at("scroll",a),S||$===B||(S=[])):(S=S||[]).push(Z,B))}f&&(S=S||[]).push("style",f);var Z=S;(s.updateQueue=Z)&&(s.flags|=4)}},L1=function(a,s,f,g){f!==g&&(s.flags|=4)};function Hs(a,s){if(!lt)switch(a.tailMode){case"hidden":s=a.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Qt(a){var s=a.alternate!==null&&a.alternate.child===a.child,f=0,g=0;if(s)for(var x=a.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=g,a.childLanes=f,s}function eR(a,s,f){var g=s.pendingProps;switch(Sh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(s),null;case 1:return dr(s.type)&&Ku(),Qt(s),null;case 3:return g=s.stateNode,Za(),ot(cr),ot(Xt),$h(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Qu(s)?s.flags|=4:a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,tn!==null&&(fp(tn),tn=null))),tp(a,s),Qt(s),null;case 5:Rh(s);var x=ta(Bs.current);if(f=s.type,a!==null&&s.stateNode!=null)D1(a,s,f,g,x),a.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!g){if(s.stateNode===null)throw Error(r(166));return Qt(s),null}if(a=ta(bn.current),Qu(s)){g=s.stateNode,f=s.type;var S=s.memoizedProps;switch(g[xn]=s,g[Ms]=S,a=(s.mode&1)!==0,f){case"dialog":at("cancel",g),at("close",g);break;case"iframe":case"object":case"embed":at("load",g);break;case"video":case"audio":for(x=0;x<Is.length;x++)at(Is[x],g);break;case"source":at("error",g);break;case"img":case"image":case"link":at("error",g),at("load",g);break;case"details":at("toggle",g);break;case"input":$e(g,S),at("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},at("invalid",g);break;case"textarea":di(g,S),at("invalid",g)}nr(f,S),x=null;for(var P in S)if(S.hasOwnProperty(P)){var $=S[P];P==="children"?typeof $=="string"?g.textContent!==$&&(S.suppressHydrationWarning!==!0&&Wu(g.textContent,$,a),x=["children",$]):typeof $=="number"&&g.textContent!==""+$&&(S.suppressHydrationWarning!==!0&&Wu(g.textContent,$,a),x=["children",""+$]):i.hasOwnProperty(P)&&$!=null&&P==="onScroll"&&at("scroll",g)}switch(f){case"input":ye(g),ct(g,S,!0);break;case"textarea":ye(g),Gi(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=Hu)}g=x,s.updateQueue=g,g!==null&&(s.flags|=4)}else{P=x.nodeType===9?x:x.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=_u(f)),a==="http://www.w3.org/1999/xhtml"?f==="script"?(a=P.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=P.createElement(f,{is:g.is}):(a=P.createElement(f),f==="select"&&(P=a,g.multiple?P.multiple=!0:g.size&&(P.size=g.size))):a=P.createElementNS(a,f),a[xn]=s,a[Ms]=g,$1(a,s,!1,!1),s.stateNode=a;e:{switch(P=Je(f,g),f){case"dialog":at("cancel",a),at("close",a),x=g;break;case"iframe":case"object":case"embed":at("load",a),x=g;break;case"video":case"audio":for(x=0;x<Is.length;x++)at(Is[x],a);x=g;break;case"source":at("error",a),x=g;break;case"img":case"image":case"link":at("error",a),at("load",a),x=g;break;case"details":at("toggle",a),x=g;break;case"input":$e(a,g),x=ke(a,g),at("invalid",a);break;case"option":x=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},x=J({},g,{value:void 0}),at("invalid",a);break;case"textarea":di(a,g),x=_r(a,g),at("invalid",a);break;default:x=g}nr(f,x),$=x;for(S in $)if($.hasOwnProperty(S)){var B=$[S];S==="style"?Ye(a,B):S==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Su(a,B)):S==="children"?typeof B=="string"?(f!=="textarea"||B!=="")&&gn(a,B):typeof B=="number"&&gn(a,""+B):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?B!=null&&S==="onScroll"&&at("scroll",a):B!=null&&O(a,S,B,P))}switch(f){case"input":ye(a),ct(a,g,!1);break;case"textarea":ye(a),Gi(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Se(g.value));break;case"select":a.multiple=!!g.multiple,S=g.value,S!=null?Yt(a,!!g.multiple,S,!1):g.defaultValue!=null&&Yt(a,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(a.onclick=Hu)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Qt(s),null;case 6:if(a&&s.stateNode!=null)L1(a,s,a.memoizedProps,g);else{if(typeof g!="string"&&s.stateNode===null)throw Error(r(166));if(f=ta(Bs.current),ta(bn.current),Qu(s)){if(g=s.stateNode,f=s.memoizedProps,g[xn]=s,(S=g.nodeValue!==f)&&(a=jr,a!==null))switch(a.tag){case 3:Wu(g.nodeValue,f,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Wu(g.nodeValue,f,(a.mode&1)!==0)}S&&(s.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[xn]=s,s.stateNode=g}return Qt(s),null;case 13:if(ot(dt),g=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(lt&&kr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)qw(),Ya(),s.flags|=98560,S=!1;else if(S=Qu(s),g!==null&&g.dehydrated!==null){if(a===null){if(!S)throw Error(r(318));if(S=s.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[xn]=s}else Ya(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Qt(s),S=!1}else tn!==null&&(fp(tn),tn=null),S=!0;if(!S)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=f,s):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(s.child.flags|=8192,(s.mode&1)!==0&&(a===null||(dt.current&1)!==0?At===0&&(At=3):yp())),s.updateQueue!==null&&(s.flags|=4),Qt(s),null);case 4:return Za(),tp(a,s),a===null&&Ns(s.stateNode.containerInfo),Qt(s),null;case 10:return Th(s.type._context),Qt(s),null;case 17:return dr(s.type)&&Ku(),Qt(s),null;case 19:if(ot(dt),S=s.memoizedState,S===null)return Qt(s),null;if(g=(s.flags&128)!==0,P=S.rendering,P===null)if(g)Hs(S,!1);else{if(At!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(P=ic(a),P!==null){for(s.flags|=128,Hs(S,!1),g=P.updateQueue,g!==null&&(s.updateQueue=g,s.flags|=4),s.subtreeFlags=0,g=f,f=s.child;f!==null;)S=f,a=g,S.flags&=14680066,P=S.alternate,P===null?(S.childLanes=0,S.lanes=a,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=P.childLanes,S.lanes=P.lanes,S.child=P.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=P.memoizedProps,S.memoizedState=P.memoizedState,S.updateQueue=P.updateQueue,S.type=P.type,a=P.dependencies,S.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),f=f.sibling;return et(dt,dt.current&1|2),s.child}a=a.sibling}S.tail!==null&&xt()>no&&(s.flags|=128,g=!0,Hs(S,!1),s.lanes=4194304)}else{if(!g)if(a=ic(P),a!==null){if(s.flags|=128,g=!0,f=a.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),Hs(S,!0),S.tail===null&&S.tailMode==="hidden"&&!P.alternate&&!lt)return Qt(s),null}else 2*xt()-S.renderingStartTime>no&&f!==1073741824&&(s.flags|=128,g=!0,Hs(S,!1),s.lanes=4194304);S.isBackwards?(P.sibling=s.child,s.child=P):(f=S.last,f!==null?f.sibling=P:s.child=P,S.last=P)}return S.tail!==null?(s=S.tail,S.rendering=s,S.tail=s.sibling,S.renderingStartTime=xt(),s.sibling=null,f=dt.current,et(dt,g?f&1|2:f&1),s):(Qt(s),null);case 22:case 23:return pp(),g=s.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(s.flags|=8192),g&&(s.mode&1)!==0?(Or&1073741824)!==0&&(Qt(s),s.subtreeFlags&6&&(s.flags|=8192)):Qt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function tR(a,s){switch(Sh(s),s.tag){case 1:return dr(s.type)&&Ku(),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Za(),ot(cr),ot(Xt),$h(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 5:return Rh(s),null;case 13:if(ot(dt),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ya()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return ot(dt),null;case 4:return Za(),null;case 10:return Th(s.type._context),null;case 22:case 23:return pp(),null;case 24:return null;default:return null}}var hc=!1,Zt=!1,rR=typeof WeakSet=="function"?WeakSet:Set,me=null;function to(a,s){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){yt(a,s,g)}else f.current=null}function rp(a,s,f){try{f()}catch(g){yt(a,s,g)}}var z1=!1;function nR(a,s){if(ph=Nu,a=mw(),oh(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var x=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var P=0,$=-1,B=-1,Z=0,ue=0,ce=a,le=null;t:for(;;){for(var ge;ce!==f||x!==0&&ce.nodeType!==3||($=P+x),ce!==S||g!==0&&ce.nodeType!==3||(B=P+g),ce.nodeType===3&&(P+=ce.nodeValue.length),(ge=ce.firstChild)!==null;)le=ce,ce=ge;for(;;){if(ce===a)break t;if(le===f&&++Z===x&&($=P),le===S&&++ue===g&&(B=P),(ge=ce.nextSibling)!==null)break;ce=le,le=ce.parentNode}ce=ge}f=$===-1||B===-1?null:{start:$,end:B}}else f=null}f=f||{start:0,end:0}}else f=null;for(yh={focusedElem:a,selectionRange:f},Nu=!1,me=s;me!==null;)if(s=me,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,me=a;else for(;me!==null;){s=me;try{var xe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var be=xe.memoizedProps,bt=xe.memoizedState,G=s.stateNode,W=G.getSnapshotBeforeUpdate(s.elementType===s.type?be:rn(s.type,be),bt);G.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Y=s.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(de){yt(s,s.return,de)}if(a=s.sibling,a!==null){a.return=s.return,me=a;break}me=s.return}return xe=z1,z1=!1,xe}function Vs(a,s,f){var g=s.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&a)===a){var S=x.destroy;x.destroy=void 0,S!==void 0&&rp(s,f,S)}x=x.next}while(x!==g)}}function pc(a,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var f=s=s.next;do{if((f.tag&a)===a){var g=f.create;f.destroy=g()}f=f.next}while(f!==s)}}function np(a){var s=a.ref;if(s!==null){var f=a.stateNode;switch(a.tag){case 5:a=f;break;default:a=f}typeof s=="function"?s(a):s.current=a}}function B1(a){var s=a.alternate;s!==null&&(a.alternate=null,B1(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&(delete s[xn],delete s[Ms],delete s[xh],delete s[zN],delete s[BN])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function q1(a){return a.tag===5||a.tag===3||a.tag===4}function U1(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||q1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ip(a,s,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,s?f.nodeType===8?f.parentNode.insertBefore(a,s):f.insertBefore(a,s):(f.nodeType===8?(s=f.parentNode,s.insertBefore(a,f)):(s=f,s.appendChild(a)),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=Hu));else if(g!==4&&(a=a.child,a!==null))for(ip(a,s,f),a=a.sibling;a!==null;)ip(a,s,f),a=a.sibling}function ap(a,s,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,s?f.insertBefore(a,s):f.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(ap(a,s,f),a=a.sibling;a!==null;)ap(a,s,f),a=a.sibling}var qt=null,nn=!1;function ji(a,s,f){for(f=f.child;f!==null;)F1(a,s,f),f=f.sibling}function F1(a,s,f){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(Eu,f)}catch{}switch(f.tag){case 5:Zt||to(f,s);case 6:var g=qt,x=nn;qt=null,ji(a,s,f),qt=g,nn=x,qt!==null&&(nn?(a=qt,f=f.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):qt.removeChild(f.stateNode));break;case 18:qt!==null&&(nn?(a=qt,f=f.stateNode,a.nodeType===8?vh(a.parentNode,f):a.nodeType===1&&vh(a,f),js(a)):vh(qt,f.stateNode));break;case 4:g=qt,x=nn,qt=f.stateNode.containerInfo,nn=!0,ji(a,s,f),qt=g,nn=x;break;case 0:case 11:case 14:case 15:if(!Zt&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var S=x,P=S.destroy;S=S.tag,P!==void 0&&((S&2)!==0||(S&4)!==0)&&rp(f,s,P),x=x.next}while(x!==g)}ji(a,s,f);break;case 1:if(!Zt&&(to(f,s),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch($){yt(f,s,$)}ji(a,s,f);break;case 21:ji(a,s,f);break;case 22:f.mode&1?(Zt=(g=Zt)||f.memoizedState!==null,ji(a,s,f),Zt=g):ji(a,s,f);break;default:ji(a,s,f)}}function W1(a){var s=a.updateQueue;if(s!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new rR),s.forEach(function(g){var x=fR.bind(null,a,g);f.has(g)||(f.add(g),g.then(x,x))})}}function an(a,s){var f=s.deletions;if(f!==null)for(var g=0;g<f.length;g++){var x=f[g];try{var S=a,P=s,$=P;e:for(;$!==null;){switch($.tag){case 5:qt=$.stateNode,nn=!1;break e;case 3:qt=$.stateNode.containerInfo,nn=!0;break e;case 4:qt=$.stateNode.containerInfo,nn=!0;break e}$=$.return}if(qt===null)throw Error(r(160));F1(S,P,x),qt=null,nn=!1;var B=x.alternate;B!==null&&(B.return=null),x.return=null}catch(Z){yt(x,s,Z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)H1(s,a),s=s.sibling}function H1(a,s){var f=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(an(s,a),_n(a),g&4){try{Vs(3,a,a.return),pc(3,a)}catch(be){yt(a,a.return,be)}try{Vs(5,a,a.return)}catch(be){yt(a,a.return,be)}}break;case 1:an(s,a),_n(a),g&512&&f!==null&&to(f,f.return);break;case 5:if(an(s,a),_n(a),g&512&&f!==null&&to(f,f.return),a.flags&32){var x=a.stateNode;try{gn(x,"")}catch(be){yt(a,a.return,be)}}if(g&4&&(x=a.stateNode,x!=null)){var S=a.memoizedProps,P=f!==null?f.memoizedProps:S,$=a.type,B=a.updateQueue;if(a.updateQueue=null,B!==null)try{$==="input"&&S.type==="radio"&&S.name!=null&&Ke(x,S),Je($,P);var Z=Je($,S);for(P=0;P<B.length;P+=2){var ue=B[P],ce=B[P+1];ue==="style"?Ye(x,ce):ue==="dangerouslySetInnerHTML"?Su(x,ce):ue==="children"?gn(x,ce):O(x,ue,ce,Z)}switch($){case"input":it(x,S);break;case"textarea":Ki(x,S);break;case"select":var le=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!S.multiple;var ge=S.value;ge!=null?Yt(x,!!S.multiple,ge,!1):le!==!!S.multiple&&(S.defaultValue!=null?Yt(x,!!S.multiple,S.defaultValue,!0):Yt(x,!!S.multiple,S.multiple?[]:"",!1))}x[Ms]=S}catch(be){yt(a,a.return,be)}}break;case 6:if(an(s,a),_n(a),g&4){if(a.stateNode===null)throw Error(r(162));x=a.stateNode,S=a.memoizedProps;try{x.nodeValue=S}catch(be){yt(a,a.return,be)}}break;case 3:if(an(s,a),_n(a),g&4&&f!==null&&f.memoizedState.isDehydrated)try{js(s.containerInfo)}catch(be){yt(a,a.return,be)}break;case 4:an(s,a),_n(a);break;case 13:an(s,a),_n(a),x=a.child,x.flags&8192&&(S=x.memoizedState!==null,x.stateNode.isHidden=S,!S||x.alternate!==null&&x.alternate.memoizedState!==null||(lp=xt())),g&4&&W1(a);break;case 22:if(ue=f!==null&&f.memoizedState!==null,a.mode&1?(Zt=(Z=Zt)||ue,an(s,a),Zt=Z):an(s,a),_n(a),g&8192){if(Z=a.memoizedState!==null,(a.stateNode.isHidden=Z)&&!ue&&(a.mode&1)!==0)for(me=a,ue=a.child;ue!==null;){for(ce=me=ue;me!==null;){switch(le=me,ge=le.child,le.tag){case 0:case 11:case 14:case 15:Vs(4,le,le.return);break;case 1:to(le,le.return);var xe=le.stateNode;if(typeof xe.componentWillUnmount=="function"){g=le,f=le.return;try{s=g,xe.props=s.memoizedProps,xe.state=s.memoizedState,xe.componentWillUnmount()}catch(be){yt(g,f,be)}}break;case 5:to(le,le.return);break;case 22:if(le.memoizedState!==null){G1(ce);continue}}ge!==null?(ge.return=le,me=ge):G1(ce)}ue=ue.sibling}e:for(ue=null,ce=a;;){if(ce.tag===5){if(ue===null){ue=ce;try{x=ce.stateNode,Z?(S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):($=ce.stateNode,B=ce.memoizedProps.style,P=B!=null&&B.hasOwnProperty("display")?B.display:null,$.style.display=De("display",P))}catch(be){yt(a,a.return,be)}}}else if(ce.tag===6){if(ue===null)try{ce.stateNode.nodeValue=Z?"":ce.memoizedProps}catch(be){yt(a,a.return,be)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===a)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===a)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===a)break e;ue===ce&&(ue=null),ce=ce.return}ue===ce&&(ue=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:an(s,a),_n(a),g&4&&W1(a);break;case 21:break;default:an(s,a),_n(a)}}function _n(a){var s=a.flags;if(s&2){try{e:{for(var f=a.return;f!==null;){if(q1(f)){var g=f;break e}f=f.return}throw Error(r(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(gn(x,""),g.flags&=-33);var S=U1(a);ap(a,S,x);break;case 3:case 4:var P=g.stateNode.containerInfo,$=U1(a);ip(a,$,P);break;default:throw Error(r(161))}}catch(B){yt(a,a.return,B)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function iR(a,s,f){me=a,V1(a)}function V1(a,s,f){for(var g=(a.mode&1)!==0;me!==null;){var x=me,S=x.child;if(x.tag===22&&g){var P=x.memoizedState!==null||hc;if(!P){var $=x.alternate,B=$!==null&&$.memoizedState!==null||Zt;$=hc;var Z=Zt;if(hc=P,(Zt=B)&&!Z)for(me=x;me!==null;)P=me,B=P.child,P.tag===22&&P.memoizedState!==null?Y1(x):B!==null?(B.return=P,me=B):Y1(x);for(;S!==null;)me=S,V1(S),S=S.sibling;me=x,hc=$,Zt=Z}K1(a)}else(x.subtreeFlags&8772)!==0&&S!==null?(S.return=x,me=S):K1(a)}}function K1(a){for(;me!==null;){var s=me;if((s.flags&8772)!==0){var f=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Zt||pc(5,s);break;case 1:var g=s.stateNode;if(s.flags&4&&!Zt)if(f===null)g.componentDidMount();else{var x=s.elementType===s.type?f.memoizedProps:rn(s.type,f.memoizedProps);g.componentDidUpdate(x,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=s.updateQueue;S!==null&&Gw(s,S,g);break;case 3:var P=s.updateQueue;if(P!==null){if(f=null,s.child!==null)switch(s.child.tag){case 5:f=s.child.stateNode;break;case 1:f=s.child.stateNode}Gw(s,P,f)}break;case 5:var $=s.stateNode;if(f===null&&s.flags&4){f=$;var B=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&f.focus();break;case"img":B.src&&(f.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Z=s.alternate;if(Z!==null){var ue=Z.memoizedState;if(ue!==null){var ce=ue.dehydrated;ce!==null&&js(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Zt||s.flags&512&&np(s)}catch(le){yt(s,s.return,le)}}if(s===a){me=null;break}if(f=s.sibling,f!==null){f.return=s.return,me=f;break}me=s.return}}function G1(a){for(;me!==null;){var s=me;if(s===a){me=null;break}var f=s.sibling;if(f!==null){f.return=s.return,me=f;break}me=s.return}}function Y1(a){for(;me!==null;){var s=me;try{switch(s.tag){case 0:case 11:case 15:var f=s.return;try{pc(4,s)}catch(B){yt(s,f,B)}break;case 1:var g=s.stateNode;if(typeof g.componentDidMount=="function"){var x=s.return;try{g.componentDidMount()}catch(B){yt(s,x,B)}}var S=s.return;try{np(s)}catch(B){yt(s,S,B)}break;case 5:var P=s.return;try{np(s)}catch(B){yt(s,P,B)}}}catch(B){yt(s,s.return,B)}if(s===a){me=null;break}var $=s.sibling;if($!==null){$.return=s.return,me=$;break}me=s.return}}var aR=Math.ceil,yc=T.ReactCurrentDispatcher,op=T.ReactCurrentOwner,qr=T.ReactCurrentBatchConfig,Ue=0,$t=null,St=null,Ut=0,Or=0,ro=xi(0),At=0,Ks=null,na=0,gc=0,sp=0,Gs=null,hr=null,lp=0,no=1/0,qn=null,mc=!1,up=null,ki=null,vc=!1,Oi=null,xc=0,Ys=0,cp=null,bc=-1,wc=0;function ar(){return(Ue&6)!==0?xt():bc!==-1?bc:bc=xt()}function Ei(a){return(a.mode&1)===0?1:(Ue&2)!==0&&Ut!==0?Ut&-Ut:UN.transition!==null?(wc===0&&(wc=Ub()),wc):(a=Ge,a!==0||(a=window.event,a=a===void 0?16:Jb(a.type)),a)}function on(a,s,f,g){if(50<Ys)throw Ys=0,cp=null,Error(r(185));xs(a,f,g),((Ue&2)===0||a!==$t)&&(a===$t&&((Ue&2)===0&&(gc|=f),At===4&&Ai(a,Ut)),pr(a,g),f===1&&Ue===0&&(s.mode&1)===0&&(no=xt()+500,Yu&&wi()))}function pr(a,s){var f=a.callbackNode;UI(a,s);var g=Cu(a,a===$t?Ut:0);if(g===0)f!==null&&zb(f),a.callbackNode=null,a.callbackPriority=0;else if(s=g&-g,a.callbackPriority!==s){if(f!=null&&zb(f),s===1)a.tag===0?qN(J1.bind(null,a)):$w(J1.bind(null,a)),DN(function(){(Ue&6)===0&&wi()}),f=null;else{switch(Fb(g)){case 1:f=Ff;break;case 4:f=Bb;break;case 16:f=Ou;break;case 536870912:f=qb;break;default:f=Ou}f=a_(f,X1.bind(null,a))}a.callbackPriority=s,a.callbackNode=f}}function X1(a,s){if(bc=-1,wc=0,(Ue&6)!==0)throw Error(r(327));var f=a.callbackNode;if(io()&&a.callbackNode!==f)return null;var g=Cu(a,a===$t?Ut:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||s)s=_c(a,g);else{s=g;var x=Ue;Ue|=2;var S=Z1();($t!==a||Ut!==s)&&(qn=null,no=xt()+500,aa(a,s));do try{lR();break}catch($){Q1(a,$)}while(!0);Ah(),yc.current=S,Ue=x,St!==null?s=0:($t=null,Ut=0,s=At)}if(s!==0){if(s===2&&(x=Wf(a),x!==0&&(g=x,s=dp(a,x))),s===1)throw f=Ks,aa(a,0),Ai(a,g),pr(a,xt()),f;if(s===6)Ai(a,g);else{if(x=a.current.alternate,(g&30)===0&&!oR(x)&&(s=_c(a,g),s===2&&(S=Wf(a),S!==0&&(g=S,s=dp(a,S))),s===1))throw f=Ks,aa(a,0),Ai(a,g),pr(a,xt()),f;switch(a.finishedWork=x,a.finishedLanes=g,s){case 0:case 1:throw Error(r(345));case 2:oa(a,hr,qn);break;case 3:if(Ai(a,g),(g&130023424)===g&&(s=lp+500-xt(),10<s)){if(Cu(a,0)!==0)break;if(x=a.suspendedLanes,(x&g)!==g){ar(),a.pingedLanes|=a.suspendedLanes&x;break}a.timeoutHandle=mh(oa.bind(null,a,hr,qn),s);break}oa(a,hr,qn);break;case 4:if(Ai(a,g),(g&4194240)===g)break;for(s=a.eventTimes,x=-1;0<g;){var P=31-Zr(g);S=1<<P,P=s[P],P>x&&(x=P),g&=~S}if(g=x,g=xt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*aR(g/1960))-g,10<g){a.timeoutHandle=mh(oa.bind(null,a,hr,qn),g);break}oa(a,hr,qn);break;case 5:oa(a,hr,qn);break;default:throw Error(r(329))}}}return pr(a,xt()),a.callbackNode===f?X1.bind(null,a):null}function dp(a,s){var f=Gs;return a.current.memoizedState.isDehydrated&&(aa(a,s).flags|=256),a=_c(a,s),a!==2&&(s=hr,hr=f,s!==null&&fp(s)),a}function fp(a){hr===null?hr=a:hr.push.apply(hr,a)}function oR(a){for(var s=a;;){if(s.flags&16384){var f=s.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var x=f[g],S=x.getSnapshot;x=x.value;try{if(!en(S(),x))return!1}catch{return!1}}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ai(a,s){for(s&=~sp,s&=~gc,a.suspendedLanes|=s,a.pingedLanes&=~s,a=a.expirationTimes;0<s;){var f=31-Zr(s),g=1<<f;a[f]=-1,s&=~g}}function J1(a){if((Ue&6)!==0)throw Error(r(327));io();var s=Cu(a,0);if((s&1)===0)return pr(a,xt()),null;var f=_c(a,s);if(a.tag!==0&&f===2){var g=Wf(a);g!==0&&(s=g,f=dp(a,g))}if(f===1)throw f=Ks,aa(a,0),Ai(a,s),pr(a,xt()),f;if(f===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=s,oa(a,hr,qn),pr(a,xt()),null}function hp(a,s){var f=Ue;Ue|=1;try{return a(s)}finally{Ue=f,Ue===0&&(no=xt()+500,Yu&&wi())}}function ia(a){Oi!==null&&Oi.tag===0&&(Ue&6)===0&&io();var s=Ue;Ue|=1;var f=qr.transition,g=Ge;try{if(qr.transition=null,Ge=1,a)return a()}finally{Ge=g,qr.transition=f,Ue=s,(Ue&6)===0&&wi()}}function pp(){Or=ro.current,ot(ro)}function aa(a,s){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==-1&&(a.timeoutHandle=-1,$N(f)),St!==null)for(f=St.return;f!==null;){var g=f;switch(Sh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Ku();break;case 3:Za(),ot(cr),ot(Xt),$h();break;case 5:Rh(g);break;case 4:Za();break;case 13:ot(dt);break;case 19:ot(dt);break;case 10:Th(g.type._context);break;case 22:case 23:pp()}f=f.return}if($t=a,St=a=Ti(a.current,null),Ut=Or=s,At=0,Ks=null,sp=gc=na=0,hr=Gs=null,ea!==null){for(s=0;s<ea.length;s++)if(f=ea[s],g=f.interleaved,g!==null){f.interleaved=null;var x=g.next,S=f.pending;if(S!==null){var P=S.next;S.next=x,g.next=P}f.pending=g}ea=null}return a}function Q1(a,s){do{var f=St;try{if(Ah(),ac.current=uc,oc){for(var g=ft.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}oc=!1}if(ra=0,Mt=Et=ft=null,qs=!1,Us=0,op.current=null,f===null||f.return===null){At=1,Ks=s,St=null;break}e:{var S=a,P=f.return,$=f,B=s;if(s=Ut,$.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Z=B,ue=$,ce=ue.tag;if((ue.mode&1)===0&&(ce===0||ce===11||ce===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var ge=S1(P);if(ge!==null){ge.flags&=-257,j1(ge,P,$,S,s),ge.mode&1&&_1(S,Z,s),s=ge,B=Z;var xe=s.updateQueue;if(xe===null){var be=new Set;be.add(B),s.updateQueue=be}else xe.add(B);break e}else{if((s&1)===0){_1(S,Z,s),yp();break e}B=Error(r(426))}}else if(lt&&$.mode&1){var bt=S1(P);if(bt!==null){(bt.flags&65536)===0&&(bt.flags|=256),j1(bt,P,$,S,s),Oh(eo(B,$));break e}}S=B=eo(B,$),At!==4&&(At=2),Gs===null?Gs=[S]:Gs.push(S),S=P;do{switch(S.tag){case 3:S.flags|=65536,s&=-s,S.lanes|=s;var G=b1(S,B,s);Kw(S,G);break e;case 1:$=B;var W=S.type,Y=S.stateNode;if((S.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(ki===null||!ki.has(Y)))){S.flags|=65536,s&=-s,S.lanes|=s;var de=w1(S,$,s);Kw(S,de);break e}}S=S.return}while(S!==null)}t_(f)}catch(we){s=we,St===f&&f!==null&&(St=f=f.return);continue}break}while(!0)}function Z1(){var a=yc.current;return yc.current=uc,a===null?uc:a}function yp(){(At===0||At===3||At===2)&&(At=4),$t===null||(na&268435455)===0&&(gc&268435455)===0||Ai($t,Ut)}function _c(a,s){var f=Ue;Ue|=2;var g=Z1();($t!==a||Ut!==s)&&(qn=null,aa(a,s));do try{sR();break}catch(x){Q1(a,x)}while(!0);if(Ah(),Ue=f,yc.current=g,St!==null)throw Error(r(261));return $t=null,Ut=0,At}function sR(){for(;St!==null;)e_(St)}function lR(){for(;St!==null&&!NI();)e_(St)}function e_(a){var s=i_(a.alternate,a,Or);a.memoizedProps=a.pendingProps,s===null?t_(a):St=s,op.current=null}function t_(a){var s=a;do{var f=s.alternate;if(a=s.return,(s.flags&32768)===0){if(f=eR(f,s,Or),f!==null){St=f;return}}else{if(f=tR(f,s),f!==null){f.flags&=32767,St=f;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{At=6,St=null;return}}if(s=s.sibling,s!==null){St=s;return}St=s=a}while(s!==null);At===0&&(At=5)}function oa(a,s,f){var g=Ge,x=qr.transition;try{qr.transition=null,Ge=1,uR(a,s,f,g)}finally{qr.transition=x,Ge=g}return null}function uR(a,s,f,g){do io();while(Oi!==null);if((Ue&6)!==0)throw Error(r(327));f=a.finishedWork;var x=a.finishedLanes;if(f===null)return null;if(a.finishedWork=null,a.finishedLanes=0,f===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var S=f.lanes|f.childLanes;if(FI(a,S),a===$t&&(St=$t=null,Ut=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||vc||(vc=!0,a_(Ou,function(){return io(),null})),S=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||S){S=qr.transition,qr.transition=null;var P=Ge;Ge=1;var $=Ue;Ue|=4,op.current=null,nR(a,f),H1(f,a),TN(yh),Nu=!!ph,yh=ph=null,a.current=f,iR(f),RI(),Ue=$,Ge=P,qr.transition=S}else a.current=f;if(vc&&(vc=!1,Oi=a,xc=x),S=a.pendingLanes,S===0&&(ki=null),DI(f.stateNode),pr(a,xt()),s!==null)for(g=a.onRecoverableError,f=0;f<s.length;f++)x=s[f],g(x.value,{componentStack:x.stack,digest:x.digest});if(mc)throw mc=!1,a=up,up=null,a;return(xc&1)!==0&&a.tag!==0&&io(),S=a.pendingLanes,(S&1)!==0?a===cp?Ys++:(Ys=0,cp=a):Ys=0,wi(),null}function io(){if(Oi!==null){var a=Fb(xc),s=qr.transition,f=Ge;try{if(qr.transition=null,Ge=16>a?16:a,Oi===null)var g=!1;else{if(a=Oi,Oi=null,xc=0,(Ue&6)!==0)throw Error(r(331));var x=Ue;for(Ue|=4,me=a.current;me!==null;){var S=me,P=S.child;if((me.flags&16)!==0){var $=S.deletions;if($!==null){for(var B=0;B<$.length;B++){var Z=$[B];for(me=Z;me!==null;){var ue=me;switch(ue.tag){case 0:case 11:case 15:Vs(8,ue,S)}var ce=ue.child;if(ce!==null)ce.return=ue,me=ce;else for(;me!==null;){ue=me;var le=ue.sibling,ge=ue.return;if(B1(ue),ue===Z){me=null;break}if(le!==null){le.return=ge,me=le;break}me=ge}}}var xe=S.alternate;if(xe!==null){var be=xe.child;if(be!==null){xe.child=null;do{var bt=be.sibling;be.sibling=null,be=bt}while(be!==null)}}me=S}}if((S.subtreeFlags&2064)!==0&&P!==null)P.return=S,me=P;else e:for(;me!==null;){if(S=me,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Vs(9,S,S.return)}var G=S.sibling;if(G!==null){G.return=S.return,me=G;break e}me=S.return}}var W=a.current;for(me=W;me!==null;){P=me;var Y=P.child;if((P.subtreeFlags&2064)!==0&&Y!==null)Y.return=P,me=Y;else e:for(P=W;me!==null;){if($=me,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:pc(9,$)}}catch(we){yt($,$.return,we)}if($===P){me=null;break e}var de=$.sibling;if(de!==null){de.return=$.return,me=de;break e}me=$.return}}if(Ue=x,wi(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(Eu,a)}catch{}g=!0}return g}finally{Ge=f,qr.transition=s}}return!1}function r_(a,s,f){s=eo(f,s),s=b1(a,s,1),a=Si(a,s,1),s=ar(),a!==null&&(xs(a,1,s),pr(a,s))}function yt(a,s,f){if(a.tag===3)r_(a,a,f);else for(;s!==null;){if(s.tag===3){r_(s,a,f);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ki===null||!ki.has(g))){a=eo(f,a),a=w1(s,a,1),s=Si(s,a,1),a=ar(),s!==null&&(xs(s,1,a),pr(s,a));break}}s=s.return}}function cR(a,s,f){var g=a.pingCache;g!==null&&g.delete(s),s=ar(),a.pingedLanes|=a.suspendedLanes&f,$t===a&&(Ut&f)===f&&(At===4||At===3&&(Ut&130023424)===Ut&&500>xt()-lp?aa(a,0):sp|=f),pr(a,s)}function n_(a,s){s===0&&((a.mode&1)===0?s=1:(s=Tu,Tu<<=1,(Tu&130023424)===0&&(Tu=4194304)));var f=ar();a=Ln(a,s),a!==null&&(xs(a,s,f),pr(a,f))}function dR(a){var s=a.memoizedState,f=0;s!==null&&(f=s.retryLane),n_(a,f)}function fR(a,s){var f=0;switch(a.tag){case 13:var g=a.stateNode,x=a.memoizedState;x!==null&&(f=x.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(s),n_(a,f)}var i_;i_=function(a,s,f){if(a!==null)if(a.memoizedProps!==s.pendingProps||cr.current)fr=!0;else{if((a.lanes&f)===0&&(s.flags&128)===0)return fr=!1,ZN(a,s,f);fr=(a.flags&131072)!==0}else fr=!1,lt&&(s.flags&1048576)!==0&&Dw(s,Ju,s.index);switch(s.lanes=0,s.tag){case 2:var g=s.type;fc(a,s),a=s.pendingProps;var x=Va(s,Xt.current);Qa(s,f),x=zh(null,s,g,a,x,f);var S=Bh();return s.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,dr(g)?(S=!0,Gu(s)):S=!1,s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Ih(s),x.updater=cc,s.stateNode=x,x._reactInternals=s,Vh(s,g,a,f),s=Xh(null,s,g,!0,S,f)):(s.tag=0,lt&&S&&_h(s),ir(null,s,x,f),s=s.child),s;case 16:g=s.elementType;e:{switch(fc(a,s),a=s.pendingProps,x=g._init,g=x(g._payload),s.type=g,x=s.tag=pR(g),a=rn(g,a),x){case 0:s=Yh(null,s,g,a,f);break e;case 1:s=C1(null,s,g,a,f);break e;case 11:s=k1(null,s,g,a,f);break e;case 14:s=O1(null,s,g,rn(g.type,a),f);break e}throw Error(r(306,g,""))}return s;case 0:return g=s.type,x=s.pendingProps,x=s.elementType===g?x:rn(g,x),Yh(a,s,g,x,f);case 1:return g=s.type,x=s.pendingProps,x=s.elementType===g?x:rn(g,x),C1(a,s,g,x,f);case 3:e:{if(P1(s),a===null)throw Error(r(387));g=s.pendingProps,S=s.memoizedState,x=S.element,Vw(a,s),nc(s,g,null,f);var P=s.memoizedState;if(g=P.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){x=eo(Error(r(423)),s),s=I1(a,s,g,f,x);break e}else if(g!==x){x=eo(Error(r(424)),s),s=I1(a,s,g,f,x);break e}else for(kr=vi(s.stateNode.containerInfo.firstChild),jr=s,lt=!0,tn=null,f=Ww(s,null,g,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Ya(),g===x){s=Bn(a,s,f);break e}ir(a,s,g,f)}s=s.child}return s;case 5:return Yw(s),a===null&&kh(s),g=s.type,x=s.pendingProps,S=a!==null?a.memoizedProps:null,P=x.children,gh(g,x)?P=null:S!==null&&gh(g,S)&&(s.flags|=32),T1(a,s),ir(a,s,P,f),s.child;case 6:return a===null&&kh(s),null;case 13:return N1(a,s,f);case 4:return Nh(s,s.stateNode.containerInfo),g=s.pendingProps,a===null?s.child=Xa(s,null,g,f):ir(a,s,g,f),s.child;case 11:return g=s.type,x=s.pendingProps,x=s.elementType===g?x:rn(g,x),k1(a,s,g,x,f);case 7:return ir(a,s,s.pendingProps,f),s.child;case 8:return ir(a,s,s.pendingProps.children,f),s.child;case 12:return ir(a,s,s.pendingProps.children,f),s.child;case 10:e:{if(g=s.type._context,x=s.pendingProps,S=s.memoizedProps,P=x.value,et(ec,g._currentValue),g._currentValue=P,S!==null)if(en(S.value,P)){if(S.children===x.children&&!cr.current){s=Bn(a,s,f);break e}}else for(S=s.child,S!==null&&(S.return=s);S!==null;){var $=S.dependencies;if($!==null){P=S.child;for(var B=$.firstContext;B!==null;){if(B.context===g){if(S.tag===1){B=zn(-1,f&-f),B.tag=2;var Z=S.updateQueue;if(Z!==null){Z=Z.shared;var ue=Z.pending;ue===null?B.next=B:(B.next=ue.next,ue.next=B),Z.pending=B}}S.lanes|=f,B=S.alternate,B!==null&&(B.lanes|=f),Ch(S.return,f,s),$.lanes|=f;break}B=B.next}}else if(S.tag===10)P=S.type===s.type?null:S.child;else if(S.tag===18){if(P=S.return,P===null)throw Error(r(341));P.lanes|=f,$=P.alternate,$!==null&&($.lanes|=f),Ch(P,f,s),P=S.sibling}else P=S.child;if(P!==null)P.return=S;else for(P=S;P!==null;){if(P===s){P=null;break}if(S=P.sibling,S!==null){S.return=P.return,P=S;break}P=P.return}S=P}ir(a,s,x.children,f),s=s.child}return s;case 9:return x=s.type,g=s.pendingProps.children,Qa(s,f),x=zr(x),g=g(x),s.flags|=1,ir(a,s,g,f),s.child;case 14:return g=s.type,x=rn(g,s.pendingProps),x=rn(g.type,x),O1(a,s,g,x,f);case 15:return E1(a,s,s.type,s.pendingProps,f);case 17:return g=s.type,x=s.pendingProps,x=s.elementType===g?x:rn(g,x),fc(a,s),s.tag=1,dr(g)?(a=!0,Gu(s)):a=!1,Qa(s,f),v1(s,g,x),Vh(s,g,x,f),Xh(null,s,g,!0,a,f);case 19:return M1(a,s,f);case 22:return A1(a,s,f)}throw Error(r(156,s.tag))};function a_(a,s){return Lb(a,s)}function hR(a,s,f,g){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(a,s,f,g){return new hR(a,s,f,g)}function gp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function pR(a){if(typeof a=="function")return gp(a)?1:0;if(a!=null){if(a=a.$$typeof,a===N)return 11;if(a===V)return 14}return 2}function Ti(a,s){var f=a.alternate;return f===null?(f=Ur(a.tag,s,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=s,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&14680064,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,s=a.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function Sc(a,s,f,g,x,S){var P=2;if(g=a,typeof a=="function")gp(a)&&(P=1);else if(typeof a=="string")P=5;else e:switch(a){case C:return sa(f.children,x,S,s);case I:P=8,x|=8;break;case R:return a=Ur(12,f,s,x|2),a.elementType=R,a.lanes=S,a;case q:return a=Ur(13,f,s,x),a.elementType=q,a.lanes=S,a;case U:return a=Ur(19,f,s,x),a.elementType=U,a.lanes=S,a;case ee:return jc(f,x,S,s);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case H:P=10;break e;case z:P=9;break e;case N:P=11;break e;case V:P=14;break e;case X:P=16,g=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return s=Ur(P,f,s,x),s.elementType=a,s.type=g,s.lanes=S,s}function sa(a,s,f,g){return a=Ur(7,a,g,s),a.lanes=f,a}function jc(a,s,f,g){return a=Ur(22,a,g,s),a.elementType=ee,a.lanes=f,a.stateNode={isHidden:!1},a}function mp(a,s,f){return a=Ur(6,a,null,s),a.lanes=f,a}function vp(a,s,f){return s=Ur(4,a.children!==null?a.children:[],a.key,s),s.lanes=f,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}function yR(a,s,f,g,x){this.tag=s,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hf(0),this.expirationTimes=Hf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hf(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function xp(a,s,f,g,x,S,P,$,B){return a=new yR(a,s,f,$,B),s===1?(s=1,S===!0&&(s|=8)):s=0,S=Ur(3,null,null,s),a.current=S,S.stateNode=a,S.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ih(S),a}function gR(a,s,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:g==null?null:""+g,children:a,containerInfo:s,implementation:f}}function o_(a){if(!a)return bi;a=a._reactInternals;e:{if(Yi(a)!==a||a.tag!==1)throw Error(r(170));var s=a;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(dr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(a.tag===1){var f=a.type;if(dr(f))return Rw(a,f,s)}return s}function s_(a,s,f,g,x,S,P,$,B){return a=xp(f,g,!0,a,x,S,P,$,B),a.context=o_(null),f=a.current,g=ar(),x=Ei(f),S=zn(g,x),S.callback=s??null,Si(f,S,x),a.current.lanes=x,xs(a,x,g),pr(a,g),a}function kc(a,s,f,g){var x=s.current,S=ar(),P=Ei(x);return f=o_(f),s.context===null?s.context=f:s.pendingContext=f,s=zn(S,P),s.payload={element:a},g=g===void 0?null:g,g!==null&&(s.callback=g),a=Si(x,s,P),a!==null&&(on(a,x,P,S),rc(a,x,P)),P}function Oc(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function l_(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<s?f:s}}function bp(a,s){l_(a,s),(a=a.alternate)&&l_(a,s)}function mR(){return null}var u_=typeof reportError=="function"?reportError:function(a){console.error(a)};function wp(a){this._internalRoot=a}Ec.prototype.render=wp.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));kc(a,s,null,null)},Ec.prototype.unmount=wp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;ia(function(){kc(null,a,null,null)}),s[Rn]=null}};function Ec(a){this._internalRoot=a}Ec.prototype.unstable_scheduleHydration=function(a){if(a){var s=Vb();a={blockedOn:null,target:a,priority:s};for(var f=0;f<yi.length&&s!==0&&s<yi[f].priority;f++);yi.splice(f,0,a),f===0&&Yb(a)}};function _p(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Ac(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function c_(){}function vR(a,s,f,g,x){if(x){if(typeof g=="function"){var S=g;g=function(){var Z=Oc(P);S.call(Z)}}var P=s_(s,g,a,0,null,!1,!1,"",c_);return a._reactRootContainer=P,a[Rn]=P.current,Ns(a.nodeType===8?a.parentNode:a),ia(),P}for(;x=a.lastChild;)a.removeChild(x);if(typeof g=="function"){var $=g;g=function(){var Z=Oc(B);$.call(Z)}}var B=xp(a,0,!1,null,null,!1,!1,"",c_);return a._reactRootContainer=B,a[Rn]=B.current,Ns(a.nodeType===8?a.parentNode:a),ia(function(){kc(s,B,f,g)}),B}function Tc(a,s,f,g,x){var S=f._reactRootContainer;if(S){var P=S;if(typeof x=="function"){var $=x;x=function(){var B=Oc(P);$.call(B)}}kc(s,P,a,x)}else P=vR(f,s,a,x,g);return Oc(P)}Wb=function(a){switch(a.tag){case 3:var s=a.stateNode;if(s.current.memoizedState.isDehydrated){var f=vs(s.pendingLanes);f!==0&&(Vf(s,f|1),pr(s,xt()),(Ue&6)===0&&(no=xt()+500,wi()))}break;case 13:ia(function(){var g=Ln(a,1);if(g!==null){var x=ar();on(g,a,1,x)}}),bp(a,1)}},Kf=function(a){if(a.tag===13){var s=Ln(a,134217728);if(s!==null){var f=ar();on(s,a,134217728,f)}bp(a,134217728)}},Hb=function(a){if(a.tag===13){var s=Ei(a),f=Ln(a,s);if(f!==null){var g=ar();on(f,a,s,g)}bp(a,s)}},Vb=function(){return Ge},Kb=function(a,s){var f=Ge;try{return Ge=a,s()}finally{Ge=f}},_t=function(a,s,f){switch(s){case"input":if(it(a,f),s=f.name,f.type==="radio"&&s!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<f.length;s++){var g=f[s];if(g!==a&&g.form===a.form){var x=Vu(g);if(!x)throw Error(r(90));ie(g),it(g,x)}}}break;case"textarea":Ki(a,f);break;case"select":s=f.value,s!=null&&Yt(a,!!f.multiple,s,!1)}},Pb=hp,Ib=ia;var xR={usingClientEntryPoint:!1,Events:[$s,Wa,Vu,mn,$a,hp]},Xs={findFiberByHostInstance:Xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bR={bundleType:Xs.bundleType,version:Xs.version,rendererPackageName:Xs.rendererPackageName,rendererConfig:Xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=$b(a),a===null?null:a.stateNode},findFiberByHostInstance:Xs.findFiberByHostInstance||mR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Eu=Cc.inject(bR),vn=Cc}catch{}}return yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xR,yr.createPortal=function(a,s){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_p(s))throw Error(r(200));return gR(a,s,null,f)},yr.createRoot=function(a,s){if(!_p(a))throw Error(r(299));var f=!1,g="",x=u_;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=xp(a,1,!1,null,null,f,!1,g,x),a[Rn]=s.current,Ns(a.nodeType===8?a.parentNode:a),new wp(s)},yr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=$b(s),a=a===null?null:a.stateNode,a},yr.flushSync=function(a){return ia(a)},yr.hydrate=function(a,s,f){if(!Ac(s))throw Error(r(200));return Tc(null,a,s,!0,f)},yr.hydrateRoot=function(a,s,f){if(!_p(a))throw Error(r(405));var g=f!=null&&f.hydratedSources||null,x=!1,S="",P=u_;if(f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&(P=f.onRecoverableError)),s=s_(s,null,a,1,f??null,x,!1,S,P),a[Rn]=s.current,Ns(a),g)for(a=0;a<g.length;a++)f=g[a],x=f._getVersion,x=x(f._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[f,x]:s.mutableSourceEagerHydrationData.push(f,x);return new Ec(s)},yr.render=function(a,s,f){if(!Ac(s))throw Error(r(200));return Tc(null,a,s,!1,f)},yr.unmountComponentAtNode=function(a){if(!Ac(a))throw Error(r(40));return a._reactRootContainer?(ia(function(){Tc(null,null,a,!1,function(){a._reactRootContainer=null,a[Rn]=null})}),!0):!1},yr.unstable_batchedUpdates=hp,yr.unstable_renderSubtreeIntoContainer=function(a,s,f,g){if(!Ac(f))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return Tc(a,s,f,!1,g)},yr.version="18.3.1-next-f1338f8080-20240426",yr}var v_;function AR(){if(v_)return kp.exports;v_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kp.exports=ER(),kp.exports}var x_;function TR(){if(x_)return Ic;x_=1;var t=AR();return Ic.createRoot=t.createRoot,Ic.hydrateRoot=t.hydrateRoot,Ic}var CR=TR(),M=wx();const F=Ze(M);function tf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function PR(t,e,r,n){function i(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(y){try{h(n.next(y))}catch(p){l(p)}}function d(y){try{h(n.throw(y))}catch(p){l(p)}}function h(y){y.done?o(y.value):i(y.value).then(u,d)}h((n=n.apply(t,e||[])).next())})}const IR=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class _x extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class NR extends _x{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class b_ extends _x{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class w_ extends _x{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Fv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Fv||(Fv={}));class RR{constructor(e,{headers:r={},customFetch:n,region:i=Fv.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=IR(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return PR(this,arguments,void 0,function*(r,n={}){var i;let o,l;try{const{headers:u,method:d,body:h,signal:y,timeout:p}=n;let m={},{region:v}=n;v||(v=this.region);const _=new URL(`${this.url}/${r}`);v&&v!=="any"&&(m["x-region"]=v,_.searchParams.set("forceFunctionRegion",v));let w;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(m["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(m["Content-Type"]="application/json",w=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?w=JSON.stringify(h):w=h;let b=y;p&&(l=new AbortController,o=setTimeout(()=>l.abort(),p),y?(b=l.signal,y.addEventListener("abort",()=>l.abort())):b=l.signal);const k=yield this.fetch(_.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),u),body:w,signal:b}).catch(j=>{throw new NR(j)}),E=k.headers.get("x-relay-error");if(E&&E==="true")throw new b_(k);if(!k.ok)throw new w_(k);let O=((i=k.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return O==="application/json"?T=yield k.json():O==="application/octet-stream"||O==="application/pdf"?T=yield k.blob():O==="text/event-stream"?T=k:O==="multipart/form-data"?T=yield k.formData():T=yield k.text(),{data:T,error:null,response:k}}catch(u){return{data:null,error:u,response:u instanceof w_||u instanceof b_?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var MR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},$R=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let l=null,u=null,d=null,h=o.status,y=o.statusText;if(o.ok){var p,m;if(r.method!=="HEAD"){var v;const k=await o.text();k===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?u=k:u=JSON.parse(k))}const w=(p=r.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),b=(m=o.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");w&&b&&b.length>1&&(d=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,y="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var _;const w=await o.text();try{l=JSON.parse(w),Array.isArray(l)&&o.status===404&&(u=[],l=null,h=200,y="OK")}catch{o.status===404&&w===""?(h=204,y="No Content"):l={message:w}}if(l&&r.isMaybeSingle&&(!(l==null||(_=l.details)===null||_===void 0)&&_.includes("0 rows"))&&(l=null,h=200,y="OK"),l&&r.shouldThrowOnError)throw new MR(l)}return{error:l,data:u,count:d,status:h,statusText:y}});return this.shouldThrowOnError||(i=i.catch(o=>{var l;let u="";const d=o?.cause;if(d){var h,y,p,m;const _=(h=d?.message)!==null&&h!==void 0?h:"",w=(y=d?.code)!==null&&y!==void 0?y:"";u=`${(p=o?.name)!==null&&p!==void 0?p:"FetchError"}: ${o?.message}`,u+=`

Caused by: ${(m=d?.name)!==null&&m!==void 0?m:"Error"}: ${_}`,w&&(u+=` (${w})`),d?.stack&&(u+=`
${d.stack}`)}else{var v;u=(v=o?.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},DR=class extends $R{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var l;const u=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const __=new RegExp("[,()]");var go=class extends DR{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&__.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&__.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},LR=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join(""),{url:u,headers:d}=this.cloneRequestState();return u.searchParams.set("select",l),n&&d.append("Prefer",`count=${n}`),new go({method:i,url:u,headers:d,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:o,headers:l}=this.cloneRequestState();if(e&&l.append("Prefer",`count=${e}`),r||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new go({method:i,url:o,headers:l,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var o;const l="POST",{url:u,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&u.searchParams.set("on_conflict",e),n&&d.append("Prefer",`count=${n}`),i||d.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((y,p)=>y.concat(Object.keys(p)),[]);if(h.length>0){const y=[...new Set(h)].map(p=>`"${p}"`);u.searchParams.set("columns",y.join(","))}}return new go({method:l,url:u,headers:d,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new go({method:n,url:i,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new go({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},zR=class qA{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new LR(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new qA(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:o}={}){var l;let u;const d=new URL(`${this.url}/rpc/${e}`);let h;const y=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(y)),p=n&&Object.values(r).some(y);p?(u="POST",h=r):n||i?(u=n?"HEAD":"GET",Object.entries(r).filter(([v,_])=>_!==void 0).map(([v,_])=>[v,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([v,_])=>{d.searchParams.append(v,_)})):(u="POST",h=r);const m=new Headers(this.headers);return p?m.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&m.set("Prefer",`count=${o}`),new go({method:u,url:d,headers:m,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class BR{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const qR="2.90.1",UR=`realtime-js/${qR}`,UA="1.0.0",FR="2.0.0",S_=UA,Wv=1e4,WR=1e3,HR=100;var Ri;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ri||(Ri={}));var Pt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Pt||(Pt={}));var cn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(cn||(cn={}));var Hv;(function(t){t.websocket="websocket"})(Hv||(Hv={}));var pa;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(pa||(pa={}));class VR{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,r,n){var i,o;const l=e.topic,u=(i=e.ref)!==null&&i!==void 0?i:"",d=(o=e.join_ref)!==null&&o!==void 0?o:"",h=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(y).length===0?"":JSON.stringify(y);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+h.length+p.length,v=new ArrayBuffer(this.HEADER_LENGTH+m);let _=new DataView(v),w=0;_.setUint8(w++,this.KINDS.userBroadcastPush),_.setUint8(w++,d.length),_.setUint8(w++,u.length),_.setUint8(w++,l.length),_.setUint8(w++,h.length),_.setUint8(w++,p.length),_.setUint8(w++,r),Array.from(d,k=>_.setUint8(w++,k.charCodeAt(0))),Array.from(u,k=>_.setUint8(w++,k.charCodeAt(0))),Array.from(l,k=>_.setUint8(w++,k.charCodeAt(0))),Array.from(h,k=>_.setUint8(w++,k.charCodeAt(0))),Array.from(p,k=>_.setUint8(w++,k.charCodeAt(0)));var b=new Uint8Array(v.byteLength+n.byteLength);return b.set(new Uint8Array(v),0),b.set(new Uint8Array(n),v.byteLength),b.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,o,l,u,d]=n;return r({join_ref:i,ref:o,topic:l,event:u,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),o=r.getUint8(2),l=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const h=n.decode(e.slice(d,d+i));d=d+i;const y=n.decode(e.slice(d,d+o));d=d+o;const p=n.decode(e.slice(d,d+l));d=d+l;const m=e.slice(d,e.byteLength),v=u===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,_={type:this.BROADCAST_EVENT,event:y,payload:v};return l>0&&(_.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class FA{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(tt||(tt={}));const j_=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,l)=>(o[l]=KR(l,t,e,i),o),{}):{}},KR=(t,e,r,n)=>{const i=e.find(u=>u.name===t),o=i?.type,l=r[t];return o&&!n.includes(o)?WA(o,l):Vv(l)},WA=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return JR(e,r)}switch(t){case tt.bool:return GR(e);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return YR(e);case tt.json:case tt.jsonb:return XR(e);case tt.timestamp:return QR(e);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:return Vv(e);default:return Vv(e)}},Vv=t=>t,GR=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},YR=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},XR=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},JR=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const l=t.slice(1,r);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>WA(e,u))}return t},QR=t=>typeof t=="string"?t.replace(" ","T"):t,HA=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ap{constructor(e,r,n={},i=Wv){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var k_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(k_||(k_={}));class fl{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fl.syncState(this.state,i,o,l),this.pendingDiffs.forEach(d=>{this.state=fl.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=fl.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const o=this.cloneDeep(e),l=this.transformState(r),u={},d={};return this.map(o,(h,y)=>{l[h]||(d[h]=y)}),this.map(l,(h,y)=>{const p=o[h];if(p){const m=y.map(b=>b.presence_ref),v=p.map(b=>b.presence_ref),_=y.filter(b=>v.indexOf(b.presence_ref)<0),w=p.filter(b=>m.indexOf(b.presence_ref)<0);_.length>0&&(u[h]=_),w.length>0&&(d[h]=w)}else u[h]=y}),this.syncDiff(o,{joins:u,leaves:d},n,i)}static syncDiff(e,r,n,i){const{joins:o,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(u,d)=>{var h;const y=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(d),y.length>0){const p=e[u].map(v=>v.presence_ref),m=y.filter(v=>p.indexOf(v.presence_ref)<0);e[u].unshift(...m)}n(u,y,d)}),this.map(l,(u,d)=>{let h=e[u];if(!h)return;const y=d.map(p=>p.presence_ref);h=h.filter(p=>y.indexOf(p.presence_ref)<0),e[u]=h,i(u,h,d),h.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var O_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(O_||(O_={}));var hl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(hl||(hl={}));var Kn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Kn||(Kn={}));class xo{constructor(e,r={config:{}},n){var i,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ap(this,cn.join,this.params,this.timeout),this.rejoinTimer=new FA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new fl(this),this.broadcastEndpointURL=HA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Pt.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&i!==void 0?i:[],y=!!this.bindings[hl.PRESENCE]&&this.bindings[hl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},m={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:y}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>e?.(Kn.CHANNEL_ERROR,v)),this._onClose(()=>e?.(Kn.CLOSED)),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e?.(Kn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(_=w?.length)!==null&&_!==void 0?_:0,k=[];for(let E=0;E<b;E++){const O=w[E],{filter:{event:T,schema:j,table:A,filter:C}}=O,I=v&&v[E];if(I&&I.event===T&&xo.isFilterValueEqual(I.schema,j)&&xo.isFilterValueEqual(I.table,A)&&xo.isFilterValueEqual(I.filter,C))k.push(Object.assign(Object.assign({},O),{id:I.id}));else{this.unsubscribe(),this.state=Pt.errored,e?.(Kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(Kn.SUBSCRIBED);return}}).receive("error",v=>{this.state=Pt.errored,e?.(Kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e?.(Kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Pt.joined&&e===hl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const h=await u.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,d;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Pt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Ap(this,cn.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(o),l}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ap(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>HR){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,o;const l=e.toLocaleLowerCase(),{close:u,error:d,leave:h,join:y}=cn;if(n&&[u,d,h,y].indexOf(l)>=0&&n!==this._joinRef())return;let m=this._onMessage(l,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var _,w,b;return((_=v.filter)===null||_===void 0?void 0:_.event)==="*"||((b=(w=v.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===l}).map(v=>v.callback(m,n)):(o=this.bindings[l])===null||o===void 0||o.filter(v=>{var _,w,b,k,E,O,T,j;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const A=v.id,C=(_=v.filter)===null||_===void 0?void 0:_.event;return A&&((w=r.ids)===null||w===void 0?void 0:w.includes(A))&&(C==="*"||C?.toLocaleLowerCase()===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))&&(!(!((k=v.filter)===null||k===void 0)&&k.table)||v.filter.table===((E=r.data)===null||E===void 0?void 0:E.table))}else{const A=(T=(O=v?.filter)===null||O===void 0?void 0:O.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return A==="*"||A===((j=r?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof m=="object"&&"ids"in m){const _=m.data,{schema:w,table:b,commit_timestamp:k,type:E,errors:O}=_;m=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:k,eventType:E,new:{},old:{},errors:O}),this._getPayloadRecords(_))}v.callback(m,n)})}_isClosed(){return this.state===Pt.closed}_isJoined(){return this.state===Pt.joined}_isJoining(){return this.state===Pt.joining}_isLeaving(){return this.state===Pt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),o={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&xo.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(cn.close,{},e)}_onError(e){this._on(cn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=j_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=j_(e.columns,e.old_record)),r}}const Tp=()=>{},Nc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ZR=[1e3,2e3,5e3,1e4],eM=1e4,tM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rM{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wv,this.transport=null,this.heartbeatIntervalMs=Nc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tp,this.ref=0,this.reconnectTimer=null,this.vsn=S_,this.logger=Tp,this.conn=null,this.sendBuffer=[],this.serializer=new VR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Hv.websocket}`,this.httpEndpoint=HA(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=BR.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ri.connecting:return pa.Connecting;case Ri.open:return pa.Open;case Ri.closing:return pa.Closing;default:return pa.Closed}}isConnected(){return this.connectionState()===pa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===n);if(i)return i;{const o=new xo(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:i,ref:o}=e,l=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(WR,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Nc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",h)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:o,ref:l}=r,u=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${n} ${i} ${u}`.trim(),o),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(i,o,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ri.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ri.open||this.conn.readyState===Ri.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(cn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([tM],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const o={access_token:r,version:UR};r&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(cn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new FA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Nc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,o,l,u,d,h,y,p,m,v;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Wv,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Nc.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:Tp,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:S_,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(_=>ZR[_-1]||eM),this.vsn){case UA:this.encode=(y=e?.encode)!==null&&y!==void 0?y:((_,w)=>w(JSON.stringify(_))),this.decode=(p=e?.decode)!==null&&p!==void 0?p:((_,w)=>w(JSON.parse(_)));break;case FR:this.encode=(m=e?.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var xl=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function nM(t,e,r){const n=new URL(e,t);if(r)for(const[i,o]of Object.entries(r))o!==void 0&&n.searchParams.set(i,o);return n.toString()}async function iM(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function aM(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:o,headers:l}){const u=nM(t.baseUrl,n,i),d=await iM(t.auth),h=await e(u,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...d,...l},body:o?JSON.stringify(o):void 0}),y=await h.text(),p=(h.headers.get("content-type")||"").includes("application/json"),m=p&&y?JSON.parse(y):y;if(!h.ok){const v=p?m:void 0,_=v?.error;throw new xl(_?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:_?.type,icebergCode:_?.code,details:v})}return{status:h.status,headers:h.headers,data:m}}}}function Rc(t){return t.join("")}var oM=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Rc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Rc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Rc(t.namespace)}`}),!0}catch(e){if(e instanceof xl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof xl&&r.status===409)return;throw r}}};function ao(t){return t.join("")}var sM=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ao(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ao(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ao(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ao(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ao(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ao(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof xl&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof xl&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},lM=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=aM({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new oM(this.client,e),this.tableOps=new sM(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},rf=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ht(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var uM=class extends rf{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Kv=class extends rf{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Sx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),cM=()=>Response,Gv=t=>{if(Array.isArray(t))return t.map(r=>Gv(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Gv(n)}),e},dM=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},fM=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function hM(t,e){if(bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pM(t){var e=hM(t,"string");return bl(e)=="symbol"?e:e+""}function yM(t,e,r){return(e=pM(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E_(Object(r),!0).forEach(function(n){yM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Cp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},gM=async(t,e,r)=>{t instanceof await cM()&&!r?.noResolveJson?t.json().then(n=>{const i=t.status||500,o=n?.statusCode||i+"";e(new uM(Cp(n),i,o))}).catch(n=>{e(new Kv(Cp(n),n))}):e(new Kv(Cp(t),t))},mM=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(dM(n)?(i.headers=Pe({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Pe(Pe({},i),r))};async function du(t,e,r,n,i,o){return new Promise((l,u)=>{t(r,mM(e,n,i,o)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>gM(d,u,n))})}async function wl(t,e,r,n){return du(t,"GET",e,r,n)}async function un(t,e,r,n,i){return du(t,"POST",e,n,i,r)}async function Yv(t,e,r,n,i){return du(t,"PUT",e,n,i,r)}async function vM(t,e,r,n){return du(t,"HEAD",e,Pe(Pe({},r),{},{noResolveJson:!0}),n)}async function jx(t,e,r,n,i){return du(t,"DELETE",e,n,i,r)}var xM=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ht(e))return{data:null,error:e};throw e}}};let VA;VA=Symbol.toStringTag;var bM=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[VA]="BlobDownloadBuilder",this.promise=null}asStream(){return new xM(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ht(e))return{data:null,error:e};throw e}}};const wM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},A_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var _M=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Sx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var i=this;try{let o;const l=Pe(Pe({},A_),n);let u=Pe(Pe({},i.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",i.encodeMetadata(d)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),d&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(d))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),n?.headers&&(u=Pe(Pe({},u),n.headers));const h=i._removeEmptyFolders(e),y=i._getFinalPath(h),p=await(t=="PUT"?Yv:un)(i.fetch,`${i.url}/object/${y}`,o,Pe({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(ht(o))return{data:null,error:o};throw o}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const o=i._removeEmptyFolders(t),l=i._getFinalPath(o),u=new URL(i.url+`/object/upload/sign/${l}`);u.searchParams.set("token",e);try{let d;const h=Pe({upsert:A_.upsert},n),y=Pe(Pe({},i.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",h.cacheControl)):(d=r,y["cache-control"]=`max-age=${h.cacheControl}`,y["content-type"]=h.contentType),{data:{path:o,fullPath:(await Yv(i.fetch,u.toString(),d,{headers:y})).Key},error:null}}catch(d){if(i.shouldThrowOnError)throw d;if(ht(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const i=Pe({},r.headers);e?.upsert&&(i["x-upsert"]="true");const o=await un(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(r.url+o.url),u=l.searchParams.get("token");if(!u)throw new rf("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await un(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}}async copy(t,e,r){var n=this;try{return{data:{path:(await un(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,r){var n=this;try{let i=n._getFinalPath(t),o=await un(n.fetch,`${n.url}/object/sign/${i}`,Pe({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${n.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,r){var n=this;try{const i=await un(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Pe(Pe({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),i=n?`?${n}`:"",o=this._getFinalPath(t),l=()=>wl(this.fetch,`${this.url}/${r}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new bM(l,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Gv(await wl(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await vM(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ht(n)&&n instanceof Kv){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const o=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}async remove(t){var e=this;try{return{data:await jx(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const i=Pe(Pe(Pe({},wM),e),{},{prefix:t||""});return{data:await un(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}}async listV2(t,e){var r=this;try{const n=Pe({},t);return{data:await un(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const KA="2.90.1",GA={"X-Client-Info":`storage-js/${KA}`};var SM=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const i=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Pe(Pe({},GA),e),this.fetch=Sx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await wl(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await wl(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await un(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await Yv(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await un(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await jx(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},jM=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},GA),e),this.fetch=Sx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await un(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await wl(e.fetch,i,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await jx(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!fM(t))throw new rf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new lM({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,o){const l=i[o];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(i,u),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}};const kx={"X-Client-Info":`storage-js/${KA}`,"Content-Type":"application/json"};var YA=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Pr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Pp=class extends YA{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},kM=class extends YA{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Ox=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),OM=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},T_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),EM=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const l=o?.statusCode||o?.code||n+"";e(new Pp(T_(o),n,l))}).catch(()=>{const o=n+"";e(new Pp(i.statusText||`HTTP ${n} error`,n,o))});else{const o=n+"";e(new Pp(i.statusText||`HTTP ${n} error`,n,o))}}else e(new kM(T_(t),t))},AM=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return n?(OM(n)?(i.headers=Pe({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,Pe(Pe({},i),r)):i};async function TM(t,e,r,n,i,o){return new Promise((l,u)=>{t(r,AM(e,n,i,o)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>EM(d,u,n))})}async function Ir(t,e,r,n,i){return TM(t,"POST",e,n,i,r)}var CM=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},kx),e),this.fetch=Ox(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Ir(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Ir(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}}},PM=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},kx),e),this.fetch=Ox(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ir(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Ir(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ir(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}},IM=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},kx),e),this.fetch=Ox(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}},NM=class extends IM{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new RM(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},RM=class extends CM{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new MM(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},MM=class extends PM{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},$M=class extends SM{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new _M(this.url,this.headers,t,this.fetch)}get vectors(){return new NM(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new jM(this.url+"/iceberg",this.headers,this.fetch)}};const XA="2.90.1",mo=30*1e3,Xv=3,Ip=Xv*mo,DM="http://localhost:9999",LM="supabase.auth.token",zM={"X-Client-Info":`gotrue-js/${XA}`},Jv="X-Supabase-Api-Version",JA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qM=600*1e3;class _l extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function je(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class UM extends _l{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function FM(t){return je(t)&&t.name==="AuthApiError"}class ya extends _l{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class si extends _l{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Er extends si{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function WM(t){return je(t)&&t.name==="AuthSessionMissingError"}class oo extends si{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mc extends si{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $c extends si{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function HM(t){return je(t)&&t.name==="AuthImplicitGrantRedirectError"}class C_ extends si{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class VM extends si{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Qv extends si{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Np(t){return je(t)&&t.name==="AuthRetryableFetchError"}class P_ extends si{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Zv extends si{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),I_=` 	
\r=`.split(""),KM=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<I_.length;e+=1)t[I_[e].charCodeAt(0)]=-2;for(let e=0;e<Qc.length;e+=1)t[Qc[e].charCodeAt(0)]=e;return t})();function N_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Qc[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Qc[n]),e.queuedBits-=6}}function QA(t,e,r){const n=KM[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function R_(t){const e=[],r=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{XM(l,n,r)};for(let l=0;l<t.length;l+=1)QA(t.charCodeAt(l),i,o);return e.join("")}function GM(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function YM(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}GM(n,e)}}function XM(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ko(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)QA(t.charCodeAt(i),r,n);return new Uint8Array(e)}function JM(t){const e=[];return YM(t,r=>e.push(r)),new Uint8Array(e)}function ga(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>N_(i,r,n)),N_(null,r,n),e.join("")}function QM(t){return Math.round(Date.now()/1e3)+t}function ZM(){return Symbol("auth-callback")}const Wt=()=>typeof window<"u"&&typeof document<"u",la={tested:!1,writable:!1},ZA=()=>{if(!Wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(la.tested)return la.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),la.tested=!0,la.writable=!0}catch{la.tested=!0,la.writable=!1}return la.writable};function e$(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const eT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),t$=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",vo=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ua=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ft=async(t,e)=>{await t.removeItem(e)};class nf{constructor(){this.promise=new nf.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}nf.promiseConstructor=Promise;function Rp(t){const e=t.split(".");if(e.length!==3)throw new Zv("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!BM.test(e[n]))throw new Zv("JWT not in base64url format");return{header:JSON.parse(R_(e[0])),payload:JSON.parse(R_(e[1])),signature:ko(e[2]),raw:{header:e[0],payload:e[1]}}}async function r$(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function n$(t,e){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await t(o);if(!e(o,null,l)){n(l);return}}catch(l){if(!e(o,l)){i(l);return}}})()})}function i$(t){return("0"+t.toString(16)).substr(-2)}function a$(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let o=0;o<56;o++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,i$).join("")}async function o$(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function s$(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await o$(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function so(t,e,r=!1){const n=a$();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await vo(t,`${e}-code-verifier`,i);const o=await s$(n);return[o,n===o?"plain":"s256"]}const l$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function u$(t){const e=t.headers.get(Jv);if(!e||!e.match(l$))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function c$(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function d$(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const f$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lo(t){if(!f$.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mp(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function h$(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function M_(t){return JSON.parse(JSON.stringify(t))}const da=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),p$=[502,503,504];async function $_(t){var e;if(!t$(t))throw new Qv(da(t),0);if(p$.includes(t.status))throw new Qv(da(t),t.status);let r;try{r=await t.json()}catch(o){throw new ya(da(o),o)}let n;const i=u$(t);if(i&&i.getTime()>=JA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new P_(da(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Er}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new P_(da(r),t.status,r.weak_password.reasons);throw new UM(da(r),t.status||500,n)}const y$=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ce(t,e,r,n){var i;const o=Object.assign({},n?.headers);o[Jv]||(o[Jv]=JA["2024-01-01"].name),n?.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const l=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await g$(t,e,r+u,{headers:o,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function g$(t,e,r,n,i,o){const l=y$(e,n,i,o);let u;try{u=await t(r,Object.assign({},l))}catch(d){throw console.error(d),new Qv(da(d),0)}if(u.ok||await $_(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await $_(d)}}function ln(t){var e;let r=null;x$(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=QM(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function D_(t){const e=ln(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $i(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function m$(t){return{data:t,error:null}}function v$(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o}=t,l=tf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function L_(t){return t}function x$(t){return t.access_token&&t.refresh_token&&t.expires_in}const $p=["global","local","others"];class b${constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=eT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=$p[0]){if($p.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$p.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:$i})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=tf(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:v$,redirectTo:r?.redirectTo})}catch(r){if(je(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$i})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,o,l,u,d;try{const h={nextPage:null,lastPage:0,total:0},y=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:L_});if(y.error)throw y.error;const p=await y.json(),m=(l=y.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=y.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(_.split(";")[1].split("=")[1]);h[`${b}Page`]=w}),h.total=parseInt(m)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(je(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){lo(e);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$i})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){lo(e);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:$i})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){lo(e);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:$i})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){lo(e.userId);try{const{data:r,error:n}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _deleteFactor(e){lo(e.userId),lo(e.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,o,l,u,d;try{const h={nextPage:null,lastPage:0,total:0},y=await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:L_});if(y.error)throw y.error;const p=await y.json(),m=(l=y.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=y.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(_.split(";")[1].split("=")[1]);h[`${b}Page`]=w}),h.total=parseInt(m)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(je(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}}function z_(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const uo={debug:!!(globalThis&&ZA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class w$ extends tT{}async function _$(t,e,r){uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),uo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new w$(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(uo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function S$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function rT(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function j$(t){return parseInt(t,16)}function k$(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function O$(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:d,resources:h,scheme:y,uri:p,version:m}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=rT(t.address),_=y?`${y}://${n}`:n,w=t.statement?`${t.statement}
`:"",b=`${_} wants you to sign in with your Ethereum account:
${v}

${w}`;let k=`URI: ${p}
Version: ${m}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),u&&(k+=`
Not Before: ${u.toISOString()}`),d&&(k+=`
Request ID: ${d}`),h){let E=`
Resources:`;for(const O of h){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);E+=`
- ${O}`}k+=E}return`${b}
${k}`}class kt extends Error{constructor({message:e,code:r,cause:n,name:i}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=i??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Zc extends kt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function E$({error:t,options:e}){var r,n,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new kt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new kt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new kt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new kt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new kt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new kt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new kt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new kt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(nT(l)){if(o.rp.id!==l)return new kt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new kt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function A$({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new kt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new kt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(nT(n)){if(r.rpId!==n)return new kt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class T${createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const C$=new T$;function P$(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=tf(t,["challenge","user","excludeCredentials"]),o=ko(e).buffer,l=Object.assign(Object.assign({},r),{id:ko(r.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const h=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:ko(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function I$(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=tf(t,["challenge","allowCredentials"]),i=ko(e).buffer,o=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:ko(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function N$(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:ga(new Uint8Array(t.response.attestationObject)),clientDataJSON:ga(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function R$(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ga(new Uint8Array(i.authenticatorData)),clientDataJSON:ga(new Uint8Array(i.clientDataJSON)),signature:ga(new Uint8Array(i.signature)),userHandle:i.userHandle?ga(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function nT(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function B_(){var t,e;return!!(Wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function M$(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Zc("Browser returned unexpected credential type",e)}:{data:null,error:new Zc("Empty credential response",e)}}catch(e){return{data:null,error:E$({error:e,options:t})}}}async function $$(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Zc("Browser returned unexpected credential type",e)}:{data:null,error:new Zc("Empty credential response",e)}}catch(e){return{data:null,error:A$({error:e,options:t})}}}const D$={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},L$={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ed(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))n[o]=l;else if(r(l))n[o]=l;else if(e(l)){const u=n[o];e(u)?n[o]=ed(u,l):n[o]=ed(l)}else n[o]=l}return n}function z$(t,e){return ed(D$,t,e||{})}function B$(t,e){return ed(L$,t,e||{})}class q${constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!l)return{data:null,error:u};const d=i??C$.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=z$(l.webauthn.credential_options.publicKey,o?.create),{data:y,error:p}=await M$({publicKey:h,signal:d});return y?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:y}},error:null}:{data:null,error:p}}case"request":{const h=B$(l.webauthn.credential_options.publicKey,o?.request),{data:y,error:p}=await $$(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:d}));return y?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:y}},error:null}:{data:null,error:p}}}}catch(l){return je(l)?{data:null,error:l}:{data:null,error:new ya("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!r)return{data:null,error:new _l("rpId is required for WebAuthn authentication")};try{if(!B_())return{data:null,error:new ya("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(l){return je(l)?{data:null,error:l}:{data:null,error:new ya("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!r)return{data:null,error:new _l("rpId is required for WebAuthn registration")};try{if(!B_())return{data:null,error:new ya("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(y=>{var p;return(p=y.data)===null||p===void 0?void 0:p.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:u};const{data:d,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(l){return je(l)?{data:null,error:l}:{data:null,error:new ya("Unexpected error in register",l)}}}}S$();const U$={url:DM,storageKey:LM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function q_(t,e,r){return await r()}const co={};class Sl{get jwks(){var e,r;return(r=(e=co[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){co[this.storageKey]=Object.assign(Object.assign({},co[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=co[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){co[this.storageKey]=Object.assign(Object.assign({},co[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},U$),e);if(this.storageKey=o.storageKey,this.instanceID=(r=Sl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Sl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Wt()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new b$({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=eT(o.fetch),this.lock=o.lock||q_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&Wt()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=_$:this.lock=q_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new q$(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:ZA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=z_(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=z_(this.memoryStorage)),Wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${XA}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Wt()&&(r=e$(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Wt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),HM(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return je(r)?this._returnResult({error:r}):this._returnResult({error:new ya("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const o=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ln}),{data:l,error:u}=o;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(je(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,n,i;try{let o;if("email"in e){const{email:y,password:p,options:m}=e;let v=null,_=null;this.flowType==="pkce"&&([v,_]=await so(this.storage,this.storageKey)),o=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:y,password:p,data:(r=m?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:v,code_challenge_method:_},xform:ln})}else if("phone"in e){const{phone:y,password:p,options:m}=e;o=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:p,data:(n=m?.data)!==null&&n!==void 0?n:{},channel:(i=m?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:ln})}else throw new Mc("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return await Ft(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),je(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:l,options:u}=e;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:D_})}else if("phone"in e){const{phone:o,password:l,options:u}=e;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:D_})}else throw new Mc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const o=new oo;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,o,l,u,d,h,y,p,m;let v,_;if("message"in e)v=e.message,_=e.signature;else{const{chain:w,wallet:b,statement:k,options:E}=e;let O;if(Wt())if(typeof b=="object")O=b;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")O=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=b}const T=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),j=await O.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=rT(j[0]);let C=(n=E?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const R=await O.request({method:"eth_chainId"});C=j$(R)}const I={domain:T.host,address:A,statement:k,uri:T.href,version:"1",chainId:C,nonce:(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=E?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=E?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(y=E?.signInWithEthereum)===null||y===void 0?void 0:y.resources};v=O$(I),_=await O.request({method:"personal_sign",params:[k$(v),A]})}try{const{data:w,error:b}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:_},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ln});if(b)throw b;if(!w||!w.session||!w.user){const k=new oo;return this._returnResult({data:{user:null,session:null},error:k})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:b})}catch(w){if(je(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,i,o,l,u,d,h,y,p,m,v;let _,w;if("message"in e)_=e.message,w=e.signature;else{const{chain:b,wallet:k,statement:E,options:O}=e;let T;if(Wt())if(typeof k=="object")T=k;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))T=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=k}const j=new URL((r=O?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const A=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),E?{statement:E}:null));let C;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")C=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)C=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)_=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${j.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(n=O?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=O?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((l=O?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((u=O?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((d=O?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((h=O?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((p=(y=O?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||p===void 0)&&p.length?["Resources",...O.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const A=await T.signMessage(new TextEncoder().encode(_),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=A}}try{const{data:b,error:k}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:ga(w)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ln});if(k)throw k;if(!b||!b.session||!b.user){const E=new oo;return this._returnResult({data:{user:null,session:null},error:E})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:k})}catch(b){if(je(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await ua(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new VM;const{data:o,error:l}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ln});if(await Ft(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const u=new oo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),je(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:o,nonce:l}=e,u=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ln}),{data:d,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const y=new oo;return this._returnResult({data:{user:null,session:null},error:y})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,o,l;try{if("email"in e){const{email:u,options:d}=e;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await so(this.storage,this.storageKey));const{error:p}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:y},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:u,options:d}=e,{data:h,error:y}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:y})}throw new Mc("You must provide either an email or phone number.")}catch(u){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),je(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var r,n;try{let i,o;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:ln});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,o,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await so(this.storage,this.storageKey));const h=await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:m$});return!((o=h.data)===null||o===void 0)&&o.url&&Wt()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(u){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),je(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Er;const{error:i}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(je(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:o}=e,{error:l}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:n,type:i,options:o}=e,{data:l,error:u}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:u})}throw new Mc("You must provide either an email or phone number and a type")}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ua(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ip:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await ua(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=Mp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=h$(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$i}):await this._useSession(async r=>{var n,i,o;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Er}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:$i})})}catch(r){if(je(r))return WM(r)&&(await this._removeSession(),await Ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new Er;const l=i.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await so(this.storage,this.storageKey));const{data:h,error:y}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:$i});if(y)throw y;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),je(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Er;const r=Date.now()/1e3;let n=r,i=!0,o=null;const{payload:l}=Rp(e.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(je(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:l,error:u}=r;if(u)throw u;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Er;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Wt())throw new $c("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $c(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new C_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $c("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new C_("No code detected.");const{data:E,error:O}=await this._exchangeCodeForSession(e.code);if(O)throw O;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:d,token_type:h}=e;if(!o||!u||!l||!h)throw new $c("No session defined in URL");const y=Math.round(Date.now()/1e3),p=parseInt(u);let m=y+p;d&&(m=parseInt(d));const v=m-y;v*1e3<=mo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const _=m-p;y-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,m,y):y-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,m,y);const{data:w,error:b}=await this._getUser(o);if(b)throw b;const k={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:p,expires_at:m,refresh_token:l,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(n){if(je(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ua(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({error:o});const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(FM(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await Ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=ZM(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:o},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await so(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),je(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async o=>{var l,u,d,h,y;const{data:p,error:m}=o;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",v,{headers:this.headers,jwt:(y=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&y!==void 0?y:void 0})});if(i)throw i;return Wt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(je(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:o}}=r;if(i)throw i;const{options:l,provider:u,token:d,access_token:h,nonce:y}=e,p=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:h,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:ln}),{data:m,error:v}=p;return v?this._returnResult({data:{user:null,session:null},error:v}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new oo}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:v}))}catch(i){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:l}=r;if(l)throw l;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await n$(async i=>(i>0&&await r$(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ln})),(i,o)=>{const l=200*Math.pow(2,i);return o&&Np(o)&&Date.now()+l-n<mo})}catch(n){if(this._debug(r,"error",n),je(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Wt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ua(this.storage,this.storageKey);if(i&&this.userStorage){let l=await ua(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await vo(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l?.user)!==null&&e!==void 0?e:Mp()}else if(i&&!i.user&&!i.user){const l=await ua(this.storage,this.storageKey+"-user");l&&l?.user?(i.user=l.user,await Ft(this.storage,this.storageKey+"-user"),await vo(this.storage,this.storageKey,i)):i.user=Mp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ip;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Ip}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Np(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&l?.user?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Er;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new nf;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new Er;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),je(o)){const l={data:null,error:o};return Np(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ft(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await vo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const o=M_(i);await vo(this.storage,this.storageKey,o)}else{const i=M_(r);await vo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ft(this.storage,this.storageKey),await Ft(this.storage,this.storageKey+"-code-verifier"),await Ft(this.storage,this.storageKey+"-user"),this.userStorage&&await Ft(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Wt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),mo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/mo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${mo}ms, refresh threshold is ${Xv} ticks`),i<=Xv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof tT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,l]=await so(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(n?.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?this._returnResult({data:null,error:o}):await Ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:h}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?N$(e.webauthn.credential_response):R$(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await Ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=await Ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:P$(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:I$(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Rp(n.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Er})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Er});const l=await Ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Wt()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Er});const l=await Ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Wt()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Er})})}catch(e){if(je(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Er})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+qM>i)return n;const{data:o,error:l}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,n=o.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:_}=await this.getSession();if(_||!v.session)return this._returnResult({data:null,error:_});n=v.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:d}}=Rp(n);r?.allowExpired||c$(o.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:o,header:i,signature:l},error:null}}const y=d$(i.alg),p=await crypto.subtle.importKey("jwk",h,y,!0,["verify"]);if(!await crypto.subtle.verify(y,p,l,JM(`${u}.${d}`)))throw new Zv("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}}Sl.nextInstanceID={};const F$=Sl,W$="2.90.1";let ll="";typeof Deno<"u"?ll="deno":typeof document<"u"?ll="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ll="react-native":ll="node";const H$={"X-Client-Info":`supabase-js-${ll}/${W$}`},V$={headers:H$},K$={schema:"public"},G$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Y$={};function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function X$(t,e){if(jl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J$(t){var e=X$(t,"string");return jl(e)=="symbol"?e:e+""}function Q$(t,e,r){return(e=J$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U_(Object(r),!0).forEach(function(n){Q$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Z$=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),eD=()=>Headers,tD=(t,e,r)=>{const n=Z$(r),i=eD();return async(o,l)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:t;let h=new i(l?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(o,gt(gt({},l),{},{headers:h}))}};function rD(t){return t.endsWith("/")?t:t+"/"}function nD(t,e){var r,n;const{db:i,auth:o,realtime:l,global:u}=t,{db:d,auth:h,realtime:y,global:p}=e,m={db:gt(gt({},d),i),auth:gt(gt({},h),o),realtime:gt(gt({},y),l),storage:{},global:gt(gt(gt({},p),u),{},{headers:gt(gt({},(r=p?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function iD(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(rD(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var aD=class extends F${constructor(t){super(t)}},oD=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const o=iD(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:K$,realtime:Y$,auth:gt(gt({},G$),{},{storageKey:l}),global:V$},d=nD(r??{},u);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(y,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=d.auth)!==null&&h!==void 0?h:{},this.headers,d.global.fetch)}this.fetch=tD(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(gt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new zR(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new $M(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new RR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:o,flowType:l,lock:u,debug:d,throwOnError:h},y,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aD({url:this.authUrl.href,headers:gt(gt({},m),y),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:l,lock:u,debug:d,throwOnError:h,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new rM(this.realtimeUrl.href,gt(gt({},t),{},{params:gt(gt({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const sD=(t,e,r)=>new oD(t,e,r);function lD(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}lD()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const gr="sugvmurszfcneaeyoagv",uD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN1Z3ZtdXJzemZjbmVhZXlvYWd2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0MDUzMTUsImV4cCI6MjA4Mzk4MTMxNX0.mbCqGbmHFrR0Hk_1GqWYRxy6TapS_ajJJHwiG0LKK1w";let Dp=null;function Xr(){return Dp||(Dp=sD(`https://${gr}.supabase.co`,uD)),Dp}const iT=Xr();async function cD(t,e){try{const{data:r,error:n}=await iT.auth.signInWithPassword({email:t,password:e});return n?(console.error("Sign in error:",n.message),{session:null,error:n.message||"Failed to sign in"}):r.session?(console.log(" Sign in successful"),{session:r.session,error:null}):{session:null,error:"No session received from auth provider"}}catch(r){const n=r instanceof Error?r.message:"Unknown error";return console.error("Sign in exception:",r),{session:null,error:n}}}async function F_(){try{const{error:t}=await iT.auth.signOut();return t?(console.error("Sign out error:",t.message),{success:!1,error:t.message||"Failed to sign out"}):(console.log(" Sign out successful"),{success:!0,error:null})}catch(t){const e=t instanceof Error?t.message:"Unknown error";return console.error("Sign out exception:",t),{success:!1,error:e}}}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),W_=t=>{const e=fD(t);return e.charAt(0).toUpperCase()+e.slice(1)},aT=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:l,...u},d)=>M.createElement("svg",{ref:d,...hD,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:aT("lucide",i),...u},[...l.map(([h,y])=>M.createElement(h,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(t,e)=>{const r=M.forwardRef(({className:n,...i},o)=>M.createElement(pD,{ref:o,iconNode:e,className:aT(`lucide-${dD(W_(t))}`,`lucide-${t}`,n),...i}));return r.displayName=W_(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],gD=Ae("activity",yD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],e0=Ae("arrow-right-left",mD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],H_=Ae("arrow-right",vD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],bD=Ae("boxes",xD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],kl=Ae("calendar",wD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],bo=Ae("chart-column",_D);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],af=Ae("chevron-down",SD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kD=Ae("chevron-left",jD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oT=Ae("chevron-right",OD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],AD=Ae("chevron-up",ED);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],CD=Ae("circle-arrow-down",TD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Io=Ae("circle-alert",PD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],ND=Ae("circle-arrow-up",ID);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jn=Ae("circle-check-big",RD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Lp=Ae("circle-check",MD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Oo=Ae("circle-x",$D);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],t0=Ae("clock",DD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],of=Ae("download",LD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],BD=Ae("eye-off",zD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sf=Ae("eye",qD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],wo=Ae("file-text",UD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],WD=Ae("info",FD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],VD=Ae("layout-dashboard",HD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ri=Ae("loader-circle",KD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],YD=Ae("lock",GD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],JD=Ae("log-in",XD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],ZD=Ae("log-out",QD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],t4=Ae("mail",e4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],V_=Ae("map-pin",r4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],i4=Ae("menu",n4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],br=Ae("package",a4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],s4=Ae("pen",o4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ol=Ae("plus",l4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],c4=Ae("power",u4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],is=Ae("refresh-cw",d4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],En=Ae("search",f4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sT=Ae("settings",h4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],lT=Ae("shield",p4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],g4=Ae("square-pen",y4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],El=Ae("trash-2",m4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Al=Ae("trending-up",v4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mr=Ae("triangle-alert",x4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],uT=Ae("truck",b4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],K_=Ae("user-check",w4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],S4=Ae("user-cog",_4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],k4=Ae("user-plus",j4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],G_=Ae("user-x",O4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],r0=Ae("users",E4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]],cT=Ae("warehouse",A4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Eo=Ae("x",T4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],dT=Ae("zap",C4);class P4 extends M.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r),this.setState({error:e,errorInfo:r})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"bg-red-100 p-3 rounded-lg",children:c.jsx(mr,{className:"text-red-600",size:24})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Something went wrong"})]}),c.jsx("p",{className:"text-gray-600 mb-6",children:"We encountered an unexpected error. This has been logged and we'll look into it."}),!1,c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:this.handleReset,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[c.jsx(is,{size:18}),"Try Again"]}),c.jsx("button",{onClick:()=>window.location.href="/",className:"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Go Home"})]})]})}):this.props.children}}function Y_(t){const e=[...t];for(let r=e.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[e[r],e[n]]=[e[n],e[r]]}return e}function I4({dataSource:t="/data/quotes.json",intervalMs:e=3e4,height:r="60px",className:n=""}){const[i,o]=M.useState([]),[l,u]=M.useState(0),[d,h]=M.useState(!0),[y,p]=M.useState(!0),[m,v]=M.useState(null),_=M.useRef(null),w=M.useRef([]);M.useEffect(()=>{let T=!0;return(async()=>{try{p(!0),v(null);const A=await fetch(t);if(!A.ok)throw new Error(`Failed to fetch quotes: ${A.status}`);const C=await A.json();if(!C.quotes||!Array.isArray(C.quotes)||C.quotes.length===0)throw new Error("No quotes found in data source");if(T){const I=Y_(C.quotes);w.current=I,o(I),u(0),p(!1)}}catch(A){console.error("RotatingQuote: Error fetching quotes:",A),T&&(v(A instanceof Error?A.message:"Failed to load quotes"),p(!1))}})(),()=>{T=!1}},[t]);const b=M.useCallback(()=>{h(!1),setTimeout(()=>{u(T=>{const j=T+1;return j>=w.current.length?(w.current=Y_(w.current),0):j}),h(!0)},300)},[]);M.useEffect(()=>{if(i.length!==0)return _.current&&clearInterval(_.current),_.current=setInterval(b,e),()=>{_.current&&(clearInterval(_.current),_.current=null)}},[i.length,e,b]);const k=i[l],E={height:r,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},O={fontSize:"13px",fontWeight:400,color:"#94a3b8",textAlign:"center",lineHeight:1.5,padding:"0 16px",fontStyle:"italic",opacity:d?1:0,transition:"opacity 300ms ease-in-out",maxWidth:"100%"};return y?c.jsx("div",{style:E,className:n,children:c.jsx("span",{style:{...O,opacity:.5},children:"Loading..."})}):m||!k?c.jsx("div",{style:E,className:n,children:c.jsx("span",{style:{...O,opacity:.5},children:"Empowering your operations"})}):c.jsx("div",{style:E,className:n,children:c.jsxs("span",{style:O,children:['"',k.text,'"']})})}function N4({onLogin:t,isLoading:e=!1,error:r}){const[n,i]=M.useState(""),[o,l]=M.useState(""),[u,d]=M.useState(!1),[h,y]=M.useState(null),p=r||h,m=async v=>{if(v.preventDefault(),y(null),!n.trim()){y("Please enter your email address");return}if(!o){y("Please enter your password");return}if(o.length<6){y("Password must be at least 6 characters");return}await t(n,o)};return c.jsxs("div",{style:{minHeight:"100vh",display:"flex",backgroundColor:"#0a0f1e",position:"relative",overflow:"hidden",fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, sans-serif'},children:[c.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Poppins:wght@400;500;600;700;800;900&display=swap');
      `}),c.jsxs("div",{style:{flex:1,position:"relative",display:"flex",alignItems:"center",overflow:"hidden"},children:[c.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"url(/backgroundlogin.png)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:c.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(10, 15, 30, 0.88) 0%, rgba(30, 41, 59, 0.78) 100%)"}})}),c.jsxs("div",{style:{position:"relative",zIndex:1,padding:"80px 100px",maxWidth:"750px"},children:[c.jsx("h1",{style:{fontSize:"58px",fontWeight:"800",color:"white",lineHeight:1.1,marginBottom:"28px",letterSpacing:"-2px",fontFamily:'"Poppins", sans-serif',textShadow:"0 4px 20px rgba(0, 0, 0, 0.5)"},children:"Supply Chain Management System"}),c.jsx("p",{style:{fontSize:"19px",color:"rgba(255, 255, 255, 0.92)",lineHeight:1.7,maxWidth:"560px",textShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",fontWeight:"400"},children:"Enterprise-grade inventory planning, real-time analytics, and intelligent demand forecasting for manufacturing excellence."}),c.jsx("div",{style:{display:"flex",gap:"12px",marginTop:"40px",flexWrap:"wrap"},children:["Inventory Control","MRP Planning","Demand Forecasting"].map(v=>c.jsx("span",{style:{padding:"8px 16px",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"8px",fontSize:"13px",fontWeight:"500",color:"rgba(255, 255, 255, 0.9)",border:"1px solid rgba(255, 255, 255, 0.15)"},children:v},v))})]})]}),c.jsxs("div",{style:{width:"520px",background:"white",display:"flex",flexDirection:"column",position:"relative",zIndex:1,boxShadow:"-20px 0 60px rgba(0, 0, 0, 0.3)"},children:[c.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"40px 60px 24px",borderBottom:"1px solid #f1f5f9"},children:c.jsx("img",{src:"/logo.png",alt:"Autocrat Engineers",style:{width:"240px",height:"auto",objectFit:"contain",userSelect:"none",pointerEvents:"none",filter:"drop-shadow(0 2px 8px rgba(0, 0, 0, 0.08))"}})}),c.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-start",padding:"32px 60px 48px"},children:[c.jsxs("div",{style:{marginBottom:"24px",textAlign:"center"},children:[c.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",color:"#1e293b",marginBottom:"8px",letterSpacing:"-0.3px",fontFamily:'"Poppins", sans-serif'},children:"U.S Warehouse Management System"}),c.jsx("p",{style:{fontSize:"13px",color:"#475569",fontWeight:"500",lineHeight:1.5},children:"Your Leading Partner in Precision Manufacturing Excellence"})]}),c.jsx(I4,{dataSource:"/data/quotes.json",intervalMs:3e4,height:"72px"}),c.jsx("br",{}),c.jsx("br",{}),c.jsx("p",{style:{fontSize:"13px",color:"#94a3b8",fontWeight:"400",marginBottom:"20px",textAlign:"left"},children:"Enter your login credentials to access the System"}),p&&c.jsxs("div",{style:{padding:"12px 14px",marginBottom:"20px",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#dc2626",display:"flex",gap:"10px",alignItems:"flex-start",fontSize:"13px"},children:[c.jsx(Io,{size:16,style:{flexShrink:0,marginTop:"1px"}}),c.jsx("div",{style:{fontWeight:"500"},children:p})]}),c.jsxs("form",{onSubmit:m,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#1e293b",marginBottom:"8px"},children:"Email Address"}),c.jsxs("div",{style:{position:"relative"},children:[c.jsx(t4,{size:20,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8",pointerEvents:"none"}}),c.jsx("input",{type:"email",value:n,onChange:v=>i(v.target.value),placeholder:"you@company.com",disabled:e,style:{width:"100%",padding:"14px 16px 14px 48px",border:"2px solid #e2e8f0",borderRadius:"10px",fontSize:"15px",boxSizing:"border-box",transition:"all 0.2s ease",fontFamily:"inherit",backgroundColor:e?"#f9fafb":"white"},onFocus:v=>{v.currentTarget.style.borderColor="#3b82f6",v.currentTarget.style.outline="none",v.currentTarget.style.boxShadow="0 0 0 4px rgba(59, 130, 246, 0.1)"},onBlur:v=>{v.currentTarget.style.borderColor="#e2e8f0",v.currentTarget.style.boxShadow="none"}})]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#1e293b",marginBottom:"8px"},children:"Password"}),c.jsxs("div",{style:{position:"relative"},children:[c.jsx(YD,{size:20,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8",pointerEvents:"none"}}),c.jsx("input",{type:u?"text":"password",value:o,onChange:v=>l(v.target.value),placeholder:"Enter your password",disabled:e,style:{width:"100%",padding:"14px 48px",border:"2px solid #e2e8f0",borderRadius:"10px",fontSize:"15px",boxSizing:"border-box",transition:"all 0.2s ease",fontFamily:"inherit",backgroundColor:e?"#f9fafb":"white"},onFocus:v=>{v.currentTarget.style.borderColor="#3b82f6",v.currentTarget.style.outline="none",v.currentTarget.style.boxShadow="0 0 0 4px rgba(59, 130, 246, 0.1)"},onBlur:v=>{v.currentTarget.style.borderColor="#e2e8f0",v.currentTarget.style.boxShadow="none"}}),c.jsx("button",{type:"button",onClick:()=>d(!u),style:{position:"absolute",right:"16px",top:"50%",transform:"translateY(-50%)",border:"none",backgroundColor:"transparent",color:"#94a3b8",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center"},children:u?c.jsx(BD,{size:20}):c.jsx(sf,{size:20})})]})]}),c.jsx("button",{type:"submit",disabled:e,style:{padding:"16px 24px",background:e?"#94a3b8":"linear-gradient(135deg, #b91c1c 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"600",cursor:e?"not-allowed":"pointer",transition:"all 0.3s ease",marginTop:"8px",fontFamily:"inherit",boxShadow:e?"none":"0 8px 24px rgba(185, 28, 28, 0.35)",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:e?c.jsxs(c.Fragment,{children:[c.jsx(ri,{size:20,style:{animation:"spin 1s linear infinite"}}),"Signing in..."]}):c.jsxs(c.Fragment,{children:[c.jsx(JD,{size:20}),"Login to System"]})})]}),c.jsx("p",{style:{marginTop:"28px",fontSize:"13px",color:"#94a3b8",textAlign:"center"},children:"Contact your administrator if you need access credentials"})]}),c.jsx("div",{style:{padding:"20px 60px",borderTop:"1px solid #f1f5f9",fontSize:"12px",color:"#94a3b8",textAlign:"center"},children:" 2025 Autocrat Engineers. All rights reserved."})]}),c.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]})}const zp=Xr();function R4(t){const[e,r]=M.useState(null),[n,i]=M.useState(!0),[o,l]=M.useState(null),u=async()=>{if(!t){l("Unauthorized. Please log in again."),i(!1);return}try{i(!0),l(null);const{data:d,error:h}=await zp.from("items").select("*");if(h)throw h;const{data:y,error:p}=await zp.from("inventory").select("*");if(p)throw p;const{data:m,error:v}=await zp.from("blanket_orders").select("*").order("created_at",{ascending:!1}).limit(5);if(v)throw v;const _=d?.length||0;let w=0,b=0;d?.forEach(O=>{const T=y?.find(j=>j.item_code===O.item_code);if(T){const j=T.current_stock||0,A=O.min_stock_level||0,C=O.reorder_point||0;j<=Math.max(A,C)&&w++,b+=j*(O.unit_price||0)}});const k=_-w,E=[];d?.forEach(O=>{const T=y?.find(j=>j.item_code===O.item_code);if(T){const j=T.current_stock||0,A=O.min_stock_level||0,C=O.reorder_point||0;j<=A?E.push({message:`${O.item_name} is critically low (${j} ${O.uom})`,severity:"critical",itemCode:O.item_code,timestamp:new Date().toISOString()}):j<=C&&E.push({message:`${O.item_name} below reorder point (${j} ${O.uom})`,severity:"warning",itemCode:O.item_code,timestamp:new Date().toISOString()})}}),r({summary:{totalItems:_,lowStockCount:w,healthyStockCount:k,totalStockValue:b},alerts:E.sort((O,T)=>O.severity==="critical"?-1:T.severity==="critical"?1:0),recentActivity:{blanketOrders:m||[]}})}catch(d){console.error("Dashboard fetch error:",d),d.code==="PGRST301"?l("Unauthorized. Please log in again."):d.message?.includes("JWT")?l("Session expired. Please log in again."):d.code==="42P01"?l("Database tables not found. Please set up the database schema."):l(d.message||"Failed to load dashboard data")}finally{i(!1)}};return M.useEffect(()=>{u()},[t]),{data:e,loading:n,error:o,refetch:u}}class Sn extends Error{constructor(e,r,n){super(e),this.statusCode=r,this.details=n,this.name="APIError"}}class M4{baseUrl;defaultHeaders;supabase=Xr();constructor(){this.baseUrl=`https://${gr}.supabase.co/functions/v1/make-server-9c637d11`,this.defaultHeaders={"Content-Type":"application/json"}}async request(e,r={},n,i=0){let o=n;if(!o){console.log("No token provided, fetching from current session...");const{data:{session:d},error:h}=await this.supabase.auth.getSession();if(h)throw console.error("Error getting session:",h),new Sn("Failed to get authentication session",401);if(!d)throw console.error("No active session found"),new Sn("No active session. Please login.",401);o=d.access_token,console.log("Retrieved token from session:",o.substring(0,30)+"...")}const l={...this.defaultHeaders,...r.headers};o&&(l.Authorization=`Bearer ${o}`);const u=`${this.baseUrl}${e}`;console.log(`API Request: ${r.method||"GET"} ${u}`),console.log("Token (first 30 chars):",o?.substring(0,30)+"...");try{const d=await fetch(u,{...r,headers:l});if(console.log(`API Response: ${d.status} ${d.statusText}`),d.status===401&&i===0){console.log(" Received 401 Unauthorized, attempting token refresh...");const{data:y,error:p}=await this.supabase.auth.refreshSession();if(p||!y.session)throw console.error(" Token refresh failed:",p),await this.supabase.auth.signOut(),new Sn("Session expired. Please login again.",401);return console.log(" Token refreshed successfully, retrying request..."),this.request(e,r,y.session.access_token,i+1)}let h;try{h=await d.json()}catch{throw d.ok?new Sn("Invalid JSON response from server",d.status):new Sn(`HTTP ${d.status}: ${d.statusText}`,d.status)}if(!d.ok){const y=h.error||h.message||`HTTP ${d.status}: ${d.statusText}`;throw console.error(` API Error: ${y}`,h),new Sn(y,d.status,h)}return console.log(` API Success: ${r.method||"GET"} ${u}`),h}catch(d){throw d instanceof Sn?d:d instanceof TypeError&&d.message.includes("fetch")?(console.error(" Network error:",d),new Sn("Network error: Please check your connection",0)):(console.error(" Unknown error:",d),new Sn(d instanceof Error?d.message:"Unknown error occurred",0))}}async get(e,r){return this.request(e,{method:"GET"},r)}async post(e,r,n){return this.request(e,{method:"POST",body:r?JSON.stringify(r):void 0},n)}async put(e,r,n){return this.request(e,{method:"PUT",body:r?JSON.stringify(r):void 0},n)}async delete(e,r){return this.request(e,{method:"DELETE"},r)}}const $4=new M4,D4={async seedDatabase(t){return $4.post("/seed-database",{},t)}};function L4(){return null}function X_({accessToken:t,onNavigate:e}){const{data:r,loading:n,error:i,refetch:o}=R4(t),[l,u]=M.useState(!1),[d,h]=M.useState(null),y=async()=>{if(confirm("This will load sample manufacturing data into the system. Continue?")){u(!0),h(null);try{const v=await D4.seedDatabase(t);alert(`Success! Loaded:
 ${v.stats.items} items
 ${v.stats.inventory} inventory records
 ${v.stats.blanketOrders} blanket orders
 ${v.stats.releases} releases`),await o(),window.location.reload()}catch(v){console.error("Seed database error:",v),h(v instanceof Sn?v.message:"Failed to seed database")}finally{u(!1)}}};if(n)return c.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"400px"},children:c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx(ri,{size:48,style:{color:"var(--enterprise-primary)",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),c.jsx("p",{style:{color:"var(--enterprise-gray-600)",fontSize:"var(--font-size-base)"},children:"Loading dashboard..."})]})});if(i)return c.jsx("div",{style:{backgroundColor:"var(--enterprise-error-bg)",border:"1px solid var(--enterprise-error)",borderRadius:"var(--border-radius-lg)",padding:"24px",marginBottom:"24px"},children:c.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"16px"},children:[c.jsx(Io,{size:24,style:{color:"var(--enterprise-error)",flexShrink:0}}),c.jsxs("div",{children:[c.jsx("h3",{style:{color:"var(--enterprise-error)",fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"8px"},children:"Failed to Load Dashboard"}),c.jsx("p",{style:{color:"var(--enterprise-error)",fontSize:"var(--font-size-base)"},children:i})]})]})});const p=[{label:"Total Items",value:r?.summary.totalItems||0,icon:br,color:"var(--enterprise-primary)",bgColor:"rgba(30, 58, 138, 0.08)"},{label:"Low Stock Items",value:r?.summary.lowStockCount||0,icon:mr,color:"var(--enterprise-warning)",bgColor:"var(--enterprise-warning-bg)"},{label:"Healthy Items",value:r?.summary.healthyStockCount||0,icon:Jn,color:"var(--enterprise-success)",bgColor:"var(--enterprise-success-bg)"},{label:"Total Stock Value",value:r?.summary.totalStockValue||0,icon:Al,color:"var(--enterprise-secondary)",bgColor:"rgba(15, 118, 110, 0.08)",prefix:"$",format:!0}],m=[{title:"Inventory Management",description:"Real-time stock tracking and monitoring",icon:cT,color:"var(--enterprise-primary)",tabId:"inventory",stats:[{label:"Available",value:r?.summary.totalItems||0},{label:"Low Stock",value:r?.summary.lowStockCount||0}]},{title:"Blanket Orders",description:"Multi-line customer order management",icon:wo,color:"var(--enterprise-secondary)",tabId:"orders",stats:[{label:"Active Orders",value:r?.recentActivity?.blanketOrders?.length||0},{label:"Total Lines",value:0}]},{title:"Release Schedule",description:"Delivery planning with auto-deduction",icon:kl,color:"var(--enterprise-info)",tabId:"releases",stats:[{label:"Pending",value:0},{label:"Delivered",value:0}]},{title:"Demand Forecasting",description:"Holt-Winters predictive analytics",icon:Al,color:"var(--enterprise-accent)",tabId:"forecast",stats:[{label:"Forecasts",value:0},{label:"Accuracy",value:"0%"}]}];return c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"32px"},children:[c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)",marginBottom:"8px"},children:"Welcome to Enterprise ERP"}),c.jsx("p",{style:{fontSize:"var(--font-size-base)",color:"var(--enterprise-gray-600)"},children:"Real-time inventory planning and forecasting system"})]}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"24px"},children:p.map((v,_)=>{const w=v.icon;return c.jsx("div",{style:{backgroundColor:"var(--card-background)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius-lg)",padding:"24px",boxShadow:"var(--shadow-sm)",transition:"all var(--transition-fast)",cursor:"default"},onMouseEnter:b=>{b.currentTarget.style.boxShadow="var(--shadow-md)",b.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:b=>{b.currentTarget.style.boxShadow="var(--shadow-sm)",b.currentTarget.style.transform="translateY(0)"},children:c.jsxs("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between"},children:[c.jsxs("div",{children:[c.jsx("p",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--enterprise-gray-600)",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:v.label}),c.jsxs("p",{style:{fontSize:"2rem",fontWeight:"var(--font-weight-bold)",color:v.color,lineHeight:1},children:[v.prefix||"",v.format?v.value.toLocaleString():v.value]})]}),c.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"var(--border-radius-lg)",backgroundColor:v.bgColor,display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(w,{size:28,style:{color:v.color}})})]})},_)})}),c.jsxs("div",{children:[c.jsx("h3",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)",marginBottom:"16px"},children:"Quick Access"}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"24px"},children:m.map((v,_)=>{const w=v.icon;return c.jsxs("div",{onClick:()=>e?.(v.tabId),style:{backgroundColor:"var(--card-background)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius-lg)",padding:"24px",boxShadow:"var(--shadow-sm)",transition:"all var(--transition-fast)",cursor:"pointer"},onMouseEnter:b=>{b.currentTarget.style.boxShadow="var(--shadow-md)",b.currentTarget.style.borderColor=v.color,b.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:b=>{b.currentTarget.style.boxShadow="var(--shadow-sm)",b.currentTarget.style.borderColor="var(--border-color)",b.currentTarget.style.transform="translateY(0)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"16px",marginBottom:"16px"},children:[c.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"var(--border-radius-md)",backgroundColor:`${v.color}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(w,{size:24,style:{color:v.color}})}),c.jsxs("div",{style:{flex:1},children:[c.jsx("h4",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)",marginBottom:"4px"},children:v.title}),c.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-600)"},children:v.description})]})]}),c.jsx("div",{style:{display:"flex",gap:"16px",paddingTop:"16px",borderTop:"1px solid var(--border-color)"},children:v.stats.map((b,k)=>c.jsxs("div",{style:{flex:1},children:[c.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",marginBottom:"4px"},children:b.label}),c.jsx("p",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)"},children:b.value})]},k))})]},_)})})]}),r?.alerts&&r.alerts.length>0&&c.jsxs("div",{children:[c.jsx("h3",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)",marginBottom:"16px"},children:"System Alerts"}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:r.alerts.slice(0,5).map((v,_)=>c.jsxs("div",{style:{backgroundColor:v.severity==="critical"?"var(--enterprise-error-bg)":"var(--enterprise-warning-bg)",border:`1px solid ${v.severity==="critical"?"var(--enterprise-error)":"var(--enterprise-warning)"}`,borderRadius:"var(--border-radius-md)",padding:"16px",display:"flex",alignItems:"start",gap:"12px"},children:[c.jsx(mr,{size:20,style:{color:v.severity==="critical"?"var(--enterprise-error)":"var(--enterprise-warning)",flexShrink:0}}),c.jsxs("div",{style:{flex:1},children:[c.jsx("p",{style:{fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-medium)",color:v.severity==="critical"?"var(--enterprise-error)":"var(--enterprise-warning)",marginBottom:"4px"},children:v.message}),c.jsxs("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-600)"},children:[v.itemCode," - ",new Date(v.timestamp).toLocaleString()]})]}),c.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",textTransform:"uppercase",letterSpacing:"0.5px",backgroundColor:"white",color:v.severity==="critical"?"var(--enterprise-error)":"var(--enterprise-warning)"},children:v.severity})]},_))})]}),c.jsx(L4,{onSeedDatabase:y,seeding:l,error:d})]})}function No({children:t,hover:e=!1,className:r="",style:n={}}){const[i,o]=F.useState(!1);return c.jsx("div",{className:r,style:{backgroundColor:"var(--card-background)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius-lg)",padding:"24px",boxShadow:i&&e?"var(--shadow-md)":"var(--shadow-sm)",transition:"all var(--transition-fast)",...n},onMouseEnter:()=>e&&o(!0),onMouseLeave:()=>e&&o(!1),children:t})}function vr({children:t,variant:e="primary",size:r="md",disabled:n=!1,onClick:i,type:o="button",icon:l,fullWidth:u=!1,style:d={}}){const[h,y]=F.useState(!1),p={primary:{backgroundColor:h&&!n?"var(--enterprise-primary-hover)":"var(--enterprise-primary)",color:"white",border:"none"},secondary:{backgroundColor:h&&!n?"rgba(30, 58, 138, 0.05)":"transparent",color:"var(--enterprise-primary)",border:"1px solid var(--enterprise-primary)"},tertiary:{backgroundColor:h&&!n?"var(--enterprise-gray-200)":"var(--enterprise-gray-100)",color:"var(--enterprise-gray-700)",border:"none"},danger:{backgroundColor:h&&!n?"#b91c1c":"var(--enterprise-error)",color:"white",border:"none"}},m={sm:{padding:"6px 12px",fontSize:"var(--font-size-sm)"},md:{padding:"10px 20px",fontSize:"var(--font-size-base)"},lg:{padding:"14px 28px",fontSize:"var(--font-size-lg)"}};return c.jsxs("button",{type:o,onClick:i,disabled:n,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"var(--border-radius-md)",fontWeight:"var(--font-weight-medium)",cursor:n?"not-allowed":"pointer",opacity:n?.5:1,transition:"all var(--transition-fast)",width:u?"100%":"auto",boxShadow:h&&!n?"var(--shadow-md)":"none",...p[e],...m[r],...d},children:[l,t]})}function qi({children:t,variant:e="neutral",style:r={}}){const n={success:{backgroundColor:"var(--enterprise-success-bg)",color:"var(--enterprise-success)"},warning:{backgroundColor:"var(--enterprise-warning-bg)",color:"var(--enterprise-warning)"},error:{backgroundColor:"var(--enterprise-error-bg)",color:"var(--enterprise-error)"},info:{backgroundColor:"var(--enterprise-info-bg)",color:"var(--enterprise-info)"},neutral:{backgroundColor:"var(--enterprise-gray-100)",color:"var(--enterprise-gray-700)"}};return c.jsx("span",{style:{display:"inline-flex",alignItems:"center",padding:"4px 12px",borderRadius:"12px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",textTransform:"uppercase",letterSpacing:"0.5px",...n[e],...r},children:t})}function It({type:t="text",value:e,onChange:r,placeholder:n,required:i=!1,disabled:o=!1,min:l,max:u,step:d,style:h={}}){const[y,p]=F.useState(!1);return c.jsx("input",{type:t,value:e,onChange:r,placeholder:n,required:i,disabled:o,min:l,max:u,step:d,onFocus:()=>p(!0),onBlur:()=>p(!1),style:{width:"100%",padding:"8px 12px",fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-normal)",color:"var(--foreground)",backgroundColor:"var(--background)",border:`1px solid ${y?"var(--enterprise-primary)":"var(--border-color)"}`,borderRadius:"var(--border-radius-md)",outline:"none",transition:"all var(--transition-fast)",boxShadow:y?"0 0 0 3px rgba(30, 58, 138, 0.1)":"none",...h}})}function J_({value:t,onChange:e,children:r,required:n=!1,disabled:i=!1,style:o={}}){const[l,u]=F.useState(!1);return c.jsx("select",{value:t,onChange:e,required:n,disabled:i,onFocus:()=>u(!0),onBlur:()=>u(!1),style:{width:"100%",padding:"8px 12px",fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-normal)",color:"var(--foreground)",backgroundColor:"var(--background)",border:`1px solid ${l?"var(--enterprise-primary)":"var(--border-color)"}`,borderRadius:"var(--border-radius-md)",outline:"none",transition:"all var(--transition-fast)",boxShadow:l?"0 0 0 3px rgba(30, 58, 138, 0.1)":"none",cursor:"pointer",...o},children:r})}function z4({value:t,onChange:e,placeholder:r,rows:n=3,required:i=!1,disabled:o=!1,style:l={}}){const[u,d]=F.useState(!1);return c.jsx("textarea",{value:t,onChange:e,placeholder:r,rows:n,required:i,disabled:o,onFocus:()=>d(!0),onBlur:()=>d(!1),style:{width:"100%",padding:"8px 12px",fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-normal)",color:"var(--foreground)",backgroundColor:"var(--background)",border:`1px solid ${u?"var(--enterprise-primary)":"var(--border-color)"}`,borderRadius:"var(--border-radius-md)",outline:"none",transition:"all var(--transition-fast)",boxShadow:u?"0 0 0 3px rgba(30, 58, 138, 0.1)":"none",resize:"vertical",fontFamily:"var(--font-family-primary)",...l}})}function pt({children:t,required:e=!1,style:r={}}){return c.jsxs("label",{style:{display:"block",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--enterprise-gray-700)",marginBottom:"8px",...r},children:[t,e&&c.jsx("span",{style:{color:"var(--enterprise-error)",marginLeft:"4px"},children:"*"})]})}function fu({isOpen:t,onClose:e,title:r,children:n,maxWidth:i="600px"}){return t?c.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"16px"},onClick:e,children:c.jsxs("div",{style:{backgroundColor:"var(--card-background)",borderRadius:"var(--border-radius-lg)",boxShadow:"var(--shadow-xl)",maxWidth:i,width:"100%",maxHeight:"90vh",overflow:"auto"},onClick:o=>o.stopPropagation(),children:[c.jsx("div",{style:{padding:"24px",borderBottom:"1px solid var(--border-color)",position:"sticky",top:0,backgroundColor:"var(--card-background)"},children:c.jsx("h2",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)",margin:0},children:r})}),c.jsx("div",{style:{padding:"24px"},children:n})]})}):null}function hu({size:t=48}){return c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"200px"},children:[c.jsx("div",{style:{width:`${t}px`,height:`${t}px`,border:"4px solid var(--enterprise-gray-200)",borderTopColor:"var(--enterprise-primary)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),c.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]})}function Ex({icon:t,title:e,description:r,action:n}){return c.jsxs("div",{style:{textAlign:"center",padding:"48px 24px"},children:[c.jsx("div",{style:{marginBottom:"16px",color:"var(--enterprise-gray-400)"},children:t}),c.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-900)",marginBottom:"8px"},children:e}),r&&c.jsx("p",{style:{fontSize:"var(--font-size-base)",color:"var(--enterprise-gray-600)",marginBottom:n?"16px":0},children:r}),n&&c.jsx(vr,{onClick:n.onClick,variant:"primary",children:n.label})]})}async function B4(){const t=Xr(),{data:e}=await t.auth.getSession();if(!e?.session)return{data:null,error:"Not signed in. Please sign in to view items."};const{data:r,error:n}=await t.from("items").select("*").order("created_at",{ascending:!1});return n?{data:null,error:n.code==="PGRST301"||n.message?.toLowerCase().includes("policy")?"You do not have permission to view items. Check RLS policies.":n.message}:{data:r,error:null}}async function q4(t){const e=Xr(),{data:r}=await e.auth.getSession();if(!r?.session)return{data:null,error:"Not signed in."};const{data:n,error:i}=await e.from("items").insert(t).select().single();return i?{data:null,error:i.message}:{data:n,error:null}}async function U4(t,e){const r=Xr(),{data:n}=await r.auth.getSession();if(!n?.session)return{data:null,error:"Not signed in."};const{data:i,error:o}=await r.from("items").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();return o?{data:null,error:o.message}:{data:i,error:null}}async function F4(t,e){const r=Xr(),{data:n}=await r.auth.getSession();if(!n?.session)return{success:!1,error:"Not signed in."};const i=n.session.user.id,o=n.session.user.email,{data:l,error:u}=await r.from("items").select("*").eq("id",t).single();if(u||!l)return{success:!1,error:u?.message||"Item not found."};const d=l.item_code,{error:h}=await r.from("audit_log").insert({user_id:i,action:"DELETE_ITEM",target_type:"item",target_id:d,old_value:{...l,deletion_reason:e,deleted_by_email:o},new_value:null});h&&console.warn("Warning: Failed to write audit log:",h.message);const y=["inv_blanket_release_stock","inv_stock_ledger","inv_movement_lines","inv_warehouse_stock","planning_recommendations","demand_history","demand_forecasts","stock_movements","inventory","blanket_releases","blanket_order_lines"];for(const v of y){const{error:_}=await r.from(v).delete().eq("item_code",d);_&&console.warn(`Warning: Could not delete from ${v}:`,_.message)}const{error:p}=await r.from("blanket_order_items").delete().eq("item_id",t);p&&console.warn("Warning: Could not delete from blanket_order_items:",p.message);const{error:m}=await r.from("items").delete().eq("id",t);return m?{success:!1,error:`Failed to delete item: ${m.message}`}:{success:!0,error:null}}const Q_={item_code:"",item_name:"",uom:"PCS",unit_price:null,standard_cost:null,lead_time_days:0,is_active:!0,master_serial_no:"",revision:"",part_number:""},Un={padding:"12px 16px",textAlign:"left",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-700)",textTransform:"uppercase",letterSpacing:"0.5px"},Fn={padding:"12px 16px",fontSize:"var(--font-size-base)",color:"var(--enterprise-gray-800)"},Z_={borderRadius:"var(--border-radius-md)",padding:"16px",marginBottom:"16px"};function Bp({label:t,value:e,icon:r,color:n,bgColor:i,isActive:o=!1,onClick:l}){return c.jsx("div",{onClick:l,style:{cursor:l?"pointer":"default",transition:"all 0.2s ease"},children:c.jsx(No,{style:{border:o?`2px solid ${n}`:"1px solid var(--enterprise-gray-200)",boxShadow:o?`0 0 0 3px ${i}`:"var(--shadow-sm)"},children:c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[c.jsxs("div",{children:[c.jsx("p",{style:{fontSize:"12px",color:"var(--enterprise-gray-600)",fontWeight:500,marginBottom:"6px"},children:t}),c.jsx("p",{style:{fontSize:"1.75rem",fontWeight:700,color:n},children:e})]}),c.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"8px",backgroundColor:i,display:"flex",alignItems:"center",justifyContent:"center"},children:r})]})})})}function W4({searchTerm:t,onSearchChange:e,onExport:r,onAddItem:n,onClearFilters:i,hasActiveFilters:o}){return c.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",gap:"12px",flexWrap:"wrap",background:"white",padding:"10px 16px",borderRadius:"8px",border:"1px solid var(--enterprise-gray-200)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",background:"var(--enterprise-gray-50)",border:"1px solid var(--enterprise-gray-300)",borderRadius:"6px",padding:"8px 12px",flex:1,minWidth:"280px"},children:[c.jsx(En,{size:18,style:{color:"var(--enterprise-gray-400)",marginRight:"10px",flexShrink:0}}),c.jsx("input",{type:"text",placeholder:"Search by item code, item name...",value:t,onChange:l=>e(l.target.value),style:{border:"none",outline:"none",flex:1,fontSize:"13px",color:"var(--enterprise-gray-800)",background:"transparent",minWidth:"180px"}}),t&&c.jsx("button",{onClick:()=>e(""),style:{background:"var(--enterprise-gray-200)",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",borderRadius:"4px",marginLeft:"8px"},children:c.jsx(Eo,{size:14,style:{color:"var(--enterprise-gray-600)"}})})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexShrink:0},children:[o&&c.jsxs("button",{onClick:i,style:{padding:"0 12px",height:"36px",borderRadius:"6px",border:"1px solid #dc2626",background:"white",color:"#dc2626",fontSize:"13px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",whiteSpace:"nowrap"},children:[c.jsx(Oo,{size:16}),"Clear Filters"]}),c.jsxs("button",{onClick:r,style:{padding:"0 14px",height:"36px",borderRadius:"6px",border:"1px solid var(--enterprise-gray-300)",background:"white",color:"var(--enterprise-gray-700)",fontSize:"13px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap"},children:[c.jsx(of,{size:14}),"Export CSV"]}),c.jsxs("button",{onClick:n,style:{padding:"0 14px",height:"36px",borderRadius:"6px",border:"none",background:"#1e3a8a",color:"white",fontSize:"13px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap"},children:[c.jsx(Ol,{size:14}),"Add Item"]})]})]})}function H4(t,e="items_export"){const r=["Item Code","Part Number","Master Serial No","Item Name","Revision","UOM","Unit Price","Standard Cost","Lead Time (Days)","Status","Deleted By"],n=t.map(d=>[d.item_code,d.part_number||"",d.master_serial_no||"",d.item_name||"",d.revision||"",d.uom,d.unit_price??"",d.standard_cost??"",d.lead_time_days,d.is_active?"Active":"Inactive",d.deleted_by||""]),i=[r.join(","),...n.map(d=>d.map(h=>typeof h=="string"&&(h.includes(",")||h.includes('"'))?`"${h.replace(/"/g,'""')}"`:h).join(","))].join(`
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${e}_${new Date().toISOString().split("T")[0]}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}function V4({isOpen:t,onClose:e,onConfirm:r,item:n}){const[i,o]=M.useState(""),[l,u]=M.useState(""),[d,h]=M.useState("");M.useEffect(()=>{t&&(o(""),u(""),h(""))},[t]);const y=()=>{if(n){if(i.trim()!==n.part_number){h("Part Number does not match. Please enter the exact Part Number to confirm deletion.");return}if(!l.trim()){h("Please provide a reason for deletion.");return}h(""),r(l.trim())}};return n?c.jsx(fu,{isOpen:t,onClose:e,title:"Confirm Item Deletion",maxWidth:"500px",children:c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px",userSelect:"none"},onCopy:p=>p.preventDefault(),children:[c.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(220,38,38,0.05) 0%, rgba(220,38,38,0.1) 100%)",border:"1px solid rgba(220,38,38,0.2)",borderRadius:"var(--border-radius-md)",padding:"16px",display:"flex",gap:"12px",alignItems:"flex-start"},children:[c.jsx(mr,{size:24,style:{color:"var(--enterprise-error)",flexShrink:0}}),c.jsxs("div",{children:[c.jsx("p",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-error)",marginBottom:"4px"},children:"This action cannot be undone"}),c.jsxs("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--enterprise-gray-600)"},children:["You are about to ",c.jsx("strong",{children:"permanently delete"})," this item and ",c.jsx("strong",{children:"all related data"})," (inventory, warehouse stock, blanket orders, stock movements, demand forecasts, etc.) from the entire database. Please confirm by entering the Part Number below."]})]})]}),c.jsx("div",{style:{background:"var(--enterprise-gray-50)",borderRadius:"var(--border-radius-md)",padding:"16px"},children:c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[c.jsxs("div",{children:[c.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",textTransform:"uppercase",marginBottom:"4px"},children:"Item Code"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-semibold)"},children:n.item_code})]}),c.jsxs("div",{children:[c.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",textTransform:"uppercase",marginBottom:"4px"},children:"Part Number"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-primary)"},children:n.part_number})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",textTransform:"uppercase",marginBottom:"4px"},children:"MSN"}),c.jsx("p",{style:{fontFamily:"monospace"},children:n.master_serial_no||"-"})]})]})}),c.jsxs("div",{children:[c.jsx(pt,{required:!0,children:"Type Part Number to Confirm"}),c.jsx("input",{type:"text",value:i,onChange:p=>o(p.target.value),placeholder:`Enter "${n.part_number}" to confirm`,onPaste:p=>p.preventDefault(),onCopy:p=>p.preventDefault(),onCut:p=>p.preventDefault(),onDrop:p=>p.preventDefault(),onContextMenu:p=>p.preventDefault(),autoComplete:"off",style:{width:"100%",padding:"8px 12px",fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-normal)",color:"var(--foreground)",backgroundColor:"var(--background)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius-md)",outline:"none",transition:"all var(--transition-fast)"},onFocus:p=>{p.target.style.borderColor="var(--enterprise-primary)",p.target.style.boxShadow="0 0 0 3px rgba(30, 58, 138, 0.1)"},onBlur:p=>{p.target.style.borderColor="var(--border-color)",p.target.style.boxShadow="none"}}),c.jsxs("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",marginTop:"4px"},children:["Must match exactly: ",c.jsx("strong",{children:n.part_number})]})]}),c.jsxs("div",{children:[c.jsx(pt,{required:!0,children:"Reason for Deletion"}),c.jsx(z4,{value:l,onChange:p=>u(p.target.value),placeholder:"Please provide the reason for deleting this item...",rows:3})]}),d&&c.jsx("div",{style:{background:"rgba(220,38,38,0.1)",border:"1px solid rgba(220,38,38,0.3)",borderRadius:"var(--border-radius-sm)",padding:"12px",color:"var(--enterprise-error)",fontSize:"var(--font-size-sm)"},children:d}),c.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[c.jsx(vr,{variant:"tertiary",onClick:e,children:"Cancel"}),c.jsx(vr,{variant:"danger",onClick:y,disabled:!i.trim()||!l.trim(),icon:c.jsx(El,{size:16}),children:"Delete Item"})]})]})}):null}function K4({order:t}){const[e,r]=M.useState(!1),n={fontSize:"10px",color:"var(--enterprise-gray-500)",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.4px",fontWeight:500},i={fontSize:"var(--font-size-sm)",fontWeight:600,color:"var(--enterprise-gray-800)",lineHeight:1.3},o={background:"white",padding:"12px 14px",borderRadius:"var(--border-radius-sm)",border:"1px solid var(--enterprise-gray-100)",boxShadow:"0 1px 2px rgba(0,0,0,0.03)"},l={fontSize:"var(--font-size-xs)",color:"var(--enterprise-gray-500)",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.3px"};return c.jsxs("div",{style:{border:e?"1.5px solid var(--enterprise-primary)":"1px solid var(--enterprise-gray-200)",borderRadius:"var(--border-radius-lg)",overflow:"hidden",marginBottom:"10px",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:e?"0 8px 24px rgba(30,58,138,0.12), 0 2px 8px rgba(0,0,0,0.06)":"0 1px 3px rgba(0,0,0,0.04)",background:"white"},children:[c.jsxs("div",{onClick:()=>r(!e),style:{display:"flex",cursor:"pointer",background:e?"linear-gradient(135deg, rgba(30,58,138,0.04) 0%, rgba(30,58,138,0.08) 100%)":"white",transition:"all 0.2s ease",minHeight:"80px"},onMouseEnter:u=>{e||(u.currentTarget.style.background="linear-gradient(135deg, #fafbfc 0%, #f1f5f9 100%)")},onMouseLeave:u=>{e||(u.currentTarget.style.background="white")},children:[c.jsx("div",{style:{width:"36px",minWidth:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRight:"1px solid var(--enterprise-gray-100)",background:e?"var(--enterprise-primary)":"var(--enterprise-gray-50)",transition:"all 0.2s ease"},children:c.jsx("div",{style:{transition:"transform 0.25s ease",transform:e?"rotate(90deg)":"rotate(0deg)"},children:c.jsx(oT,{size:16,style:{color:e?"white":"var(--enterprise-gray-500)"}})})}),c.jsxs("div",{style:{flex:3,padding:"12px 20px",borderRight:"1px solid var(--enterprise-gray-100)",display:"flex",flexDirection:"column",justifyContent:"center"},children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"24px",marginBottom:"8px"},children:[c.jsxs("div",{children:[c.jsx("p",{style:n,children:"SAP Document No"}),c.jsx("p",{style:{...i,color:"var(--enterprise-primary)",fontWeight:700},children:t.sap_doc_no})]}),c.jsxs("div",{children:[c.jsx("p",{style:n,children:"Master Serial No"}),c.jsx("p",{style:{...i,fontFamily:"monospace"},children:t.master_serial_no})]}),c.jsxs("div",{children:[c.jsx("p",{style:n,children:"Part Number"}),c.jsx("p",{style:{...i,color:"var(--enterprise-info, #3b82f6)",fontWeight:700,background:"rgba(59,130,246,0.1)",padding:"2px 8px",borderRadius:"4px",display:"inline-block"},children:t.part_number})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"24px"},children:[c.jsxs("div",{children:[c.jsx("p",{style:n,children:"Customer Name"}),c.jsx("p",{style:{...i,color:"var(--enterprise-gray-700)"},children:t.customer_name})]}),c.jsxs("div",{children:[c.jsx("p",{style:n,children:"Line No"}),c.jsx(qi,{variant:"info",style:{fontWeight:700,fontSize:"12px"},children:t.line_no})]}),c.jsxs("div",{children:[c.jsx("p",{style:n,children:"Blanket Quantity"}),c.jsx("p",{style:{...i,color:"var(--enterprise-success)",fontWeight:700},children:t.blanket_order_qty.toLocaleString()})]})]})]}),c.jsxs("div",{style:{flex:1,padding:"12px 20px",display:"flex",flexDirection:"column",justifyContent:"center",background:"var(--enterprise-gray-50)",minWidth:"180px"},children:[c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("p",{style:n,children:"Customer PO Number"}),c.jsx("p",{style:{...i,fontFamily:"monospace",color:t.customer_po_number===""?"var(--enterprise-gray-400)":"var(--enterprise-gray-800)"},children:t.customer_po_number})]}),c.jsxs("div",{children:[c.jsx("p",{style:n,children:"Order Date"}),c.jsxs("p",{style:{...i,color:"var(--enterprise-gray-700)",display:"flex",alignItems:"center",gap:"6px"},children:[c.jsx(kl,{size:12,style:{color:"var(--enterprise-gray-400)"}}),t.order_date?new Date(t.order_date).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):""]})]})]})]}),e&&c.jsxs("div",{style:{background:"linear-gradient(180deg, rgba(30,58,138,0.04) 0%, rgba(30,58,138,0.02) 100%)",borderTop:"1px solid var(--enterprise-gray-200)",padding:"20px 54px 20px 54px",animation:"slideDown 0.25s ease-out"},children:[c.jsxs("p",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-primary)",textTransform:"uppercase",letterSpacing:"0.8px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx(br,{size:14})," Order Details"]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"14px",marginBottom:"14px"},children:[c.jsxs("div",{style:o,children:[c.jsx("p",{style:l,children:"Blanket Order Start"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-800)"},children:t.blanket_order_start?new Date(t.blanket_order_start).toLocaleDateString():"-"})]}),c.jsxs("div",{style:o,children:[c.jsx("p",{style:l,children:"Blanket Order End"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-800)"},children:t.blanket_order_end?new Date(t.blanket_order_end).toLocaleDateString():"-"})]}),c.jsxs("div",{style:o,children:[c.jsx("p",{style:l,children:"Monthly Usage"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-info)",fontSize:"var(--font-size-lg)"},children:(t.monthly_usage||0).toLocaleString()})]}),c.jsxs("div",{style:{...o,background:"linear-gradient(135deg, rgba(34,197,94,0.05) 0%, rgba(34,197,94,0.1) 100%)",border:"1px solid rgba(34,197,94,0.2)"},children:[c.jsx("p",{style:{...l,color:"var(--enterprise-success)"},children:"Next Delivery"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-success)"},children:t.next_delivery?new Date(t.next_delivery).toLocaleDateString():"Not Scheduled"})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"14px"},children:[c.jsxs("div",{style:o,children:[c.jsx("p",{style:l,children:"Order Multiples"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-800)"},children:t.order_multiples||1})]}),c.jsxs("div",{style:o,children:[c.jsx("p",{style:l,children:"Min Stock"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-warning)"},children:(t.min_stock||0).toLocaleString()})]}),c.jsxs("div",{style:o,children:[c.jsx("p",{style:l,children:"Max Stock"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-success)"},children:(t.max_stock||0).toLocaleString()})]}),c.jsxs("div",{style:o,children:[c.jsx("p",{style:l,children:"Safety Stock"}),c.jsx("p",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--enterprise-secondary, #6366f1)"},children:(t.safety_stock||0).toLocaleString()})]})]})]})]})}function G4({isOpen:t,onClose:e,item:r}){const[n,i]=M.useState("details"),[o,l]=M.useState([]),[u,d]=M.useState(!1),[h,y]=M.useState("");M.useEffect(()=>{t||y("")},[t]),M.useEffect(()=>{t&&r&&n==="blanketOrders"&&p()},[t,r,n]);const p=async()=>{if(r){d(!0);try{const v=Xr(),{data:_,error:w}=await v.from("v_item_details").select("*").eq("id",r.id);if(w){console.error("Error fetching from v_item_details:",w),l([]);return}const b=(_||[]).filter(k=>k.blanket_order_id!==null);if(b.length===0)l([]);else{const k=b.map((E,O)=>({id:E.line_id||E.blanket_order_id||`order-${O}`,sap_doc_no:E.sap_doc_no||"",master_serial_no:E.master_serial_no||"",part_number:E.part_number||"",customer_name:E.customer_name||"",line_no:E.line_number??O+1,blanket_order_qty:E.blanket_quantity??E.item_quantity??0,customer_po_number:E.customer_po_number||"",order_date:E.order_date||"",blanket_order_start:E.blanket_order_start||"",blanket_order_end:E.blanket_order_end||"",monthly_usage:E.monthly_usage??0,next_delivery:E.delivery_schedule||"",order_multiples:E.order_multiple??1,min_stock:E.min_stock??0,max_stock:E.max_stock??0,safety_stock:E.safety_stock??0}));l(k)}}catch(v){console.error("Error fetching blanket orders:",v),l([])}finally{d(!1)}}};if(!r)return null;const m=v=>({padding:"12px 20px",border:"none",background:v?"var(--enterprise-primary)":"transparent",color:v?"white":"var(--enterprise-gray-600)",cursor:"pointer",fontWeight:"var(--font-weight-semibold)",borderRadius:"var(--border-radius-md) var(--border-radius-md) 0 0",transition:"all 0.2s ease",fontSize:"var(--font-size-sm)"});return c.jsxs(fu,{isOpen:t,onClose:e,title:"View Item Details",maxWidth:"1000px",children:[c.jsxs("div",{style:{display:"flex",borderBottom:"2px solid var(--enterprise-gray-200)",marginBottom:"20px"},children:[c.jsx("button",{style:m(n==="details"),onClick:()=>i("details"),children:"Item Details"}),c.jsx("button",{style:m(n==="blanketOrders"),onClick:()=>i("blanketOrders"),children:"Blanket Orders"}),c.jsx("button",{style:m(n==="blanketRelease"),onClick:()=>i("blanketRelease"),children:"Blanket Release"})]}),n==="details"&&c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[c.jsxs("div",{children:[c.jsx(pt,{children:"Item Code"}),c.jsx(It,{value:r.item_code||"-",disabled:!0})]}),c.jsxs("div",{children:[c.jsx(pt,{children:"Part Number"}),c.jsx(It,{value:r.part_number||"-",disabled:!0})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[c.jsxs("div",{children:[c.jsx(pt,{children:"Item Name"}),c.jsx(It,{value:r.item_name||"-",disabled:!0})]}),c.jsxs("div",{children:[c.jsx(pt,{children:"Unit of Measure"}),c.jsx(It,{value:r.uom||"-",disabled:!0})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[c.jsxs("div",{children:[c.jsx(pt,{children:"Master Serial No"}),c.jsx(It,{value:r.master_serial_no||"-",disabled:!0})]}),c.jsxs("div",{children:[c.jsx(pt,{children:"Revision"}),c.jsx(It,{value:r.revision||"-",disabled:!0})]}),c.jsxs("div",{children:[c.jsx(pt,{children:"Lead Time (Days)"}),c.jsx(It,{value:r.lead_time_days||"-",disabled:!0})]})]}),c.jsxs("div",{style:{borderTop:"1px solid var(--enterprise-gray-200)",paddingTop:"16px",marginTop:"8px"},children:[c.jsx("p",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-600)",marginBottom:"12px"},children:"Pricing"}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[c.jsxs("div",{children:[c.jsx(pt,{children:"Unit Price"}),c.jsx(It,{value:r.unit_price!=null?`${r.unit_price.toLocaleString()}`:"-",disabled:!0})]}),c.jsxs("div",{children:[c.jsx(pt,{children:"Standard Cost"}),c.jsx(It,{value:r.standard_cost!=null?`${r.standard_cost.toLocaleString()}`:"-",disabled:!0})]}),c.jsxs("div",{children:[c.jsx(pt,{children:"Status"}),c.jsx(It,{value:r.is_active?"Active":"Inactive",disabled:!0})]})]})]}),c.jsxs("div",{children:[c.jsx(pt,{children:"Created At"}),c.jsx(It,{value:r.created_at?new Date(r.created_at).toLocaleString():"-",disabled:!0})]})]}),n==="blanketOrders"&&c.jsxs("div",{children:[c.jsxs("div",{style:{position:"sticky",top:0,zIndex:10,background:"linear-gradient(180deg, white 0%, rgba(255,255,255,0.95) 100%)",paddingBottom:"16px",marginBottom:"8px",borderBottom:"1px solid var(--enterprise-gray-100)"},children:[c.jsxs("div",{style:{position:"relative"},children:[c.jsx(En,{size:18,style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)",color:"var(--enterprise-gray-400)"}}),c.jsx("input",{type:"text",value:h,onChange:v=>y(v.target.value),placeholder:"Search by SAP Doc No, MSN, Part Number, Customer Name, or PO Number...",style:{width:"100%",padding:"12px 14px 12px 44px",border:"1.5px solid var(--enterprise-gray-200)",borderRadius:"var(--border-radius-lg)",fontSize:"var(--font-size-sm)",background:"var(--enterprise-gray-50)",transition:"all 0.2s ease",outline:"none"},onFocus:v=>{v.target.style.borderColor="var(--enterprise-primary)",v.target.style.background="white",v.target.style.boxShadow="0 0 0 3px rgba(30,58,138,0.1)"},onBlur:v=>{v.target.style.borderColor="var(--enterprise-gray-200)",v.target.style.background="var(--enterprise-gray-50)",v.target.style.boxShadow="none"}}),h&&c.jsx("button",{onClick:()=>y(""),style:{position:"absolute",right:"14px",top:"50%",transform:"translateY(-50%)",background:"var(--enterprise-gray-200)",border:"none",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"12px",color:"var(--enterprise-gray-600)"},children:""})]}),h&&c.jsxs("p",{style:{fontSize:"12px",color:"var(--enterprise-gray-500)",marginTop:"8px",paddingLeft:"4px"},children:["Filtering by: ",c.jsxs("strong",{children:['"',h,'"']})]})]}),u?c.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[c.jsx(hu,{size:32}),c.jsx("p",{style:{marginTop:"12px",color:"var(--enterprise-gray-600)"},children:"Loading blanket orders..."})]}):o.length===0?c.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"var(--enterprise-gray-500)"},children:[c.jsx(br,{size:48,style:{marginBottom:"12px",opacity:.5}}),c.jsx("p",{children:"No blanket orders found for this item."})]}):(()=>{const v=h.toLowerCase().trim(),_=v?o.filter(w=>w.sap_doc_no.toLowerCase().includes(v)||w.master_serial_no.toLowerCase().includes(v)||w.part_number.toLowerCase().includes(v)||w.customer_name.toLowerCase().includes(v)||w.customer_po_number.toLowerCase().includes(v)):o;return _.length===0?c.jsxs("div",{style:{textAlign:"center",padding:"48px 24px",color:"var(--enterprise-gray-500)",background:"var(--enterprise-gray-50)",borderRadius:"var(--border-radius-lg)",border:"1px dashed var(--enterprise-gray-200)"},children:[c.jsx(En,{size:40,style:{marginBottom:"12px",opacity:.4}}),c.jsx("p",{style:{fontWeight:600,color:"var(--enterprise-gray-600)"},children:"No blanket orders match your search"}),c.jsxs("p",{style:{fontSize:"var(--font-size-sm)",marginTop:"4px"},children:["Try adjusting your search terms or ",c.jsx("button",{onClick:()=>y(""),style:{background:"none",border:"none",color:"var(--enterprise-primary)",cursor:"pointer",textDecoration:"underline",fontSize:"inherit"},children:"clear the filter"})]})]}):c.jsxs("div",{children:[c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px",paddingLeft:"4px"},children:c.jsxs("p",{style:{fontSize:"12px",color:"var(--enterprise-gray-500)"},children:["Showing ",c.jsx("strong",{children:_.length})," of ",c.jsx("strong",{children:o.length})," blanket order",o.length!==1?"s":""]})}),_.map((w,b)=>c.jsx(K4,{order:w},w.id||b))]})})()]}),n==="blanketRelease"&&c.jsxs("div",{style:{textAlign:"center",padding:"60px 40px",background:"var(--enterprise-gray-50)",borderRadius:"var(--border-radius-lg)"},children:[c.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, var(--enterprise-gray-200) 0%, var(--enterprise-gray-300) 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:c.jsx(t0,{size:36,style:{color:"var(--enterprise-gray-500)"}})}),c.jsx("h3",{style:{color:"var(--enterprise-gray-700)",marginBottom:"8px"},children:"Blanket Release"}),c.jsxs("p",{style:{color:"var(--enterprise-gray-500)",fontSize:"var(--font-size-sm)",maxWidth:"450px",margin:"0 auto",lineHeight:1.6},children:["This section will display delivery details and support planning for future deliveries.",c.jsx("br",{}),c.jsx("strong",{children:"Implementation begins after the Delivery module is ready."})]}),c.jsx(qi,{variant:"neutral",style:{marginTop:"20px"},children:"Pending Delivery Module"})]}),c.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"20px"},children:c.jsx(vr,{variant:"primary",onClick:e,children:"Close"})})]})}function Y4(){const[t,e]=M.useState([]),[r,n]=M.useState(!0),[i,o]=M.useState(null),[l,u]=M.useState(!1),[d,h]=M.useState(null),[y,p]=M.useState(""),[m,v]=M.useState(Q_),[_,w]=M.useState(null),[b,k]=M.useState(!1),[E,O]=M.useState("ALL"),[T,j]=M.useState(!1),[A,C]=M.useState(null),[I,R]=M.useState(20),H=20,[z,N]=M.useState(null),q=M.useRef(null);M.useEffect(()=>{const Q=ye=>{z&&q.current&&!q.current.contains(ye.target)&&N(null)};return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[z]);const U=M.useCallback(async()=>{o(null),n(!0);const Q=await B4();if(n(!1),Q.error){o(Q.error),e([]);return}e(Q.data??[])},[]);M.useEffect(()=>{U()},[U]);const V=M.useMemo(()=>({totalCount:t.length,activeCount:t.filter(Q=>Q.is_active).length,inactiveCount:t.filter(Q=>!Q.is_active).length}),[t]),X=M.useMemo(()=>{let Q=t;if(E==="ACTIVE"?Q=Q.filter(ye=>ye.is_active===!0):E==="INACTIVE"&&(Q=Q.filter(ye=>ye.is_active===!1)),y.trim()){const ye=y.toLowerCase();Q=Q.filter(ie=>ie.item_code.toLowerCase().includes(ye)||(ie.item_name||"").toLowerCase().includes(ye)||(ie.part_number||"").toLowerCase().includes(ye)||(ie.master_serial_no||"").toLowerCase().includes(ye))}return Q},[t,E,y]),ee=M.useMemo(()=>X.slice(0,I),[X,I]),K=I<X.length;M.useEffect(()=>{R(H)},[E,y]);const te=E!=="ALL",J=Q=>{O(ye=>ye===Q?"ALL":Q)},D=()=>{O("ALL")},L=()=>{R(Q=>Q+H)},oe=()=>{H4(X,"item_master")},fe=async Q=>{Q.preventDefault();const ye=d?await U4(d.id,m):await q4(m);if(ye.error){o(ye.error);return}se(),U()},pe=Q=>{h(Q),v({item_code:Q.item_code,item_name:Q.item_name||"",uom:Q.uom,unit_price:Q.unit_price??null,standard_cost:Q.standard_cost??null,lead_time_days:Q.lead_time_days,is_active:Q.is_active,master_serial_no:Q.master_serial_no||"",revision:Q.revision||"",part_number:Q.part_number||""}),u(!0)},_e=Q=>{C(Q),j(!0)},Re=async Q=>{if(!A)return;console.log(`Permanently deleting item ${A.item_code}, reason:`,Q);const ye=await F4(A.id,Q);ye.error?o(ye.error):U(),j(!1),C(null)},Se=Q=>{w(Q),k(!0)},se=()=>{u(!1),h(null),v(Q_)};return r?c.jsx(hu,{}):c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[i&&c.jsx("div",{style:{backgroundColor:"var(--enterprise-error-bg)",border:"1px solid var(--enterprise-error)",borderRadius:"var(--border-radius-md)",padding:"12px"},children:c.jsx("p",{style:{color:"var(--enterprise-error)",fontSize:"var(--font-size-sm)"},children:i})}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[c.jsx(Bp,{label:"Total Items",value:V.totalCount,icon:c.jsx(br,{size:22,style:{color:"var(--enterprise-primary)"}}),color:"var(--enterprise-primary)",bgColor:"rgba(30, 58, 138, 0.1)",isActive:E==="ALL",onClick:()=>J("ALL")}),c.jsx(Bp,{label:"Active Items",value:V.activeCount,icon:c.jsx(Jn,{size:22,style:{color:"var(--enterprise-success)"}}),color:"var(--enterprise-success)",bgColor:"rgba(34, 197, 94, 0.1)",isActive:E==="ACTIVE",onClick:()=>J("ACTIVE")}),c.jsx(Bp,{label:"Inactive Items",value:V.inactiveCount,icon:c.jsx(mr,{size:22,style:{color:"#b91c1c"}}),color:"#b91c1c",bgColor:"rgba(185, 28, 28, 0.1)",isActive:E==="INACTIVE",onClick:()=>J("INACTIVE")})]}),c.jsx(W4,{searchTerm:y,onSearchChange:p,onExport:oe,onAddItem:()=>u(!0),onClearFilters:D,hasActiveFilters:te}),c.jsx(No,{style:{padding:0,overflow:"hidden"},children:X.length===0?c.jsx(Ex,{icon:c.jsx(br,{size:48}),title:te?"No Matching Items":"No Items Found",description:te?"Try adjusting your search or filter criteria":"Create your first item or check sign-in and RLS on public.items",action:te?void 0:{label:"Add Item",onClick:()=>u(!0)}}):c.jsxs(c.Fragment,{children:[c.jsx("div",{style:{overflowX:"auto"},children:c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[c.jsx("thead",{children:c.jsxs("tr",{style:{backgroundColor:"var(--table-header-bg)",borderBottom:"2px solid var(--table-border)"},children:[c.jsx("th",{style:{...Un,minWidth:"100px"},children:"Item Code"}),c.jsx("th",{style:{...Un,minWidth:"120px"},children:"Part Number"}),c.jsx("th",{style:{...Un,minWidth:"100px"},children:"MSN"}),c.jsx("th",{style:{...Un,textAlign:"center",minWidth:"60px"},children:"Rev"}),c.jsx("th",{style:{...Un,textAlign:"center",minWidth:"60px"},children:"UOM"}),c.jsx("th",{style:{...Un,textAlign:"center",minWidth:"80px"},children:"Lead Time"}),c.jsx("th",{style:{...Un,textAlign:"center",minWidth:"80px"},children:"Status"}),c.jsx("th",{style:{...Un,textAlign:"center",minWidth:"80px"},children:"View"}),c.jsx("th",{style:{...Un,textAlign:"center",minWidth:"120px"},children:"Actions"})]})}),c.jsx("tbody",{children:ee.map((Q,ye)=>c.jsxs("tr",{style:{backgroundColor:ye%2===0?"white":"var(--table-stripe)",borderBottom:"1px solid var(--table-border)",transition:"background-color var(--transition-fast)"},onMouseEnter:ie=>{ie.currentTarget.style.backgroundColor="var(--table-hover)"},onMouseLeave:ie=>{ie.currentTarget.style.backgroundColor=ye%2===0?"white":"var(--table-stripe)"},children:[c.jsx("td",{style:{...Fn,fontWeight:"var(--font-weight-medium)",color:"var(--enterprise-gray-700)"},children:Q.item_code}),c.jsx("td",{style:{...Fn,fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-primary)"},children:Q.part_number||"-"}),c.jsx("td",{style:{...Fn,fontFamily:"monospace",fontSize:"0.85em",color:"var(--enterprise-gray-600)"},children:Q.master_serial_no||"-"}),c.jsx("td",{style:{...Fn,textAlign:"center"},children:c.jsx(qi,{variant:"info",children:Q.revision||"-"})}),c.jsx("td",{style:{...Fn,textAlign:"center"},children:Q.uom}),c.jsxs("td",{style:{...Fn,textAlign:"center"},children:[Q.lead_time_days," days"]}),c.jsx("td",{style:{...Fn,textAlign:"center"},children:c.jsx(qi,{variant:Q.is_active?"success":"error",style:Q.is_active?{}:{backgroundColor:"#fee2e2",color:"#b91c1c"},children:Q.is_active?"Active":"Inactive"})}),c.jsx("td",{style:{...Fn,textAlign:"center",padding:"8px 12px"},children:c.jsx(vr,{variant:"tertiary",size:"sm",icon:c.jsx(sf,{size:14}),onClick:()=>Se(Q),style:{minWidth:"55px"},children:"View"})}),c.jsx("td",{style:{...Fn,textAlign:"center",padding:"8px 12px",position:"relative"},children:c.jsxs("div",{ref:z===Q.id?q:null,style:{position:"relative",display:"inline-block"},children:[c.jsxs("button",{onClick:()=>N(z===Q.id?null:Q.id),style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:z===Q.id?"#f8fafc":"white",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"6px",fontSize:"13px",color:"#374151",fontWeight:500,transition:"all 0.15s ease"},children:[c.jsx(sT,{size:16}),"Actions",c.jsx(af,{size:14,style:{transition:"transform 0.2s",transform:z===Q.id?"rotate(180deg)":"rotate(0deg)"}})]}),z===Q.id&&c.jsxs("div",{style:{position:"absolute",top:"100%",right:"0",marginTop:"4px",zIndex:50,width:"180px",backgroundColor:"white",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.15)",border:"1px solid #e5e7eb",overflow:"hidden"},children:[c.jsxs("button",{onClick:()=>{pe(Q),N(null)},style:{width:"100%",padding:"12px 16px",display:"flex",alignItems:"center",gap:"10px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"14px",textAlign:"left",color:"#374151"},onMouseEnter:ie=>{ie.currentTarget.style.backgroundColor="#f8fafc"},onMouseLeave:ie=>{ie.currentTarget.style.backgroundColor="transparent"},children:[c.jsx(s4,{size:16})," Edit Item"]}),c.jsx("div",{style:{borderTop:"1px solid #f3f4f6"}}),c.jsxs("button",{onClick:()=>{_e(Q),N(null)},style:{width:"100%",padding:"12px 16px",display:"flex",alignItems:"center",gap:"10px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"14px",textAlign:"left",color:"#ef4444"},onMouseEnter:ie=>{ie.currentTarget.style.backgroundColor="#fef2f2"},onMouseLeave:ie=>{ie.currentTarget.style.backgroundColor="transparent"},children:[c.jsx(El,{size:16})," Delete Item"]})]})]})})]},Q.id))})]})}),K&&c.jsxs("div",{style:{padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",borderTop:"1px solid var(--table-border)",position:"relative",zIndex:10,backgroundColor:"white"},children:[c.jsxs("p",{style:{fontSize:"13px",color:"var(--enterprise-gray-500)",margin:0},children:["Showing ",ee.length," of ",X.length," items"]}),c.jsxs(vr,{variant:"primary",onClick:L,children:["Load More (",Math.min(H,X.length-ee.length)," more)"]})]}),!K&&ee.length>0&&c.jsx("div",{style:{padding:"16px",textAlign:"center",borderTop:"1px solid var(--table-border)"},children:c.jsxs("p",{style:{fontSize:"13px",color:"var(--enterprise-gray-500)"},children:["Showing all ",X.length," items"]})})]})}),c.jsx(fu,{isOpen:l,onClose:se,title:d?"Edit Item":"Create New Item",maxWidth:"800px",children:c.jsxs("form",{onSubmit:fe,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[c.jsxs("div",{style:{...Z_,background:"linear-gradient(135deg, rgba(30,58,138,0.03) 0%, rgba(30,58,138,0.08) 100%)",border:"1px solid rgba(30,58,138,0.1)"},children:[c.jsx("p",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-primary)",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Item Identification"}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[c.jsxs("div",{children:[c.jsx(pt,{required:!0,children:"Item Code"}),c.jsx(It,{value:m.item_code,onChange:Q=>v({...m,item_code:Q.target.value}),placeholder:"FG-001",required:!0,disabled:!!d,style:d?{backgroundColor:"var(--enterprise-gray-100)",cursor:"not-allowed"}:{}})]}),c.jsxs("div",{children:[c.jsx(pt,{required:!0,children:"Master Serial No"}),c.jsx(It,{value:m.master_serial_no||"",onChange:Q=>v({...m,master_serial_no:Q.target.value}),placeholder:"MSN-001",required:!0,disabled:!!d,style:d?{backgroundColor:"var(--enterprise-gray-100)",cursor:"not-allowed"}:{}})]}),c.jsxs("div",{children:[c.jsx(pt,{required:!0,children:"Part Number"}),c.jsx(It,{value:m.part_number||"",onChange:Q=>v({...m,part_number:Q.target.value}),placeholder:"FR-REF-123",required:!0,disabled:!!d,style:d?{backgroundColor:"var(--enterprise-gray-100)",cursor:"not-allowed"}:{}})]})]}),c.jsxs("div",{style:{marginTop:"16px"},children:[c.jsx(pt,{children:"Item Name"}),c.jsx(It,{value:m.item_name,onChange:Q=>v({...m,item_name:Q.target.value}),placeholder:"Item name / description...",disabled:!!d,style:d?{backgroundColor:"var(--enterprise-gray-100)",cursor:"not-allowed"}:{}})]}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginTop:"16px"},children:c.jsxs("div",{children:[c.jsx(pt,{required:!0,children:"Unit of Measure"}),c.jsxs(J_,{value:m.uom,onChange:Q=>v({...m,uom:Q.target.value}),required:!0,disabled:!!d,style:d?{backgroundColor:"var(--enterprise-gray-100)",cursor:"not-allowed"}:{},children:[c.jsx("option",{value:"PCS",children:"Pieces (PCS)"}),c.jsx("option",{value:"KG",children:"Kilograms (KG)"}),c.jsx("option",{value:"L",children:"Liters (L)"}),c.jsx("option",{value:"M",children:"Meters (M)"}),c.jsx("option",{value:"BOX",children:"Box (BOX)"})]})]})})]}),c.jsxs("div",{style:{...Z_,background:"linear-gradient(135deg, rgba(34,197,94,0.03) 0%, rgba(34,197,94,0.08) 100%)",border:"1px solid rgba(34,197,94,0.15)"},children:[c.jsx("p",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-success)",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:d?" Editable Fields":"Configuration"}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[c.jsxs("div",{children:[c.jsx(pt,{required:!0,children:"Revision"}),c.jsx(It,{value:m.revision||"",onChange:Q=>v({...m,revision:Q.target.value}),placeholder:"A / AB / 1A",required:!0})]}),c.jsxs("div",{children:[c.jsx(pt,{required:!0,children:"Lead Time (Days)"}),c.jsx(It,{type:"number",value:m.lead_time_days,onChange:Q=>v({...m,lead_time_days:parseInt(Q.target.value)||0}),placeholder:"Enter days",required:!0,min:0})]}),c.jsxs("div",{children:[c.jsx(pt,{children:"Status"}),c.jsxs(J_,{value:m.is_active?"active":"inactive",onChange:Q=>v({...m,is_active:Q.target.value==="active"}),children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginTop:"16px"},children:[c.jsxs("div",{children:[c.jsx(pt,{children:"Unit Price ()"}),c.jsx(It,{type:"number",value:m.unit_price!=null?String(m.unit_price):"",onChange:Q=>v({...m,unit_price:Q.target.value?parseFloat(Q.target.value):null}),placeholder:"0.00",min:0,step:"0.01"})]}),c.jsxs("div",{children:[c.jsx(pt,{children:"Standard Cost ()"}),c.jsx(It,{type:"number",value:m.standard_cost!=null?String(m.standard_cost):"",onChange:Q=>v({...m,standard_cost:Q.target.value?parseFloat(Q.target.value):null}),placeholder:"0.00",min:0,step:"0.01"})]})]})]}),c.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"8px"},children:[c.jsx(vr,{type:"submit",variant:"primary",fullWidth:!0,style:{padding:"12px 24px",fontWeight:"var(--font-weight-semibold)"},children:d?" Update Item":"+ Create Item"}),c.jsx(vr,{type:"button",variant:"tertiary",fullWidth:!0,onClick:se,style:{padding:"12px 24px"},children:"Cancel"})]})]})}),c.jsx(V4,{isOpen:T,onClose:()=>{j(!1),C(null)},onConfirm:Re,item:A}),c.jsx(G4,{isOpen:b,onClose:()=>k(!1),item:_}),c.jsx("style",{children:`
        @keyframes slideDown {
          from {
            opacity: 0;
            max-height: 0;
          }
          to {
            opacity: 1;
            max-height: 500px;
          }
        }
      `})]})}const zt=Xr();function sr(t){if(t==null)return t;if(Array.isArray(t))return t.map(r=>sr(r));if(typeof t!="object")return t;const e={};for(const r in t){const n=r.replace(/_([a-z])/g,(i,o)=>o.toUpperCase());e[n]=sr(t[r])}return e}async function X4(t){const{data:e,error:r}=await zt.from("vw_item_stock_dashboard").select("*").eq("item_code",t).single();if(r)throw console.error("Error fetching item stock dashboard:",r),r;return e?sr(e):null}async function J4(t){let e=zt.from("vw_item_stock_dashboard").select("*");t?.stockStatus&&(e=e.eq("stock_status",t.stockStatus)),t?.hasAvailableStock&&(e=e.gt("net_available_for_customer",0)),t?.limit&&(e=e.limit(t.limit)),t?.offset&&(e=e.range(t.offset,t.offset+(t.limit||50)-1));const{data:r,error:n}=await e.order("item_code");if(n)throw console.error("Error fetching all items stock dashboard:",n),n;return sr(r||[])}async function Q4(t){const{data:e,error:r}=await zt.from("vw_item_stock_distribution").select("*").eq("item_code",t).single();if(r)throw console.error("Error fetching item stock distribution:",r),r;return e?sr(e):null}async function Z4(){const{data:t,error:e}=await zt.from("vw_item_stock_distribution").select("*").order("item_code");if(e)throw console.error("Error fetching stock distribution:",e),e;return sr(t||[])}async function fT(t){const{data:e,error:r}=await zt.from("vw_item_warehouse_detail").select("*").eq("item_code",t).order("warehouse_type_code");if(r)throw console.error("Error fetching item warehouse details:",r),r;return sr(e||[])}async function eL(t){const{data:e,error:r}=await zt.from("vw_item_warehouse_detail").select("*").eq("warehouse_code",t).order("item_code");if(r)throw console.error("Error fetching warehouse stock details:",r),r;return sr(e||[])}async function tL(t){let e=zt.from("vw_item_stock_summary").select("*");t?.limit&&(e=e.limit(t.limit));const{data:r,error:n}=await e.order("item_code");if(n)throw console.error("Error fetching item stock summary:",n),n;return sr(r||[])}async function rL(t){let e=zt.from("vw_blanket_release_reservations").select("*");t&&(e=e.eq("item_code",t));const{data:r,error:n}=await e.order("requested_delivery_date");if(n)throw console.error("Error fetching blanket release reservations:",n),n;return sr(r||[])}async function nL(t){const{data:e,error:r}=await zt.from("vw_blanket_release_reservations").select("pending_quantity").eq("item_code",t).eq("delivery_period","NEXT_MONTH");return r?(console.error("Error fetching next month reserved:",r),0):e?.reduce((n,i)=>n+(i.pending_quantity||0),0)??0}async function iL(t){let e=zt.from("vw_recent_stock_movements").select("*");t?.itemCode&&(e=e.eq("item_code",t.itemCode)),t?.warehouseId&&(e=e.eq("warehouse_code",t.warehouseId)),t?.movementType&&(e=e.eq("movement_type",t.movementType)),t?.startDate&&(e=e.gte("movement_date",t.startDate)),t?.endDate&&(e=e.lte("movement_date",t.endDate)),t?.limit&&(e=e.limit(t.limit));const{data:r,error:n}=await e.order("movement_date",{ascending:!1});if(n)throw console.error("Error fetching recent stock movements:",n),n;return sr(r||[])}async function aL(){const{data:t,error:e}=await zt.from("inv_warehouse_types").select("*").eq("is_active",!0).order("sort_order");if(e)throw console.error("Error fetching warehouse types:",e),e;return sr(t||[])}async function oL(t){let e=zt.from("inv_warehouses").select(`
      *,
      inv_warehouse_types (
        type_code,
        type_name,
        category
      )
    `).eq("is_active",!0);const{data:r,error:n}=await e.order("warehouse_code");if(n)throw console.error("Error fetching warehouses:",n),n;let i=r||[];return t&&(i=i.filter(o=>o.inv_warehouse_types?.category===t)),sr(i)}async function sL(t){const{data:e,error:r}=await zt.from("inv_warehouses").select(`
      *,
      inv_warehouse_types (
        type_code,
        type_name,
        category
      )
    `).eq("warehouse_code",t).single();if(r)throw console.error("Error fetching warehouse:",r),r;return e?sr(e):null}async function lL(t,e,r,n){const{data:i,error:o}=await zt.rpc("inv_validate_stock_for_release",{p_warehouse_id:t,p_item_code:e,p_quantity:r,p_lot_number:n||null});return o?(console.error("Error validating stock:",o),!1):i===!0}async function uL(t,e,r,n,i,o){const{data:l,error:u}=await zt.rpc("inv_execute_blanket_release",{p_release_id:t,p_warehouse_id:e,p_item_code:r,p_quantity:n,p_lot_number:i||null,p_user_id:o||null});if(u)throw console.error("Error executing blanket release:",u),u;return l}async function cL(t,e){const{data:r,error:n}=await zt.from("inv_warehouse_stock").select("*").eq("warehouse_id",t).eq("item_code",e).eq("is_active",!0).single();if(n&&n.code!=="PGRST116")throw console.error("Error fetching warehouse stock:",n),n;return r?sr(r):null}async function dL(t){const{data:e,error:r}=await zt.from("vw_item_stock_distribution").select("total_on_hand, total_available, total_reserved").eq("item_code",t).single();if(r)return console.error("Error fetching total stock:",r),{totalOnHand:0,totalAvailable:0,totalReserved:0,warehouseCount:0};const n=await fT(t);return{totalOnHand:e?.total_on_hand||0,totalAvailable:e?.total_available||0,totalReserved:e?.total_reserved||0,warehouseCount:n.length}}async function fL(){const{data:t,error:e}=await zt.from("vw_item_stock_dashboard").select("stock_status");if(e)throw console.error("Error fetching stock health summary:",e),e;const r={critical:0,low:0,medium:0,healthy:0,total:t?.length||0};return t?.forEach(n=>{const i=n.stock_status?.toLowerCase();i in r&&r[i]++}),r}const hT={getItemStockDashboard:X4,getAllItemsStockDashboard:J4,getItemStockDistribution:Q4,getAllItemsStockDistribution:Z4,getItemWarehouseDetails:fT,getWarehouseStockDetails:eL,getItemStockSummary:tL,getBlanketReleaseReservations:rL,getNextMonthReservedQty:nL,getRecentStockMovements:iL,getWarehouseTypes:aL,getWarehouses:oL,getWarehouseByCode:sL,validateStockForRelease:lL,executeBlanketRelease:uL,getWarehouseStock:cL,getTotalStockForItem:dL,getStockHealthSummary:fL};function hL(t){const[e,r]=M.useState([]),[n,i]=M.useState(!0),[o,l]=M.useState(null),u=M.useCallback(async()=>{i(!0),l(null);try{const h=await hT.getAllItemsStockDashboard(t);r(h)}catch(h){console.error("useAllItemsStockDashboard error:",h),l(h.message||"Failed to fetch stock dashboard")}finally{i(!1)}},[JSON.stringify(t)]);M.useEffect(()=>{u()},[u]);const d=M.useMemo(()=>({totalItems:e.length,criticalCount:e.filter(h=>h.stockStatus==="CRITICAL").length,lowCount:e.filter(h=>h.stockStatus==="LOW").length,healthyCount:e.filter(h=>h.stockStatus==="HEALTHY"||h.stockStatus==="MEDIUM").length,totalNetAvailable:e.reduce((h,y)=>h+(y.netAvailableForCustomer||0),0)}),[e]);return{items:e,loading:n,error:o,refetch:u,stats:d}}function pL(t){const[e,r]=M.useState(null),[n,i]=M.useState(!1),[o,l]=M.useState(null),u=M.useCallback(async()=>{if(!t){r(null);return}i(!0),l(null);try{const d=await hT.getItemStockDistribution(t);r(d)}catch(d){console.error("useItemStockDistribution error:",d),l(d.message||"Failed to fetch stock distribution")}finally{i(!1)}},[t]);return M.useEffect(()=>{u()},[u]),{data:e,loading:n,error:o,refetch:u}}const Pi={padding:"12px 14px",textAlign:"left",fontSize:"12px",fontWeight:600,color:"var(--enterprise-gray-700)",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap",cursor:"pointer",userSelect:"none"},Ii={padding:"12px 14px",fontSize:"13px",color:"var(--enterprise-gray-800)"};function Dc({label:t,value:e,icon:r,color:n,bgColor:i,isActive:o=!1,onClick:l}){return c.jsx("div",{onClick:l,style:{cursor:l?"pointer":"default",transition:"all 0.2s ease"},children:c.jsx(No,{style:{border:o?`2px solid ${n}`:"1px solid var(--enterprise-gray-200)",boxShadow:o?`0 0 0 3px ${i}`:"var(--shadow-sm)"},children:c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[c.jsxs("div",{children:[c.jsx("p",{style:{fontSize:"12px",color:"var(--enterprise-gray-600)",fontWeight:500,marginBottom:"6px"},children:t}),c.jsx("p",{style:{fontSize:"1.75rem",fontWeight:700,color:n},children:e})]}),c.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"8px",backgroundColor:i,display:"flex",alignItems:"center",justifyContent:"center"},children:r})]})})})}function yL({searchTerm:t,onSearchChange:e,activeStatusFilter:r,onActiveStatusFilterChange:n,onRefresh:i,refreshing:o,onExport:l,onClearFilters:u,hasActiveFilters:d}){return c.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",gap:"12px",flexWrap:"wrap",background:"white",padding:"10px 16px",borderRadius:"8px",border:"1px solid var(--enterprise-gray-200)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",background:"var(--enterprise-gray-50)",border:"1px solid var(--enterprise-gray-300)",borderRadius:"6px",padding:"8px 12px",flex:1,minWidth:"280px"},children:[c.jsx(En,{size:18,style:{color:"var(--enterprise-gray-400)",marginRight:"10px",flexShrink:0}}),c.jsx("input",{type:"text",placeholder:"Search by item code, MSN, part number...",value:t,onChange:h=>e(h.target.value),style:{border:"none",outline:"none",flex:1,fontSize:"13px",color:"var(--enterprise-gray-800)",background:"transparent",minWidth:"180px"}}),t&&c.jsx("button",{onClick:()=>e(""),style:{background:"var(--enterprise-gray-200)",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",borderRadius:"4px",marginLeft:"8px"},children:c.jsx(Eo,{size:14,style:{color:"var(--enterprise-gray-600)"}})})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexShrink:0},children:[c.jsxs("select",{value:r,onChange:h=>n(h.target.value),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid var(--enterprise-gray-300)",fontSize:"13px",color:"var(--enterprise-gray-700)",background:"white",cursor:"pointer",height:"36px"},children:[c.jsx("option",{value:"ALL",children:"All Items"}),c.jsx("option",{value:"ACTIVE",children:"Active Only"}),c.jsx("option",{value:"INACTIVE",children:"Inactive Only"})]}),d&&c.jsxs("button",{onClick:u,style:{padding:"0 12px",height:"36px",borderRadius:"6px",border:"1px solid #dc2626",background:"white",color:"#dc2626",fontSize:"13px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",whiteSpace:"nowrap"},children:[c.jsx(Oo,{size:16}),"Clear Filters"]}),c.jsxs("button",{onClick:i,disabled:o,style:{padding:"0 14px",height:"36px",borderRadius:"6px",border:"1px solid var(--enterprise-gray-300)",background:"white",color:"var(--enterprise-gray-700)",fontSize:"13px",fontWeight:500,cursor:o?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"6px",opacity:o?.6:1,whiteSpace:"nowrap"},children:[c.jsx(is,{size:14,className:o?"spinning":""}),"Refresh"]}),c.jsxs("button",{onClick:l,style:{padding:"0 14px",height:"36px",borderRadius:"6px",border:"none",background:"#1e3a8a",color:"white",fontSize:"13px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap"},children:[c.jsx(of,{size:14}),"Export CSV"]})]})]})}function gL({isActive:t}){return c.jsx("span",{style:{display:"inline-block",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:t?"#22c55e":"#ef4444",marginRight:"6px"},title:t?"Active":"Inactive"})}function mL({isOpen:t,onClose:e,item:r}){const{data:n,loading:i}=pL(t&&r?r.itemCode:null);if(!r)return null;const o=u=>{switch(u?.toUpperCase()){case"CRITICAL":return"rgba(220, 38, 38, 0.15)";case"LOW":return"rgba(234, 179, 8, 0.15)";case"HEALTHY":return"rgba(34, 197, 94, 0.15)";default:return"rgba(59, 130, 246, 0.1)"}},l=u=>{switch(u?.toUpperCase()){case"CRITICAL":return"1px solid rgba(220, 38, 38, 0.3)";case"LOW":return"1px solid rgba(234, 179, 8, 0.3)";case"HEALTHY":return"1px solid rgba(34, 197, 94, 0.3)";default:return"1px solid rgba(59, 130, 246, 0.2)"}};return c.jsx(fu,{isOpen:t,onClose:e,title:`Stock Details  ${r.masterSerialNo||r.itemCode}`,maxWidth:"800px",children:c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[c.jsxs("div",{style:{background:"var(--enterprise-gray-50)",padding:"16px",borderRadius:"8px"},children:[c.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:"var(--enterprise-gray-900)",marginBottom:"12px"},children:r.itemName}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px",fontSize:"13px",color:"var(--enterprise-gray-600)"},children:[c.jsxs("span",{children:[c.jsx("strong",{children:"Code:"})," ",r.itemCode]}),c.jsxs("span",{children:[c.jsx("strong",{children:"Part No:"})," ",r.partNumber||"-"]}),c.jsxs("span",{children:[c.jsx("strong",{children:"UOM:"})," ",r.uom]}),c.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"6px",verticalAlign:"middle"},children:[c.jsx("strong",{style:{lineHeight:"1"},children:"Status:"}),c.jsx(qi,{variant:yT(r.stockStatus),style:{verticalAlign:"middle"},children:r.stockStatus})]})]})]}),i?c.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[c.jsx(hu,{size:32}),c.jsx("p",{style:{marginTop:"12px",color:"var(--enterprise-gray-500)",fontSize:"13px"},children:"Loading stock distribution..."})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:[c.jsxs("div",{style:{background:"white",padding:"14px",borderRadius:"8px",border:"1px solid var(--enterprise-gray-200)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px",fontSize:"13px",fontWeight:600,color:"var(--enterprise-gray-700)"},children:[c.jsx(br,{size:16,style:{color:"var(--enterprise-primary)"}}),"Production Warehouse"]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px"},children:[c.jsx("span",{style:{color:"var(--enterprise-gray-500)"},children:"Available"}),c.jsx("span",{style:{fontWeight:600,color:"var(--enterprise-success)"},children:n?.productionAvailable??r.productionFinishedStock??0})]})]}),c.jsxs("div",{style:{background:"white",padding:"14px",borderRadius:"8px",border:"1px solid var(--enterprise-gray-200)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px",fontSize:"13px",fontWeight:600,color:"var(--enterprise-gray-700)"},children:[c.jsx(is,{size:16,style:{color:"var(--enterprise-info)"}}),"In Transit"]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px"},children:[c.jsx("span",{style:{color:"var(--enterprise-gray-500)"},children:"Quantity"}),c.jsx("span",{style:{fontWeight:600,color:"var(--enterprise-info)"},children:n?.inTransitQty??r.inTransitQuantity??0})]})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:[c.jsxs("div",{style:{background:"white",padding:"14px",borderRadius:"8px",border:"1px solid var(--enterprise-gray-200)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px",fontSize:"13px",fontWeight:600,color:"var(--enterprise-gray-700)"},children:[c.jsx(br,{size:16,style:{color:"var(--enterprise-secondary)"}}),"S&V Warehouse"]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px"},children:[c.jsx("span",{style:{color:"var(--enterprise-gray-500)"},children:"On Hand"}),c.jsx("span",{style:{fontWeight:600,color:"var(--enterprise-secondary)"},children:n?.snvOnHand??r.snvStock??0})]})]}),c.jsxs("div",{style:{background:"white",padding:"14px",borderRadius:"8px",border:"1px solid var(--enterprise-gray-200)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px",fontSize:"13px",fontWeight:600,color:"var(--enterprise-gray-700)"},children:[c.jsx(br,{size:16,style:{color:"#6366f1"}}),"US Warehouse"]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px",fontSize:"13px"},children:[c.jsx("span",{style:{color:"var(--enterprise-gray-500)"},children:"On Hand"}),c.jsx("span",{style:{fontWeight:600,color:"#6366f1"},children:n?.usTransitOnHand??r.usTransitStock??0})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px"},children:[c.jsx("span",{style:{color:"var(--enterprise-gray-500)"},children:"Reserved (Next Month)"}),c.jsx("span",{style:{fontWeight:600,color:"var(--enterprise-warning)"},children:n?.blanketNextMonthReserved??r.reservedNextMonth??0})]})]})]}),c.jsxs("div",{style:{background:o(r.stockStatus),borderRadius:"10px",padding:"20px",textAlign:"center",border:l(r.stockStatus)},children:[c.jsx("p",{style:{fontSize:"12px",fontWeight:600,color:"var(--enterprise-gray-600)",letterSpacing:"0.4px",marginBottom:"8px",textTransform:"uppercase"},children:"Net Available for Customer"}),c.jsx("p",{style:{fontSize:"2.2rem",fontWeight:700,color:pT(r.stockStatus),margin:"4px 0"},children:r.netAvailableForCustomer}),c.jsx("p",{style:{fontSize:"11px",color:"var(--enterprise-gray-500)",marginTop:"8px"},children:"= US Warehouse + In Transit + S&V Warehouse  Reserved (Next Month)"})]})]}),c.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:c.jsx(vr,{variant:"primary",onClick:e,children:"Close"})})]})})}function vL(t,e="inventory_export"){const r=["Item Code","Description","MSN","Part Number","Net Available","Status","Active"],n=t.map(d=>[d.itemCode,d.itemName||"",d.masterSerialNo||"",d.partNumber||"",d.netAvailableForCustomer,d.stockStatus||"",d.isActive!==!1?"Active":"Inactive"]),i=[r.join(","),...n.map(d=>d.map(h=>typeof h=="string"&&(h.includes(",")||h.includes('"'))?`"${h.replace(/"/g,'""')}"`:h).join(","))].join(`
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${e}_${new Date().toISOString().split("T")[0]}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}function xL(){const{items:t,loading:e,error:r,refetch:n,stats:i}=hL(),[o,l]=M.useState(!1),[u,d]=M.useState(""),[h,y]=M.useState("ALL"),[p,m]=M.useState("ALL"),[v,_]=M.useState("ALL"),[w,b]=M.useState("itemCode"),[k,E]=M.useState("asc"),[O,T]=M.useState(null),[j,A]=M.useState(!1),[C,I]=M.useState(20),R=20,H=async()=>{l(!0),await n(),l(!1)},z=L=>{w===L?E(k==="asc"?"desc":"asc"):(b(L),E("asc"))},N=L=>{v===L?(_("ALL"),y("ALL")):(_(L),L==="TOTAL"?y("ALL"):L!=="ALL"&&y(L))},q=M.useCallback(()=>{y("ALL"),m("ALL"),_("ALL")},[]),U=h!=="ALL"||p!=="ALL"||v!=="ALL",V=M.useMemo(()=>{let L=[...t];if(u){const oe=u.toLowerCase();L=L.filter(fe=>fe.itemCode.toLowerCase().includes(oe)||fe.masterSerialNo?.toLowerCase().includes(oe)||fe.partNumber?.toLowerCase().includes(oe))}return h!=="ALL"&&(L=L.filter(oe=>oe.stockStatus===h)),p!=="ALL"&&(L=L.filter(oe=>{const fe=oe.isActive;return p==="ACTIVE"?fe!==!1:p==="INACTIVE"?fe===!1:!0})),L.sort((oe,fe)=>{let pe=oe[w],_e=fe[w];return typeof pe=="string"&&(pe=pe?.toLowerCase()||"",_e=_e?.toLowerCase()||""),pe<_e?k==="asc"?-1:1:pe>_e?k==="asc"?1:-1:0}),L},[t,u,h,p,w,k]),X=M.useMemo(()=>V.slice(0,C),[V,C]),ee=C<V.length;M.useEffect(()=>{I(R)},[u,h,p,v]);const K=()=>{I(L=>L+R)},te=M.useCallback(()=>{vL(V,"inventory_export")},[V]),J=L=>{T(L),A(!0)},D=({field:L})=>w!==L?null:k==="asc"?c.jsx(AD,{size:12,style:{marginLeft:"4px"}}):c.jsx(af,{size:12,style:{marginLeft:"4px"}});return e&&t.length===0?c.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px"},children:[c.jsx(hu,{size:48}),c.jsx("p",{style:{marginTop:"16px",color:"var(--enterprise-gray-600)",fontSize:"14px"},children:"Loading inventory data..."})]}):r?c.jsx(No,{children:c.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[c.jsx(mr,{size:48,style:{color:"var(--enterprise-error)",marginBottom:"16px"}}),c.jsx("h3",{style:{color:"var(--enterprise-gray-800)",marginBottom:"8px"},children:"Failed to Load Inventory"}),c.jsx("p",{style:{color:"var(--enterprise-gray-600)",marginBottom:"16px"},children:r}),c.jsx(vr,{variant:"primary",onClick:H,children:"Try Again"})]})}):c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"14px"},children:[c.jsx(Dc,{label:"Total Items",value:i.totalItems,icon:c.jsx(br,{size:22,style:{color:"var(--enterprise-primary)"}}),color:"var(--enterprise-primary)",bgColor:"rgba(30, 58, 138, 0.1)",isActive:v==="TOTAL",onClick:()=>N("TOTAL")}),c.jsx(Dc,{label:"Healthy Stock",value:i.healthyCount,icon:c.jsx(Jn,{size:22,style:{color:"var(--enterprise-success)"}}),color:"var(--enterprise-success)",bgColor:"rgba(34, 197, 94, 0.1)",isActive:v==="HEALTHY",onClick:()=>N("HEALTHY")}),c.jsx(Dc,{label:"Low Stock",value:i.lowCount,icon:c.jsx(mr,{size:22,style:{color:"var(--enterprise-warning)"}}),color:"var(--enterprise-warning)",bgColor:"rgba(234, 179, 8, 0.1)",isActive:v==="LOW",onClick:()=>N("LOW")}),c.jsx(Dc,{label:"Critical Stock",value:i.criticalCount,icon:c.jsx(mr,{size:22,style:{color:"var(--enterprise-error)"}}),color:"var(--enterprise-error)",bgColor:"rgba(220, 38, 38, 0.1)",isActive:v==="CRITICAL",onClick:()=>N("CRITICAL")})]}),c.jsx(yL,{searchTerm:u,onSearchChange:d,activeStatusFilter:p,onActiveStatusFilterChange:m,onRefresh:H,refreshing:o,onExport:te,onClearFilters:q,hasActiveFilters:U}),c.jsx(No,{style:{padding:0,overflow:"hidden"},children:V.length===0?c.jsx(Ex,{icon:c.jsx(br,{size:48}),title:U?"No Matching Items":"No Inventory Data",description:U?"Try adjusting your search or filter criteria":"Stock data will appear here once the inventory tables are populated"}):c.jsxs(c.Fragment,{children:[c.jsx("div",{style:{overflowX:"auto"},children:c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[c.jsx("thead",{children:c.jsxs("tr",{style:{backgroundColor:"var(--table-header-bg)",borderBottom:"2px solid var(--table-border)"},children:[c.jsx("th",{style:{...Pi,minWidth:"100px"},onClick:()=>z("itemCode"),children:c.jsxs("span",{style:{display:"flex",alignItems:"center"},children:["Item Code ",c.jsx(D,{field:"itemCode"})]})}),c.jsx("th",{style:{...Pi,minWidth:"180px",cursor:"default"},children:"Description"}),c.jsx("th",{style:{...Pi,minWidth:"100px"},onClick:()=>z("masterSerialNo"),children:c.jsxs("span",{style:{display:"flex",alignItems:"center"},children:["MSN ",c.jsx(D,{field:"masterSerialNo"})]})}),c.jsx("th",{style:{...Pi,minWidth:"100px"},onClick:()=>z("partNumber"),children:c.jsxs("span",{style:{display:"flex",alignItems:"center"},children:["Part Number ",c.jsx(D,{field:"partNumber"})]})}),c.jsx("th",{style:{...Pi,textAlign:"right",minWidth:"110px"},onClick:()=>z("netAvailableForCustomer"),children:c.jsxs("span",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:["Net Available ",c.jsx(D,{field:"netAvailableForCustomer"})]})}),c.jsx("th",{style:{...Pi,textAlign:"center",minWidth:"90px"},onClick:()=>z("stockStatus"),children:c.jsxs("span",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:["Status ",c.jsx(D,{field:"stockStatus"})]})}),c.jsx("th",{style:{...Pi,textAlign:"center",minWidth:"70px",cursor:"default"},children:"Action"}),c.jsx("th",{style:{...Pi,textAlign:"center",minWidth:"80px",cursor:"default"},children:"Active"})]})}),c.jsx("tbody",{children:X.map((L,oe)=>c.jsxs("tr",{style:{backgroundColor:oe%2===0?"white":"var(--table-stripe)",borderBottom:"1px solid var(--table-border)",transition:"background-color 0.15s ease"},onMouseEnter:fe=>{fe.currentTarget.style.backgroundColor="var(--table-hover)"},onMouseLeave:fe=>{fe.currentTarget.style.backgroundColor=oe%2===0?"white":"var(--table-stripe)"},children:[c.jsx("td",{style:{...Ii,fontWeight:600,color:"var(--enterprise-primary)"},children:L.itemCode}),c.jsx("td",{style:Ii,children:L.itemName||"-"}),c.jsx("td",{style:{...Ii,color:"var(--enterprise-gray-600)"},children:L.masterSerialNo||"-"}),c.jsx("td",{style:{...Ii,color:"var(--enterprise-gray-600)"},children:L.partNumber||"-"}),c.jsx("td",{style:{...Ii,textAlign:"right",fontWeight:600,color:pT(L.stockStatus)},children:(L.snvStock??0)+(L.usTransitStock??0)}),c.jsx("td",{style:{...Ii,textAlign:"center"},children:c.jsx(qi,{variant:yT(L.stockStatus),children:L.stockStatus})}),c.jsx("td",{style:{...Ii,textAlign:"center"},children:c.jsx(vr,{variant:"tertiary",size:"sm",icon:c.jsx(sf,{size:14}),onClick:()=>J(L),children:"View"})}),c.jsx("td",{style:{...Ii,textAlign:"center"},children:c.jsx(gL,{isActive:L.isActive!==!1})})]},L.itemCode))})]})}),ee&&c.jsxs("div",{style:{padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",borderTop:"1px solid var(--table-border)",position:"relative",zIndex:10,backgroundColor:"white"},children:[c.jsxs("p",{style:{fontSize:"13px",color:"var(--enterprise-gray-500)",margin:0},children:["Showing ",X.length," of ",V.length," items"]}),c.jsxs(vr,{variant:"primary",onClick:K,children:["Load More (",Math.min(R,V.length-X.length)," more)"]})]}),!ee&&X.length>0&&c.jsx("div",{style:{padding:"16px",textAlign:"center",borderTop:"1px solid var(--table-border)"},children:c.jsxs("p",{style:{fontSize:"13px",color:"var(--enterprise-gray-500)"},children:["Showing all ",V.length," items"]})})]})}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"12px",color:"var(--enterprise-gray-600)"},children:[c.jsxs("span",{children:["Showing ",V.length," of ",t.length," items",U&&" (filtered)"]}),c.jsxs("span",{children:["Total Net Available: "," ",c.jsx("strong",{style:{color:"var(--enterprise-primary)"},children:V.reduce((L,oe)=>L+(oe.netAvailableForCustomer||0),0).toLocaleString()})]})]}),c.jsx(mL,{isOpen:j,onClose:()=>A(!1),item:O}),c.jsx("style",{children:`
                @keyframes spin {
                    to { transform: rotate(360deg); }
                }
                .spinning {
                    animation: spin 1s linear infinite;
                }
            `})]})}function pT(t){switch(t?.toUpperCase()){case"CRITICAL":return"var(--enterprise-error)";case"LOW":return"var(--enterprise-warning)";case"MEDIUM":return"var(--enterprise-info)";case"HEALTHY":default:return"var(--enterprise-success)"}}function yT(t){switch(t?.toUpperCase()){case"CRITICAL":return"error";case"LOW":return"warning";case"MEDIUM":return"info";case"HEALTHY":return"success";default:return"neutral"}}function bL({accessToken:t}){const[e,r]=M.useState([]),[n,i]=M.useState([]),[o,l]=M.useState(!0),[u,d]=M.useState(!1),[h,y]=M.useState(!1),[p,m]=M.useState(null),[v,_]=M.useState([]),[w,b]=M.useState(""),[k,E]=M.useState({orderNumber:"",customerName:"",orderDate:new Date().toISOString().split("T")[0],startDate:new Date().toISOString().split("T")[0],endDate:"",status:"ACTIVE",lines:[{itemId:"",totalQuantity:0}]});M.useEffect(()=>{O()},[]);const O=async()=>{try{const[N,q]=await Promise.all([fetch(`https://${gr}.supabase.co/functions/v1/make-server-9c637d11/blanket-orders`,{headers:{Authorization:`Bearer ${t}`}}),fetch(`https://${gr}.supabase.co/functions/v1/make-server-9c637d11/items`,{headers:{Authorization:`Bearer ${t}`}})]);if(!N.ok||!q.ok)throw new Error("Failed to fetch data");const U=await N.json(),V=await q.json();r(U.orders||[]),i(V.items||[])}catch(N){console.error("Error fetching data:",N)}finally{l(!1)}},T=async N=>{try{const q=await fetch(`https://${gr}.supabase.co/functions/v1/make-server-9c637d11/blanket-orders/${N}/lines`,{headers:{Authorization:`Bearer ${t}`}});if(!q.ok)throw new Error("Failed to fetch order lines");const U=await q.json();_(U.lines||[])}catch(q){console.error("Error fetching order lines:",q)}},j=async N=>{N.preventDefault();try{const q=await fetch(`https://${gr}.supabase.co/functions/v1/make-server-9c637d11/blanket-orders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({orderNumber:k.orderNumber,customerName:k.customerName,orderDate:k.orderDate,startDate:k.startDate,endDate:k.endDate,status:k.status,lines:k.lines.filter(U=>U.itemId&&U.totalQuantity>0)})});if(!q.ok){const U=await q.json();throw new Error(U.error||"Failed to save blanket order")}await O(),C()}catch(q){console.error("Error saving blanket order:",q),alert(q instanceof Error?q.message:"Failed to save blanket order")}},A=async N=>{m(N),await T(N.id),y(!0)},C=()=>{d(!1),E({orderNumber:"",customerName:"",orderDate:new Date().toISOString().split("T")[0],startDate:new Date().toISOString().split("T")[0],endDate:"",status:"ACTIVE",lines:[{itemId:"",totalQuantity:0}]})},I=()=>{E({...k,lines:[...k.lines,{itemId:"",totalQuantity:0}]})},R=N=>{k.lines.length>1&&E({...k,lines:k.lines.filter((q,U)=>U!==N)})},H=(N,q,U)=>{const V=[...k.lines];V[N]={...V[N],[q]:U},E({...k,lines:V})},z=e.filter(N=>N.orderNumber.toLowerCase().includes(w.toLowerCase())||N.customerName.toLowerCase().includes(w.toLowerCase()));return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Blanket Orders"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Manage long-term customer orders with multiple items"})]}),c.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(Ol,{size:20}),"New Order"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Active Orders"}),c.jsx("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:e.filter(N=>N.status==="ACTIVE").length})]}),c.jsx(wo,{className:"text-blue-600",size:24})]})}),c.jsx("div",{className:"bg-green-50 rounded-lg border border-green-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Completed"}),c.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:e.filter(N=>N.status==="COMPLETED").length})]}),c.jsx(wo,{className:"text-green-600",size:24})]})}),c.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Total Orders"}),c.jsx("p",{className:"text-2xl font-bold text-gray-700 mt-1",children:e.length})]}),c.jsx(wo,{className:"text-gray-600",size:24})]})})]}),c.jsxs("div",{className:"relative",children:[c.jsx(En,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",value:w,onChange:N=>b(N.target.value),placeholder:"Search by order number or customer name...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx(ri,{className:"animate-spin text-blue-600",size:32})}):z.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(wo,{className:"mx-auto text-gray-400 mb-4",size:48}),c.jsx("p",{className:"text-gray-600",children:"No blanket orders found"}),c.jsx("button",{onClick:()=>d(!0),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:"Create your first order"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Order Number"}),c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Customer"}),c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Order Date"}),c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Valid Period"}),c.jsx("th",{className:"text-center px-6 py-4 text-sm font-semibold text-gray-900",children:"Status"}),c.jsx("th",{className:"text-center px-6 py-4 text-sm font-semibold text-gray-900",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:z.map(N=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:N.orderNumber}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:N.customerName}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(N.orderDate).toLocaleDateString()}),c.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[new Date(N.startDate).toLocaleDateString()," - ",new Date(N.endDate).toLocaleDateString()]}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${N.status==="ACTIVE"?"bg-green-100 text-green-700":N.status==="COMPLETED"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:N.status})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("button",{onClick:()=>A(N),className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(sf,{size:14}),"View Lines"]})})]},N.id))})]})})}),u&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200 sticky top-0 bg-white",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Blanket Order"}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Multi-line order for long-term customer agreements"})]}),c.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Number *"}),c.jsx("input",{type:"text",value:k.orderNumber,onChange:N=>E({...k,orderNumber:N.target.value}),required:!0,placeholder:"BO-2024-001",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),c.jsx("input",{type:"text",value:k.customerName,onChange:N=>E({...k,customerName:N.target.value}),required:!0,placeholder:"ABC Manufacturing Inc.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),c.jsx("input",{type:"date",value:k.orderDate,onChange:N=>E({...k,orderDate:N.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),c.jsxs("select",{value:k.status,onChange:N=>E({...k,status:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[c.jsx("option",{value:"ACTIVE",children:"Active"}),c.jsx("option",{value:"COMPLETED",children:"Completed"}),c.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid From *"}),c.jsx("input",{type:"date",value:k.startDate,onChange:N=>E({...k,startDate:N.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid To *"}),c.jsx("input",{type:"date",value:k.endDate,onChange:N=>E({...k,endDate:N.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]})]}),c.jsxs("div",{className:"border-t pt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Order Lines"}),c.jsxs("button",{type:"button",onClick:I,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",children:[c.jsx(Ol,{size:16}),"Add Line"]})]}),c.jsx("div",{className:"space-y-3",children:k.lines.map((N,q)=>c.jsxs("div",{className:"flex gap-3 items-start bg-gray-50 p-3 rounded-lg",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Item *"}),c.jsxs("select",{value:N.itemId,onChange:U=>H(q,"itemId",U.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",children:[c.jsx("option",{value:"",children:"Select item..."}),n.map(U=>c.jsxs("option",{value:U.id,children:[U.itemCode," - ",U.itemName]},U.id))]})]}),c.jsxs("div",{className:"w-32",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity *"}),c.jsx("input",{type:"number",value:N.totalQuantity,onChange:U=>H(q,"totalQuantity",parseInt(U.target.value)||0),required:!0,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm"})]}),k.lines.length>1&&c.jsx("button",{type:"button",onClick:()=>R(q),className:"mt-6 p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:c.jsx(El,{size:18})})]},q))})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Create Order"}),c.jsx("button",{type:"button",onClick:C,className:"flex-1 bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"})]})]})]})}),h&&p&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Order Lines"}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[p.orderNumber," - ",p.customerName]})]}),c.jsx("div",{className:"p-6",children:v.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(br,{className:"mx-auto text-gray-400 mb-3",size:40}),c.jsx("p",{className:"text-gray-600",children:"No order lines found"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-gray-900",children:"Item Code"}),c.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-gray-900",children:"Item Name"}),c.jsx("th",{className:"text-right px-4 py-3 text-sm font-semibold text-gray-900",children:"Total Qty"}),c.jsx("th",{className:"text-right px-4 py-3 text-sm font-semibold text-gray-900",children:"Released"}),c.jsx("th",{className:"text-right px-4 py-3 text-sm font-semibold text-gray-900",children:"Delivered"}),c.jsx("th",{className:"text-right px-4 py-3 text-sm font-semibold text-gray-900",children:"Remaining"}),c.jsx("th",{className:"text-center px-4 py-3 text-sm font-semibold text-gray-900",children:"Progress"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:v.map(N=>{const q=N.deliveredQuantity/N.totalQuantity*100;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:N.itemCode||"N/A"}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:N.itemName||"Unknown"}),c.jsx("td",{className:"px-4 py-3 text-sm text-right font-bold text-gray-900",children:N.totalQuantity}),c.jsx("td",{className:"px-4 py-3 text-sm text-right text-blue-600",children:N.releasedQuantity}),c.jsx("td",{className:"px-4 py-3 text-sm text-right text-green-600",children:N.deliveredQuantity}),c.jsx("td",{className:"px-4 py-3 text-sm text-right text-orange-600 font-bold",children:N.remainingQuantity}),c.jsx("td",{className:"px-4 py-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all",style:{width:`${q}%`}})}),c.jsxs("span",{className:"text-xs text-gray-600 w-12 text-right",children:[q.toFixed(0),"%"]})]})})]},N.id)})})]})})}),c.jsx("div",{className:"p-6 border-t border-gray-200",children:c.jsx("button",{onClick:()=>y(!1),className:"w-full bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Close"})})]})})]})}function wL({accessToken:t}){const[e,r]=M.useState([]),[n,i]=M.useState([]),[o,l]=M.useState(!0),[u,d]=M.useState(!1),[h,y]=M.useState(""),[p,m]=M.useState("ALL"),[v,_]=M.useState({orderLineId:"",releaseNumber:"",releaseDate:new Date().toISOString().split("T")[0],scheduledDeliveryDate:"",quantity:0,status:"PENDING",shippingReference:"",notes:""});M.useEffect(()=>{w()},[p]);const w=async()=>{try{const j=p==="ALL"?`https://${gr}.supabase.co/functions/v1/make-server-9c637d11/blanket-releases`:`https://${gr}.supabase.co/functions/v1/make-server-9c637d11/blanket-releases?status=${p}`,[A,C]=await Promise.all([fetch(j,{headers:{Authorization:`Bearer ${t}`}}),fetch(`https://${gr}.supabase.co/functions/v1/make-server-9c637d11/blanket-orders/lines/available`,{headers:{Authorization:`Bearer ${t}`}})]);if(!A.ok||!C.ok)throw new Error("Failed to fetch data");const I=await A.json(),R=await C.json();r(I.releases||[]),i(R.lines||[])}catch(j){console.error("Error fetching data:",j)}finally{l(!1)}},b=async j=>{j.preventDefault();try{const A=await fetch(`https://${gr}.supabase.co/functions/v1/make-server-9c637d11/blanket-releases`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(v)});if(!A.ok){const C=await A.json();throw new Error(C.error||"Failed to create release")}await w(),E()}catch(A){console.error("Error creating release:",A),alert(A instanceof Error?A.message:"Failed to create release")}},k=async(j,A)=>{if(confirm(`Are you sure you want to mark this release as ${A}?${A==="DELIVERED"?`

 This will automatically deduct stock from inventory!`:""}`))try{const C=await fetch(`https://${gr}.supabase.co/functions/v1/make-server-9c637d11/blanket-releases/${j}/status`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({status:A,actualDeliveryDate:A==="DELIVERED"?new Date().toISOString().split("T")[0]:void 0})});if(!C.ok){const R=await C.json();throw new Error(R.error||"Failed to update status")}const I=await C.json();A==="DELIVERED"&&I.stockDeducted&&alert(` Release delivered successfully!

 Stock deducted: ${I.stockDeducted.quantity} units
 New available stock: ${I.stockDeducted.newStock}`),await w()}catch(C){console.error("Error updating status:",C),alert(C instanceof Error?C.message:"Failed to update status")}},E=()=>{d(!1),_({orderLineId:"",releaseNumber:"",releaseDate:new Date().toISOString().split("T")[0],scheduledDeliveryDate:"",quantity:0,status:"PENDING",shippingReference:"",notes:""})},O=j=>n.find(A=>A.id===j),T=e.filter(j=>j.releaseNumber.toLowerCase().includes(h.toLowerCase())||j.customerName?.toLowerCase().includes(h.toLowerCase())||j.itemCode?.toLowerCase().includes(h.toLowerCase()));return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Blanket Releases"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Manage delivery schedules with automatic inventory deduction"})]}),c.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(Ol,{size:20}),"New Release"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx("div",{className:"bg-yellow-50 rounded-lg border border-yellow-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-yellow-700 font-medium",children:"Pending"}),c.jsx("p",{className:"text-2xl font-bold text-yellow-700 mt-1",children:e.filter(j=>j.status==="PENDING").length})]}),c.jsx(kl,{className:"text-yellow-600",size:24})]})}),c.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Shipped"}),c.jsx("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:e.filter(j=>j.status==="SHIPPED").length})]}),c.jsx(uT,{className:"text-blue-600",size:24})]})}),c.jsx("div",{className:"bg-green-50 rounded-lg border border-green-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Delivered"}),c.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:e.filter(j=>j.status==="DELIVERED").length})]}),c.jsx(Jn,{className:"text-green-600",size:24})]})}),c.jsx("div",{className:"bg-purple-50 rounded-lg border border-purple-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-purple-700 font-medium",children:"Total Releases"}),c.jsx("p",{className:"text-2xl font-bold text-purple-700 mt-1",children:e.length})]}),c.jsx(br,{className:"text-purple-600",size:24})]})})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(En,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",value:h,onChange:j=>y(j.target.value),placeholder:"Search by release number, customer, or item...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),c.jsxs("select",{value:p,onChange:j=>m(j.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[c.jsx("option",{value:"ALL",children:"All Statuses"}),c.jsx("option",{value:"PENDING",children:"Pending"}),c.jsx("option",{value:"SHIPPED",children:"Shipped"}),c.jsx("option",{value:"DELIVERED",children:"Delivered"})]})]}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[c.jsx(Io,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:20}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Automatic Stock Deduction Enabled"}),c.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["When you mark a release as ",c.jsx("span",{className:"font-bold",children:"DELIVERED"}),", the system will automatically deduct the quantity from available inventory. This ensures real-time inventory accuracy."]})]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx(ri,{className:"animate-spin text-blue-600",size:32})}):T.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(kl,{className:"mx-auto text-gray-400 mb-4",size:48}),c.jsx("p",{className:"text-gray-600",children:"No releases found"}),c.jsx("button",{onClick:()=>d(!0),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:"Create your first release"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Release #"}),c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Order / Customer"}),c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Item"}),c.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-gray-900",children:"Quantity"}),c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Scheduled Date"}),c.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-900",children:"Actual Date"}),c.jsx("th",{className:"text-center px-6 py-4 text-sm font-semibold text-gray-900",children:"Status"}),c.jsx("th",{className:"text-center px-6 py-4 text-sm font-semibold text-gray-900",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:T.map(j=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:j.releaseNumber}),c.jsx("td",{className:"px-6 py-4 text-sm",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:j.orderNumber||"N/A"}),c.jsx("p",{className:"text-gray-600 text-xs",children:j.customerName||"Unknown"})]})}),c.jsx("td",{className:"px-6 py-4 text-sm",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:j.itemCode||"N/A"}),c.jsx("p",{className:"text-gray-600 text-xs",children:j.itemName||"Unknown"})]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-right font-bold text-gray-900",children:j.quantity}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(j.scheduledDeliveryDate).toLocaleDateString()}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:j.actualDeliveryDate?new Date(j.actualDeliveryDate).toLocaleDateString():"-"}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${j.status==="PENDING"?"bg-yellow-100 text-yellow-700":j.status==="SHIPPED"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:[j.status,j.status==="DELIVERED"&&c.jsx("span",{className:"ml-1",title:"Stock automatically deducted",children:""})]})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[j.status==="PENDING"&&c.jsx("button",{onClick:()=>k(j.id,"SHIPPED"),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:"Ship"}),j.status==="SHIPPED"&&c.jsxs("button",{onClick:()=>k(j.id,"DELIVERED"),className:"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition-colors flex items-center gap-1",children:[c.jsx(br,{size:12}),"Deliver"]}),j.status==="DELIVERED"&&c.jsxs("span",{className:"text-green-600 text-xs font-medium flex items-center gap-1",children:[c.jsx(Jn,{size:14}),"Stock Deducted"]})]})})]},j.id))})]})})}),u&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Release"}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Schedule a delivery from a blanket order line"})]}),c.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Line *"}),c.jsxs("select",{value:v.orderLineId,onChange:j=>{const A=O(j.target.value);_({...v,orderLineId:j.target.value,quantity:A?.remainingQuantity||0})},required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[c.jsx("option",{value:"",children:"Select order line..."}),n.filter(j=>j.remainingQuantity>0).map(j=>c.jsxs("option",{value:j.id,children:[j.orderNumber," - ",j.customerName," - ",j.itemCode," (Available: ",j.remainingQuantity,")"]},j.id))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Release Number *"}),c.jsx("input",{type:"text",value:v.releaseNumber,onChange:j=>_({...v,releaseNumber:j.target.value}),required:!0,placeholder:"REL-2024-001",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),c.jsx("input",{type:"number",value:v.quantity,onChange:j=>_({...v,quantity:parseInt(j.target.value)||0}),required:!0,min:"1",max:O(v.orderLineId)?.remainingQuantity||0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),v.orderLineId&&c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Max: ",O(v.orderLineId)?.remainingQuantity||0]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Release Date *"}),c.jsx("input",{type:"date",value:v.releaseDate,onChange:j=>_({...v,releaseDate:j.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scheduled Delivery *"}),c.jsx("input",{type:"date",value:v.scheduledDeliveryDate,onChange:j=>_({...v,scheduledDeliveryDate:j.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Reference"}),c.jsx("input",{type:"text",value:v.shippingReference,onChange:j=>_({...v,shippingReference:j.target.value}),placeholder:"Tracking number, BOL, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),c.jsx("textarea",{value:v.notes,onChange:j=>_({...v,notes:j.target.value}),rows:3,placeholder:"Delivery instructions, special handling, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none"})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Create Release"}),c.jsx("button",{type:"button",onClick:E,className:"flex-1 bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"})]})]})]})})]})}function gT(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=gT(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Be(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=gT(t))&&(n&&(n+=" "),n+=e);return n}var qp,eS;function wr(){if(eS)return qp;eS=1;var t=Array.isArray;return qp=t,qp}var Up,tS;function mT(){if(tS)return Up;tS=1;var t=typeof Pc=="object"&&Pc&&Pc.Object===Object&&Pc;return Up=t,Up}var Fp,rS;function In(){if(rS)return Fp;rS=1;var t=mT(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Fp=r,Fp}var Wp,nS;function pu(){if(nS)return Wp;nS=1;var t=In(),e=t.Symbol;return Wp=e,Wp}var Hp,iS;function _L(){if(iS)return Hp;iS=1;var t=pu(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function o(l){var u=r.call(l,i),d=l[i];try{l[i]=void 0;var h=!0}catch{}var y=n.call(l);return h&&(u?l[i]=d:delete l[i]),y}return Hp=o,Hp}var Vp,aS;function SL(){if(aS)return Vp;aS=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Vp=r,Vp}var Kp,oS;function li(){if(oS)return Kp;oS=1;var t=pu(),e=_L(),r=SL(),n="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function l(u){return u==null?u===void 0?i:n:o&&o in Object(u)?e(u):r(u)}return Kp=l,Kp}var Gp,sS;function ui(){if(sS)return Gp;sS=1;function t(e){return e!=null&&typeof e=="object"}return Gp=t,Gp}var Yp,lS;function as(){if(lS)return Yp;lS=1;var t=li(),e=ui(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Yp=n,Yp}var Xp,uS;function Ax(){if(uS)return Xp;uS=1;var t=wr(),e=as(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,l){if(t(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||e(o)?!0:n.test(o)||!r.test(o)||l!=null&&o in Object(l)}return Xp=i,Xp}var Jp,cS;function Ui(){if(cS)return Jp;cS=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Jp=t,Jp}var Qp,dS;function Tx(){if(dS)return Qp;dS=1;var t=li(),e=Ui(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(u){if(!e(u))return!1;var d=t(u);return d==n||d==i||d==r||d==o}return Qp=l,Qp}var Zp,fS;function jL(){if(fS)return Zp;fS=1;var t=In(),e=t["__core-js_shared__"];return Zp=e,Zp}var ey,hS;function kL(){if(hS)return ey;hS=1;var t=jL(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return ey=r,ey}var ty,pS;function vT(){if(pS)return ty;pS=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return ty=r,ty}var ry,yS;function OL(){if(yS)return ry;yS=1;var t=Tx(),e=kL(),r=Ui(),n=vT(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,h=u.hasOwnProperty,y=RegExp("^"+d.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(m){if(!r(m)||e(m))return!1;var v=t(m)?y:o;return v.test(n(m))}return ry=p,ry}var ny,gS;function EL(){if(gS)return ny;gS=1;function t(e,r){return e?.[r]}return ny=t,ny}var iy,mS;function Ca(){if(mS)return iy;mS=1;var t=OL(),e=EL();function r(n,i){var o=e(n,i);return t(o)?o:void 0}return iy=r,iy}var ay,vS;function lf(){if(vS)return ay;vS=1;var t=Ca(),e=t(Object,"create");return ay=e,ay}var oy,xS;function AL(){if(xS)return oy;xS=1;var t=lf();function e(){this.__data__=t?t(null):{},this.size=0}return oy=e,oy}var sy,bS;function TL(){if(bS)return sy;bS=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return sy=t,sy}var ly,wS;function CL(){if(wS)return ly;wS=1;var t=lf(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var l=this.__data__;if(t){var u=l[o];return u===e?void 0:u}return n.call(l,o)?l[o]:void 0}return ly=i,ly}var uy,_S;function PL(){if(_S)return uy;_S=1;var t=lf(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var o=this.__data__;return t?o[i]!==void 0:r.call(o,i)}return uy=n,uy}var cy,SS;function IL(){if(SS)return cy;SS=1;var t=lf(),e="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&i===void 0?e:i,this}return cy=r,cy}var dy,jS;function NL(){if(jS)return dy;jS=1;var t=AL(),e=TL(),r=CL(),n=PL(),i=IL();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,dy=o,dy}var fy,kS;function RL(){if(kS)return fy;kS=1;function t(){this.__data__=[],this.size=0}return fy=t,fy}var hy,OS;function Cx(){if(OS)return hy;OS=1;function t(e,r){return e===r||e!==e&&r!==r}return hy=t,hy}var py,ES;function uf(){if(ES)return py;ES=1;var t=Cx();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return py=e,py}var yy,AS;function ML(){if(AS)return yy;AS=1;var t=uf(),e=Array.prototype,r=e.splice;function n(i){var o=this.__data__,l=t(o,i);if(l<0)return!1;var u=o.length-1;return l==u?o.pop():r.call(o,l,1),--this.size,!0}return yy=n,yy}var gy,TS;function $L(){if(TS)return gy;TS=1;var t=uf();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return gy=e,gy}var my,CS;function DL(){if(CS)return my;CS=1;var t=uf();function e(r){return t(this.__data__,r)>-1}return my=e,my}var vy,PS;function LL(){if(PS)return vy;PS=1;var t=uf();function e(r,n){var i=this.__data__,o=t(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return vy=e,vy}var xy,IS;function cf(){if(IS)return xy;IS=1;var t=RL(),e=ML(),r=$L(),n=DL(),i=LL();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,xy=o,xy}var by,NS;function Px(){if(NS)return by;NS=1;var t=Ca(),e=In(),r=t(e,"Map");return by=r,by}var wy,RS;function zL(){if(RS)return wy;RS=1;var t=NL(),e=cf(),r=Px();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return wy=n,wy}var _y,MS;function BL(){if(MS)return _y;MS=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return _y=t,_y}var Sy,$S;function df(){if($S)return Sy;$S=1;var t=BL();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Sy=e,Sy}var jy,DS;function qL(){if(DS)return jy;DS=1;var t=df();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return jy=e,jy}var ky,LS;function UL(){if(LS)return ky;LS=1;var t=df();function e(r){return t(this,r).get(r)}return ky=e,ky}var Oy,zS;function FL(){if(zS)return Oy;zS=1;var t=df();function e(r){return t(this,r).has(r)}return Oy=e,Oy}var Ey,BS;function WL(){if(BS)return Ey;BS=1;var t=df();function e(r,n){var i=t(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return Ey=e,Ey}var Ay,qS;function Ix(){if(qS)return Ay;qS=1;var t=zL(),e=qL(),r=UL(),n=FL(),i=WL();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Ay=o,Ay}var Ty,US;function xT(){if(US)return Ty;US=1;var t=Ix(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var l=arguments,u=i?i.apply(this,l):l[0],d=o.cache;if(d.has(u))return d.get(u);var h=n.apply(this,l);return o.cache=d.set(u,h)||d,h};return o.cache=new(r.Cache||t),o}return r.Cache=t,Ty=r,Ty}var Cy,FS;function HL(){if(FS)return Cy;FS=1;var t=xT(),e=500;function r(n){var i=t(n,function(l){return o.size===e&&o.clear(),l}),o=i.cache;return i}return Cy=r,Cy}var Py,WS;function VL(){if(WS)return Py;WS=1;var t=HL(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(l,u,d,h){o.push(d?h.replace(r,"$1"):u||l)}),o});return Py=n,Py}var Iy,HS;function Nx(){if(HS)return Iy;HS=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=r(e[n],n,e);return o}return Iy=t,Iy}var Ny,VS;function KL(){if(VS)return Ny;VS=1;var t=pu(),e=Nx(),r=wr(),n=as(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return e(u,l)+"";if(n(u))return o?o.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Ny=l,Ny}var Ry,KS;function bT(){if(KS)return Ry;KS=1;var t=KL();function e(r){return r==null?"":t(r)}return Ry=e,Ry}var My,GS;function wT(){if(GS)return My;GS=1;var t=wr(),e=Ax(),r=VL(),n=bT();function i(o,l){return t(o)?o:e(o,l)?[o]:r(n(o))}return My=i,My}var $y,YS;function ff(){if(YS)return $y;YS=1;var t=as();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return $y=e,$y}var Dy,XS;function Rx(){if(XS)return Dy;XS=1;var t=wT(),e=ff();function r(n,i){i=t(i,n);for(var o=0,l=i.length;n!=null&&o<l;)n=n[e(i[o++])];return o&&o==l?n:void 0}return Dy=r,Dy}var Ly,JS;function _T(){if(JS)return Ly;JS=1;var t=Rx();function e(r,n,i){var o=r==null?void 0:t(r,n);return o===void 0?i:o}return Ly=e,Ly}var GL=_T();const Kr=Ze(GL);var zy,QS;function YL(){if(QS)return zy;QS=1;function t(e){return e==null}return zy=t,zy}var XL=YL();const Le=Ze(XL);var By,ZS;function JL(){if(ZS)return By;ZS=1;var t=li(),e=wr(),r=ui(),n="[object String]";function i(o){return typeof o=="string"||!e(o)&&r(o)&&t(o)==n}return By=i,By}var QL=JL();const ka=Ze(QL);var ZL=Tx();const Ne=Ze(ZL);var e3=Ui();const os=Ze(e3);var qy={exports:{}},He={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ej;function t3(){if(ej)return He;ej=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function w(b){if(typeof b=="object"&&b!==null){var k=b.$$typeof;switch(k){case t:switch(b=b.type,b){case r:case i:case n:case h:case y:return b;default:switch(b=b&&b.$$typeof,b){case u:case l:case d:case m:case p:case o:return b;default:return k}}case e:return k}}}return He.ContextConsumer=l,He.ContextProvider=o,He.Element=t,He.ForwardRef=d,He.Fragment=r,He.Lazy=m,He.Memo=p,He.Portal=e,He.Profiler=i,He.StrictMode=n,He.Suspense=h,He.SuspenseList=y,He.isAsyncMode=function(){return!1},He.isConcurrentMode=function(){return!1},He.isContextConsumer=function(b){return w(b)===l},He.isContextProvider=function(b){return w(b)===o},He.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},He.isForwardRef=function(b){return w(b)===d},He.isFragment=function(b){return w(b)===r},He.isLazy=function(b){return w(b)===m},He.isMemo=function(b){return w(b)===p},He.isPortal=function(b){return w(b)===e},He.isProfiler=function(b){return w(b)===i},He.isStrictMode=function(b){return w(b)===n},He.isSuspense=function(b){return w(b)===h},He.isSuspenseList=function(b){return w(b)===y},He.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===h||b===y||b===v||typeof b=="object"&&b!==null&&(b.$$typeof===m||b.$$typeof===p||b.$$typeof===o||b.$$typeof===l||b.$$typeof===d||b.$$typeof===_||b.getModuleId!==void 0)},He.typeOf=w,He}var tj;function r3(){return tj||(tj=1,qy.exports=t3()),qy.exports}var n3=r3(),Uy,rj;function ST(){if(rj)return Uy;rj=1;var t=li(),e=ui(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return Uy=n,Uy}var Fy,nj;function i3(){if(nj)return Fy;nj=1;var t=ST();function e(r){return t(r)&&r!=+r}return Fy=e,Fy}var a3=i3();const ss=Ze(a3);var o3=ST();const s3=Ze(o3);var pn=function(e){return e===0?0:e>0?1:-1},ma=function(e){return ka(e)&&e.indexOf("%")===e.length-1},he=function(e){return s3(e)&&!ss(e)},l3=function(e){return Le(e)},Nt=function(e){return he(e)||ka(e)},u3=0,ls=function(e){var r=++u3;return"".concat(e||"").concat(r)},Oa=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(e)&&!ka(e))return n;var o;if(ma(e)){var l=e.indexOf("%");o=r*parseFloat(e.slice(0,l))/100}else o=+e;return ss(o)&&(o=n),i&&o>r&&(o=r),o},Di=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},c3=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Vt=function(e,r){return he(e)&&he(r)?function(n){return e+n*(r-e)}:function(){return r}};function td(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Kr(n,e))===r})}var d3=function(e,r){return he(e)&&he(r)?e-r:ka(e)&&ka(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Ao(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function n0(t){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n0(t)}var f3=["viewBox","children"],h3=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ij=["points","pathLength"],Wy={svg:f3,polygon:ij,polyline:ij},Mx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rd=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(M.isValidElement(e)&&(n=e.props),!os(n))return null;var i={};return Object.keys(n).forEach(function(o){Mx.includes(o)&&(i[o]=r||function(l){return n[o](n,l)})}),i},p3=function(e,r,n){return function(i){return e(r,n,i),null}},nd=function(e,r,n){if(!os(e)||n0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var l=e[o];Mx.includes(o)&&typeof l=="function"&&(i||(i={}),i[o]=p3(l,r,n))}),i},y3=["children"],g3=["children"];function aj(t,e){if(t==null)return{};var r=m3(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m3(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function i0(t){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i0(t)}var oj={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Qn=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},sj=null,Hy=null,$x=function t(e){if(e===sj&&Array.isArray(Hy))return Hy;var r=[];return M.Children.forEach(e,function(n){Le(n)||(n3.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Hy=r,sj=e,r};function Gr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Qn(i)}):n=[Qn(e)],$x(t).forEach(function(i){var o=Kr(i,"type.displayName")||Kr(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function Cr(t,e){var r=Gr(t,e);return r&&r[0]}var lj=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!he(n)||n<=0||!he(i)||i<=0)},v3=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],x3=function(e){return e&&e.type&&ka(e.type)&&v3.indexOf(e.type)>=0},jT=function(e){return e&&i0(e)==="object"&&"clipDot"in e},b3=function(e,r,n,i){var o,l=(o=Wy?.[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ne(e)&&(i&&l.includes(r)||h3.includes(r))||n&&Mx.includes(r)},Me=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.isValidElement(e)&&(i=e.props),!os(i))return null;var o={};return Object.keys(i).forEach(function(l){var u;b3((u=i)===null||u===void 0?void 0:u[l],l,r,n)&&(o[l]=i[l])}),o},a0=function t(e,r){if(e===r)return!0;var n=M.Children.count(e);if(n!==M.Children.count(r))return!1;if(n===0)return!0;if(n===1)return uj(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],l=r[i];if(Array.isArray(o)||Array.isArray(l)){if(!t(o,l))return!1}else if(!uj(o,l))return!1}return!0},uj=function(e,r){if(Le(e)&&Le(r))return!0;if(!Le(e)&&!Le(r)){var n=e.props||{},i=n.children,o=aj(n,y3),l=r.props||{},u=l.children,d=aj(l,g3);return i&&u?Ao(o,d)&&a0(i,u):!i&&!u?Ao(o,d):!1}return!1},cj=function(e,r){var n=[],i={};return $x(e).forEach(function(o,l){if(x3(o))n.push(o);else if(o){var u=Qn(o.type),d=r[u]||{},h=d.handler,y=d.once;if(h&&(!y||!i[u])){var p=h(o,u,l);n.push(p),i[u]=!0}}}),n},w3=function(e){var r=e&&e.type;return r&&oj[r]?oj[r]:null},_3=function(e,r){return $x(r).indexOf(e)},S3=["children","width","height","viewBox","className","style","title","desc"];function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o0.apply(this,arguments)}function j3(t,e){if(t==null)return{};var r=k3(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function k3(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function s0(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,l=t.style,u=t.title,d=t.desc,h=j3(t,S3),y=i||{width:r,height:n,x:0,y:0},p=Be("recharts-surface",o);return F.createElement("svg",o0({},Me(h,!0,"svg"),{className:p,width:r,height:n,style:l,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height)}),F.createElement("title",null,u),F.createElement("desc",null,d),e)}var O3=["children","className"];function l0(){return l0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l0.apply(this,arguments)}function E3(t,e){if(t==null)return{};var r=A3(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function A3(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var nt=F.forwardRef(function(t,e){var r=t.children,n=t.className,i=E3(t,O3),o=Be("recharts-layer",n);return F.createElement("g",l0({className:o},Me(i,!0),{ref:e}),r)}),Zn=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},Vy,dj;function T3(){if(dj)return Vy;dj=1;function t(e,r,n){var i=-1,o=e.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(o);++i<o;)l[i]=e[i+r];return l}return Vy=t,Vy}var Ky,fj;function C3(){if(fj)return Ky;fj=1;var t=T3();function e(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:t(r,n,i)}return Ky=e,Ky}var Gy,hj;function kT(){if(hj)return Gy;hj=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+t+i+o+"]");function d(h){return u.test(h)}return Gy=d,Gy}var Yy,pj;function P3(){if(pj)return Yy;pj=1;function t(e){return e.split("")}return Yy=t,Yy}var Xy,yj;function I3(){if(yj)return Xy;yj=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",l="["+t+"]",u="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",h="(?:"+u+"|"+d+")",y="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",_=h+"?",w="["+o+"]?",b="(?:"+v+"(?:"+[y,p,m].join("|")+")"+w+_+")*",k=w+_+b,E="(?:"+[y+u+"?",u,p,m,l].join("|")+")",O=RegExp(d+"(?="+d+")|"+E+k,"g");function T(j){return j.match(O)||[]}return Xy=T,Xy}var Jy,gj;function N3(){if(gj)return Jy;gj=1;var t=P3(),e=kT(),r=I3();function n(i){return e(i)?r(i):t(i)}return Jy=n,Jy}var Qy,mj;function R3(){if(mj)return Qy;mj=1;var t=C3(),e=kT(),r=N3(),n=bT();function i(o){return function(l){l=n(l);var u=e(l)?r(l):void 0,d=u?u[0]:l.charAt(0),h=u?t(u,1).join(""):l.slice(1);return d[o]()+h}}return Qy=i,Qy}var Zy,vj;function M3(){if(vj)return Zy;vj=1;var t=R3(),e=t("toUpperCase");return Zy=e,Zy}var $3=M3();const hf=Ze($3);function rt(t){return function(){return t}}const OT=Math.cos,id=Math.sin,yn=Math.sqrt,ad=Math.PI,pf=2*ad,u0=Math.PI,c0=2*u0,fa=1e-6,D3=c0-fa;function ET(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function L3(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ET;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class z3{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ET:L3(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,l){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,d=n-e,h=i-r,y=l-e,p=u-r,m=y*y+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>fa)if(!(Math.abs(p*d-h*y)>fa)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-l,_=i-u,w=d*d+h*h,b=v*v+_*_,k=Math.sqrt(w),E=Math.sqrt(m),O=o*Math.tan((u0-Math.acos((w+m-b)/(2*k*E)))/2),T=O/E,j=O/k;Math.abs(T-1)>fa&&this._append`L${e+T*y},${r+T*p}`,this._append`A${o},${o},0,0,${+(p*v>y*_)},${this._x1=e+j*d},${this._y1=r+j*h}`}}arc(e,r,n,i,o,l){if(e=+e,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),h=e+u,y=r+d,p=1^l,m=l?i-o:o-i;this._x1===null?this._append`M${h},${y}`:(Math.abs(this._x1-h)>fa||Math.abs(this._y1-y)>fa)&&this._append`L${h},${y}`,n&&(m<0&&(m=m%c0+c0),m>D3?this._append`A${n},${n},0,1,${p},${e-u},${r-d}A${n},${n},0,1,${p},${this._x1=h},${this._y1=y}`:m>fa&&this._append`A${n},${n},0,${+(m>=u0)},${p},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Dx(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new z3(e)}function Lx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function AT(t){this._context=t}AT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function yf(t){return new AT(t)}function TT(t){return t[0]}function CT(t){return t[1]}function PT(t,e){var r=rt(!0),n=null,i=yf,o=null,l=Dx(u);t=typeof t=="function"?t:t===void 0?TT:rt(t),e=typeof e=="function"?e:e===void 0?CT:rt(e);function u(d){var h,y=(d=Lx(d)).length,p,m=!1,v;for(n==null&&(o=i(v=l())),h=0;h<=y;++h)!(h<y&&r(p=d[h],h,d))===m&&((m=!m)?o.lineStart():o.lineEnd()),m&&o.point(+t(p,h,d),+e(p,h,d));if(v)return o=null,v+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:rt(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:rt(+d),u):e},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:rt(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(o=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=o=null:o=i(n=d),u):n},u}function Lc(t,e,r){var n=null,i=rt(!0),o=null,l=yf,u=null,d=Dx(h);t=typeof t=="function"?t:t===void 0?TT:rt(+t),e=typeof e=="function"?e:rt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?CT:rt(+r);function h(p){var m,v,_,w=(p=Lx(p)).length,b,k=!1,E,O=new Array(w),T=new Array(w);for(o==null&&(u=l(E=d())),m=0;m<=w;++m){if(!(m<w&&i(b=p[m],m,p))===k)if(k=!k)v=m,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),_=m-1;_>=v;--_)u.point(O[_],T[_]);u.lineEnd(),u.areaEnd()}k&&(O[m]=+t(b,m,p),T[m]=+e(b,m,p),u.point(n?+n(b,m,p):O[m],r?+r(b,m,p):T[m]))}if(E)return u=null,E+""||null}function y(){return PT().defined(i).curve(l).context(o)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:rt(+p),n=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:rt(+p),h):t},h.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:rt(+p),h):n},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:rt(+p),r=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:rt(+p),h):e},h.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:rt(+p),h):r},h.lineX0=h.lineY0=function(){return y().x(t).y(e)},h.lineY1=function(){return y().x(t).y(r)},h.lineX1=function(){return y().x(n).y(e)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:rt(!!p),h):i},h.curve=function(p){return arguments.length?(l=p,o!=null&&(u=l(o)),h):l},h.context=function(p){return arguments.length?(p==null?o=u=null:u=l(o=p),h):o},h}class IT{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function B3(t){return new IT(t,!0)}function q3(t){return new IT(t,!1)}const zx={draw(t,e){const r=yn(e/ad);t.moveTo(r,0),t.arc(0,0,r,0,pf)}},U3={draw(t,e){const r=yn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},NT=yn(1/3),F3=NT*2,W3={draw(t,e){const r=yn(e/F3),n=r*NT;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},H3={draw(t,e){const r=yn(e),n=-r/2;t.rect(n,n,r,r)}},V3=.8908130915292852,RT=id(ad/10)/id(7*ad/10),K3=id(pf/10)*RT,G3=-OT(pf/10)*RT,Y3={draw(t,e){const r=yn(e*V3),n=K3*r,i=G3*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const l=pf*o/5,u=OT(l),d=id(l);t.lineTo(d*r,-u*r),t.lineTo(u*n-d*i,d*n+u*i)}t.closePath()}},eg=yn(3),X3={draw(t,e){const r=-yn(e/(eg*3));t.moveTo(0,r*2),t.lineTo(-eg*r,-r),t.lineTo(eg*r,-r),t.closePath()}},Fr=-.5,Wr=yn(3)/2,d0=1/yn(12),J3=(d0/2+1)*3,Q3={draw(t,e){const r=yn(e/J3),n=r/2,i=r*d0,o=n,l=r*d0+r,u=-o,d=l;t.moveTo(n,i),t.lineTo(o,l),t.lineTo(u,d),t.lineTo(Fr*n-Wr*i,Wr*n+Fr*i),t.lineTo(Fr*o-Wr*l,Wr*o+Fr*l),t.lineTo(Fr*u-Wr*d,Wr*u+Fr*d),t.lineTo(Fr*n+Wr*i,Fr*i-Wr*n),t.lineTo(Fr*o+Wr*l,Fr*l-Wr*o),t.lineTo(Fr*u+Wr*d,Fr*d-Wr*u),t.closePath()}};function Z3(t,e){let r=null,n=Dx(i);t=typeof t=="function"?t:rt(t||zx),e=typeof e=="function"?e:rt(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:rt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:rt(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function od(){}function sd(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function MT(t){this._context=t}MT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function e6(t){return new MT(t)}function $T(t){this._context=t}$T.prototype={areaStart:od,areaEnd:od,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:sd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function t6(t){return new $T(t)}function DT(t){this._context=t}DT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:sd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function r6(t){return new DT(t)}function LT(t){this._context=t}LT.prototype={areaStart:od,areaEnd:od,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function n6(t){return new LT(t)}function xj(t){return t<0?-1:1}function bj(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),l=(r-t._y1)/(i||n<0&&-0),u=(o*i+l*n)/(n+i);return(xj(o)+xj(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function wj(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function tg(t,e,r){var n=t._x0,i=t._y0,o=t._x1,l=t._y1,u=(o-n)/3;t._context.bezierCurveTo(n+u,i+u*e,o-u,l-u*r,o,l)}function ld(t){this._context=t}ld.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tg(this,this._t0,wj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,tg(this,wj(this,r=bj(this,t,e)),r);break;default:tg(this,this._t0,r=bj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function zT(t){this._context=new BT(t)}(zT.prototype=Object.create(ld.prototype)).point=function(t,e){ld.prototype.point.call(this,e,t)};function BT(t){this._context=t}BT.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function i6(t){return new ld(t)}function a6(t){return new zT(t)}function qT(t){this._context=t}qT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=_j(t),i=_j(e),o=0,l=1;l<r;++o,++l)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[l],e[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function _j(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),l=new Array(r);for(i[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,l[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,l[e]-=n*l[e-1];for(i[r-1]=l[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(l[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function o6(t){return new qT(t)}function gf(t,e){this._context=t,this._t=e}gf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function s6(t){return new gf(t,.5)}function l6(t){return new gf(t,0)}function u6(t){return new gf(t,1)}function Ro(t,e){if((l=t.length)>1)for(var r=1,n,i,o=t[e[0]],l,u=o.length;r<l;++r)for(i=o,o=t[e[r]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function f0(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function c6(t,e){return t[e]}function d6(t){const e=[];return e.key=t,e}function f6(){var t=rt([]),e=f0,r=Ro,n=c6;function i(o){var l=Array.from(t.apply(this,arguments),d6),u,d=l.length,h=-1,y;for(const p of o)for(u=0,++h;u<d;++u)(l[u][h]=[0,+n(p,l[u].key,h,o)]).data=p;for(u=0,y=Lx(e(l));u<d;++u)l[y[u]].index=u;return r(l,y),l}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:rt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:rt(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?f0:typeof o=="function"?o:rt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??Ro,i):r},i}function h6(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,l;i<o;++i){for(l=r=0;r<n;++r)l+=t[r][i][1]||0;if(l)for(r=0;r<n;++r)t[r][i][1]/=l}Ro(t,e)}}function p6(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var l=0,u=0;l<i;++l)u+=t[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}Ro(t,e)}}function y6(t,e){if(!(!((l=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,l;n<o;++n){for(var u=0,d=0,h=0;u<l;++u){for(var y=t[e[u]],p=y[n][1]||0,m=y[n-1][1]||0,v=(p-m)/2,_=0;_<u;++_){var w=t[e[_]],b=w[n][1]||0,k=w[n-1][1]||0;v+=b-k}d+=p,h+=v*p}i[n-1][1]+=i[n-1][0]=r,d&&(r-=h/d)}i[n-1][1]+=i[n-1][0]=r,Ro(t,e)}}function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}var g6=["type","size","sizeType"];function h0(){return h0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h0.apply(this,arguments)}function Sj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sj(Object(r),!0).forEach(function(n){m6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m6(t,e,r){return e=v6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v6(t){var e=x6(t,"string");return Tl(e)=="symbol"?e:e+""}function x6(t,e){if(Tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b6(t,e){if(t==null)return{};var r=w6(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function w6(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var UT={symbolCircle:zx,symbolCross:U3,symbolDiamond:W3,symbolSquare:H3,symbolStar:Y3,symbolTriangle:X3,symbolWye:Q3},_6=Math.PI/180,S6=function(e){var r="symbol".concat(hf(e));return UT[r]||zx},j6=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*_6;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},k6=function(e,r){UT["symbol".concat(hf(e))]=r},Bx=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,l=e.sizeType,u=l===void 0?"area":l,d=b6(e,g6),h=jj(jj({},d),{},{type:n,size:o,sizeType:u}),y=function(){var b=S6(n),k=Z3().type(b).size(j6(o,u,n));return k()},p=h.className,m=h.cx,v=h.cy,_=Me(h,!0);return m===+m&&v===+v&&o===+o?F.createElement("path",h0({},_,{className:Be("recharts-symbols",p),transform:"translate(".concat(m,", ").concat(v,")"),d:y()})):null};Bx.registerSymbol=k6;function Mo(t){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mo(t)}function p0(){return p0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p0.apply(this,arguments)}function kj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(r),!0).forEach(function(n){Cl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WT(n.key),n)}}function T6(t,e,r){return e&&A6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C6(t,e,r){return e=ud(e),P6(t,FT()?Reflect.construct(e,r||[],ud(t).constructor):e.apply(t,r))}function P6(t,e){if(e&&(Mo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I6(t)}function I6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FT=function(){return!!t})()}function ud(t){return ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ud(t)}function N6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y0(t,e)}function y0(t,e){return y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y0(t,e)}function Cl(t,e,r){return e=WT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WT(t){var e=R6(t,"string");return Mo(e)=="symbol"?e:e+""}function R6(t,e){if(Mo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hr=32,qx=(function(t){function e(){return E6(this,e),C6(this,e,arguments)}return N6(e,t),T6(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=Hr/2,l=Hr/6,u=Hr/3,d=n.inactive?i:n.color;if(n.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Hr,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(Hr,"M").concat(2*u,",").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return F.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Hr/8,"h").concat(Hr,"v").concat(Hr*3/4,"h").concat(-Hr,"z"),className:"recharts-legend-icon"});if(F.isValidElement(n.legendIcon)){var h=O6({},n);return delete h.legendIcon,F.cloneElement(n.legendIcon,h)}return F.createElement(Bx,{fill:d,cx:o,cy:o,size:Hr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,l=i.iconSize,u=i.layout,d=i.formatter,h=i.inactiveColor,y={x:0,y:0,width:Hr,height:Hr},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(v,_){var w=v.formatter||d,b=Be(Cl(Cl({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",v.inactive));if(v.type==="none")return null;var k=Ne(v.value)?null:v.value;Zn(!Ne(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=v.inactive?h:v.color;return F.createElement("li",p0({className:b,style:p,key:"legend-item-".concat(_)},nd(n.props,v,_)),F.createElement(s0,{width:l,height:l,viewBox:y,style:m},n.renderIcon(v)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},w?w(k,v,_):k))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,l=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?l:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(M.PureComponent);Cl(qx,"displayName","Legend");Cl(qx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var rg,Oj;function M6(){if(Oj)return rg;Oj=1;var t=cf();function e(){this.__data__=new t,this.size=0}return rg=e,rg}var ng,Ej;function $6(){if(Ej)return ng;Ej=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return ng=t,ng}var ig,Aj;function D6(){if(Aj)return ig;Aj=1;function t(e){return this.__data__.get(e)}return ig=t,ig}var ag,Tj;function L6(){if(Tj)return ag;Tj=1;function t(e){return this.__data__.has(e)}return ag=t,ag}var og,Cj;function z6(){if(Cj)return og;Cj=1;var t=cf(),e=Px(),r=Ix(),n=200;function i(o,l){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<n-1)return d.push([o,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(o,l),this.size=u.size,this}return og=i,og}var sg,Pj;function HT(){if(Pj)return sg;Pj=1;var t=cf(),e=M6(),r=$6(),n=D6(),i=L6(),o=z6();function l(u){var d=this.__data__=new t(u);this.size=d.size}return l.prototype.clear=e,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=i,l.prototype.set=o,sg=l,sg}var lg,Ij;function B6(){if(Ij)return lg;Ij=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return lg=e,lg}var ug,Nj;function q6(){if(Nj)return ug;Nj=1;function t(e){return this.__data__.has(e)}return ug=t,ug}var cg,Rj;function VT(){if(Rj)return cg;Rj=1;var t=Ix(),e=B6(),r=q6();function n(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new t;++o<l;)this.add(i[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,cg=n,cg}var dg,Mj;function KT(){if(Mj)return dg;Mj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return dg=t,dg}var fg,$j;function GT(){if($j)return fg;$j=1;function t(e,r){return e.has(r)}return fg=t,fg}var hg,Dj;function YT(){if(Dj)return hg;Dj=1;var t=VT(),e=KT(),r=GT(),n=1,i=2;function o(l,u,d,h,y,p){var m=d&n,v=l.length,_=u.length;if(v!=_&&!(m&&_>v))return!1;var w=p.get(l),b=p.get(u);if(w&&b)return w==u&&b==l;var k=-1,E=!0,O=d&i?new t:void 0;for(p.set(l,u),p.set(u,l);++k<v;){var T=l[k],j=u[k];if(h)var A=m?h(j,T,k,u,l,p):h(T,j,k,l,u,p);if(A!==void 0){if(A)continue;E=!1;break}if(O){if(!e(u,function(C,I){if(!r(O,I)&&(T===C||y(T,C,d,h,p)))return O.push(I)})){E=!1;break}}else if(!(T===j||y(T,j,d,h,p))){E=!1;break}}return p.delete(l),p.delete(u),E}return hg=o,hg}var pg,Lj;function U6(){if(Lj)return pg;Lj=1;var t=In(),e=t.Uint8Array;return pg=e,pg}var yg,zj;function F6(){if(zj)return yg;zj=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,o){n[++r]=[o,i]}),n}return yg=t,yg}var gg,Bj;function Ux(){if(Bj)return gg;Bj=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return gg=t,gg}var mg,qj;function W6(){if(qj)return mg;qj=1;var t=pu(),e=U6(),r=Cx(),n=YT(),i=F6(),o=Ux(),l=1,u=2,d="[object Boolean]",h="[object Date]",y="[object Error]",p="[object Map]",m="[object Number]",v="[object RegExp]",_="[object Set]",w="[object String]",b="[object Symbol]",k="[object ArrayBuffer]",E="[object DataView]",O=t?t.prototype:void 0,T=O?O.valueOf:void 0;function j(A,C,I,R,H,z,N){switch(I){case E:if(A.byteLength!=C.byteLength||A.byteOffset!=C.byteOffset)return!1;A=A.buffer,C=C.buffer;case k:return!(A.byteLength!=C.byteLength||!z(new e(A),new e(C)));case d:case h:case m:return r(+A,+C);case y:return A.name==C.name&&A.message==C.message;case v:case w:return A==C+"";case p:var q=i;case _:var U=R&l;if(q||(q=o),A.size!=C.size&&!U)return!1;var V=N.get(A);if(V)return V==C;R|=u,N.set(A,C);var X=n(q(A),q(C),R,H,z,N);return N.delete(A),X;case b:if(T)return T.call(A)==T.call(C)}return!1}return mg=j,mg}var vg,Uj;function XT(){if(Uj)return vg;Uj=1;function t(e,r){for(var n=-1,i=r.length,o=e.length;++n<i;)e[o+n]=r[n];return e}return vg=t,vg}var xg,Fj;function H6(){if(Fj)return xg;Fj=1;var t=XT(),e=wr();function r(n,i,o){var l=i(n);return e(n)?l:t(l,o(n))}return xg=r,xg}var bg,Wj;function V6(){if(Wj)return bg;Wj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=0,l=[];++n<i;){var u=e[n];r(u,n,e)&&(l[o++]=u)}return l}return bg=t,bg}var wg,Hj;function K6(){if(Hj)return wg;Hj=1;function t(){return[]}return wg=t,wg}var _g,Vj;function G6(){if(Vj)return _g;Vj=1;var t=V6(),e=K6(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(u){return n.call(l,u)}))}:e;return _g=o,_g}var Sg,Kj;function Y6(){if(Kj)return Sg;Kj=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return Sg=t,Sg}var jg,Gj;function X6(){if(Gj)return jg;Gj=1;var t=li(),e=ui(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return jg=n,jg}var kg,Yj;function Fx(){if(Yj)return kg;Yj=1;var t=X6(),e=ui(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(l){return e(l)&&n.call(l,"callee")&&!i.call(l,"callee")};return kg=o,kg}var ul={exports:{}},Og,Xj;function J6(){if(Xj)return Og;Xj=1;function t(){return!1}return Og=t,Og}ul.exports;var Jj;function JT(){return Jj||(Jj=1,(function(t,e){var r=In(),n=J6(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,l=o&&o.exports===i,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,h=d||n;t.exports=h})(ul,ul.exports)),ul.exports}var Eg,Qj;function Wx(){if(Qj)return Eg;Qj=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Eg=r,Eg}var Ag,Zj;function Hx(){if(Zj)return Ag;Zj=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Ag=e,Ag}var Tg,ek;function Q6(){if(ek)return Tg;ek=1;var t=li(),e=Hx(),r=ui(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",h="[object Map]",y="[object Number]",p="[object Object]",m="[object RegExp]",v="[object Set]",_="[object String]",w="[object WeakMap]",b="[object ArrayBuffer]",k="[object DataView]",E="[object Float32Array]",O="[object Float64Array]",T="[object Int8Array]",j="[object Int16Array]",A="[object Int32Array]",C="[object Uint8Array]",I="[object Uint8ClampedArray]",R="[object Uint16Array]",H="[object Uint32Array]",z={};z[E]=z[O]=z[T]=z[j]=z[A]=z[C]=z[I]=z[R]=z[H]=!0,z[n]=z[i]=z[b]=z[o]=z[k]=z[l]=z[u]=z[d]=z[h]=z[y]=z[p]=z[m]=z[v]=z[_]=z[w]=!1;function N(q){return r(q)&&e(q.length)&&!!z[t(q)]}return Tg=N,Tg}var Cg,tk;function QT(){if(tk)return Cg;tk=1;function t(e){return function(r){return e(r)}}return Cg=t,Cg}var cl={exports:{}};cl.exports;var rk;function Z6(){return rk||(rk=1,(function(t,e){var r=mT(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,l=o&&r.process,u=(function(){try{var d=i&&i.require&&i.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();t.exports=u})(cl,cl.exports)),cl.exports}var Pg,nk;function ZT(){if(nk)return Pg;nk=1;var t=Q6(),e=QT(),r=Z6(),n=r&&r.isTypedArray,i=n?e(n):t;return Pg=i,Pg}var Ig,ik;function e5(){if(ik)return Ig;ik=1;var t=Y6(),e=Fx(),r=wr(),n=JT(),i=Wx(),o=ZT(),l=Object.prototype,u=l.hasOwnProperty;function d(h,y){var p=r(h),m=!p&&e(h),v=!p&&!m&&n(h),_=!p&&!m&&!v&&o(h),w=p||m||v||_,b=w?t(h.length,String):[],k=b.length;for(var E in h)(y||u.call(h,E))&&!(w&&(E=="length"||v&&(E=="offset"||E=="parent")||_&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,k)))&&b.push(E);return b}return Ig=d,Ig}var Ng,ak;function t5(){if(ak)return Ng;ak=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Ng=e,Ng}var Rg,ok;function eC(){if(ok)return Rg;ok=1;function t(e,r){return function(n){return e(r(n))}}return Rg=t,Rg}var Mg,sk;function r5(){if(sk)return Mg;sk=1;var t=eC(),e=t(Object.keys,Object);return Mg=e,Mg}var $g,lk;function n5(){if(lk)return $g;lk=1;var t=t5(),e=r5(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!t(o))return e(o);var l=[];for(var u in Object(o))n.call(o,u)&&u!="constructor"&&l.push(u);return l}return $g=i,$g}var Dg,uk;function yu(){if(uk)return Dg;uk=1;var t=Tx(),e=Hx();function r(n){return n!=null&&e(n.length)&&!t(n)}return Dg=r,Dg}var Lg,ck;function mf(){if(ck)return Lg;ck=1;var t=e5(),e=n5(),r=yu();function n(i){return r(i)?t(i):e(i)}return Lg=n,Lg}var zg,dk;function i5(){if(dk)return zg;dk=1;var t=H6(),e=G6(),r=mf();function n(i){return t(i,r,e)}return zg=n,zg}var Bg,fk;function a5(){if(fk)return Bg;fk=1;var t=i5(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,l,u,d,h,y){var p=u&e,m=t(o),v=m.length,_=t(l),w=_.length;if(v!=w&&!p)return!1;for(var b=v;b--;){var k=m[b];if(!(p?k in l:n.call(l,k)))return!1}var E=y.get(o),O=y.get(l);if(E&&O)return E==l&&O==o;var T=!0;y.set(o,l),y.set(l,o);for(var j=p;++b<v;){k=m[b];var A=o[k],C=l[k];if(d)var I=p?d(C,A,k,l,o,y):d(A,C,k,o,l,y);if(!(I===void 0?A===C||h(A,C,u,d,y):I)){T=!1;break}j||(j=k=="constructor")}if(T&&!j){var R=o.constructor,H=l.constructor;R!=H&&"constructor"in o&&"constructor"in l&&!(typeof R=="function"&&R instanceof R&&typeof H=="function"&&H instanceof H)&&(T=!1)}return y.delete(o),y.delete(l),T}return Bg=i,Bg}var qg,hk;function o5(){if(hk)return qg;hk=1;var t=Ca(),e=In(),r=t(e,"DataView");return qg=r,qg}var Ug,pk;function s5(){if(pk)return Ug;pk=1;var t=Ca(),e=In(),r=t(e,"Promise");return Ug=r,Ug}var Fg,yk;function tC(){if(yk)return Fg;yk=1;var t=Ca(),e=In(),r=t(e,"Set");return Fg=r,Fg}var Wg,gk;function l5(){if(gk)return Wg;gk=1;var t=Ca(),e=In(),r=t(e,"WeakMap");return Wg=r,Wg}var Hg,mk;function u5(){if(mk)return Hg;mk=1;var t=o5(),e=Px(),r=s5(),n=tC(),i=l5(),o=li(),l=vT(),u="[object Map]",d="[object Object]",h="[object Promise]",y="[object Set]",p="[object WeakMap]",m="[object DataView]",v=l(t),_=l(e),w=l(r),b=l(n),k=l(i),E=o;return(t&&E(new t(new ArrayBuffer(1)))!=m||e&&E(new e)!=u||r&&E(r.resolve())!=h||n&&E(new n)!=y||i&&E(new i)!=p)&&(E=function(O){var T=o(O),j=T==d?O.constructor:void 0,A=j?l(j):"";if(A)switch(A){case v:return m;case _:return u;case w:return h;case b:return y;case k:return p}return T}),Hg=E,Hg}var Vg,vk;function c5(){if(vk)return Vg;vk=1;var t=HT(),e=YT(),r=W6(),n=a5(),i=u5(),o=wr(),l=JT(),u=ZT(),d=1,h="[object Arguments]",y="[object Array]",p="[object Object]",m=Object.prototype,v=m.hasOwnProperty;function _(w,b,k,E,O,T){var j=o(w),A=o(b),C=j?y:i(w),I=A?y:i(b);C=C==h?p:C,I=I==h?p:I;var R=C==p,H=I==p,z=C==I;if(z&&l(w)){if(!l(b))return!1;j=!0,R=!1}if(z&&!R)return T||(T=new t),j||u(w)?e(w,b,k,E,O,T):r(w,b,C,k,E,O,T);if(!(k&d)){var N=R&&v.call(w,"__wrapped__"),q=H&&v.call(b,"__wrapped__");if(N||q){var U=N?w.value():w,V=q?b.value():b;return T||(T=new t),O(U,V,k,E,T)}}return z?(T||(T=new t),n(w,b,k,E,O,T)):!1}return Vg=_,Vg}var Kg,xk;function Vx(){if(xk)return Kg;xk=1;var t=c5(),e=ui();function r(n,i,o,l,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,o,l,r,u)}return Kg=r,Kg}var Gg,bk;function d5(){if(bk)return Gg;bk=1;var t=HT(),e=Vx(),r=1,n=2;function i(o,l,u,d){var h=u.length,y=h,p=!d;if(o==null)return!y;for(o=Object(o);h--;){var m=u[h];if(p&&m[2]?m[1]!==o[m[0]]:!(m[0]in o))return!1}for(;++h<y;){m=u[h];var v=m[0],_=o[v],w=m[1];if(p&&m[2]){if(_===void 0&&!(v in o))return!1}else{var b=new t;if(d)var k=d(_,w,v,o,l,b);if(!(k===void 0?e(w,_,r|n,d,b):k))return!1}}return!0}return Gg=i,Gg}var Yg,wk;function rC(){if(wk)return Yg;wk=1;var t=Ui();function e(r){return r===r&&!t(r)}return Yg=e,Yg}var Xg,_k;function f5(){if(_k)return Xg;_k=1;var t=rC(),e=mf();function r(n){for(var i=e(n),o=i.length;o--;){var l=i[o],u=n[l];i[o]=[l,u,t(u)]}return i}return Xg=r,Xg}var Jg,Sk;function nC(){if(Sk)return Jg;Sk=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Jg=t,Jg}var Qg,jk;function h5(){if(jk)return Qg;jk=1;var t=d5(),e=f5(),r=nC();function n(i){var o=e(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(l){return l===i||t(l,i,o)}}return Qg=n,Qg}var Zg,kk;function p5(){if(kk)return Zg;kk=1;function t(e,r){return e!=null&&r in Object(e)}return Zg=t,Zg}var em,Ok;function y5(){if(Ok)return em;Ok=1;var t=wT(),e=Fx(),r=wr(),n=Wx(),i=Hx(),o=ff();function l(u,d,h){d=t(d,u);for(var y=-1,p=d.length,m=!1;++y<p;){var v=o(d[y]);if(!(m=u!=null&&h(u,v)))break;u=u[v]}return m||++y!=p?m:(p=u==null?0:u.length,!!p&&i(p)&&n(v,p)&&(r(u)||e(u)))}return em=l,em}var tm,Ek;function g5(){if(Ek)return tm;Ek=1;var t=p5(),e=y5();function r(n,i){return n!=null&&e(n,i,t)}return tm=r,tm}var rm,Ak;function m5(){if(Ak)return rm;Ak=1;var t=Vx(),e=_T(),r=g5(),n=Ax(),i=rC(),o=nC(),l=ff(),u=1,d=2;function h(y,p){return n(y)&&i(p)?o(l(y),p):function(m){var v=e(m,y);return v===void 0&&v===p?r(m,y):t(p,v,u|d)}}return rm=h,rm}var nm,Tk;function us(){if(Tk)return nm;Tk=1;function t(e){return e}return nm=t,nm}var im,Ck;function v5(){if(Ck)return im;Ck=1;function t(e){return function(r){return r?.[e]}}return im=t,im}var am,Pk;function x5(){if(Pk)return am;Pk=1;var t=Rx();function e(r){return function(n){return t(n,r)}}return am=e,am}var om,Ik;function b5(){if(Ik)return om;Ik=1;var t=v5(),e=x5(),r=Ax(),n=ff();function i(o){return r(o)?t(n(o)):e(o)}return om=i,om}var sm,Nk;function Fi(){if(Nk)return sm;Nk=1;var t=h5(),e=m5(),r=us(),n=wr(),i=b5();function o(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?e(l[0],l[1]):t(l):i(l)}return sm=o,sm}var lm,Rk;function iC(){if(Rk)return lm;Rk=1;function t(e,r,n,i){for(var o=e.length,l=n+(i?1:-1);i?l--:++l<o;)if(r(e[l],l,e))return l;return-1}return lm=t,lm}var um,Mk;function w5(){if(Mk)return um;Mk=1;function t(e){return e!==e}return um=t,um}var cm,$k;function _5(){if($k)return cm;$k=1;function t(e,r,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===r)return i;return-1}return cm=t,cm}var dm,Dk;function S5(){if(Dk)return dm;Dk=1;var t=iC(),e=w5(),r=_5();function n(i,o,l){return o===o?r(i,o,l):t(i,e,l)}return dm=n,dm}var fm,Lk;function j5(){if(Lk)return fm;Lk=1;var t=S5();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return fm=e,fm}var hm,zk;function k5(){if(zk)return hm;zk=1;function t(e,r,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(r,e[i]))return!0;return!1}return hm=t,hm}var pm,Bk;function O5(){if(Bk)return pm;Bk=1;function t(){}return pm=t,pm}var ym,qk;function E5(){if(qk)return ym;qk=1;var t=tC(),e=O5(),r=Ux(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(o){return new t(o)}:e;return ym=i,ym}var gm,Uk;function A5(){if(Uk)return gm;Uk=1;var t=VT(),e=j5(),r=k5(),n=GT(),i=E5(),o=Ux(),l=200;function u(d,h,y){var p=-1,m=e,v=d.length,_=!0,w=[],b=w;if(y)_=!1,m=r;else if(v>=l){var k=h?null:i(d);if(k)return o(k);_=!1,m=n,b=new t}else b=h?[]:w;e:for(;++p<v;){var E=d[p],O=h?h(E):E;if(E=y||E!==0?E:0,_&&O===O){for(var T=b.length;T--;)if(b[T]===O)continue e;h&&b.push(O),w.push(E)}else m(b,O,y)||(b!==w&&b.push(O),w.push(E))}return w}return gm=u,gm}var mm,Fk;function T5(){if(Fk)return mm;Fk=1;var t=Fi(),e=A5();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return mm=r,mm}var C5=T5();const Wk=Ze(C5);function aC(t,e,r){return e===!0?Wk(t,r):Ne(e)?Wk(t,e):t}function $o(t){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(t)}var P5=["ref"];function Hk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(r),!0).forEach(function(n){vf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sC(n.key),n)}}function N5(t,e,r){return e&&Vk(t.prototype,e),r&&Vk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function R5(t,e,r){return e=cd(e),M5(t,oC()?Reflect.construct(e,r||[],cd(t).constructor):e.apply(t,r))}function M5(t,e){if(e&&($o(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $5(t)}function $5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oC=function(){return!!t})()}function cd(t){return cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cd(t)}function D5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g0(t,e)}function g0(t,e){return g0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},g0(t,e)}function vf(t,e,r){return e=sC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sC(t){var e=L5(t,"string");return $o(e)=="symbol"?e:e+""}function L5(t,e){if($o(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function z5(t,e){if(t==null)return{};var r=B5(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function B5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function q5(t){return t.value}function U5(t,e){if(F.isValidElement(t))return F.cloneElement(t,e);if(typeof t=="function")return F.createElement(t,e);e.ref;var r=z5(e,P5);return F.createElement(qx,r)}var Kk=1,_a=(function(t){function e(){var r;I5(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=R5(this,e,[].concat(i)),vf(r,"lastBoundingBox",{width:-1,height:-1}),r}return D5(e,t),N5(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Kk||Math.abs(i.height-this.lastBoundingBox.height)>Kk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Wn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,l=i.align,u=i.verticalAlign,d=i.margin,h=i.chartWidth,y=i.chartHeight,p,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&o==="vertical"){var v=this.getBBoxSnapshot();p={left:((h||0)-v.width)/2}}else p=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var _=this.getBBoxSnapshot();m={top:((y||0)-_.height)/2}}else m=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Wn(Wn({},p),m)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,l=i.width,u=i.height,d=i.wrapperStyle,h=i.payloadUniqBy,y=i.payload,p=Wn(Wn({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return F.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(v){n.wrapperNode=v}},U5(o,Wn(Wn({},this.props),{},{payload:aC(y,h,q5)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Wn(Wn({},this.defaultProps),n.props),l=o.layout;return l==="vertical"&&he(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||i}:null}}])})(M.PureComponent);vf(_a,"displayName","Legend");vf(_a,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var vm,Gk;function F5(){if(Gk)return vm;Gk=1;var t=pu(),e=Fx(),r=wr(),n=t?t.isConcatSpreadable:void 0;function i(o){return r(o)||e(o)||!!(n&&o&&o[n])}return vm=i,vm}var xm,Yk;function lC(){if(Yk)return xm;Yk=1;var t=XT(),e=F5();function r(n,i,o,l,u){var d=-1,h=n.length;for(o||(o=e),u||(u=[]);++d<h;){var y=n[d];i>0&&o(y)?i>1?r(y,i-1,o,l,u):t(u,y):l||(u[u.length]=y)}return u}return xm=r,xm}var bm,Xk;function W5(){if(Xk)return bm;Xk=1;function t(e){return function(r,n,i){for(var o=-1,l=Object(r),u=i(r),d=u.length;d--;){var h=u[e?d:++o];if(n(l[h],h,l)===!1)break}return r}}return bm=t,bm}var wm,Jk;function H5(){if(Jk)return wm;Jk=1;var t=W5(),e=t();return wm=e,wm}var _m,Qk;function uC(){if(Qk)return _m;Qk=1;var t=H5(),e=mf();function r(n,i){return n&&t(n,i,e)}return _m=r,_m}var Sm,Zk;function V5(){if(Zk)return Sm;Zk=1;var t=yu();function e(r,n){return function(i,o){if(i==null)return i;if(!t(i))return r(i,o);for(var l=i.length,u=n?l:-1,d=Object(i);(n?u--:++u<l)&&o(d[u],u,d)!==!1;);return i}}return Sm=e,Sm}var jm,eO;function Kx(){if(eO)return jm;eO=1;var t=uC(),e=V5(),r=e(t);return jm=r,jm}var km,tO;function cC(){if(tO)return km;tO=1;var t=Kx(),e=yu();function r(n,i){var o=-1,l=e(n)?Array(n.length):[];return t(n,function(u,d,h){l[++o]=i(u,d,h)}),l}return km=r,km}var Om,rO;function K5(){if(rO)return Om;rO=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Om=t,Om}var Em,nO;function G5(){if(nO)return Em;nO=1;var t=as();function e(r,n){if(r!==n){var i=r!==void 0,o=r===null,l=r===r,u=t(r),d=n!==void 0,h=n===null,y=n===n,p=t(n);if(!h&&!p&&!u&&r>n||u&&d&&y&&!h&&!p||o&&d&&y||!i&&y||!l)return 1;if(!o&&!u&&!p&&r<n||p&&i&&l&&!o&&!u||h&&i&&l||!d&&l||!y)return-1}return 0}return Em=e,Em}var Am,iO;function Y5(){if(iO)return Am;iO=1;var t=G5();function e(r,n,i){for(var o=-1,l=r.criteria,u=n.criteria,d=l.length,h=i.length;++o<d;){var y=t(l[o],u[o]);if(y){if(o>=h)return y;var p=i[o];return y*(p=="desc"?-1:1)}}return r.index-n.index}return Am=e,Am}var Tm,aO;function X5(){if(aO)return Tm;aO=1;var t=Nx(),e=Rx(),r=Fi(),n=cC(),i=K5(),o=QT(),l=Y5(),u=us(),d=wr();function h(y,p,m){p.length?p=t(p,function(w){return d(w)?function(b){return e(b,w.length===1?w[0]:w)}:w}):p=[u];var v=-1;p=t(p,o(r));var _=n(y,function(w,b,k){var E=t(p,function(O){return O(w)});return{criteria:E,index:++v,value:w}});return i(_,function(w,b){return l(w,b,m)})}return Tm=h,Tm}var Cm,oO;function J5(){if(oO)return Cm;oO=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Cm=t,Cm}var Pm,sO;function Q5(){if(sO)return Pm;sO=1;var t=J5(),e=Math.max;function r(n,i,o){return i=e(i===void 0?n.length-1:i,0),function(){for(var l=arguments,u=-1,d=e(l.length-i,0),h=Array(d);++u<d;)h[u]=l[i+u];u=-1;for(var y=Array(i+1);++u<i;)y[u]=l[u];return y[i]=o(h),t(n,this,y)}}return Pm=r,Pm}var Im,lO;function Z5(){if(lO)return Im;lO=1;function t(e){return function(){return e}}return Im=t,Im}var Nm,uO;function dC(){if(uO)return Nm;uO=1;var t=Ca(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Nm=e,Nm}var Rm,cO;function ez(){if(cO)return Rm;cO=1;var t=Z5(),e=dC(),r=us(),n=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:r;return Rm=n,Rm}var Mm,dO;function tz(){if(dO)return Mm;dO=1;var t=800,e=16,r=Date.now;function n(i){var o=0,l=0;return function(){var u=r(),d=e-(u-l);if(l=u,d>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Mm=n,Mm}var $m,fO;function rz(){if(fO)return $m;fO=1;var t=ez(),e=tz(),r=e(t);return $m=r,$m}var Dm,hO;function nz(){if(hO)return Dm;hO=1;var t=us(),e=Q5(),r=rz();function n(i,o){return r(e(i,o,t),i+"")}return Dm=n,Dm}var Lm,pO;function xf(){if(pO)return Lm;pO=1;var t=Cx(),e=yu(),r=Wx(),n=Ui();function i(o,l,u){if(!n(u))return!1;var d=typeof l;return(d=="number"?e(u)&&r(l,u.length):d=="string"&&l in u)?t(u[l],o):!1}return Lm=i,Lm}var zm,yO;function iz(){if(yO)return zm;yO=1;var t=lC(),e=X5(),r=nz(),n=xf(),i=r(function(o,l){if(o==null)return[];var u=l.length;return u>1&&n(o,l[0],l[1])?l=[]:u>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),e(o,t(l,1),[])});return zm=i,zm}var az=iz();const Gx=Ze(az);function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function m0(){return m0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m0.apply(this,arguments)}function oz(t,e){return cz(t)||uz(t,e)||lz(t,e)||sz()}function sz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lz(t,e){if(t){if(typeof t=="string")return gO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gO(t,e)}}function gO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function cz(t){if(Array.isArray(t))return t}function mO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(r),!0).forEach(function(n){dz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dz(t,e,r){return e=fz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fz(t){var e=hz(t,"string");return Pl(e)=="symbol"?e:e+""}function hz(t,e){if(Pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pz(t){return Array.isArray(t)&&Nt(t[0])&&Nt(t[1])?t.join(" ~ "):t}var yz=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,l=e.itemStyle,u=l===void 0?{}:l,d=e.labelStyle,h=d===void 0?{}:d,y=e.payload,p=e.formatter,m=e.itemSorter,v=e.wrapperClassName,_=e.labelClassName,w=e.label,b=e.labelFormatter,k=e.accessibilityLayer,E=k===void 0?!1:k,O=function(){if(y&&y.length){var N={padding:0,margin:0},q=(m?Gx(y,m):y).map(function(U,V){if(U.type==="none")return null;var X=Bm({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},u),ee=U.formatter||p||pz,K=U.value,te=U.name,J=K,D=te;if(ee&&J!=null&&D!=null){var L=ee(K,te,U,V,y);if(Array.isArray(L)){var oe=oz(L,2);J=oe[0],D=oe[1]}else J=L}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:X},Nt(D)?F.createElement("span",{className:"recharts-tooltip-item-name"},D):null,Nt(D)?F.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,F.createElement("span",{className:"recharts-tooltip-item-value"},J),F.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:N},q)}return null},T=Bm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),j=Bm({margin:0},h),A=!Le(w),C=A?w:"",I=Be("recharts-default-tooltip",v),R=Be("recharts-tooltip-label",_);A&&b&&y!==void 0&&y!==null&&(C=b(w,y));var H=E?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",m0({className:I,style:T},H),F.createElement("p",{className:R,style:j},F.isValidElement(C)?C:"".concat(C)),O())};function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function zc(t,e,r){return e=gz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gz(t){var e=mz(t,"string");return Il(e)=="symbol"?e:e+""}function mz(t,e){if(Il(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qs="recharts-tooltip-wrapper",vz={visibility:"hidden"};function xz(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Be(Qs,zc(zc(zc(zc({},"".concat(Qs,"-right"),he(r)&&e&&he(e.x)&&r>=e.x),"".concat(Qs,"-left"),he(r)&&e&&he(e.x)&&r<e.x),"".concat(Qs,"-bottom"),he(n)&&e&&he(e.y)&&n>=e.y),"".concat(Qs,"-top"),he(n)&&e&&he(e.y)&&n<e.y))}function vO(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,l=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,h=t.viewBoxDimension;if(o&&he(o[n]))return o[n];var y=r[n]-u-i,p=r[n]+i;if(e[n])return l[n]?y:p;if(l[n]){var m=y,v=d[n];return m<v?Math.max(p,d[n]):Math.max(y,d[n])}var _=p+u,w=d[n]+h;return _>w?Math.max(y,d[n]):Math.max(p,d[n])}function bz(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function wz(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,h,y,p;return l.height>0&&l.width>0&&r?(y=vO({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=vO({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=bz({translateX:y,translateY:p,useTranslate3d:u})):h=vz,{cssProperties:h,cssClasses:xz({translateX:y,translateY:p,coordinate:r})}}function Do(t){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Do(t)}function xO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(r),!0).forEach(function(n){x0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hC(n.key),n)}}function jz(t,e,r){return e&&Sz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kz(t,e,r){return e=dd(e),Oz(t,fC()?Reflect.construct(e,r||[],dd(t).constructor):e.apply(t,r))}function Oz(t,e){if(e&&(Do(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ez(t)}function Ez(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fC=function(){return!!t})()}function dd(t){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dd(t)}function Az(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v0(t,e)}function v0(t,e){return v0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v0(t,e)}function x0(t,e,r){return e=hC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hC(t){var e=Tz(t,"string");return Do(e)=="symbol"?e:e+""}function Tz(t,e){if(Do(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Do(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wO=1,Cz=(function(t){function e(){var r;_z(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=kz(this,e,[].concat(i)),x0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),x0(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,h,y;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(h=(y=r.props.coordinate)===null||y===void 0?void 0:y.y)!==null&&h!==void 0?h:0}})}}),r}return Az(e,t),jz(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>wO||Math.abs(n.height-this.state.lastBoundingBox.height)>wO)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,h=i.children,y=i.coordinate,p=i.hasPayload,m=i.isAnimationActive,v=i.offset,_=i.position,w=i.reverseDirection,b=i.useTranslate3d,k=i.viewBox,E=i.wrapperStyle,O=wz({allowEscapeViewBox:l,coordinate:y,offsetTopLeft:v,position:_,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:k}),T=O.cssClasses,j=O.cssProperties,A=bO(bO({transition:m&&o?"transform ".concat(u,"ms ").concat(d):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},E);return F.createElement("div",{tabIndex:-1,className:T,style:A,ref:function(I){n.wrapperNode=I}},h)}}])})(M.PureComponent),Pz=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Pa={isSsr:Pz()};function Lo(t){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lo(t)}function _O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(r),!0).forEach(function(n){Yx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yC(n.key),n)}}function Rz(t,e,r){return e&&Nz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mz(t,e,r){return e=fd(e),$z(t,pC()?Reflect.construct(e,r||[],fd(t).constructor):e.apply(t,r))}function $z(t,e){if(e&&(Lo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dz(t)}function Dz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pC=function(){return!!t})()}function fd(t){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fd(t)}function Lz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b0(t,e)}function b0(t,e){return b0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},b0(t,e)}function Yx(t,e,r){return e=yC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yC(t){var e=zz(t,"string");return Lo(e)=="symbol"?e:e+""}function zz(t,e){if(Lo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Bz(t){return t.dataKey}function qz(t,e){return F.isValidElement(t)?F.cloneElement(t,e):typeof t=="function"?F.createElement(t,e):F.createElement(yz,e)}var jn=(function(t){function e(){return Iz(this,e),Mz(this,e,arguments)}return Lz(e,t),Rz(e,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,h=i.content,y=i.coordinate,p=i.filterNull,m=i.isAnimationActive,v=i.offset,_=i.payload,w=i.payloadUniqBy,b=i.position,k=i.reverseDirection,E=i.useTranslate3d,O=i.viewBox,T=i.wrapperStyle,j=_??[];p&&j.length&&(j=aC(_.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),w,Bz));var A=j.length>0;return F.createElement(Cz,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:m,active:o,coordinate:y,hasPayload:A,offset:v,position:b,reverseDirection:k,useTranslate3d:E,viewBox:O,wrapperStyle:T},qz(h,SO(SO({},this.props),{},{payload:j})))}}])})(M.PureComponent);Yx(jn,"displayName","Tooltip");Yx(jn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Pa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var qm,jO;function Uz(){if(jO)return qm;jO=1;var t=In(),e=function(){return t.Date.now()};return qm=e,qm}var Um,kO;function Fz(){if(kO)return Um;kO=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Um=e,Um}var Fm,OO;function Wz(){if(OO)return Fm;OO=1;var t=Fz(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Fm=r,Fm}var Wm,EO;function gC(){if(EO)return Wm;EO=1;var t=Wz(),e=Ui(),r=as(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return n;if(e(h)){var y=typeof h.valueOf=="function"?h.valueOf():h;h=e(y)?y+"":y}if(typeof h!="string")return h===0?h:+h;h=t(h);var p=o.test(h);return p||l.test(h)?u(h.slice(2),p?2:8):i.test(h)?n:+h}return Wm=d,Wm}var Hm,AO;function Hz(){if(AO)return Hm;AO=1;var t=Ui(),e=Uz(),r=gC(),n="Expected a function",i=Math.max,o=Math.min;function l(u,d,h){var y,p,m,v,_,w,b=0,k=!1,E=!1,O=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,t(h)&&(k=!!h.leading,E="maxWait"in h,m=E?i(r(h.maxWait)||0,d):m,O="trailing"in h?!!h.trailing:O);function T(q){var U=y,V=p;return y=p=void 0,b=q,v=u.apply(V,U),v}function j(q){return b=q,_=setTimeout(I,d),k?T(q):v}function A(q){var U=q-w,V=q-b,X=d-U;return E?o(X,m-V):X}function C(q){var U=q-w,V=q-b;return w===void 0||U>=d||U<0||E&&V>=m}function I(){var q=e();if(C(q))return R(q);_=setTimeout(I,A(q))}function R(q){return _=void 0,O&&y?T(q):(y=p=void 0,v)}function H(){_!==void 0&&clearTimeout(_),b=0,y=w=p=_=void 0}function z(){return _===void 0?v:R(e())}function N(){var q=e(),U=C(q);if(y=arguments,p=this,w=q,U){if(_===void 0)return j(w);if(E)return clearTimeout(_),_=setTimeout(I,d),T(w)}return _===void 0&&(_=setTimeout(I,d)),v}return N.cancel=H,N.flush=z,N}return Hm=l,Hm}var Vm,TO;function Vz(){if(TO)return Vm;TO=1;var t=Hz(),e=Ui(),r="Expected a function";function n(i,o,l){var u=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return e(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),t(i,o,{leading:u,maxWait:o,trailing:d})}return Vm=n,Vm}var Kz=Vz();const mC=Ze(Kz);function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function CO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(r),!0).forEach(function(n){Gz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gz(t,e,r){return e=Yz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yz(t){var e=Xz(t,"string");return Nl(e)=="symbol"?e:e+""}function Xz(t,e){if(Nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jz(t,e){return t8(t)||e8(t,e)||Zz(t,e)||Qz()}function Qz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zz(t,e){if(t){if(typeof t=="string")return PO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PO(t,e)}}function PO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function e8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function t8(t){if(Array.isArray(t))return t}var r8=M.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=t.width,l=o===void 0?"100%":o,u=t.height,d=u===void 0?"100%":u,h=t.minWidth,y=h===void 0?0:h,p=t.minHeight,m=t.maxHeight,v=t.children,_=t.debounce,w=_===void 0?0:_,b=t.id,k=t.className,E=t.onResize,O=t.style,T=O===void 0?{}:O,j=M.useRef(null),A=M.useRef();A.current=E,M.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var C=M.useState({containerWidth:i.width,containerHeight:i.height}),I=Jz(C,2),R=I[0],H=I[1],z=M.useCallback(function(q,U){H(function(V){var X=Math.round(q),ee=Math.round(U);return V.containerWidth===X&&V.containerHeight===ee?V:{containerWidth:X,containerHeight:ee}})},[]);M.useEffect(function(){var q=function(te){var J,D=te[0].contentRect,L=D.width,oe=D.height;z(L,oe),(J=A.current)===null||J===void 0||J.call(A,L,oe)};w>0&&(q=mC(q,w,{trailing:!0,leading:!1}));var U=new ResizeObserver(q),V=j.current.getBoundingClientRect(),X=V.width,ee=V.height;return z(X,ee),U.observe(j.current),function(){U.disconnect()}},[z,w]);var N=M.useMemo(function(){var q=R.containerWidth,U=R.containerHeight;if(q<0||U<0)return null;Zn(ma(l)||ma(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),Zn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=ma(l)?q:l,X=ma(d)?U:d;r&&r>0&&(V?X=V/r:X&&(V=X*r),m&&X>m&&(X=m)),Zn(V>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,X,l,d,y,p,r);var ee=!Array.isArray(v)&&Qn(v.type).endsWith("Chart");return F.Children.map(v,function(K){return F.isValidElement(K)?M.cloneElement(K,Bc({width:V,height:X},ee?{style:Bc({height:"100%",width:"100%",maxHeight:X,maxWidth:V},K.props.style)}:{})):K})},[r,v,d,m,p,y,R,l]);return F.createElement("div",{id:b?"".concat(b):void 0,className:Be("recharts-responsive-container",k),style:Bc(Bc({},T),{},{width:l,height:d,minWidth:y,minHeight:p,maxHeight:m}),ref:j},N)}),vC=function(e){return null};vC.displayName="Cell";function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function IO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(r),!0).forEach(function(n){n8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n8(t,e,r){return e=i8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i8(t){var e=a8(t,"string");return Rl(e)=="symbol"?e:e+""}function a8(t,e){if(Rl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fo={widthCache:{},cacheCount:0},o8=2e3,s8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},NO="recharts_measurement_span";function l8(t){var e=w0({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var pl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Pa.isSsr)return{width:0,height:0};var n=l8(r),i=JSON.stringify({text:e,copyStyle:n});if(fo.widthCache[i])return fo.widthCache[i];try{var o=document.getElementById(NO);o||(o=document.createElement("span"),o.setAttribute("id",NO),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=w0(w0({},s8),n);Object.assign(o.style,l),o.textContent="".concat(e);var u=o.getBoundingClientRect(),d={width:u.width,height:u.height};return fo.widthCache[i]=d,++fo.cacheCount>o8&&(fo.cacheCount=0,fo.widthCache={}),d}catch{return{width:0,height:0}}},u8=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function hd(t,e){return h8(t)||f8(t,e)||d8(t,e)||c8()}function c8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d8(t,e){if(t){if(typeof t=="string")return RO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RO(t,e)}}function RO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function h8(t){if(Array.isArray(t))return t}function p8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g8(n.key),n)}}function y8(t,e,r){return e&&MO(t.prototype,e),r&&MO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function g8(t){var e=m8(t,"string");return Ml(e)=="symbol"?e:e+""}function m8(t,e){if(Ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $O=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,v8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,x8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},b8=Object.keys(xC),_o="NaN";function w8(t,e){return t*xC[e]}var qc=(function(){function t(e,r){p8(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!v8.test(r)&&(this.num=NaN,this.unit=""),b8.includes(r)&&(this.num=w8(e,r),this.unit="px")}return y8(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=x8.exec(r))!==null&&n!==void 0?n:[],o=hd(i,3),l=o[1],u=o[2];return new t(parseFloat(l),u??"")}}])})();function bC(t){if(t.includes(_o))return _o;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=$O.exec(e))!==null&&r!==void 0?r:[],i=hd(n,4),o=i[1],l=i[2],u=i[3],d=qc.parse(o??""),h=qc.parse(u??""),y=l==="*"?d.multiply(h):d.divide(h);if(y.isNaN())return _o;e=e.replace($O,y.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,m=(p=DO.exec(e))!==null&&p!==void 0?p:[],v=hd(m,4),_=v[1],w=v[2],b=v[3],k=qc.parse(_??""),E=qc.parse(b??""),O=w==="+"?k.add(E):k.subtract(E);if(O.isNaN())return _o;e=e.replace(DO,O.toString())}return e}var LO=/\(([^()]*)\)/;function _8(t){for(var e=t;e.includes("(");){var r=LO.exec(e),n=hd(r,2),i=n[1];e=e.replace(LO,bC(i))}return e}function S8(t){var e=t.replace(/\s+/g,"");return e=_8(e),e=bC(e),e}function j8(t){try{return S8(t)}catch{return _o}}function Km(t){var e=j8(t.slice(5,-1));return e===_o?"":e}var k8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],O8=["dx","dy","angle","className","breakAll"];function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_0.apply(this,arguments)}function zO(t,e){if(t==null)return{};var r=E8(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function E8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function BO(t,e){return P8(t)||C8(t,e)||T8(t,e)||A8()}function A8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T8(t,e){if(t){if(typeof t=="string")return qO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qO(t,e)}}function qO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function C8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function P8(t){if(Array.isArray(t))return t}var wC=/[ \f\n\r\t\v\u2028\u2029]+/,_C=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];Le(r)||(n?o=r.toString().split(""):o=r.toString().split(wC));var l=o.map(function(d){return{word:d,width:pl(d,i).width}}),u=n?0:pl("",i).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},I8=function(e,r,n,i,o){var l=e.maxLines,u=e.children,d=e.style,h=e.breakAll,y=he(l),p=u,m=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(X,ee){var K=ee.word,te=ee.width,J=X[X.length-1];if(J&&(i==null||o||J.width+te+n<Number(i)))J.words.push(K),J.width+=te+n;else{var D={words:[K],width:te};X.push(D)}return X},[])},v=m(r),_=function(V){return V.reduce(function(X,ee){return X.width>ee.width?X:ee})};if(!y)return v;for(var w="",b=function(V){var X=p.slice(0,V),ee=_C({breakAll:h,style:d,children:X+w}).wordsWithComputedWidth,K=m(ee),te=K.length>l||_(K).width>Number(i);return[te,K]},k=0,E=p.length-1,O=0,T;k<=E&&O<=p.length-1;){var j=Math.floor((k+E)/2),A=j-1,C=b(A),I=BO(C,2),R=I[0],H=I[1],z=b(j),N=BO(z,1),q=N[0];if(!R&&!q&&(k=j+1),R&&q&&(E=j-1),!R&&q){T=H;break}O++}return T||v},UO=function(e){var r=Le(e)?[]:e.toString().split(wC);return[{words:r}]},N8=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,l=e.breakAll,u=e.maxLines;if((r||n)&&!Pa.isSsr){var d,h,y=_C({breakAll:l,children:i,style:o});if(y){var p=y.wordsWithComputedWidth,m=y.spaceWidth;d=p,h=m}else return UO(i);return I8({breakAll:l,children:i,maxLines:u,style:o},d,h,r,n)}return UO(i)},FO="#808080",pd=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,l=e.lineHeight,u=l===void 0?"1em":l,d=e.capHeight,h=d===void 0?"0.71em":d,y=e.scaleToFit,p=y===void 0?!1:y,m=e.textAnchor,v=m===void 0?"start":m,_=e.verticalAnchor,w=_===void 0?"end":_,b=e.fill,k=b===void 0?FO:b,E=zO(e,k8),O=M.useMemo(function(){return N8({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:p,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,p,E.style,E.width]),T=E.dx,j=E.dy,A=E.angle,C=E.className,I=E.breakAll,R=zO(E,O8);if(!Nt(n)||!Nt(o))return null;var H=n+(he(T)?T:0),z=o+(he(j)?j:0),N;switch(w){case"start":N=Km("calc(".concat(h,")"));break;case"middle":N=Km("calc(".concat((O.length-1)/2," * -").concat(u," + (").concat(h," / 2))"));break;default:N=Km("calc(".concat(O.length-1," * -").concat(u,")"));break}var q=[];if(p){var U=O[0].width,V=E.width;q.push("scale(".concat((he(V)?V/U:1)/U,")"))}return A&&q.push("rotate(".concat(A,", ").concat(H,", ").concat(z,")")),q.length&&(R.transform=q.join(" ")),F.createElement("text",_0({},Me(R,!0),{x:H,y:z,className:Be("recharts-text",C),textAnchor:v,fill:k.includes("url")?FO:k}),O.map(function(X,ee){var K=X.words.join(I?"":" ");return F.createElement("tspan",{x:H,dy:ee===0?N:u,key:"".concat(K,"-").concat(ee)},K)}))};function Bi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function R8(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xx(t){let e,r,n;t.length!==2?(e=Bi,r=(u,d)=>Bi(t(u),d),n=(u,d)=>t(u)-d):(e=t===Bi||t===R8?t:M8,r=t,n=t);function i(u,d,h=0,y=u.length){if(h<y){if(e(d,d)!==0)return y;do{const p=h+y>>>1;r(u[p],d)<0?h=p+1:y=p}while(h<y)}return h}function o(u,d,h=0,y=u.length){if(h<y){if(e(d,d)!==0)return y;do{const p=h+y>>>1;r(u[p],d)<=0?h=p+1:y=p}while(h<y)}return h}function l(u,d,h=0,y=u.length){const p=i(u,d,h,y-1);return p>h&&n(u[p-1],d)>-n(u[p],d)?p-1:p}return{left:i,center:l,right:o}}function M8(){return 0}function SC(t){return t===null?NaN:+t}function*$8(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const D8=Xx(Bi),gu=D8.right;Xx(SC).center;class WO extends Map{constructor(e,r=B8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(HO(this,e))}has(e){return super.has(HO(this,e))}set(e,r){return super.set(L8(this,e),r)}delete(e){return super.delete(z8(this,e))}}function HO({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function L8({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function z8({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function B8(t){return t!==null&&typeof t=="object"?t.valueOf():t}function q8(t=Bi){if(t===Bi)return jC;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function jC(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const U8=Math.sqrt(50),F8=Math.sqrt(10),W8=Math.sqrt(2);function yd(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),l=o>=U8?10:o>=F8?5:o>=W8?2:1;let u,d,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(t*h),d=Math.round(e*h),u/h<t&&++u,d/h>e&&--d,h=-h):(h=Math.pow(10,i)*l,u=Math.round(t/h),d=Math.round(e/h),u*h<t&&++u,d*h>e&&--d),d<u&&.5<=r&&r<2?yd(t,e,r*2):[u,d,h]}function S0(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,l]=n?yd(e,t,r):yd(t,e,r);if(!(o>=i))return[];const u=o-i+1,d=new Array(u);if(n)if(l<0)for(let h=0;h<u;++h)d[h]=(o-h)/-l;else for(let h=0;h<u;++h)d[h]=(o-h)*l;else if(l<0)for(let h=0;h<u;++h)d[h]=(i+h)/-l;else for(let h=0;h<u;++h)d[h]=(i+h)*l;return d}function j0(t,e,r){return e=+e,t=+t,r=+r,yd(t,e,r)[2]}function k0(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?j0(e,t,r):j0(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function VO(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function KO(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function kC(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?jC:q8(i);n>r;){if(n-r>600){const d=n-r+1,h=e-r+1,y=Math.log(d),p=.5*Math.exp(2*y/3),m=.5*Math.sqrt(y*p*(d-p)/d)*(h-d/2<0?-1:1),v=Math.max(r,Math.floor(e-h*p/d+m)),_=Math.min(n,Math.floor(e+(d-h)*p/d+m));kC(t,e,v,_,i)}const o=t[e];let l=r,u=n;for(Zs(t,r,e),i(t[n],o)>0&&Zs(t,r,n);l<u;){for(Zs(t,l,u),++l,--u;i(t[l],o)<0;)++l;for(;i(t[u],o)>0;)--u}i(t[r],o)===0?Zs(t,r,u):(++u,Zs(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Zs(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function H8(t,e,r){if(t=Float64Array.from($8(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return KO(t);if(e>=1)return VO(t);var n,i=(n-1)*e,o=Math.floor(i),l=VO(kC(t,o).subarray(0,o+1)),u=KO(t.subarray(o+1));return l+(u-l)*(i-o)}}function V8(t,e,r=SC){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),l=+r(t[o],o,t),u=+r(t[o+1],o+1,t);return l+(u-l)*(i-o)}}function K8(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function Jr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ci(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const O0=Symbol("implicit");function Jx(){var t=new WO,e=[],r=[],n=O0;function i(o){let l=t.get(o);if(l===void 0){if(n!==O0)return n;t.set(o,l=e.push(o)-1)}return r[l%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new WO;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Jx(e,r).unknown(n)},Jr.apply(i,arguments),i}function $l(){var t=Jx().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,l,u=!1,d=0,h=0,y=.5;delete t.unknown;function p(){var m=e().length,v=i<n,_=v?i:n,w=v?n:i;o=(w-_)/Math.max(1,m-d+h*2),u&&(o=Math.floor(o)),_+=(w-_-o*(m-d))*y,l=o*(1-d),u&&(_=Math.round(_),l=Math.round(l));var b=K8(m).map(function(k){return _+o*k});return r(v?b.reverse():b)}return t.domain=function(m){return arguments.length?(e(m),p()):e()},t.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,u=!0,p()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(m){return arguments.length?(u=!!m,p()):u},t.padding=function(m){return arguments.length?(d=Math.min(1,h=+m),p()):d},t.paddingInner=function(m){return arguments.length?(d=Math.min(1,m),p()):d},t.paddingOuter=function(m){return arguments.length?(h=+m,p()):h},t.align=function(m){return arguments.length?(y=Math.max(0,Math.min(1,m)),p()):y},t.copy=function(){return $l(e(),[n,i]).round(u).paddingInner(d).paddingOuter(h).align(y)},Jr.apply(p(),arguments)}function OC(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return OC(e())},t}function yl(){return OC($l.apply(null,arguments).paddingInner(1))}function Qx(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function EC(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function mu(){}var Dl=.7,gd=1/Dl,To="\\s*([+-]?\\d+)\\s*",Ll="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",An="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",G8=/^#([0-9a-f]{3,8})$/,Y8=new RegExp(`^rgb\\(${To},${To},${To}\\)$`),X8=new RegExp(`^rgb\\(${An},${An},${An}\\)$`),J8=new RegExp(`^rgba\\(${To},${To},${To},${Ll}\\)$`),Q8=new RegExp(`^rgba\\(${An},${An},${An},${Ll}\\)$`),Z8=new RegExp(`^hsl\\(${Ll},${An},${An}\\)$`),eB=new RegExp(`^hsla\\(${Ll},${An},${An},${Ll}\\)$`),GO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qx(mu,zl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:YO,formatHex:YO,formatHex8:tB,formatHsl:rB,formatRgb:XO,toString:XO});function YO(){return this.rgb().formatHex()}function tB(){return this.rgb().formatHex8()}function rB(){return AC(this).formatHsl()}function XO(){return this.rgb().formatRgb()}function zl(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=G8.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?JO(e):r===3?new xr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Uc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Uc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Y8.exec(t))?new xr(e[1],e[2],e[3],1):(e=X8.exec(t))?new xr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=J8.exec(t))?Uc(e[1],e[2],e[3],e[4]):(e=Q8.exec(t))?Uc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Z8.exec(t))?eE(e[1],e[2]/100,e[3]/100,1):(e=eB.exec(t))?eE(e[1],e[2]/100,e[3]/100,e[4]):GO.hasOwnProperty(t)?JO(GO[t]):t==="transparent"?new xr(NaN,NaN,NaN,0):null}function JO(t){return new xr(t>>16&255,t>>8&255,t&255,1)}function Uc(t,e,r,n){return n<=0&&(t=e=r=NaN),new xr(t,e,r,n)}function nB(t){return t instanceof mu||(t=zl(t)),t?(t=t.rgb(),new xr(t.r,t.g,t.b,t.opacity)):new xr}function E0(t,e,r,n){return arguments.length===1?nB(t):new xr(t,e,r,n??1)}function xr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Qx(xr,E0,EC(mu,{brighter(t){return t=t==null?gd:Math.pow(gd,t),new xr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Dl:Math.pow(Dl,t),new xr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xr(Sa(this.r),Sa(this.g),Sa(this.b),md(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QO,formatHex:QO,formatHex8:iB,formatRgb:ZO,toString:ZO}));function QO(){return`#${va(this.r)}${va(this.g)}${va(this.b)}`}function iB(){return`#${va(this.r)}${va(this.g)}${va(this.b)}${va((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZO(){const t=md(this.opacity);return`${t===1?"rgb(":"rgba("}${Sa(this.r)}, ${Sa(this.g)}, ${Sa(this.b)}${t===1?")":`, ${t})`}`}function md(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Sa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function va(t){return t=Sa(t),(t<16?"0":"")+t.toString(16)}function eE(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new hn(t,e,r,n)}function AC(t){if(t instanceof hn)return new hn(t.h,t.s,t.l,t.opacity);if(t instanceof mu||(t=zl(t)),!t)return new hn;if(t instanceof hn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),l=NaN,u=o-i,d=(o+i)/2;return u?(e===o?l=(r-n)/u+(r<n)*6:r===o?l=(n-e)/u+2:l=(e-r)/u+4,u/=d<.5?o+i:2-o-i,l*=60):u=d>0&&d<1?0:l,new hn(l,u,d,t.opacity)}function aB(t,e,r,n){return arguments.length===1?AC(t):new hn(t,e,r,n??1)}function hn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Qx(hn,aB,EC(mu,{brighter(t){return t=t==null?gd:Math.pow(gd,t),new hn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Dl:Math.pow(Dl,t),new hn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new xr(Gm(t>=240?t-240:t+120,i,n),Gm(t,i,n),Gm(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new hn(tE(this.h),Fc(this.s),Fc(this.l),md(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=md(this.opacity);return`${t===1?"hsl(":"hsla("}${tE(this.h)}, ${Fc(this.s)*100}%, ${Fc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function tE(t){return t=(t||0)%360,t<0?t+360:t}function Fc(t){return Math.max(0,Math.min(1,t||0))}function Gm(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Zx=t=>()=>t;function oB(t,e){return function(r){return t+r*e}}function sB(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function lB(t){return(t=+t)==1?TC:function(e,r){return r-e?sB(e,r,t):Zx(isNaN(e)?r:e)}}function TC(t,e){var r=e-t;return r?oB(t,r):Zx(isNaN(t)?e:t)}const rE=(function t(e){var r=lB(e);function n(i,o){var l=r((i=E0(i)).r,(o=E0(o)).r),u=r(i.g,o.g),d=r(i.b,o.b),h=TC(i.opacity,o.opacity);return function(y){return i.r=l(y),i.g=u(y),i.b=d(y),i.opacity=h(y),i+""}}return n.gamma=t,n})(1);function uB(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function cB(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dB(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),l;for(l=0;l<n;++l)i[l]=cs(t[l],e[l]);for(;l<r;++l)o[l]=e[l];return function(u){for(l=0;l<n;++l)o[l]=i[l](u);return o}}function fB(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function vd(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function hB(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=cs(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var A0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ym=new RegExp(A0.source,"g");function pB(t){return function(){return t}}function yB(t){return function(e){return t(e)+""}}function gB(t,e){var r=A0.lastIndex=Ym.lastIndex=0,n,i,o,l=-1,u=[],d=[];for(t=t+"",e=e+"";(n=A0.exec(t))&&(i=Ym.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),u[l]?u[l]+=o:u[++l]=o),(n=n[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:vd(n,i)})),r=Ym.lastIndex;return r<e.length&&(o=e.slice(r),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?yB(d[0].x):pB(e):(e=d.length,function(h){for(var y=0,p;y<e;++y)u[(p=d[y]).i]=p.x(h);return u.join("")})}function cs(t,e){var r=typeof e,n;return e==null||r==="boolean"?Zx(e):(r==="number"?vd:r==="string"?(n=zl(e))?(e=n,rE):gB:e instanceof zl?rE:e instanceof Date?fB:cB(e)?uB:Array.isArray(e)?dB:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?hB:vd)(t,e)}function eb(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function mB(t,e){e===void 0&&(e=t,t=cs);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return o[u](l-u)}}function vB(t){return function(){return t}}function xd(t){return+t}var nE=[0,1];function or(t){return t}function T0(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:vB(isNaN(e)?NaN:.5)}function xB(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function bB(t,e,r){var n=t[0],i=t[1],o=e[0],l=e[1];return i<n?(n=T0(i,n),o=r(l,o)):(n=T0(n,i),o=r(o,l)),function(u){return o(n(u))}}function wB(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<n;)i[l]=T0(t[l],t[l+1]),o[l]=r(e[l],e[l+1]);return function(u){var d=gu(t,u,1,n)-1;return o[d](i[d](u))}}function vu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bf(){var t=nE,e=nE,r=cs,n,i,o,l=or,u,d,h;function y(){var m=Math.min(t.length,e.length);return l!==or&&(l=xB(t[0],t[m-1])),u=m>2?wB:bB,d=h=null,p}function p(m){return m==null||isNaN(m=+m)?o:(d||(d=u(t.map(n),e,r)))(n(l(m)))}return p.invert=function(m){return l(i((h||(h=u(e,t.map(n),vd)))(m)))},p.domain=function(m){return arguments.length?(t=Array.from(m,xd),y()):t.slice()},p.range=function(m){return arguments.length?(e=Array.from(m),y()):e.slice()},p.rangeRound=function(m){return e=Array.from(m),r=eb,y()},p.clamp=function(m){return arguments.length?(l=m?!0:or,y()):l!==or},p.interpolate=function(m){return arguments.length?(r=m,y()):r},p.unknown=function(m){return arguments.length?(o=m,p):o},function(m,v){return n=m,i=v,y()}}function tb(){return bf()(or,or)}function _B(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function bd(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function zo(t){return t=bd(Math.abs(t)),t?t[1]:NaN}function SB(t,e){return function(r,n){for(var i=r.length,o=[],l=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),o.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=t[l=(l+1)%t.length];return o.reverse().join(e)}}function jB(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var kB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bl(t){if(!(e=kB.exec(t)))throw new Error("invalid format: "+t);var e;return new rb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Bl.prototype=rb.prototype;function rb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}rb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OB(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var wd;function EB(t,e){var r=bd(t,e);if(!r)return wd=void 0,t.toPrecision(e);var n=r[0],i=r[1],o=i-(wd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return o===l?n:o>l?n+new Array(o-l+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+bd(t,Math.max(0,e+o-1))[0]}function iE(t,e){var r=bd(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const aE={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:_B,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>iE(t*100,e),r:iE,s:EB,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function oE(t){return t}var sE=Array.prototype.map,lE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function AB(t){var e=t.grouping===void 0||t.thousands===void 0?oE:SB(sE.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?oE:jB(sE.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(p,m){p=Bl(p);var v=p.fill,_=p.align,w=p.sign,b=p.symbol,k=p.zero,E=p.width,O=p.comma,T=p.precision,j=p.trim,A=p.type;A==="n"?(O=!0,A="g"):aE[A]||(T===void 0&&(T=12),j=!0,A="g"),(k||v==="0"&&_==="=")&&(k=!0,v="0",_="=");var C=(m&&m.prefix!==void 0?m.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():""),I=(b==="$"?n:/[%p]/.test(A)?l:"")+(m&&m.suffix!==void 0?m.suffix:""),R=aE[A],H=/[defgprs%]/.test(A);T=T===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function z(N){var q=C,U=I,V,X,ee;if(A==="c")U=R(N)+U,N="";else{N=+N;var K=N<0||1/N<0;if(N=isNaN(N)?d:R(Math.abs(N),T),j&&(N=OB(N)),K&&+N==0&&w!=="+"&&(K=!1),q=(K?w==="("?w:u:w==="-"||w==="("?"":w)+q,U=(A==="s"&&!isNaN(N)&&wd!==void 0?lE[8+wd/3]:"")+U+(K&&w==="("?")":""),H){for(V=-1,X=N.length;++V<X;)if(ee=N.charCodeAt(V),48>ee||ee>57){U=(ee===46?i+N.slice(V+1):N.slice(V))+U,N=N.slice(0,V);break}}}O&&!k&&(N=e(N,1/0));var te=q.length+N.length+U.length,J=te<E?new Array(E-te+1).join(v):"";switch(O&&k&&(N=e(J+N,J.length?E-U.length:1/0),J=""),_){case"<":N=q+N+U+J;break;case"=":N=q+J+N+U;break;case"^":N=J.slice(0,te=J.length>>1)+q+N+U+J.slice(te);break;default:N=J+q+N+U;break}return o(N)}return z.toString=function(){return p+""},z}function y(p,m){var v=Math.max(-8,Math.min(8,Math.floor(zo(m)/3)))*3,_=Math.pow(10,-v),w=h((p=Bl(p),p.type="f",p),{suffix:lE[8+v/3]});return function(b){return w(_*b)}}return{format:h,formatPrefix:y}}var Wc,nb,CC;TB({thousands:",",grouping:[3],currency:["$",""]});function TB(t){return Wc=AB(t),nb=Wc.format,CC=Wc.formatPrefix,Wc}function CB(t){return Math.max(0,-zo(Math.abs(t)))}function PB(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zo(e)/3)))*3-zo(Math.abs(t)))}function IB(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zo(e)-zo(t))+1}function PC(t,e,r,n){var i=k0(t,e,r),o;switch(n=Bl(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=PB(i,l))&&(n.precision=o),CC(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=IB(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=CB(i))&&(n.precision=o-(n.type==="%")*2);break}}return nb(n)}function Wi(t){var e=t.domain;return t.ticks=function(r){var n=e();return S0(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return PC(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,l=n[i],u=n[o],d,h,y=10;for(u<l&&(h=l,l=u,u=h,h=i,i=o,o=h);y-- >0;){if(h=j0(l,u,r),h===d)return n[i]=l,n[o]=u,e(n);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;d=h}return t},t}function _d(){var t=tb();return t.copy=function(){return vu(t,_d())},Jr.apply(t,arguments),Wi(t)}function IC(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,xd),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return IC(t).unknown(e)},t=arguments.length?Array.from(t,xd):[0,1],Wi(r)}function NC(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],l;return o<i&&(l=r,r=n,n=l,l=i,i=o,o=l),t[r]=e.floor(i),t[n]=e.ceil(o),t}function uE(t){return Math.log(t)}function cE(t){return Math.exp(t)}function NB(t){return-Math.log(-t)}function RB(t){return-Math.exp(-t)}function MB(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $B(t){return t===10?MB:t===Math.E?Math.exp:e=>Math.pow(t,e)}function DB(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function dE(t){return(e,r)=>-t(-e,r)}function ib(t){const e=t(uE,cE),r=e.domain;let n=10,i,o;function l(){return i=DB(n),o=$B(n),r()[0]<0?(i=dE(i),o=dE(o),t(NB,RB)):t(uE,cE),e}return e.base=function(u){return arguments.length?(n=+u,l()):n},e.domain=function(u){return arguments.length?(r(u),l()):r()},e.ticks=u=>{const d=r();let h=d[0],y=d[d.length-1];const p=y<h;p&&([h,y]=[y,h]);let m=i(h),v=i(y),_,w;const b=u==null?10:+u;let k=[];if(!(n%1)&&v-m<b){if(m=Math.floor(m),v=Math.ceil(v),h>0){for(;m<=v;++m)for(_=1;_<n;++_)if(w=m<0?_/o(-m):_*o(m),!(w<h)){if(w>y)break;k.push(w)}}else for(;m<=v;++m)for(_=n-1;_>=1;--_)if(w=m>0?_/o(-m):_*o(m),!(w<h)){if(w>y)break;k.push(w)}k.length*2<b&&(k=S0(h,y,b))}else k=S0(m,v,Math.min(v-m,b)).map(o);return p?k.reverse():k},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Bl(d)).precision==null&&(d.trim=!0),d=nb(d)),u===1/0)return d;const h=Math.max(1,n*u/e.ticks().length);return y=>{let p=y/o(Math.round(i(y)));return p*n<n-.5&&(p*=n),p<=h?d(y):""}},e.nice=()=>r(NC(r(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function RC(){const t=ib(bf()).domain([1,10]);return t.copy=()=>vu(t,RC()).base(t.base()),Jr.apply(t,arguments),t}function fE(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function hE(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ab(t){var e=1,r=t(fE(e),hE(e));return r.constant=function(n){return arguments.length?t(fE(e=+n),hE(e)):e},Wi(r)}function MC(){var t=ab(bf());return t.copy=function(){return vu(t,MC()).constant(t.constant())},Jr.apply(t,arguments)}function pE(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function LB(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function zB(t){return t<0?-t*t:t*t}function ob(t){var e=t(or,or),r=1;function n(){return r===1?t(or,or):r===.5?t(LB,zB):t(pE(r),pE(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Wi(e)}function sb(){var t=ob(bf());return t.copy=function(){return vu(t,sb()).exponent(t.exponent())},Jr.apply(t,arguments),t}function BB(){return sb.apply(null,arguments).exponent(.5)}function yE(t){return Math.sign(t)*t*t}function qB(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function $C(){var t=tb(),e=[0,1],r=!1,n;function i(o){var l=qB(t(o));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(o){return t.invert(yE(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,xd)).map(yE)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return $C(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Jr.apply(i,arguments),Wi(i)}function DC(){var t=[],e=[],r=[],n;function i(){var l=0,u=Math.max(1,e.length);for(r=new Array(u-1);++l<u;)r[l-1]=V8(t,l/u);return o}function o(l){return l==null||isNaN(l=+l)?n:e[gu(r,l)]}return o.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Bi),i()},o.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},o.unknown=function(l){return arguments.length?(n=l,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return DC().domain(t).range(e).unknown(n)},Jr.apply(o,arguments)}function LC(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function l(d){return d!=null&&d<=d?i[gu(n,d,0,r)]:o}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},l.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return LC().domain([t,e]).range(i).unknown(o)},Jr.apply(Wi(l),arguments)}function zC(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[gu(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return zC().domain(t).range(e).unknown(r)},Jr.apply(i,arguments)}const Xm=new Date,Jm=new Date;function Rt(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const d=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return d;let h;do d.push(h=new Date(+o)),e(o,u),t(o);while(h<o&&o<l);return d},i.filter=o=>Rt(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!o(l););else for(;--u>=0;)for(;e(l,1),!o(l););}),r&&(i.count=(o,l)=>(Xm.setTime(+o),Jm.setTime(+l),t(Xm),t(Jm),Math.floor(r(Xm,Jm))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?l=>n(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Sd=Rt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Sd.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Rt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Sd);Sd.range;const Gn=1e3,Vr=Gn*60,Yn=Vr*60,ni=Yn*24,lb=ni*7,gE=ni*30,Qm=ni*365,xa=Rt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Gn)},(t,e)=>(e-t)/Gn,t=>t.getUTCSeconds());xa.range;const ub=Rt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Gn)},(t,e)=>{t.setTime(+t+e*Vr)},(t,e)=>(e-t)/Vr,t=>t.getMinutes());ub.range;const cb=Rt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Vr)},(t,e)=>(e-t)/Vr,t=>t.getUTCMinutes());cb.range;const db=Rt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Gn-t.getMinutes()*Vr)},(t,e)=>{t.setTime(+t+e*Yn)},(t,e)=>(e-t)/Yn,t=>t.getHours());db.range;const fb=Rt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Yn)},(t,e)=>(e-t)/Yn,t=>t.getUTCHours());fb.range;const xu=Rt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Vr)/ni,t=>t.getDate()-1);xu.range;const wf=Rt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ni,t=>t.getUTCDate()-1);wf.range;const BC=Rt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ni,t=>Math.floor(t/ni));BC.range;function Ia(t){return Rt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Vr)/lb)}const _f=Ia(0),jd=Ia(1),UB=Ia(2),FB=Ia(3),Bo=Ia(4),WB=Ia(5),HB=Ia(6);_f.range;jd.range;UB.range;FB.range;Bo.range;WB.range;HB.range;function Na(t){return Rt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/lb)}const Sf=Na(0),kd=Na(1),VB=Na(2),KB=Na(3),qo=Na(4),GB=Na(5),YB=Na(6);Sf.range;kd.range;VB.range;KB.range;qo.range;GB.range;YB.range;const hb=Rt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());hb.range;const pb=Rt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());pb.range;const ii=Rt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ii.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Rt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ii.range;const ai=Rt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ai.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Rt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ai.range;function qC(t,e,r,n,i,o){const l=[[xa,1,Gn],[xa,5,5*Gn],[xa,15,15*Gn],[xa,30,30*Gn],[o,1,Vr],[o,5,5*Vr],[o,15,15*Vr],[o,30,30*Vr],[i,1,Yn],[i,3,3*Yn],[i,6,6*Yn],[i,12,12*Yn],[n,1,ni],[n,2,2*ni],[r,1,lb],[e,1,gE],[e,3,3*gE],[t,1,Qm]];function u(h,y,p){const m=y<h;m&&([h,y]=[y,h]);const v=p&&typeof p.range=="function"?p:d(h,y,p),_=v?v.range(h,+y+1):[];return m?_.reverse():_}function d(h,y,p){const m=Math.abs(y-h)/p,v=Xx(([,,b])=>b).right(l,m);if(v===l.length)return t.every(k0(h/Qm,y/Qm,p));if(v===0)return Sd.every(Math.max(k0(h,y,p),1));const[_,w]=l[m/l[v-1][2]<l[v][2]/m?v-1:v];return _.every(w)}return[u,d]}const[XB,JB]=qC(ai,pb,Sf,BC,fb,cb),[QB,ZB]=qC(ii,hb,_f,xu,db,ub);function Zm(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ev(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function el(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function eq(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,l=t.shortDays,u=t.months,d=t.shortMonths,h=tl(i),y=rl(i),p=tl(o),m=rl(o),v=tl(l),_=rl(l),w=tl(u),b=rl(u),k=tl(d),E=rl(d),O={a:ee,A:K,b:te,B:J,c:null,d:_E,e:_E,f:Sq,g:Nq,G:Mq,H:bq,I:wq,j:_q,L:UC,m:jq,M:kq,p:D,q:L,Q:kE,s:OE,S:Oq,u:Eq,U:Aq,V:Tq,w:Cq,W:Pq,x:null,X:null,y:Iq,Y:Rq,Z:$q,"%":jE},T={a:oe,A:fe,b:pe,B:_e,c:null,d:SE,e:SE,f:Bq,g:Xq,G:Qq,H:Dq,I:Lq,j:zq,L:WC,m:qq,M:Uq,p:Re,q:Se,Q:kE,s:OE,S:Fq,u:Wq,U:Hq,V:Vq,w:Kq,W:Gq,x:null,X:null,y:Yq,Y:Jq,Z:Zq,"%":jE},j={a:H,A:z,b:N,B:q,c:U,d:bE,e:bE,f:gq,g:xE,G:vE,H:wE,I:wE,j:fq,L:yq,m:dq,M:hq,p:R,q:cq,Q:vq,s:xq,S:pq,u:aq,U:oq,V:sq,w:iq,W:lq,x:V,X,y:xE,Y:vE,Z:uq,"%":mq};O.x=A(r,O),O.X=A(n,O),O.c=A(e,O),T.x=A(r,T),T.X=A(n,T),T.c=A(e,T);function A(se,Q){return function(ye){var ie=[],re=-1,ke=0,$e=se.length,Ke,it,ct;for(ye instanceof Date||(ye=new Date(+ye));++re<$e;)se.charCodeAt(re)===37&&(ie.push(se.slice(ke,re)),(it=mE[Ke=se.charAt(++re)])!=null?Ke=se.charAt(++re):it=Ke==="e"?" ":"0",(ct=Q[Ke])&&(Ke=ct(ye,it)),ie.push(Ke),ke=re+1);return ie.push(se.slice(ke,re)),ie.join("")}}function C(se,Q){return function(ye){var ie=el(1900,void 0,1),re=I(ie,se,ye+="",0),ke,$e;if(re!=ye.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(Q&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(ke=ev(el(ie.y,0,1)),$e=ke.getUTCDay(),ke=$e>4||$e===0?kd.ceil(ke):kd(ke),ke=wf.offset(ke,(ie.V-1)*7),ie.y=ke.getUTCFullYear(),ie.m=ke.getUTCMonth(),ie.d=ke.getUTCDate()+(ie.w+6)%7):(ke=Zm(el(ie.y,0,1)),$e=ke.getDay(),ke=$e>4||$e===0?jd.ceil(ke):jd(ke),ke=xu.offset(ke,(ie.V-1)*7),ie.y=ke.getFullYear(),ie.m=ke.getMonth(),ie.d=ke.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),$e="Z"in ie?ev(el(ie.y,0,1)).getUTCDay():Zm(el(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-($e+5)%7:ie.w+ie.U*7-($e+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,ev(ie)):Zm(ie)}}function I(se,Q,ye,ie){for(var re=0,ke=Q.length,$e=ye.length,Ke,it;re<ke;){if(ie>=$e)return-1;if(Ke=Q.charCodeAt(re++),Ke===37){if(Ke=Q.charAt(re++),it=j[Ke in mE?Q.charAt(re++):Ke],!it||(ie=it(se,ye,ie))<0)return-1}else if(Ke!=ye.charCodeAt(ie++))return-1}return ie}function R(se,Q,ye){var ie=h.exec(Q.slice(ye));return ie?(se.p=y.get(ie[0].toLowerCase()),ye+ie[0].length):-1}function H(se,Q,ye){var ie=v.exec(Q.slice(ye));return ie?(se.w=_.get(ie[0].toLowerCase()),ye+ie[0].length):-1}function z(se,Q,ye){var ie=p.exec(Q.slice(ye));return ie?(se.w=m.get(ie[0].toLowerCase()),ye+ie[0].length):-1}function N(se,Q,ye){var ie=k.exec(Q.slice(ye));return ie?(se.m=E.get(ie[0].toLowerCase()),ye+ie[0].length):-1}function q(se,Q,ye){var ie=w.exec(Q.slice(ye));return ie?(se.m=b.get(ie[0].toLowerCase()),ye+ie[0].length):-1}function U(se,Q,ye){return I(se,e,Q,ye)}function V(se,Q,ye){return I(se,r,Q,ye)}function X(se,Q,ye){return I(se,n,Q,ye)}function ee(se){return l[se.getDay()]}function K(se){return o[se.getDay()]}function te(se){return d[se.getMonth()]}function J(se){return u[se.getMonth()]}function D(se){return i[+(se.getHours()>=12)]}function L(se){return 1+~~(se.getMonth()/3)}function oe(se){return l[se.getUTCDay()]}function fe(se){return o[se.getUTCDay()]}function pe(se){return d[se.getUTCMonth()]}function _e(se){return u[se.getUTCMonth()]}function Re(se){return i[+(se.getUTCHours()>=12)]}function Se(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Q=A(se+="",O);return Q.toString=function(){return se},Q},parse:function(se){var Q=C(se+="",!1);return Q.toString=function(){return se},Q},utcFormat:function(se){var Q=A(se+="",T);return Q.toString=function(){return se},Q},utcParse:function(se){var Q=C(se+="",!0);return Q.toString=function(){return se},Q}}}var mE={"-":"",_:" ",0:"0"},Bt=/^\s*\d+/,tq=/^%/,rq=/[\\^$*+?|[\]().{}]/g;function We(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function nq(t){return t.replace(rq,"\\$&")}function tl(t){return new RegExp("^(?:"+t.map(nq).join("|")+")","i")}function rl(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function iq(t,e,r){var n=Bt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function aq(t,e,r){var n=Bt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function oq(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function sq(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function lq(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function vE(t,e,r){var n=Bt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function xE(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function uq(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function cq(t,e,r){var n=Bt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function dq(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function bE(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function fq(t,e,r){var n=Bt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function wE(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function hq(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function pq(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function yq(t,e,r){var n=Bt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function gq(t,e,r){var n=Bt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function mq(t,e,r){var n=tq.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function vq(t,e,r){var n=Bt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function xq(t,e,r){var n=Bt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function _E(t,e){return We(t.getDate(),e,2)}function bq(t,e){return We(t.getHours(),e,2)}function wq(t,e){return We(t.getHours()%12||12,e,2)}function _q(t,e){return We(1+xu.count(ii(t),t),e,3)}function UC(t,e){return We(t.getMilliseconds(),e,3)}function Sq(t,e){return UC(t,e)+"000"}function jq(t,e){return We(t.getMonth()+1,e,2)}function kq(t,e){return We(t.getMinutes(),e,2)}function Oq(t,e){return We(t.getSeconds(),e,2)}function Eq(t){var e=t.getDay();return e===0?7:e}function Aq(t,e){return We(_f.count(ii(t)-1,t),e,2)}function FC(t){var e=t.getDay();return e>=4||e===0?Bo(t):Bo.ceil(t)}function Tq(t,e){return t=FC(t),We(Bo.count(ii(t),t)+(ii(t).getDay()===4),e,2)}function Cq(t){return t.getDay()}function Pq(t,e){return We(jd.count(ii(t)-1,t),e,2)}function Iq(t,e){return We(t.getFullYear()%100,e,2)}function Nq(t,e){return t=FC(t),We(t.getFullYear()%100,e,2)}function Rq(t,e){return We(t.getFullYear()%1e4,e,4)}function Mq(t,e){var r=t.getDay();return t=r>=4||r===0?Bo(t):Bo.ceil(t),We(t.getFullYear()%1e4,e,4)}function $q(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+We(e/60|0,"0",2)+We(e%60,"0",2)}function SE(t,e){return We(t.getUTCDate(),e,2)}function Dq(t,e){return We(t.getUTCHours(),e,2)}function Lq(t,e){return We(t.getUTCHours()%12||12,e,2)}function zq(t,e){return We(1+wf.count(ai(t),t),e,3)}function WC(t,e){return We(t.getUTCMilliseconds(),e,3)}function Bq(t,e){return WC(t,e)+"000"}function qq(t,e){return We(t.getUTCMonth()+1,e,2)}function Uq(t,e){return We(t.getUTCMinutes(),e,2)}function Fq(t,e){return We(t.getUTCSeconds(),e,2)}function Wq(t){var e=t.getUTCDay();return e===0?7:e}function Hq(t,e){return We(Sf.count(ai(t)-1,t),e,2)}function HC(t){var e=t.getUTCDay();return e>=4||e===0?qo(t):qo.ceil(t)}function Vq(t,e){return t=HC(t),We(qo.count(ai(t),t)+(ai(t).getUTCDay()===4),e,2)}function Kq(t){return t.getUTCDay()}function Gq(t,e){return We(kd.count(ai(t)-1,t),e,2)}function Yq(t,e){return We(t.getUTCFullYear()%100,e,2)}function Xq(t,e){return t=HC(t),We(t.getUTCFullYear()%100,e,2)}function Jq(t,e){return We(t.getUTCFullYear()%1e4,e,4)}function Qq(t,e){var r=t.getUTCDay();return t=r>=4||r===0?qo(t):qo.ceil(t),We(t.getUTCFullYear()%1e4,e,4)}function Zq(){return"+0000"}function jE(){return"%"}function kE(t){return+t}function OE(t){return Math.floor(+t/1e3)}var ho,VC,KC;eU({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eU(t){return ho=eq(t),VC=ho.format,ho.parse,KC=ho.utcFormat,ho.utcParse,ho}function tU(t){return new Date(t)}function rU(t){return t instanceof Date?+t:+new Date(+t)}function yb(t,e,r,n,i,o,l,u,d,h){var y=tb(),p=y.invert,m=y.domain,v=h(".%L"),_=h(":%S"),w=h("%I:%M"),b=h("%I %p"),k=h("%a %d"),E=h("%b %d"),O=h("%B"),T=h("%Y");function j(A){return(d(A)<A?v:u(A)<A?_:l(A)<A?w:o(A)<A?b:n(A)<A?i(A)<A?k:E:r(A)<A?O:T)(A)}return y.invert=function(A){return new Date(p(A))},y.domain=function(A){return arguments.length?m(Array.from(A,rU)):m().map(tU)},y.ticks=function(A){var C=m();return t(C[0],C[C.length-1],A??10)},y.tickFormat=function(A,C){return C==null?j:h(C)},y.nice=function(A){var C=m();return(!A||typeof A.range!="function")&&(A=e(C[0],C[C.length-1],A??10)),A?m(NC(C,A)):y},y.copy=function(){return vu(y,yb(t,e,r,n,i,o,l,u,d,h))},y}function nU(){return Jr.apply(yb(QB,ZB,ii,hb,_f,xu,db,ub,xa,VC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function iU(){return Jr.apply(yb(XB,JB,ai,pb,Sf,wf,fb,cb,xa,KC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jf(){var t=0,e=1,r,n,i,o,l=or,u=!1,d;function h(p){return p==null||isNaN(p=+p)?d:l(i===0?.5:(p=(o(p)-r)*i,u?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(p){return arguments.length?(u=!!p,h):u},h.interpolator=function(p){return arguments.length?(l=p,h):l};function y(p){return function(m){var v,_;return arguments.length?([v,_]=m,l=p(v,_),h):[l(0),l(1)]}}return h.range=y(cs),h.rangeRound=y(eb),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return o=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),h}}function Hi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function GC(){var t=Wi(jf()(or));return t.copy=function(){return Hi(t,GC())},ci.apply(t,arguments)}function YC(){var t=ib(jf()).domain([1,10]);return t.copy=function(){return Hi(t,YC()).base(t.base())},ci.apply(t,arguments)}function XC(){var t=ab(jf());return t.copy=function(){return Hi(t,XC()).constant(t.constant())},ci.apply(t,arguments)}function gb(){var t=ob(jf());return t.copy=function(){return Hi(t,gb()).exponent(t.exponent())},ci.apply(t,arguments)}function aU(){return gb.apply(null,arguments).exponent(.5)}function JC(){var t=[],e=or;function r(n){if(n!=null&&!isNaN(n=+n))return e((gu(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Bi),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>H8(t,o/n))},r.copy=function(){return JC(e).domain(t)},ci.apply(r,arguments)}function kf(){var t=0,e=.5,r=1,n=1,i,o,l,u,d,h=or,y,p=!1,m;function v(w){return isNaN(w=+w)?m:(w=.5+((w=+y(w))-o)*(n*w<n*o?u:d),h(p?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([t,e,r]=w,i=y(t=+t),o=y(e=+e),l=y(r=+r),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),n=o<i?-1:1,v):[t,e,r]},v.clamp=function(w){return arguments.length?(p=!!w,v):p},v.interpolator=function(w){return arguments.length?(h=w,v):h};function _(w){return function(b){var k,E,O;return arguments.length?([k,E,O]=b,h=mB(w,[k,E,O]),v):[h(0),h(.5),h(1)]}}return v.range=_(cs),v.rangeRound=_(eb),v.unknown=function(w){return arguments.length?(m=w,v):m},function(w){return y=w,i=w(t),o=w(e),l=w(r),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),n=o<i?-1:1,v}}function QC(){var t=Wi(kf()(or));return t.copy=function(){return Hi(t,QC())},ci.apply(t,arguments)}function ZC(){var t=ib(kf()).domain([.1,1,10]);return t.copy=function(){return Hi(t,ZC()).base(t.base())},ci.apply(t,arguments)}function eP(){var t=ab(kf());return t.copy=function(){return Hi(t,eP()).constant(t.constant())},ci.apply(t,arguments)}function mb(){var t=ob(kf());return t.copy=function(){return Hi(t,mb()).exponent(t.exponent())},ci.apply(t,arguments)}function oU(){return mb.apply(null,arguments).exponent(.5)}const EE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$l,scaleDiverging:QC,scaleDivergingLog:ZC,scaleDivergingPow:mb,scaleDivergingSqrt:oU,scaleDivergingSymlog:eP,scaleIdentity:IC,scaleImplicit:O0,scaleLinear:_d,scaleLog:RC,scaleOrdinal:Jx,scalePoint:yl,scalePow:sb,scaleQuantile:DC,scaleQuantize:LC,scaleRadial:$C,scaleSequential:GC,scaleSequentialLog:YC,scaleSequentialPow:gb,scaleSequentialQuantile:JC,scaleSequentialSqrt:aU,scaleSequentialSymlog:XC,scaleSqrt:BB,scaleSymlog:MC,scaleThreshold:zC,scaleTime:nU,scaleUtc:iU,tickFormat:PC},Symbol.toStringTag,{value:"Module"}));var tv,AE;function tP(){if(AE)return tv;AE=1;var t=as();function e(r,n,i){for(var o=-1,l=r.length;++o<l;){var u=r[o],d=n(u);if(d!=null&&(h===void 0?d===d&&!t(d):i(d,h)))var h=d,y=u}return y}return tv=e,tv}var rv,TE;function sU(){if(TE)return rv;TE=1;function t(e,r){return e>r}return rv=t,rv}var nv,CE;function lU(){if(CE)return nv;CE=1;var t=tP(),e=sU(),r=us();function n(i){return i&&i.length?t(i,r,e):void 0}return nv=n,nv}var uU=lU();const Li=Ze(uU);var iv,PE;function cU(){if(PE)return iv;PE=1;function t(e,r){return e<r}return iv=t,iv}var av,IE;function dU(){if(IE)return av;IE=1;var t=tP(),e=cU(),r=us();function n(i){return i&&i.length?t(i,r,e):void 0}return av=n,av}var fU=dU();const Of=Ze(fU);var ov,NE;function hU(){if(NE)return ov;NE=1;var t=Nx(),e=Fi(),r=cC(),n=wr();function i(o,l){var u=n(o)?t:r;return u(o,e(l,3))}return ov=i,ov}var sv,RE;function pU(){if(RE)return sv;RE=1;var t=lC(),e=hU();function r(n,i){return t(e(n,i),1)}return sv=r,sv}var yU=pU();const gU=Ze(yU);var lv,ME;function mU(){if(ME)return lv;ME=1;var t=Vx();function e(r,n){return t(r,n)}return lv=e,lv}var vU=mU();const Uo=Ze(vU);var ds=1e9,xU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xb,ut=!0,Yr="[DecimalError] ",ja=Yr+"Invalid argument: ",vb=Yr+"Exponent out of range: ",fs=Math.floor,ha=Math.pow,bU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nr,Lt=1e7,st=7,rP=9007199254740991,Od=fs(rP/st),ve={};ve.absoluteValue=ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ve.comparedTo=ve.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};ve.decimalPlaces=ve.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*st;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ve.dividedBy=ve.div=function(t){return ei(this,new this.constructor(t))};ve.dividedToIntegerBy=ve.idiv=function(t){var e=this,r=e.constructor;return Qe(ei(e,new r(t),0,1),r.precision)};ve.equals=ve.eq=function(t){return!this.cmp(t)};ve.exponent=function(){return Ot(this)};ve.greaterThan=ve.gt=function(t){return this.cmp(t)>0};ve.greaterThanOrEqualTo=ve.gte=function(t){return this.cmp(t)>=0};ve.isInteger=ve.isint=function(){return this.e>this.d.length-2};ve.isNegative=ve.isneg=function(){return this.s<0};ve.isPositive=ve.ispos=function(){return this.s>0};ve.isZero=function(){return this.s===0};ve.lessThan=ve.lt=function(t){return this.cmp(t)<0};ve.lessThanOrEqualTo=ve.lte=function(t){return this.cmp(t)<1};ve.logarithm=ve.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Nr))throw Error(Yr+"NaN");if(r.s<1)throw Error(Yr+(r.s?"NaN":"-Infinity"));return r.eq(Nr)?new n(0):(ut=!1,e=ei(ql(r,o),ql(t,o),o),ut=!0,Qe(e,i))};ve.minus=ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?aP(e,t):nP(e,(t.s=-t.s,t))};ve.modulo=ve.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Yr+"NaN");return r.s?(ut=!1,e=ei(r,t,0,1).times(t),ut=!0,r.minus(e)):Qe(new n(r),i)};ve.naturalExponential=ve.exp=function(){return iP(this)};ve.naturalLogarithm=ve.ln=function(){return ql(this)};ve.negated=ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ve.plus=ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nP(e,t):aP(e,(t.s=-t.s,t))};ve.precision=ve.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ja+t);if(e=Ot(i)+1,n=i.d.length-1,r=n*st+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ve.squareRoot=ve.sqrt=function(){var t,e,r,n,i,o,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Yr+"NaN")}for(t=Ot(u),ut=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=kn(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=fs((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(i.toString()),r=d.precision,i=l=r+3;;)if(o=n,n=o.plus(ei(u,o,l+2)).times(.5),kn(o.d).slice(0,l)===(e=kn(n.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Qe(o,r+1,0),o.times(o).eq(u)){n=o;break}}else if(e!="9999")break;l+=4}return ut=!0,Qe(n,r)};ve.times=ve.mul=function(t){var e,r,n,i,o,l,u,d,h,y=this,p=y.constructor,m=y.d,v=(t=new p(t)).d;if(!y.s||!t.s)return new p(0);for(t.s*=y.s,r=y.e+t.e,d=m.length,h=v.length,d<h&&(o=m,m=v,v=o,l=d,d=h,h=l),o=[],l=d+h,n=l;n--;)o.push(0);for(n=h;--n>=0;){for(e=0,i=d+n;i>n;)u=o[i]+v[n]*m[i-n-1]+e,o[i--]=u%Lt|0,e=u/Lt|0;o[i]=(o[i]+e)%Lt|0}for(;!o[--l];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,ut?Qe(t,p.precision):t};ve.toDecimalPlaces=ve.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Cn(t,0,ds),e===void 0?e=n.rounding:Cn(e,0,8),Qe(r,t+Ot(r)+1,e))};ve.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Ea(n,!0):(Cn(t,0,ds),e===void 0?e=i.rounding:Cn(e,0,8),n=Qe(new i(n),t+1,e),r=Ea(n,!0,t+1)),r};ve.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?Ea(i):(Cn(t,0,ds),e===void 0?e=o.rounding:Cn(e,0,8),n=Qe(new o(i),t+Ot(i)+1,e),r=Ea(n.abs(),!1,t+Ot(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ve.toInteger=ve.toint=function(){var t=this,e=t.constructor;return Qe(new e(t),Ot(t)+1,e.rounding)};ve.toNumber=function(){return+this};ve.toPower=ve.pow=function(t){var e,r,n,i,o,l,u=this,d=u.constructor,h=12,y=+(t=new d(t));if(!t.s)return new d(Nr);if(u=new d(u),!u.s){if(t.s<1)throw Error(Yr+"Infinity");return u}if(u.eq(Nr))return u;if(n=d.precision,t.eq(Nr))return Qe(u,n);if(e=t.e,r=t.d.length-1,l=e>=r,o=u.s,l){if((r=y<0?-y:y)<=rP){for(i=new d(Nr),e=Math.ceil(n/st+4),ut=!1;r%2&&(i=i.times(u),DE(i.d,e)),r=fs(r/2),r!==0;)u=u.times(u),DE(u.d,e);return ut=!0,t.s<0?new d(Nr).div(i):Qe(i,n)}}else if(o<0)throw Error(Yr+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,ut=!1,i=t.times(ql(u,n+h)),ut=!0,i=iP(i),i.s=o,i};ve.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=Ot(i),n=Ea(i,r<=o.toExpNeg||r>=o.toExpPos)):(Cn(t,1,ds),e===void 0?e=o.rounding:Cn(e,0,8),i=Qe(new o(i),t,e),r=Ot(i),n=Ea(i,t<=r||r<=o.toExpNeg,t)),n};ve.toSignificantDigits=ve.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Cn(t,1,ds),e===void 0?e=n.rounding:Cn(e,0,8)),Qe(new n(r),t,e)};ve.toString=ve.valueOf=ve.val=ve.toJSON=ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ot(t),r=t.constructor;return Ea(t,e<=r.toExpNeg||e>=r.toExpPos)};function nP(t,e){var r,n,i,o,l,u,d,h,y=t.constructor,p=y.precision;if(!t.s||!e.s)return e.s||(e=new y(t)),ut?Qe(e,p):e;if(d=t.d,h=e.d,l=t.e,i=e.e,d=d.slice(),o=l-i,o){for(o<0?(n=d,o=-o,u=h.length):(n=h,i=l,u=d.length),l=Math.ceil(p/st),u=l>u?l+1:u+1,o>u&&(o=u,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(u=d.length,o=h.length,u-o<0&&(o=u,n=h,h=d,d=n),r=0;o;)r=(d[--o]=d[o]+h[o]+r)/Lt|0,d[o]%=Lt;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,ut?Qe(e,p):e}function Cn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ja+t)}function kn(t){var e,r,n,i=t.length-1,o="",l=t[0];if(i>0){for(o+=l,e=1;e<i;e++)n=t[e]+"",r=st-n.length,r&&(o+=Mi(r)),o+=n;l=t[e],n=l+"",r=st-n.length,r&&(o+=Mi(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var ei=(function(){function t(n,i){var o,l=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+l,n[u]=o%Lt|0,l=o/Lt|0;return l&&n.unshift(l),n}function e(n,i,o,l){var u,d;if(o!=l)d=o>l?1:-1;else for(u=d=0;u<o;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,o){for(var l=0;o--;)n[o]-=l,l=n[o]<i[o]?1:0,n[o]=l*Lt+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,l){var u,d,h,y,p,m,v,_,w,b,k,E,O,T,j,A,C,I,R=n.constructor,H=n.s==i.s?1:-1,z=n.d,N=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(Yr+"Division by zero");for(d=n.e-i.e,C=N.length,j=z.length,v=new R(H),_=v.d=[],h=0;N[h]==(z[h]||0);)++h;if(N[h]>(z[h]||0)&&--d,o==null?E=o=R.precision:l?E=o+(Ot(n)-Ot(i))+1:E=o,E<0)return new R(0);if(E=E/st+2|0,h=0,C==1)for(y=0,N=N[0],E++;(h<j||y)&&E--;h++)O=y*Lt+(z[h]||0),_[h]=O/N|0,y=O%N|0;else{for(y=Lt/(N[0]+1)|0,y>1&&(N=t(N,y),z=t(z,y),C=N.length,j=z.length),T=C,w=z.slice(0,C),b=w.length;b<C;)w[b++]=0;I=N.slice(),I.unshift(0),A=N[0],N[1]>=Lt/2&&++A;do y=0,u=e(N,w,C,b),u<0?(k=w[0],C!=b&&(k=k*Lt+(w[1]||0)),y=k/A|0,y>1?(y>=Lt&&(y=Lt-1),p=t(N,y),m=p.length,b=w.length,u=e(p,w,m,b),u==1&&(y--,r(p,C<m?I:N,m))):(y==0&&(u=y=1),p=N.slice()),m=p.length,m<b&&p.unshift(0),r(w,p,b),u==-1&&(b=w.length,u=e(N,w,C,b),u<1&&(y++,r(w,C<b?I:N,b))),b=w.length):u===0&&(y++,w=[0]),_[h++]=y,u&&w[0]?w[b++]=z[T]||0:(w=[z[T]],b=1);while((T++<j||w[0]!==void 0)&&E--)}return _[0]||_.shift(),v.e=d,Qe(v,l?o+Ot(v)+1:o)}})();function iP(t,e){var r,n,i,o,l,u,d=0,h=0,y=t.constructor,p=y.precision;if(Ot(t)>16)throw Error(vb+Ot(t));if(!t.s)return new y(Nr);for(ut=!1,u=p,l=new y(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(n=Math.log(ha(2,h))/Math.LN10*2+5|0,u+=n,r=i=o=new y(Nr),y.precision=u;;){if(i=Qe(i.times(t),u),r=r.times(++d),l=o.plus(ei(i,r,u)),kn(l.d).slice(0,u)===kn(o.d).slice(0,u)){for(;h--;)o=Qe(o.times(o),u);return y.precision=p,e==null?(ut=!0,Qe(o,p)):o}o=l}}function Ot(t){for(var e=t.e*st,r=t.d[0];r>=10;r/=10)e++;return e}function uv(t,e,r){if(e>t.LN10.sd())throw ut=!0,r&&(t.precision=r),Error(Yr+"LN10 precision limit exceeded");return Qe(new t(t.LN10),e)}function Mi(t){for(var e="";t--;)e+="0";return e}function ql(t,e){var r,n,i,o,l,u,d,h,y,p=1,m=10,v=t,_=v.d,w=v.constructor,b=w.precision;if(v.s<1)throw Error(Yr+(v.s?"NaN":"-Infinity"));if(v.eq(Nr))return new w(0);if(e==null?(ut=!1,h=b):h=e,v.eq(10))return e==null&&(ut=!0),uv(w,h);if(h+=m,w.precision=h,r=kn(_),n=r.charAt(0),o=Ot(v),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=kn(v.d),n=r.charAt(0),p++;o=Ot(v),n>1?(v=new w("0."+r),o++):v=new w(n+"."+r.slice(1))}else return d=uv(w,h+2,b).times(o+""),v=ql(new w(n+"."+r.slice(1)),h-m).plus(d),w.precision=b,e==null?(ut=!0,Qe(v,b)):v;for(u=l=v=ei(v.minus(Nr),v.plus(Nr),h),y=Qe(v.times(v),h),i=3;;){if(l=Qe(l.times(y),h),d=u.plus(ei(l,new w(i),h)),kn(d.d).slice(0,h)===kn(u.d).slice(0,h))return u=u.times(2),o!==0&&(u=u.plus(uv(w,h+2,b).times(o+""))),u=ei(u,new w(p),h),w.precision=b,e==null?(ut=!0,Qe(u,b)):u;u=d,i+=2}}function $E(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=fs(r/st),t.d=[],n=(r+1)%st,r<0&&(n+=st),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=st;n<i;)t.d.push(+e.slice(n,n+=st));e=e.slice(n),n=st-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ut&&(t.e>Od||t.e<-Od))throw Error(vb+r)}else t.s=0,t.e=0,t.d=[0];return t}function Qe(t,e,r){var n,i,o,l,u,d,h,y,p=t.d;for(l=1,o=p[0];o>=10;o/=10)l++;if(n=e-l,n<0)n+=st,i=e,h=p[y=0];else{if(y=Math.ceil((n+1)/st),o=p.length,y>=o)return t;for(h=o=p[y],l=1;o>=10;o/=10)l++;n%=st,i=n-st+l}if(r!==void 0&&(o=ha(10,l-i-1),u=h/o%10|0,d=e<0||p[y+1]!==void 0||h%o,d=r<4?(u||d)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?h/ha(10,l-i):0:p[y-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return d?(o=Ot(t),p.length=1,e=e-o-1,p[0]=ha(10,(st-e%st)%st),t.e=fs(-e/st)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=y,o=1,y--):(p.length=y+1,o=ha(10,st-n),p[y]=i>0?(h/ha(10,l-i)%ha(10,i)|0)*o:0),d)for(;;)if(y==0){(p[0]+=o)==Lt&&(p[0]=1,++t.e);break}else{if(p[y]+=o,p[y]!=Lt)break;p[y--]=0,o=1}for(n=p.length;p[--n]===0;)p.pop();if(ut&&(t.e>Od||t.e<-Od))throw Error(vb+Ot(t));return t}function aP(t,e){var r,n,i,o,l,u,d,h,y,p,m=t.constructor,v=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),ut?Qe(e,v):e;if(d=t.d,p=e.d,n=e.e,h=t.e,d=d.slice(),l=h-n,l){for(y=l<0,y?(r=d,l=-l,u=p.length):(r=p,n=h,u=d.length),i=Math.max(Math.ceil(v/st),u)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=p.length,y=i<u,y&&(u=i),i=0;i<u;i++)if(d[i]!=p[i]){y=d[i]<p[i];break}l=0}for(y&&(r=d,d=p,p=r,e.s=-e.s),u=d.length,i=p.length-u;i>0;--i)d[u++]=0;for(i=p.length;i>l;){if(d[--i]<p[i]){for(o=i;o&&d[--o]===0;)d[o]=Lt-1;--d[o],d[i]+=Lt}d[i]-=p[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,ut?Qe(e,v):e):new m(0)}function Ea(t,e,r){var n,i=Ot(t),o=kn(t.d),l=o.length;return e?(r&&(n=r-l)>0?o=o.charAt(0)+"."+o.slice(1)+Mi(n):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Mi(-i-1)+o,r&&(n=r-l)>0&&(o+=Mi(n))):i>=l?(o+=Mi(i+1-l),r&&(n=r-i-1)>0&&(o=o+"."+Mi(n))):((n=i+1)<l&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(o+="."),o+=Mi(n))),t.s<0?"-"+o:o}function DE(t,e){if(t.length>e)return t.length=e,!0}function oP(t){var e,r,n;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ja+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return $E(l,o.toString())}else if(typeof o!="string")throw Error(ja+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,bU.test(o))$E(l,o);else throw Error(ja+o)}if(i.prototype=ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=oP,i.config=i.set=wU,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function wU(t){if(!t||typeof t!="object")throw Error(Yr+"Object expected");var e,r,n,i=["precision",1,ds,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(fs(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(ja+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ja+r+": "+n);return this}var xb=oP(xU);Nr=new xb(1);const Xe=xb;function _U(t){return OU(t)||kU(t)||jU(t)||SU()}function SU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jU(t,e){if(t){if(typeof t=="string")return C0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C0(t,e)}}function kU(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function OU(t){if(Array.isArray(t))return C0(t)}function C0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var EU=function(e){return e},sP={},lP=function(e){return e===sP},LE=function(e){return function r(){return arguments.length===0||arguments.length===1&&lP(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},AU=function t(e,r){return e===1?r:LE(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var l=i.filter(function(u){return u!==sP}).length;return l>=e?r.apply(void 0,i):t(e-l,LE(function(){for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var y=i.map(function(p){return lP(p)?d.shift():p});return r.apply(void 0,_U(y).concat(d))}))})},Ef=function(e){return AU(e.length,e)},P0=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},TU=Ef(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),CU=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return EU;var i=r.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce(function(u,d){return d(u)},o.apply(void 0,arguments))}},I0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},uP=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r&&o.every(function(u,d){return u===r[d]})||(r=o,n=e.apply(void 0,o)),n}};function PU(t){var e;return t===0?e=1:e=Math.floor(new Xe(t).abs().log(10).toNumber())+1,e}function IU(t,e,r){for(var n=new Xe(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var NU=Ef(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),RU=Ef(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),MU=Ef(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Af={rangeStep:IU,getDigitCount:PU,interpolateNumber:NU,uninterpolateNumber:RU,uninterpolateTruncation:MU};function N0(t){return LU(t)||DU(t)||cP(t)||$U()}function $U(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DU(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function LU(t){if(Array.isArray(t))return R0(t)}function Ul(t,e){return qU(t)||BU(t,e)||cP(t,e)||zU()}function zU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cP(t,e){if(t){if(typeof t=="string")return R0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R0(t,e)}}function R0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BU(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var l=t[Symbol.iterator](),u;!(n=(u=l.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,o=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(i)throw o}}return r}}function qU(t){if(Array.isArray(t))return t}function dP(t){var e=Ul(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function fP(t,e,r){if(t.lte(0))return new Xe(0);var n=Af.getDigitCount(t.toNumber()),i=new Xe(10).pow(n),o=t.div(i),l=n!==1?.05:.1,u=new Xe(Math.ceil(o.div(l).toNumber())).add(r).mul(l),d=u.mul(i);return e?d:new Xe(Math.ceil(d))}function UU(t,e,r){var n=1,i=new Xe(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new Xe(10).pow(Af.getDigitCount(t)-1),i=new Xe(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new Xe(Math.floor(t)))}else t===0?i=new Xe(Math.floor((e-1)/2)):r||(i=new Xe(Math.floor(t)));var l=Math.floor((e-1)/2),u=CU(TU(function(d){return i.add(new Xe(d-l).mul(n)).toNumber()}),P0);return u(0,e)}function hP(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var o=fP(new Xe(e).sub(t).div(r-1),n,i),l;t<=0&&e>=0?l=new Xe(0):(l=new Xe(t).add(e).div(2),l=l.sub(new Xe(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new Xe(e).sub(l).div(o).toNumber()),h=u+d+1;return h>r?hP(t,e,r,n,i+1):(h<r&&(d=e>0?d+(r-h):d,u=e>0?u:u+(r-h)),{step:o,tickMin:l.sub(new Xe(u).mul(o)),tickMax:l.add(new Xe(d).mul(o))})}function FU(t){var e=Ul(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),u=dP([r,n]),d=Ul(u,2),h=d[0],y=d[1];if(h===-1/0||y===1/0){var p=y===1/0?[h].concat(N0(P0(0,i-1).map(function(){return 1/0}))):[].concat(N0(P0(0,i-1).map(function(){return-1/0})),[y]);return r>n?I0(p):p}if(h===y)return UU(h,i,o);var m=hP(h,y,l,o),v=m.step,_=m.tickMin,w=m.tickMax,b=Af.rangeStep(_,w.add(new Xe(.1).mul(v)),v);return r>n?I0(b):b}function WU(t,e){var r=Ul(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=dP([n,i]),u=Ul(l,2),d=u[0],h=u[1];if(d===-1/0||h===1/0)return[n,i];if(d===h)return[d];var y=Math.max(e,2),p=fP(new Xe(h).sub(d).div(y-1),o,0),m=[].concat(N0(Af.rangeStep(new Xe(d),new Xe(h).sub(new Xe(.99).mul(p)),p)),[h]);return n>i?I0(m):m}var HU=uP(FU),VU=uP(WU),KU="Invariant failed";function Aa(t,e){throw new Error(KU)}var GU=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Fo(t){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(t)}function Ed(){return Ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ed.apply(this,arguments)}function YU(t,e){return ZU(t)||QU(t,e)||JU(t,e)||XU()}function XU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JU(t,e){if(t){if(typeof t=="string")return zE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zE(t,e)}}function zE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QU(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function ZU(t){if(Array.isArray(t))return t}function eF(t,e){if(t==null)return{};var r=tF(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tF(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gP(n.key),n)}}function iF(t,e,r){return e&&nF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aF(t,e,r){return e=Ad(e),oF(t,pP()?Reflect.construct(e,r||[],Ad(t).constructor):e.apply(t,r))}function oF(t,e){if(e&&(Fo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sF(t)}function sF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pP=function(){return!!t})()}function Ad(t){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ad(t)}function lF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M0(t,e)}function M0(t,e){return M0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M0(t,e)}function yP(t,e,r){return e=gP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gP(t){var e=uF(t,"string");return Fo(e)=="symbol"?e:e+""}function uF(t,e){if(Fo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bu=(function(t){function e(){return rF(this,e),aF(this,e,arguments)}return lF(e,t),iF(e,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,l=n.width,u=n.dataKey,d=n.data,h=n.dataPointFormatter,y=n.xAxis,p=n.yAxis,m=eF(n,GU),v=Me(m,!1);this.props.direction==="x"&&y.type!=="number"&&Aa();var _=d.map(function(w){var b=h(w,u),k=b.x,E=b.y,O=b.value,T=b.errorVal;if(!T)return null;var j=[],A,C;if(Array.isArray(T)){var I=YU(T,2);A=I[0],C=I[1]}else A=C=T;if(o==="vertical"){var R=y.scale,H=E+i,z=H+l,N=H-l,q=R(O-A),U=R(O+C);j.push({x1:U,y1:z,x2:U,y2:N}),j.push({x1:q,y1:H,x2:U,y2:H}),j.push({x1:q,y1:z,x2:q,y2:N})}else if(o==="horizontal"){var V=p.scale,X=k+i,ee=X-l,K=X+l,te=V(O-A),J=V(O+C);j.push({x1:ee,y1:J,x2:K,y2:J}),j.push({x1:X,y1:te,x2:X,y2:J}),j.push({x1:ee,y1:te,x2:K,y2:te})}return F.createElement(nt,Ed({className:"recharts-errorBar",key:"bar-".concat(j.map(function(D){return"".concat(D.x1,"-").concat(D.x2,"-").concat(D.y1,"-").concat(D.y2)}))},v),j.map(function(D){return F.createElement("line",Ed({},D,{key:"line-".concat(D.x1,"-").concat(D.x2,"-").concat(D.y1,"-").concat(D.y2)}))}))});return F.createElement(nt,{className:"recharts-errorBars"},_)}}])})(F.Component);yP(bu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});yP(bu,"displayName","ErrorBar");function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function BE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BE(Object(r),!0).forEach(function(n){cF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cF(t,e,r){return e=dF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dF(t){var e=fF(t,"string");return Fl(e)=="symbol"?e:e+""}function fF(t,e){if(Fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mP=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,l=Cr(r,_a);if(!l)return null;var u=_a.defaultProps,d=u!==void 0?ca(ca({},u),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:o==="children"?h=(n||[]).reduce(function(y,p){var m=p.item,v=p.props,_=v.sectors||v.data||[];return y.concat(_.map(function(w){return{type:l.props.iconType||m.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):h=(n||[]).map(function(y){var p=y.item,m=p.type.defaultProps,v=m!==void 0?ca(ca({},m),p.props):{},_=v.dataKey,w=v.name,b=v.legendType,k=v.hide;return{inactive:k,dataKey:_,type:d.iconType||b||"square",color:bb(p),value:w||_,payload:v}}),ca(ca(ca({},d),_a.getWithHeight(l,i)),{},{payload:h,item:l})};function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function qE(t){return gF(t)||yF(t)||pF(t)||hF()}function hF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pF(t,e){if(t){if(typeof t=="string")return $0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $0(t,e)}}function yF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gF(t){if(Array.isArray(t))return $0(t)}function $0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UE(Object(r),!0).forEach(function(n){Co(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Co(t,e,r){return e=mF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mF(t){var e=vF(t,"string");return Wl(e)=="symbol"?e:e+""}function vF(t,e){if(Wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lr(t,e,r){return Le(t)||Le(e)?r:Nt(e)?Kr(t,e,r):Ne(e)?e(t):r}function gl(t,e,r,n){var i=gU(t,function(u){return lr(u,e)});if(r==="number"){var o=i.filter(function(u){return he(u)||parseFloat(u)});return o.length?[Of(o),Li(o)]:[1/0,-1/0]}var l=n?i.filter(function(u){return!Le(u)}):i;return l.map(function(u){return Nt(u)||u instanceof Date?u:""})}var xF=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var d=o.range,h=0;h<u;h++){var y=h>0?i[h-1].coordinate:i[u-1].coordinate,p=i[h].coordinate,m=h>=u-1?i[0].coordinate:i[h+1].coordinate,v=void 0;if(pn(p-y)!==pn(m-p)){var _=[];if(pn(m-p)===pn(d[1]-d[0])){v=m;var w=p+d[1]-d[0];_[0]=Math.min(w,(w+y)/2),_[1]=Math.max(w,(w+y)/2)}else{v=y;var b=m+d[1]-d[0];_[0]=Math.min(p,(b+p)/2),_[1]=Math.max(p,(b+p)/2)}var k=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>k[0]&&e<=k[1]||e>=_[0]&&e<=_[1]){l=i[h].index;break}}else{var E=Math.min(y,m),O=Math.max(y,m);if(e>(E+p)/2&&e<=(O+p)/2){l=i[h].index;break}}}else for(var T=0;T<u;T++)if(T===0&&e<=(n[T].coordinate+n[T+1].coordinate)/2||T>0&&T<u-1&&e>(n[T].coordinate+n[T-1].coordinate)/2&&e<=(n[T].coordinate+n[T+1].coordinate)/2||T===u-1&&e>(n[T].coordinate+n[T-1].coordinate)/2){l=n[T].index;break}return l},bb=function(e){var r,n=e,i=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?mt(mt({},e.type.defaultProps),e.props):e.props,l=o.stroke,u=o.fill,d;switch(i){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},bF=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var l={},u=Object.keys(o),d=0,h=u.length;d<h;d++)for(var y=o[u[d]].stackGroups,p=Object.keys(y),m=0,v=p.length;m<v;m++){var _=y[p[m]],w=_.items,b=_.cateAxisId,k=w.filter(function(C){return Qn(C.type).indexOf("Bar")>=0});if(k&&k.length){var E=k[0].type.defaultProps,O=E!==void 0?mt(mt({},E),k[0].props):k[0].props,T=O.barSize,j=O[b];l[j]||(l[j]=[]);var A=Le(T)?r:T;l[j].push({item:k[0],stackList:k.slice(1),barSize:Le(A)?void 0:Oa(A,n,0)})}}return l},wF=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,l=o===void 0?[]:o,u=e.maxBarSize,d=l.length;if(d<1)return null;var h=Oa(r,i,0,!0),y,p=[];if(l[0].barSize===+l[0].barSize){var m=!1,v=i/d,_=l.reduce(function(T,j){return T+j.barSize||0},0);_+=(d-1)*h,_>=i&&(_-=(d-1)*h,h=0),_>=i&&v>0&&(m=!0,v*=.9,_=d*v);var w=(i-_)/2>>0,b={offset:w-h,size:0};y=l.reduce(function(T,j){var A={item:j.item,position:{offset:b.offset+b.size+h,size:m?v:j.barSize}},C=[].concat(qE(T),[A]);return b=C[C.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(I){C.push({item:I,position:b})}),C},p)}else{var k=Oa(n,i,0,!0);i-2*k-(d-1)*h<=0&&(h=0);var E=(i-2*k-(d-1)*h)/d;E>1&&(E>>=0);var O=u===+u?Math.min(E,u):E;y=l.reduce(function(T,j,A){var C=[].concat(qE(T),[{item:j.item,position:{offset:k+(E+h)*A+(E-O)/2,size:O}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(I){C.push({item:I,position:C[C.length-1].position})}),C},p)}return y},_F=function(e,r,n,i){var o=n.children,l=n.width,u=n.margin,d=l-(u.left||0)-(u.right||0),h=mP({children:o,legendWidth:d});if(h){var y=i||{},p=y.width,m=y.height,v=h.align,_=h.verticalAlign,w=h.layout;if((w==="vertical"||w==="horizontal"&&_==="middle")&&v!=="center"&&he(e[v]))return mt(mt({},e),{},Co({},v,e[v]+(p||0)));if((w==="horizontal"||w==="vertical"&&v==="center")&&_!=="middle"&&he(e[_]))return mt(mt({},e),{},Co({},_,e[_]+(m||0)))}return e},SF=function(e,r,n){return Le(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},vP=function(e,r,n,i,o){var l=r.props.children,u=Gr(l,bu).filter(function(h){return SF(i,o,h.props.direction)});if(u&&u.length){var d=u.map(function(h){return h.props.dataKey});return e.reduce(function(h,y){var p=lr(y,n);if(Le(p))return h;var m=Array.isArray(p)?[Of(p),Li(p)]:[p,p],v=d.reduce(function(_,w){var b=lr(y,w,0),k=m[0]-Math.abs(Array.isArray(b)?b[0]:b),E=m[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(k,_[0]),Math.max(E,_[1])]},[1/0,-1/0]);return[Math.min(v[0],h[0]),Math.max(v[1],h[1])]},[1/0,-1/0])}return null},jF=function(e,r,n,i,o){var l=r.map(function(u){return vP(e,u,n,o,i)}).filter(function(u){return!Le(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},xP=function(e,r,n,i,o){var l=r.map(function(d){var h=d.props.dataKey;return n==="number"&&h&&vP(e,d,h,i)||gl(e,h,n,o)});if(n==="number")return l.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,h){for(var y=0,p=h.length;y<p;y++)u[h[y]]||(u[h[y]]=!0,d.push(h[y]));return d},[])},bP=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},wP=function(e,r,n,i){if(i)return e.map(function(d){return d.coordinate});var o,l,u=e.map(function(d){return d.coordinate===r&&(o=!0),d.coordinate===n&&(l=!0),d.coordinate});return o||u.push(r),l||u.push(n),u},Xn=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,l=e.type,u=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(r||n)&&l==="category"&&i.bandwidth?i.bandwidth()/d:0;if(h=e.axisType==="angleAxis"&&u?.length>=2?pn(u[0]-u[1])*2*h:h,r&&(e.ticks||e.niceTicks)){var y=(e.ticks||e.niceTicks).map(function(p){var m=o?o.indexOf(p):p;return{coordinate:i(m)+h,value:p,offset:h}});return y.filter(function(p){return!ss(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,m){return{coordinate:i(p)+h,value:p,index:m,offset:h}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+h,value:p,offset:h}}):i.domain().map(function(p,m){return{coordinate:i(p)+h,value:o?o[p]:p,index:m,offset:h}})},cv=new WeakMap,Hc=function(e,r){if(typeof r!="function")return e;cv.has(e)||cv.set(e,new WeakMap);var n=cv.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},kF=function(e,r,n){var i=e.scale,o=e.type,l=e.layout,u=e.axisType;if(i==="auto")return l==="radial"&&u==="radiusAxis"?{scale:$l(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:_d(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:yl(),realScaleType:"point"}:o==="category"?{scale:$l(),realScaleType:"band"}:{scale:_d(),realScaleType:"linear"};if(ka(i)){var d="scale".concat(hf(i));return{scale:(EE[d]||yl)(),realScaleType:EE[d]?d:"point"}}return Ne(i)?{scale:i}:{scale:yl(),realScaleType:"point"}},FE=1e-4,OF=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-FE,l=Math.max(i[0],i[1])+FE,u=e(r[0]),d=e(r[n-1]);(u<o||u>l||d<o||d>l)&&e.domain([r[0],r[n-1]])}},EF=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},AF=function(e,r){if(!r||r.length!==2||!he(r[0])||!he(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!he(e[0])||e[0]<n)&&(o[0]=n),(!he(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},TF=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,l=0,u=0;u<r;++u){var d=ss(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=o,e[u][n][1]=o+d,o=e[u][n][1]):(e[u][n][0]=l,e[u][n][1]=l+d,l=e[u][n][1])}},CF=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,l=0;l<r;++l){var u=ss(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=o,e[l][n][1]=o+u,o=e[l][n][1]):(e[l][n][0]=0,e[l][n][1]=0)}},PF={sign:TF,expand:h6,none:Ro,silhouette:p6,wiggle:y6,positive:CF},IF=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),o=PF[n],l=f6().keys(i).value(function(u,d){return+lr(u,d,0)}).order(f0).offset(o);return l(e)},NF=function(e,r,n,i,o,l){if(!e)return null;var u=l?r.reverse():r,d={},h=u.reduce(function(p,m){var v,_=(v=m.type)!==null&&v!==void 0&&v.defaultProps?mt(mt({},m.type.defaultProps),m.props):m.props,w=_.stackId,b=_.hide;if(b)return p;var k=_[n],E=p[k]||{hasStack:!1,stackGroups:{}};if(Nt(w)){var O=E.stackGroups[w]||{numericAxisId:n,cateAxisId:i,items:[]};O.items.push(m),E.hasStack=!0,E.stackGroups[w]=O}else E.stackGroups[ls("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[m]};return mt(mt({},p),{},Co({},k,E))},d),y={};return Object.keys(h).reduce(function(p,m){var v=h[m];if(v.hasStack){var _={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(w,b){var k=v.stackGroups[b];return mt(mt({},w),{},Co({},b,{numericAxisId:n,cateAxisId:i,items:k.items,stackedData:IF(e,k.items,o)}))},_)}return mt(mt({},p),{},Co({},m,v))},y)},RF=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(o&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=e.domain();if(!h.length)return null;var y=HU(h,o,u);return e.domain([Of(y),Li(y)]),{niceTicks:y}}if(o&&i==="number"){var p=e.domain(),m=VU(p,o,u);return{niceTicks:m}}return null};function Td(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,o=t.index,l=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Le(i[e.dataKey])){var u=td(r,"value",i[e.dataKey]);if(u)return u.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var d=lr(i,Le(l)?e.dataKey:l);return Le(d)?null:e.scale(d)}var WE=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,l=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var d=lr(l,r.dataKey,r.domain[u]);return Le(d)?null:r.scale(d)-o/2+i},MF=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},$F=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?mt(mt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Nt(o)){var l=r[o];if(l){var u=l.items.indexOf(e);return u>=0?l.stackedData[u]:null}}return null},DF=function(e){return e.reduce(function(r,n){return[Of(n.concat([r[0]]).filter(he)),Li(n.concat([r[1]]).filter(he))]},[1/0,-1/0])},_P=function(e,r,n){return Object.keys(e).reduce(function(i,o){var l=e[o],u=l.stackedData,d=u.reduce(function(h,y){var p=DF(y.slice(r,n+1));return[Math.min(h[0],p[0]),Math.max(h[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},HE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,D0=function(e,r,n){if(Ne(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(he(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(HE.test(e[0])){var o=+HE.exec(e[0])[1];i[0]=r[0]-o}else Ne(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(he(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(VE.test(e[1])){var l=+VE.exec(e[1])[1];i[1]=r[1]+l}else Ne(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Cd=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=Gx(r,function(p){return p.coordinate}),l=1/0,u=1,d=o.length;u<d;u++){var h=o[u],y=o[u-1];l=Math.min((h.coordinate||0)-(y.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},KE=function(e,r,n){return!e||!e.length||Uo(e,Kr(n,"type.defaultProps.domain"))?r:e},SP=function(e,r){var n=e.type.defaultProps?mt(mt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,o=n.name,l=n.unit,u=n.formatter,d=n.tooltipType,h=n.chartType,y=n.hide;return mt(mt({},Me(e,!1)),{},{dataKey:i,unit:l,formatter:u,name:o||i,color:bb(e),value:lr(r,i),type:d,payload:r,chartType:h,hide:y})};function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function GE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(r),!0).forEach(function(n){LF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LF(t,e,r){return e=zF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zF(t){var e=BF(t,"string");return Hl(e)=="symbol"?e:e+""}function BF(t,e){if(Hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pd=Math.PI/180,qF=function(e){return e*180/Math.PI},Kt=function(e,r,n,i){return{x:e+Math.cos(-Pd*i)*n,y:r+Math.sin(-Pd*i)*n}},UF=function(e,r){var n=e.x,i=e.y,o=r.x,l=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-l,2))},FF=function(e,r){var n=e.x,i=e.y,o=r.cx,l=r.cy,u=UF({x:n,y:i},{x:o,y:l});if(u<=0)return{radius:u};var d=(n-o)/u,h=Math.acos(d);return i>l&&(h=2*Math.PI-h),{radius:u,angle:qF(h),angleInRadian:h}},WF=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),l=Math.min(i,o);return{startAngle:r-l*360,endAngle:n-l*360}},HF=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),l=Math.floor(i/360),u=Math.min(o,l);return e+u*360},XE=function(e,r){var n=e.x,i=e.y,o=FF({x:n,y:i},r),l=o.radius,u=o.angle,d=r.innerRadius,h=r.outerRadius;if(l<d||l>h)return!1;if(l===0)return!0;var y=WF(r),p=y.startAngle,m=y.endAngle,v=u,_;if(p<=m){for(;v>m;)v-=360;for(;v<p;)v+=360;_=v>=p&&v<=m}else{for(;v>p;)v-=360;for(;v<m;)v+=360;_=v>=m&&v<=p}return _?YE(YE({},r),{},{radius:l,angle:HF(v,r)}):null};function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}var VF=["offset"];function KF(t){return JF(t)||XF(t)||YF(t)||GF()}function GF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YF(t,e){if(t){if(typeof t=="string")return L0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L0(t,e)}}function XF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JF(t){if(Array.isArray(t))return L0(t)}function L0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QF(t,e){if(t==null)return{};var r=ZF(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZF(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JE(Object(r),!0).forEach(function(n){eW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eW(t,e,r){return e=tW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tW(t){var e=rW(t,"string");return Vl(e)=="symbol"?e:e+""}function rW(t,e){if(Vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kl(){return Kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kl.apply(this,arguments)}var nW=function(e){var r=e.value,n=e.formatter,i=Le(e.children)?r:e.children;return Ne(n)?n(i):i},iW=function(e,r){var n=pn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},aW=function(e,r,n){var i=e.position,o=e.viewBox,l=e.offset,u=e.className,d=o,h=d.cx,y=d.cy,p=d.innerRadius,m=d.outerRadius,v=d.startAngle,_=d.endAngle,w=d.clockWise,b=(p+m)/2,k=iW(v,_),E=k>=0?1:-1,O,T;i==="insideStart"?(O=v+E*l,T=w):i==="insideEnd"?(O=_-E*l,T=!w):i==="end"&&(O=_+E*l,T=w),T=k<=0?T:!T;var j=Kt(h,y,b,O),A=Kt(h,y,b,O+(T?1:-1)*359),C="M".concat(j.x,",").concat(j.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(T?0:1,`,
    `).concat(A.x,",").concat(A.y),I=Le(e.id)?ls("recharts-radial-line-"):e.id;return F.createElement("text",Kl({},n,{dominantBaseline:"central",className:Be("recharts-radial-bar-label",u)}),F.createElement("defs",null,F.createElement("path",{id:I,d:C})),F.createElement("textPath",{xlinkHref:"#".concat(I)},r))},oW=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,l=o.cx,u=o.cy,d=o.innerRadius,h=o.outerRadius,y=o.startAngle,p=o.endAngle,m=(y+p)/2;if(i==="outside"){var v=Kt(l,u,h+n,m),_=v.x,w=v.y;return{x:_,y:w,textAnchor:_>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var b=(d+h)/2,k=Kt(l,u,b,m),E=k.x,O=k.y;return{x:E,y:O,textAnchor:"middle",verticalAnchor:"middle"}},sW=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,l=r,u=l.x,d=l.y,h=l.width,y=l.height,p=y>=0?1:-1,m=p*i,v=p>0?"end":"start",_=p>0?"start":"end",w=h>=0?1:-1,b=w*i,k=w>0?"end":"start",E=w>0?"start":"end";if(o==="top"){var O={x:u+h/2,y:d-p*i,textAnchor:"middle",verticalAnchor:v};return Ct(Ct({},O),n?{height:Math.max(d-n.y,0),width:h}:{})}if(o==="bottom"){var T={x:u+h/2,y:d+y+m,textAnchor:"middle",verticalAnchor:_};return Ct(Ct({},T),n?{height:Math.max(n.y+n.height-(d+y),0),width:h}:{})}if(o==="left"){var j={x:u-b,y:d+y/2,textAnchor:k,verticalAnchor:"middle"};return Ct(Ct({},j),n?{width:Math.max(j.x-n.x,0),height:y}:{})}if(o==="right"){var A={x:u+h+b,y:d+y/2,textAnchor:E,verticalAnchor:"middle"};return Ct(Ct({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:y}:{})}var C=n?{width:h,height:y}:{};return o==="insideLeft"?Ct({x:u+b,y:d+y/2,textAnchor:E,verticalAnchor:"middle"},C):o==="insideRight"?Ct({x:u+h-b,y:d+y/2,textAnchor:k,verticalAnchor:"middle"},C):o==="insideTop"?Ct({x:u+h/2,y:d+m,textAnchor:"middle",verticalAnchor:_},C):o==="insideBottom"?Ct({x:u+h/2,y:d+y-m,textAnchor:"middle",verticalAnchor:v},C):o==="insideTopLeft"?Ct({x:u+b,y:d+m,textAnchor:E,verticalAnchor:_},C):o==="insideTopRight"?Ct({x:u+h-b,y:d+m,textAnchor:k,verticalAnchor:_},C):o==="insideBottomLeft"?Ct({x:u+b,y:d+y-m,textAnchor:E,verticalAnchor:v},C):o==="insideBottomRight"?Ct({x:u+h-b,y:d+y-m,textAnchor:k,verticalAnchor:v},C):os(o)&&(he(o.x)||ma(o.x))&&(he(o.y)||ma(o.y))?Ct({x:u+Oa(o.x,h),y:d+Oa(o.y,y),textAnchor:"end",verticalAnchor:"end"},C):Ct({x:u+h/2,y:d+y/2,textAnchor:"middle",verticalAnchor:"middle"},C)},lW=function(e){return"cx"in e&&he(e.cx)};function tr(t){var e=t.offset,r=e===void 0?5:e,n=QF(t,VF),i=Ct({offset:r},n),o=i.viewBox,l=i.position,u=i.value,d=i.children,h=i.content,y=i.className,p=y===void 0?"":y,m=i.textBreakAll;if(!o||Le(u)&&Le(d)&&!M.isValidElement(h)&&!Ne(h))return null;if(M.isValidElement(h))return M.cloneElement(h,i);var v;if(Ne(h)){if(v=M.createElement(h,i),M.isValidElement(v))return v}else v=nW(i);var _=lW(o),w=Me(i,!0);if(_&&(l==="insideStart"||l==="insideEnd"||l==="end"))return aW(i,v,w);var b=_?oW(i):sW(i);return F.createElement(pd,Kl({className:Be("recharts-label",p)},w,b,{breakAll:m}),v)}tr.displayName="Label";var jP=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,l=e.endAngle,u=e.r,d=e.radius,h=e.innerRadius,y=e.outerRadius,p=e.x,m=e.y,v=e.top,_=e.left,w=e.width,b=e.height,k=e.clockWise,E=e.labelViewBox;if(E)return E;if(he(w)&&he(b)){if(he(p)&&he(m))return{x:p,y:m,width:w,height:b};if(he(v)&&he(_))return{x:v,y:_,width:w,height:b}}return he(p)&&he(m)?{x:p,y:m,width:0,height:0}:he(r)&&he(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:l||i||0,innerRadius:h||0,outerRadius:y||d||u||0,clockWise:k}:e.viewBox?e.viewBox:{}},uW=function(e,r){return e?e===!0?F.createElement(tr,{key:"label-implicit",viewBox:r}):Nt(e)?F.createElement(tr,{key:"label-implicit",viewBox:r,value:e}):M.isValidElement(e)?e.type===tr?M.cloneElement(e,{key:"label-implicit",viewBox:r}):F.createElement(tr,{key:"label-implicit",content:e,viewBox:r}):Ne(e)?F.createElement(tr,{key:"label-implicit",content:e,viewBox:r}):os(e)?F.createElement(tr,Kl({viewBox:r},e,{key:"label-implicit"})):null:null},cW=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=jP(e),l=Gr(i,tr).map(function(d,h){return M.cloneElement(d,{viewBox:r||o,key:"label-".concat(h)})});if(!n)return l;var u=uW(e.label,r||o);return[u].concat(KF(l))};tr.parseViewBox=jP;tr.renderCallByParent=cW;var dv,QE;function dW(){if(QE)return dv;QE=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return dv=t,dv}var fW=dW();const hW=Ze(fW);function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}var pW=["valueAccessor"],yW=["data","dataKey","clockWise","id","textBreakAll"];function gW(t){return bW(t)||xW(t)||vW(t)||mW()}function mW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vW(t,e){if(t){if(typeof t=="string")return z0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z0(t,e)}}function xW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bW(t){if(Array.isArray(t))return z0(t)}function z0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Id(){return Id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Id.apply(this,arguments)}function ZE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function e2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(r),!0).forEach(function(n){wW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wW(t,e,r){return e=_W(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _W(t){var e=SW(t,"string");return Gl(e)=="symbol"?e:e+""}function SW(t,e){if(Gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t2(t,e){if(t==null)return{};var r=jW(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kW=function(e){return Array.isArray(e.value)?hW(e.value):e.value};function ti(t){var e=t.valueAccessor,r=e===void 0?kW:e,n=t2(t,pW),i=n.data,o=n.dataKey,l=n.clockWise,u=n.id,d=n.textBreakAll,h=t2(n,yW);return!i||!i.length?null:F.createElement(nt,{className:"recharts-label-list"},i.map(function(y,p){var m=Le(o)?r(y,p):lr(y&&y.payload,o),v=Le(u)?{}:{id:"".concat(u,"-").concat(p)};return F.createElement(tr,Id({},Me(y,!0),h,v,{parentViewBox:y.parentViewBox,value:m,textBreakAll:d,viewBox:tr.parseViewBox(Le(l)?y:e2(e2({},y),{},{clockWise:l})),key:"label-".concat(p),index:p}))}))}ti.displayName="LabelList";function OW(t,e){return t?t===!0?F.createElement(ti,{key:"labelList-implicit",data:e}):F.isValidElement(t)||Ne(t)?F.createElement(ti,{key:"labelList-implicit",data:e,content:t}):os(t)?F.createElement(ti,Id({data:e},t,{key:"labelList-implicit"})):null:null}function EW(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Gr(n,ti).map(function(l,u){return M.cloneElement(l,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var o=OW(t.label,e);return[o].concat(gW(i))}ti.renderCallByParent=EW;function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B0.apply(this,arguments)}function r2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function n2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(r),!0).forEach(function(n){AW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AW(t,e,r){return e=TW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TW(t){var e=CW(t,"string");return Yl(e)=="symbol"?e:e+""}function CW(t,e){if(Yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PW=function(e,r){var n=pn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Vc=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,l=e.sign,u=e.isExternal,d=e.cornerRadius,h=e.cornerIsExternal,y=d*(u?1:-1)+i,p=Math.asin(d/y)/Pd,m=h?o:o+l*p,v=Kt(r,n,y,m),_=Kt(r,n,i,m),w=h?o-l*p:o,b=Kt(r,n,y*Math.cos(p*Pd),w);return{center:v,circleTangency:_,lineTangency:b,theta:p}},kP=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,l=e.startAngle,u=e.endAngle,d=PW(l,u),h=l+d,y=Kt(r,n,o,l),p=Kt(r,n,o,h),m="M ".concat(y.x,",").concat(y.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>h),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var v=Kt(r,n,i,l),_=Kt(r,n,i,h);m+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=h),`,
            `).concat(v.x,",").concat(v.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},IW=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,l=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,h=e.startAngle,y=e.endAngle,p=pn(y-h),m=Vc({cx:r,cy:n,radius:o,angle:h,sign:p,cornerRadius:l,cornerIsExternal:d}),v=m.circleTangency,_=m.lineTangency,w=m.theta,b=Vc({cx:r,cy:n,radius:o,angle:y,sign:-p,cornerRadius:l,cornerIsExternal:d}),k=b.circleTangency,E=b.lineTangency,O=b.theta,T=d?Math.abs(h-y):Math.abs(h-y)-w-O;if(T<0)return u?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):kP({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:h,endAngle:y});var j="M ".concat(_.x,",").concat(_.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(p<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var A=Vc({cx:r,cy:n,radius:i,angle:h,sign:p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),C=A.circleTangency,I=A.lineTangency,R=A.theta,H=Vc({cx:r,cy:n,radius:i,angle:y,sign:-p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),z=H.circleTangency,N=H.lineTangency,q=H.theta,U=d?Math.abs(h-y):Math.abs(h-y)-R-q;if(U<0&&l===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(N.x,",").concat(N.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(p>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},NW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},OP=function(e){var r=n2(n2({},NW),e),n=r.cx,i=r.cy,o=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,h=r.cornerIsExternal,y=r.startAngle,p=r.endAngle,m=r.className;if(l<o||y===p)return null;var v=Be("recharts-sector",m),_=l-o,w=Oa(u,_,0,!0),b;return w>0&&Math.abs(y-p)<360?b=IW({cx:n,cy:i,innerRadius:o,outerRadius:l,cornerRadius:Math.min(w,_/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:y,endAngle:p}):b=kP({cx:n,cy:i,innerRadius:o,outerRadius:l,startAngle:y,endAngle:p}),F.createElement("path",B0({},Me(r,!0),{className:v,d:b,role:"img"}))};function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q0.apply(this,arguments)}function i2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function a2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i2(Object(r),!0).forEach(function(n){RW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RW(t,e,r){return e=MW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MW(t){var e=$W(t,"string");return Xl(e)=="symbol"?e:e+""}function $W(t,e){if(Xl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o2={curveBasisClosed:t6,curveBasisOpen:r6,curveBasis:e6,curveBumpX:B3,curveBumpY:q3,curveLinearClosed:n6,curveLinear:yf,curveMonotoneX:i6,curveMonotoneY:a6,curveNatural:o6,curveStep:s6,curveStepAfter:u6,curveStepBefore:l6},Kc=function(e){return e.x===+e.x&&e.y===+e.y},nl=function(e){return e.x},il=function(e){return e.y},DW=function(e,r){if(Ne(e))return e;var n="curve".concat(hf(e));return(n==="curveMonotone"||n==="curveBump")&&r?o2["".concat(n).concat(r==="vertical"?"Y":"X")]:o2[n]||yf},LW=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,l=e.baseLine,u=e.layout,d=e.connectNulls,h=d===void 0?!1:d,y=DW(n,u),p=h?o.filter(function(w){return Kc(w)}):o,m;if(Array.isArray(l)){var v=h?l.filter(function(w){return Kc(w)}):l,_=p.map(function(w,b){return a2(a2({},w),{},{base:v[b]})});return u==="vertical"?m=Lc().y(il).x1(nl).x0(function(w){return w.base.x}):m=Lc().x(nl).y1(il).y0(function(w){return w.base.y}),m.defined(Kc).curve(y),m(_)}return u==="vertical"&&he(l)?m=Lc().y(il).x1(nl).x0(l):he(l)?m=Lc().x(nl).y1(il).y0(l):m=PT().x(nl).y(il),m.defined(Kc).curve(y),m(p)},Po=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var l=n&&n.length?LW(e):i;return M.createElement("path",q0({},Me(e,!1),rd(e),{className:Be("recharts-curve",r),d:l,ref:o}))},fv={exports:{}},hv,s2;function zW(){if(s2)return hv;s2=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hv=t,hv}var pv,l2;function BW(){if(l2)return pv;l2=1;var t=zW();function e(){}function r(){}return r.resetWarningCache=e,pv=function(){function n(l,u,d,h,y,p){if(p!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},pv}var u2;function qW(){return u2||(u2=1,fv.exports=BW()()),fv.exports}var UW=qW();const Ve=Ze(UW),{getOwnPropertyNames:FW,getOwnPropertySymbols:WW}=Object,{hasOwnProperty:HW}=Object.prototype;function yv(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function Gc(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:o}=i,l=o.get(r),u=o.get(n);if(l&&u)return l===n&&u===r;o.set(r,n),o.set(n,r);const d=t(r,n,i);return o.delete(r),o.delete(n),d}}function VW(t){return t?.[Symbol.toStringTag]}function c2(t){return FW(t).concat(WW(t))}const KW=Object.hasOwn||((t,e)=>HW.call(t,e));function Ra(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const GW="__v",YW="__o",XW="_owner",{getOwnPropertyDescriptor:d2,keys:f2}=Object;function JW(t,e){return t.byteLength===e.byteLength&&Nd(new Uint8Array(t),new Uint8Array(e))}function QW(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function ZW(t,e){return t.byteLength===e.byteLength&&Nd(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function e7(t,e){return Ra(t.getTime(),e.getTime())}function t7(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function r7(t,e){return t===e}function h2(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),o=t.entries();let l,u,d=0;for(;(l=o.next())&&!l.done;){const h=e.entries();let y=!1,p=0;for(;(u=h.next())&&!u.done;){if(i[p]){p++;continue}const m=l.value,v=u.value;if(r.equals(m[0],v[0],d,p,t,e,r)&&r.equals(m[1],v[1],m[0],v[0],t,e,r)){y=i[p]=!0;break}p++}if(!y)return!1;d++}return!0}const n7=Ra;function i7(t,e,r){const n=f2(t);let i=n.length;if(f2(e).length!==i)return!1;for(;i-- >0;)if(!EP(t,e,r,n[i]))return!1;return!0}function al(t,e,r){const n=c2(t);let i=n.length;if(c2(e).length!==i)return!1;let o,l,u;for(;i-- >0;)if(o=n[i],!EP(t,e,r,o)||(l=d2(t,o),u=d2(e,o),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function a7(t,e){return Ra(t.valueOf(),e.valueOf())}function o7(t,e){return t.source===e.source&&t.flags===e.flags}function p2(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),o=t.values();let l,u;for(;(l=o.next())&&!l.done;){const d=e.values();let h=!1,y=0;for(;(u=d.next())&&!u.done;){if(!i[y]&&r.equals(l.value,u.value,l.value,u.value,t,e,r)){h=i[y]=!0;break}y++}if(!h)return!1}return!0}function Nd(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function s7(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function EP(t,e,r,n){return(n===XW||n===YW||n===GW)&&(t.$$typeof||e.$$typeof)?!0:KW(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const l7="[object ArrayBuffer]",u7="[object Arguments]",c7="[object Boolean]",d7="[object DataView]",f7="[object Date]",h7="[object Error]",p7="[object Map]",y7="[object Number]",g7="[object Object]",m7="[object RegExp]",v7="[object Set]",x7="[object String]",b7={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},w7="[object URL]",_7=Object.prototype.toString;function S7({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:h,areRegExpsEqual:y,areSetsEqual:p,areTypedArraysEqual:m,areUrlsEqual:v,unknownTagComparators:_}){return function(b,k,E){if(b===k)return!0;if(b==null||k==null)return!1;const O=typeof b;if(O!==typeof k)return!1;if(O!=="object")return O==="number"?u(b,k,E):O==="function"?o(b,k,E):!1;const T=b.constructor;if(T!==k.constructor)return!1;if(T===Object)return d(b,k,E);if(Array.isArray(b))return e(b,k,E);if(T===Date)return n(b,k,E);if(T===RegExp)return y(b,k,E);if(T===Map)return l(b,k,E);if(T===Set)return p(b,k,E);const j=_7.call(b);if(j===f7)return n(b,k,E);if(j===m7)return y(b,k,E);if(j===p7)return l(b,k,E);if(j===v7)return p(b,k,E);if(j===g7)return typeof b.then!="function"&&typeof k.then!="function"&&d(b,k,E);if(j===w7)return v(b,k,E);if(j===h7)return i(b,k,E);if(j===u7)return d(b,k,E);if(b7[j])return m(b,k,E);if(j===l7)return t(b,k,E);if(j===d7)return r(b,k,E);if(j===c7||j===y7||j===x7)return h(b,k,E);if(_){let A=_[j];if(!A){const C=VW(b);C&&(A=_[C])}if(A)return A(b,k,E)}return!1}}function j7({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:JW,areArraysEqual:r?al:QW,areDataViewsEqual:ZW,areDatesEqual:e7,areErrorsEqual:t7,areFunctionsEqual:r7,areMapsEqual:r?yv(h2,al):h2,areNumbersEqual:n7,areObjectsEqual:r?al:i7,arePrimitiveWrappersEqual:a7,areRegExpsEqual:o7,areSetsEqual:r?yv(p2,al):p2,areTypedArraysEqual:r?yv(Nd,al):Nd,areUrlsEqual:s7,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=Gc(n.areArraysEqual),o=Gc(n.areMapsEqual),l=Gc(n.areObjectsEqual),u=Gc(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return n}function k7(t){return function(e,r,n,i,o,l,u){return t(e,r,u)}}function O7({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(u,d){const{cache:h=t?new WeakMap:void 0,meta:y}=r();return e(u,d,{cache:h,equals:n,meta:y,strict:i})};if(t)return function(u,d){return e(u,d,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const o={cache:void 0,equals:n,meta:void 0,strict:i};return function(u,d){return e(u,d,o)}}const E7=Vi();Vi({strict:!0});Vi({circular:!0});Vi({circular:!0,strict:!0});Vi({createInternalComparator:()=>Ra});Vi({strict:!0,createInternalComparator:()=>Ra});Vi({circular:!0,createInternalComparator:()=>Ra});Vi({circular:!0,createInternalComparator:()=>Ra,strict:!0});function Vi(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,o=j7(t),l=S7(o),u=r?r(l):k7(l);return O7({circular:e,comparator:l,createState:n,equals:u,strict:i})}function A7(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function y2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):A7(i)};requestAnimationFrame(n)}function U0(t){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0(t)}function T7(t){return N7(t)||I7(t)||P7(t)||C7()}function C7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P7(t,e){if(t){if(typeof t=="string")return g2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g2(t,e)}}function g2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function I7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N7(t){if(Array.isArray(t))return t}function R7(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,u=T7(l),d=u[0],h=u.slice(1);if(typeof d=="number"){y2(i.bind(null,h),d);return}i(d),y2(i.bind(null,h));return}U0(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function m2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(r),!0).forEach(function(n){AP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AP(t,e,r){return e=M7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M7(t){var e=$7(t,"string");return Jl(e)==="symbol"?e:String(e)}function $7(t,e){if(Jl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D7=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},L7=function(e){return e},z7=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ml=function(e,r){return Object.keys(r).reduce(function(n,i){return v2(v2({},n),{},AP({},i,e(i,r[i])))},{})},x2=function(e,r,n){return e.map(function(i){return"".concat(z7(i)," ").concat(r,"ms ").concat(n)}).join(",")};function B7(t,e){return F7(t)||U7(t,e)||TP(t,e)||q7()}function q7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U7(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function F7(t){if(Array.isArray(t))return t}function W7(t){return K7(t)||V7(t)||TP(t)||H7()}function H7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TP(t,e){if(t){if(typeof t=="string")return F0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F0(t,e)}}function V7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K7(t){if(Array.isArray(t))return F0(t)}function F0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Rd=1e-4,CP=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},PP=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},b2=function(e,r){return function(n){var i=CP(e,r);return PP(i,n)}},G7=function(e,r){return function(n){var i=CP(e,r),o=[].concat(W7(i.map(function(l,u){return l*u}).slice(1)),[0]);return PP(o,n)}},w2=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,l=1,u=1;break;case"ease":i=.25,o=.1,l=.25,u=1;break;case"ease-in":i=.42,o=0,l=1,u=1;break;case"ease-out":i=.42,o=0,l=.58,u=1;break;case"ease-in-out":i=0,o=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),y=B7(h,4);i=y[0],o=y[1],l=y[2],u=y[3]}}}var p=b2(i,l),m=b2(o,u),v=G7(i,l),_=function(k){return k>1?1:k<0?0:k},w=function(k){for(var E=k>1?1:k,O=E,T=0;T<8;++T){var j=p(O)-E,A=v(O);if(Math.abs(j-E)<Rd||A<Rd)return m(O);O=_(O-j/A)}return m(O)};return w.isStepper=!1,w},Y7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,l=e.dt,u=l===void 0?17:l,d=function(y,p,m){var v=-(y-p)*n,_=m*o,w=m+(v-_)*u/1e3,b=m*u/1e3+y;return Math.abs(b-p)<Rd&&Math.abs(w)<Rd?[p,0]:[b,w]};return d.isStepper=!0,d.dt=u,d},X7=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return w2(i);case"spring":return Y7();default:if(i.split("(")[0]==="cubic-bezier")return w2(i)}return typeof i=="function"?i:null};function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function _2(t){return Z7(t)||Q7(t)||IP(t)||J7()}function J7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Z7(t){if(Array.isArray(t))return H0(t)}function S2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ht(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(r),!0).forEach(function(n){W0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W0(t,e,r){return e=e9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e9(t){var e=t9(t,"string");return Ql(e)==="symbol"?e:String(e)}function t9(t,e){if(Ql(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ql(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r9(t,e){return a9(t)||i9(t,e)||IP(t,e)||n9()}function n9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IP(t,e){if(t){if(typeof t=="string")return H0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H0(t,e)}}function H0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function a9(t){if(Array.isArray(t))return t}var Md=function(e,r,n){return e+(r-e)*n},V0=function(e){var r=e.from,n=e.to;return r!==n},o9=function t(e,r,n){var i=ml(function(o,l){if(V0(l)){var u=e(l.from,l.to,l.velocity),d=r9(u,2),h=d[0],y=d[1];return Ht(Ht({},l),{},{from:h,velocity:y})}return l},r);return n<1?ml(function(o,l){return V0(l)?Ht(Ht({},l),{},{velocity:Md(l.velocity,i[o].velocity,n),from:Md(l.from,i[o].from,n)}):l},r):t(e,i,n-1)};const s9=(function(t,e,r,n,i){var o=D7(t,e),l=o.reduce(function(b,k){return Ht(Ht({},b),{},W0({},k,[t[k],e[k]]))},{}),u=o.reduce(function(b,k){return Ht(Ht({},b),{},W0({},k,{from:t[k],velocity:0,to:e[k]}))},{}),d=-1,h,y,p=function(){return null},m=function(){return ml(function(k,E){return E.from},u)},v=function(){return!Object.values(u).filter(V0).length},_=function(k){h||(h=k);var E=k-h,O=E/r.dt;u=o9(r,u,O),i(Ht(Ht(Ht({},t),e),m())),h=k,v()||(d=requestAnimationFrame(p))},w=function(k){y||(y=k);var E=(k-y)/n,O=ml(function(j,A){return Md.apply(void 0,_2(A).concat([r(E)]))},l);if(i(Ht(Ht(Ht({},t),e),O)),E<1)d=requestAnimationFrame(p);else{var T=ml(function(j,A){return Md.apply(void 0,_2(A).concat([r(1)]))},l);i(Ht(Ht(Ht({},t),e),T))}};return p=r.isStepper?_:w,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(d)}}});function Wo(t){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(t)}var l9=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function u9(t,e){if(t==null)return{};var r=c9(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function c9(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function gv(t){return p9(t)||h9(t)||f9(t)||d9()}function d9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f9(t,e){if(t){if(typeof t=="string")return K0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K0(t,e)}}function h9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function p9(t){if(Array.isArray(t))return K0(t)}function K0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function j2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(r),!0).forEach(function(n){dl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dl(t,e,r){return e=NP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NP(n.key),n)}}function m9(t,e,r){return e&&g9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NP(t){var e=v9(t,"string");return Wo(e)==="symbol"?e:String(e)}function v9(t,e){if(Wo(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G0(t,e)}function G0(t,e){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},G0(t,e)}function b9(t){var e=w9();return function(){var n=$d(t),i;if(e){var o=$d(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Y0(this,i)}}function Y0(t,e){if(e&&(Wo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X0(t)}function X0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $d(t){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$d(t)}var Pn=(function(t){x9(r,t);var e=b9(r);function r(n,i){var o;y9(this,r),o=e.call(this,n,i);var l=o.props,u=l.isActive,d=l.attributeName,h=l.from,y=l.to,p=l.steps,m=l.children,v=l.duration;if(o.handleStyleChange=o.handleStyleChange.bind(X0(o)),o.changeStyle=o.changeStyle.bind(X0(o)),!u||v<=0)return o.state={style:{}},typeof m=="function"&&(o.state={style:y}),Y0(o);if(p&&p.length)o.state={style:p[0].style};else if(h){if(typeof m=="function")return o.state={style:h},Y0(o);o.state={style:d?dl({},d,h):h}}else o.state={style:{}};return o}return m9(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,l=i.canBegin;this.mounted=!0,!(!o||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,l=o.isActive,u=o.canBegin,d=o.attributeName,h=o.shouldReAnimate,y=o.to,p=o.from,m=this.state.style;if(u){if(!l){var v={style:d?dl({},d,y):y};this.state&&m&&(d&&m[d]!==y||!d&&m!==y)&&this.setState(v);return}if(!(E7(i.to,y)&&i.canBegin&&i.isActive)){var _=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=_||h?p:i.to;if(this.state&&m){var b={style:d?dl({},d,w):w};(d&&m[d]!==w||!d&&m!==w)&&this.setState(b)}this.runAnimation(sn(sn({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,l=i.from,u=i.to,d=i.duration,h=i.easing,y=i.begin,p=i.onAnimationEnd,m=i.onAnimationStart,v=s9(l,u,X7(h),d,this.changeStyle),_=function(){o.stopJSAnimation=v()};this.manager.start([m,y,_,d,p])}},{key:"runStepAnimation",value:function(i){var o=this,l=i.steps,u=i.begin,d=i.onAnimationStart,h=l[0],y=h.style,p=h.duration,m=p===void 0?0:p,v=function(w,b,k){if(k===0)return w;var E=b.duration,O=b.easing,T=O===void 0?"ease":O,j=b.style,A=b.properties,C=b.onAnimationEnd,I=k>0?l[k-1]:b,R=A||Object.keys(j);if(typeof T=="function"||T==="spring")return[].concat(gv(w),[o.runJSAnimation.bind(o,{from:I.style,to:j,duration:E,easing:T}),E]);var H=x2(R,E,T),z=sn(sn(sn({},I.style),j),{},{transition:H});return[].concat(gv(w),[z,E,C]).filter(L7)};return this.manager.start([d].concat(gv(l.reduce(v,[y,Math.max(m,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=R7());var o=i.begin,l=i.duration,u=i.attributeName,d=i.to,h=i.easing,y=i.onAnimationStart,p=i.onAnimationEnd,m=i.steps,v=i.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof h=="function"||typeof v=="function"||h==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var w=u?dl({},u,d):d,b=x2(Object.keys(w),l,h);_.start([y,o,sn(sn({},w),{},{transition:b}),l,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=u9(i,l9),h=M.Children.count(o),y=this.state.style;if(typeof o=="function")return o(y);if(!u||h===0||l<=0)return o;var p=function(v){var _=v.props,w=_.style,b=w===void 0?{}:w,k=_.className,E=M.cloneElement(v,sn(sn({},d),{},{style:sn(sn({},b),y),className:k}));return E};return h===1?p(M.Children.only(o)):F.createElement("div",null,M.Children.map(o,function(m){return p(m)}))}}]),r})(M.PureComponent);Pn.displayName="Animate";Pn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Pn.propTypes={from:Ve.oneOfType([Ve.object,Ve.string]),to:Ve.oneOfType([Ve.object,Ve.string]),attributeName:Ve.string,duration:Ve.number,begin:Ve.number,easing:Ve.oneOfType([Ve.string,Ve.func]),steps:Ve.arrayOf(Ve.shape({duration:Ve.number.isRequired,style:Ve.object.isRequired,easing:Ve.oneOfType([Ve.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ve.func]),properties:Ve.arrayOf("string"),onAnimationEnd:Ve.func})),children:Ve.oneOfType([Ve.node,Ve.func]),isActive:Ve.bool,canBegin:Ve.bool,onAnimationEnd:Ve.func,shouldReAnimate:Ve.bool,onAnimationStart:Ve.func,onAnimationReStart:Ve.func};function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function Dd(){return Dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dd.apply(this,arguments)}function _9(t,e){return O9(t)||k9(t,e)||j9(t,e)||S9()}function S9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j9(t,e){if(t){if(typeof t=="string")return k2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k2(t,e)}}function k2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function O9(t){if(Array.isArray(t))return t}function O2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function E2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(r),!0).forEach(function(n){E9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E9(t,e,r){return e=A9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A9(t){var e=T9(t,"string");return Zl(e)=="symbol"?e:e+""}function T9(t,e){if(Zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A2=function(e,r,n,i,o){var l=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,d=n>=0?1:-1,h=i>=0&&n>=0||i<0&&n<0?1:0,y;if(l>0&&o instanceof Array){for(var p=[0,0,0,0],m=0,v=4;m<v;m++)p[m]=o[m]>l?l:o[m];y="M".concat(e,",").concat(r+u*p[0]),p[0]>0&&(y+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(h,",").concat(e+d*p[0],",").concat(r)),y+="L ".concat(e+n-d*p[1],",").concat(r),p[1]>0&&(y+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(r+u*p[1])),y+="L ".concat(e+n,",").concat(r+i-u*p[2]),p[2]>0&&(y+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(h,`,
        `).concat(e+n-d*p[2],",").concat(r+i)),y+="L ".concat(e+d*p[3],",").concat(r+i),p[3]>0&&(y+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(r+i-u*p[3])),y+="Z"}else if(l>0&&o===+o&&o>0){var _=Math.min(l,o);y="M ".concat(e,",").concat(r+u*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e+d*_,",").concat(r,`
            L `).concat(e+n-d*_,",").concat(r,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e+n,",").concat(r+u*_,`
            L `).concat(e+n,",").concat(r+i-u*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e+n-d*_,",").concat(r+i,`
            L `).concat(e+d*_,",").concat(r+i,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e,",").concat(r+i-u*_," Z")}else y="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return y},C9=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var h=Math.min(o,o+u),y=Math.max(o,o+u),p=Math.min(l,l+d),m=Math.max(l,l+d);return n>=h&&n<=y&&i>=p&&i<=m}return!1},P9={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wb=function(e){var r=E2(E2({},P9),e),n=M.useRef(),i=M.useState(-1),o=_9(i,2),l=o[0],u=o[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&u(T)}catch{}},[]);var d=r.x,h=r.y,y=r.width,p=r.height,m=r.radius,v=r.className,_=r.animationEasing,w=r.animationDuration,b=r.animationBegin,k=r.isAnimationActive,E=r.isUpdateAnimationActive;if(d!==+d||h!==+h||y!==+y||p!==+p||y===0||p===0)return null;var O=Be("recharts-rectangle",v);return E?F.createElement(Pn,{canBegin:l>0,from:{width:y,height:p,x:d,y:h},to:{width:y,height:p,x:d,y:h},duration:w,animationEasing:_,isActive:E},function(T){var j=T.width,A=T.height,C=T.x,I=T.y;return F.createElement(Pn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:k,easing:_},F.createElement("path",Dd({},Me(r,!0),{className:O,d:A2(C,I,j,A,m),ref:n})))}):F.createElement("path",Dd({},Me(r,!0),{className:O,d:A2(d,h,y,p,m)}))};function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J0.apply(this,arguments)}var Tf=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,l=Be("recharts-dot",o);return r===+r&&n===+n&&i===+i?M.createElement("circle",J0({},Me(e,!1),rd(e),{className:l,cx:r,cy:n,r:i})):null};function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}var I9=["x","y","top","left","width","height","className"];function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q0.apply(this,arguments)}function T2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(r),!0).forEach(function(n){R9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R9(t,e,r){return e=M9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M9(t){var e=$9(t,"string");return eu(e)=="symbol"?e:e+""}function $9(t,e){if(eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D9(t,e){if(t==null)return{};var r=L9(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function L9(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var z9=function(e,r,n,i,o,l){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(l,",").concat(r,"h").concat(n)},B9=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,l=e.top,u=l===void 0?0:l,d=e.left,h=d===void 0?0:d,y=e.width,p=y===void 0?0:y,m=e.height,v=m===void 0?0:m,_=e.className,w=D9(e,I9),b=N9({x:n,y:o,top:u,left:h,width:p,height:v},w);return!he(n)||!he(o)||!he(p)||!he(v)||!he(u)||!he(h)?null:F.createElement("path",Q0({},Me(b,!0),{className:Be("recharts-cross",_),d:z9(n,o,p,v,u,h)}))},mv,C2;function q9(){if(C2)return mv;C2=1;var t=eC(),e=t(Object.getPrototypeOf,Object);return mv=e,mv}var vv,P2;function U9(){if(P2)return vv;P2=1;var t=li(),e=q9(),r=ui(),n="[object Object]",i=Function.prototype,o=Object.prototype,l=i.toString,u=o.hasOwnProperty,d=l.call(Object);function h(y){if(!r(y)||t(y)!=n)return!1;var p=e(y);if(p===null)return!0;var m=u.call(p,"constructor")&&p.constructor;return typeof m=="function"&&m instanceof m&&l.call(m)==d}return vv=h,vv}var F9=U9();const W9=Ze(F9);var xv,I2;function H9(){if(I2)return xv;I2=1;var t=li(),e=ui(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return xv=n,xv}var V9=H9();const K9=Ze(V9);function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function Ld(){return Ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ld.apply(this,arguments)}function G9(t,e){return Q9(t)||J9(t,e)||X9(t,e)||Y9()}function Y9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X9(t,e){if(t){if(typeof t=="string")return N2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N2(t,e)}}function N2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function J9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function Q9(t){if(Array.isArray(t))return t}function R2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function M2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(r),!0).forEach(function(n){Z9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z9(t,e,r){return e=eH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eH(t){var e=tH(t,"string");return tu(e)=="symbol"?e:e+""}function tH(t,e){if(tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $2=function(e,r,n,i,o){var l=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-l/2,",").concat(r+o),u+="L ".concat(e+n-l/2-i,",").concat(r+o),u+="L ".concat(e,",").concat(r," Z"),u},rH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nH=function(e){var r=M2(M2({},rH),e),n=M.useRef(),i=M.useState(-1),o=G9(i,2),l=o[0],u=o[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&u(O)}catch{}},[]);var d=r.x,h=r.y,y=r.upperWidth,p=r.lowerWidth,m=r.height,v=r.className,_=r.animationEasing,w=r.animationDuration,b=r.animationBegin,k=r.isUpdateAnimationActive;if(d!==+d||h!==+h||y!==+y||p!==+p||m!==+m||y===0&&p===0||m===0)return null;var E=Be("recharts-trapezoid",v);return k?F.createElement(Pn,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:m,x:d,y:h},to:{upperWidth:y,lowerWidth:p,height:m,x:d,y:h},duration:w,animationEasing:_,isActive:k},function(O){var T=O.upperWidth,j=O.lowerWidth,A=O.height,C=O.x,I=O.y;return F.createElement(Pn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:_},F.createElement("path",Ld({},Me(r,!0),{className:E,d:$2(C,I,T,j,A),ref:n})))}):F.createElement("g",null,F.createElement("path",Ld({},Me(r,!0),{className:E,d:$2(d,h,y,p,m)})))},iH=["option","shapeType","propTransformer","activeClassName","isActive"];function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function aH(t,e){if(t==null)return{};var r=oH(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function D2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(r),!0).forEach(function(n){sH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sH(t,e,r){return e=lH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lH(t){var e=uH(t,"string");return ru(e)=="symbol"?e:e+""}function uH(t,e){if(ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cH(t,e){return zd(zd({},e),t)}function dH(t,e){return t==="symbols"}function L2(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return F.createElement(wb,r);case"trapezoid":return F.createElement(nH,r);case"sector":return F.createElement(OP,r);case"symbols":if(dH(e))return F.createElement(Bx,r);break;default:return null}}function fH(t){return M.isValidElement(t)?t.props:t}function hH(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?cH:n,o=t.activeClassName,l=o===void 0?"recharts-active-shape":o,u=t.isActive,d=aH(t,iH),h;if(M.isValidElement(e))h=M.cloneElement(e,zd(zd({},d),fH(e)));else if(Ne(e))h=e(d);else if(W9(e)&&!K9(e)){var y=i(e,d);h=F.createElement(L2,{shapeType:r,elementProps:y})}else{var p=d;h=F.createElement(L2,{shapeType:r,elementProps:p})}return u?F.createElement(nt,{className:l},h):h}function Cf(t,e){return e!=null&&"trapezoids"in t.props}function Pf(t,e){return e!=null&&"sectors"in t.props}function nu(t,e){return e!=null&&"points"in t.props}function pH(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function yH(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function gH(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function mH(t,e){var r;return Cf(t,e)?r=pH:Pf(t,e)?r=yH:nu(t,e)&&(r=gH),r}function vH(t,e){var r;return Cf(t,e)?r="trapezoids":Pf(t,e)?r="sectors":nu(t,e)&&(r="points"),r}function xH(t,e){if(Cf(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Pf(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return nu(t,e)?e.payload:{}}function bH(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=vH(r,e),o=xH(r,e),l=n.filter(function(d,h){var y=Uo(o,d),p=r.props[i].filter(function(_){var w=mH(r,e);return w(_,e)}),m=r.props[i].indexOf(p[p.length-1]),v=h===m;return y&&v}),u=n.indexOf(l[l.length-1]);return u}var bv,z2;function wH(){if(z2)return bv;z2=1;var t=Math.ceil,e=Math.max;function r(n,i,o,l){for(var u=-1,d=e(t((i-n)/(o||1)),0),h=Array(d);d--;)h[l?d:++u]=n,n+=o;return h}return bv=r,bv}var wv,B2;function RP(){if(B2)return wv;B2=1;var t=gC(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*r}return i===i?i:0}return wv=n,wv}var _v,q2;function _H(){if(q2)return _v;q2=1;var t=wH(),e=xf(),r=RP();function n(i){return function(o,l,u){return u&&typeof u!="number"&&e(o,l,u)&&(l=u=void 0),o=r(o),l===void 0?(l=o,o=0):l=r(l),u=u===void 0?o<l?1:-1:r(u),t(o,l,u,i)}}return _v=n,_v}var Sv,U2;function SH(){if(U2)return Sv;U2=1;var t=_H(),e=t();return Sv=e,Sv}var jH=SH();const Bd=Ze(jH);function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function F2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function W2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(r),!0).forEach(function(n){MP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MP(t,e,r){return e=kH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kH(t){var e=OH(t,"string");return iu(e)=="symbol"?e:e+""}function OH(t,e){if(iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EH=["Webkit","Moz","O","ms"],AH=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=EH.reduce(function(o,l){return W2(W2({},o),{},MP({},l+n,r))},{});return i[e]=r,i};function Ho(t){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(t)}function qd(){return qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qd.apply(this,arguments)}function H2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(r),!0).forEach(function(n){Tr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DP(n.key),n)}}function CH(t,e,r){return e&&V2(t.prototype,e),r&&V2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PH(t,e,r){return e=Ud(e),IH(t,$P()?Reflect.construct(e,r||[],Ud(t).constructor):e.apply(t,r))}function IH(t,e){if(e&&(Ho(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NH(t)}function NH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $P(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($P=function(){return!!t})()}function Ud(t){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ud(t)}function RH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z0(t,e)}function Z0(t,e){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z0(t,e)}function Tr(t,e,r){return e=DP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DP(t){var e=MH(t,"string");return Ho(e)=="symbol"?e:e+""}function MH(t,e){if(Ho(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $H=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,l=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=yl().domain(Bd(0,d)).range([o,o+l-u]),y=h.domain().map(function(p){return h(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(i),scale:h,scaleValues:y}},K2=function(e){return e.changedTouches&&!!e.changedTouches.length},Vo=(function(t){function e(r){var n;return TH(this,e),n=PH(this,e,[r]),Tr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Tr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Tr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,l=i.onDragEnd,u=i.startIndex;l?.({endIndex:o,startIndex:u})}),n.detachDragEndListener()}),Tr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Tr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Tr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Tr(n,"handleSlideDragStart",function(i){var o=K2(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return RH(e,t),CH(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,l=this.state.scaleValues,u=this.props,d=u.gap,h=u.data,y=h.length-1,p=Math.min(i,o),m=Math.max(i,o),v=e.getIndexInRange(l,p),_=e.getIndexInRange(l,m);return{startIndex:v-v%d,endIndex:_===y?y:_-_%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,l=i.tickFormatter,u=i.dataKey,d=lr(o[n],u,n);return Ne(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,l=i.startX,u=i.endX,d=this.props,h=d.x,y=d.width,p=d.travellerWidth,m=d.startIndex,v=d.endIndex,_=d.onChange,w=n.pageX-o;w>0?w=Math.min(w,h+y-p-u,h+y-p-l):w<0&&(w=Math.max(w,h-l,h-u));var b=this.getIndex({startX:l+w,endX:u+w});(b.startIndex!==m||b.endIndex!==v)&&_&&_(b),this.setState({startX:l+w,endX:u+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=K2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,l=i.movingTravellerId,u=i.endX,d=i.startX,h=this.state[l],y=this.props,p=y.x,m=y.width,v=y.travellerWidth,_=y.onChange,w=y.gap,b=y.data,k={startX:this.state.startX,endX:this.state.endX},E=n.pageX-o;E>0?E=Math.min(E,p+m-v-h):E<0&&(E=Math.max(E,p-h)),k[l]=h+E;var O=this.getIndex(k),T=O.startIndex,j=O.endIndex,A=function(){var I=b.length-1;return l==="startX"&&(u>d?T%w===0:j%w===0)||u<d&&j===I||l==="endX"&&(u>d?j%w===0:T%w===0)||u>d&&j===I};this.setState(Tr(Tr({},l,h+E),"brushMoveStartX",n.pageX),function(){_&&A()&&_(O)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,l=this.state,u=l.scaleValues,d=l.startX,h=l.endX,y=this.state[i],p=u.indexOf(y);if(p!==-1){var m=p+n;if(!(m===-1||m>=u.length)){var v=u[m];i==="startX"&&v>=h||i==="endX"&&v<=d||this.setState(Tr({},i,v),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.fill,h=n.stroke;return F.createElement("rect",{stroke:h,fill:d,x:i,y:o,width:l,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.data,h=n.children,y=n.padding,p=M.Children.only(h);return p?F.cloneElement(p,{x:i,y:o,width:l,height:u,margin:y,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,l,u=this,d=this.props,h=d.y,y=d.travellerWidth,p=d.height,m=d.traveller,v=d.ariaLabel,_=d.data,w=d.startIndex,b=d.endIndex,k=Math.max(n,this.props.x),E=jv(jv({},Me(this.props,!1)),{},{x:k,y:h,width:y,height:p}),O=v||"Min value: ".concat((o=_[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((l=_[b])===null||l===void 0?void 0:l.name);return F.createElement(nt,{tabIndex:0,role:"slider","aria-label":O,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),u.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,E))}},{key:"renderSlide",value:function(n,i){var o=this.props,l=o.y,u=o.height,d=o.stroke,h=o.travellerWidth,y=Math.min(n,i)+h,p=Math.max(Math.abs(i-n)-h,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:y,y:l,width:p,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,l=n.y,u=n.height,d=n.travellerWidth,h=n.stroke,y=this.state,p=y.startX,m=y.endX,v=5,_={pointerEvents:"none",fill:h};return F.createElement(nt,{className:"recharts-brush-texts"},F.createElement(pd,qd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,m)-v,y:l+u/2},_),this.getTextOfTick(i)),F.createElement(pd,qd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,m)+d+v,y:l+u/2},_),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,l=n.children,u=n.x,d=n.y,h=n.width,y=n.height,p=n.alwaysShowText,m=this.state,v=m.startX,_=m.endX,w=m.isTextActive,b=m.isSlideMoving,k=m.isTravellerMoving,E=m.isTravellerFocused;if(!i||!i.length||!he(u)||!he(d)||!he(h)||!he(y)||h<=0||y<=0)return null;var O=Be("recharts-brush",o),T=F.Children.count(l)===1,j=AH("userSelect","none");return F.createElement(nt,{className:O,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(v,_),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(_,"endX"),(w||b||k||E||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,l=n.width,u=n.height,d=n.stroke,h=Math.floor(o+u/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:i,y:o,width:l,height:u,fill:d,stroke:"none"}),F.createElement("line",{x1:i+1,y1:h,x2:i+l-1,y2:h,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:i+1,y1:h+2,x2:i+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return F.isValidElement(n)?o=F.cloneElement(n,i):Ne(n)?o=n(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,l=n.width,u=n.x,d=n.travellerWidth,h=n.updateId,y=n.startIndex,p=n.endIndex;if(o!==i.prevData||h!==i.prevUpdateId)return jv({prevData:o,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:l},o&&o.length?$H({data:o,width:l,x:u,travellerWidth:d,startIndex:y,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||u!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([u,u+l-d]);var m=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:o,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:l,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,l=0,u=o-1;u-l>1;){var d=Math.floor((l+u)/2);n[d]>i?u=d:l=d}return i>=n[u]?u:l}}])})(M.PureComponent);Tr(Vo,"displayName","Brush");Tr(Vo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var kv,G2;function DH(){if(G2)return kv;G2=1;var t=Kx();function e(r,n){var i;return t(r,function(o,l,u){return i=n(o,l,u),!i}),!!i}return kv=e,kv}var Ov,Y2;function LH(){if(Y2)return Ov;Y2=1;var t=KT(),e=Fi(),r=DH(),n=wr(),i=xf();function o(l,u,d){var h=n(l)?t:r;return d&&i(l,u,d)&&(u=void 0),h(l,e(u,3))}return Ov=o,Ov}var zH=LH();const BH=Ze(zH);var Tn=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},Ev,X2;function qH(){if(X2)return Ev;X2=1;var t=dC();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Ev=e,Ev}var Av,J2;function UH(){if(J2)return Av;J2=1;var t=qH(),e=uC(),r=Fi();function n(i,o){var l={};return o=r(o,3),e(i,function(u,d,h){t(l,d,o(u,d,h))}),l}return Av=n,Av}var FH=UH();const WH=Ze(FH);var Tv,Q2;function HH(){if(Q2)return Tv;Q2=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return Tv=t,Tv}var Cv,Z2;function VH(){if(Z2)return Cv;Z2=1;var t=Kx();function e(r,n){var i=!0;return t(r,function(o,l,u){return i=!!n(o,l,u),i}),i}return Cv=e,Cv}var Pv,eA;function KH(){if(eA)return Pv;eA=1;var t=HH(),e=VH(),r=Fi(),n=wr(),i=xf();function o(l,u,d){var h=n(l)?t:e;return d&&i(l,u,d)&&(u=void 0),h(l,r(u,3))}return Pv=o,Pv}var GH=KH();const LP=Ze(GH);var YH=["x","y"];function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function ex(){return ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ex.apply(this,arguments)}function tA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ol(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tA(Object(r),!0).forEach(function(n){XH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XH(t,e,r){return e=JH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JH(t){var e=QH(t,"string");return au(e)=="symbol"?e:e+""}function QH(t,e){if(au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZH(t,e){if(t==null)return{};var r=eV(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tV(t,e){var r=t.x,n=t.y,i=ZH(t,YH),o="".concat(r),l=parseInt(o,10),u="".concat(n),d=parseInt(u,10),h="".concat(e.height||i.height),y=parseInt(h,10),p="".concat(e.width||i.width),m=parseInt(p,10);return ol(ol(ol(ol(ol({},e),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:y,width:m,name:e.name,radius:e.radius})}function rA(t){return F.createElement(hH,ex({shapeType:"rectangle",propTransformer:tV,activeClassName:"recharts-active-bar"},t))}var rV=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var o=he(n)||l3(n);return o?e(n,i):(o||Aa(),r)}},nV=["value","background"],zP;function Ko(t){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko(t)}function iV(t,e){if(t==null)return{};var r=aV(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fd.apply(this,arguments)}function nA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nA(Object(r),!0).forEach(function(n){zi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qP(n.key),n)}}function sV(t,e,r){return e&&iA(t.prototype,e),r&&iA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lV(t,e,r){return e=Wd(e),uV(t,BP()?Reflect.construct(e,r||[],Wd(t).constructor):e.apply(t,r))}function uV(t,e){if(e&&(Ko(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cV(t)}function cV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BP=function(){return!!t})()}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wd(t)}function dV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tx(t,e)}function tx(t,e){return tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tx(t,e)}function zi(t,e,r){return e=qP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qP(t){var e=fV(t,"string");return Ko(e)=="symbol"?e:e+""}function fV(t,e){if(Ko(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wu=(function(t){function e(){var r;oV(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=lV(this,e,[].concat(i)),zi(r,"state",{isAnimationFinished:!1}),zi(r,"id",ls("recharts-bar-")),zi(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),zi(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return dV(e,t),sV(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,l=o.shape,u=o.dataKey,d=o.activeIndex,h=o.activeBar,y=Me(this.props,!1);return n&&n.map(function(p,m){var v=m===d,_=v?h:l,w=jt(jt(jt({},y),p),{},{isActive:v,option:_,index:m,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return F.createElement(nt,Fd({className:"recharts-bar-rectangle"},nd(i.props,p,m),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(m)}),F.createElement(rA,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,l=i.layout,u=i.isAnimationActive,d=i.animationBegin,h=i.animationDuration,y=i.animationEasing,p=i.animationId,m=this.state.prevData;return F.createElement(Pn,{begin:d,duration:h,isActive:u,easing:y,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var _=v.t,w=o.map(function(b,k){var E=m&&m[k];if(E){var O=Vt(E.x,b.x),T=Vt(E.y,b.y),j=Vt(E.width,b.width),A=Vt(E.height,b.height);return jt(jt({},b),{},{x:O(_),y:T(_),width:j(_),height:A(_)})}if(l==="horizontal"){var C=Vt(0,b.height),I=C(_);return jt(jt({},b),{},{y:b.y+b.height-I,height:I})}var R=Vt(0,b.width),H=R(_);return jt(jt({},b),{},{width:H})});return F.createElement(nt,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,l=this.state.prevData;return o&&i&&i.length&&(!l||!Uo(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,l=i.dataKey,u=i.activeIndex,d=Me(this.props.background,!1);return o.map(function(h,y){h.value;var p=h.background,m=iV(h,nV);if(!p)return null;var v=jt(jt(jt(jt(jt({},m),{},{fill:"#eee"},p),d),nd(n.props,h,y)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:y,className:"recharts-bar-background-rectangle"});return F.createElement(rA,Fd({key:"background-bar-".concat(y),option:n.props.background,isActive:y===u},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.data,u=o.xAxis,d=o.yAxis,h=o.layout,y=o.children,p=Gr(y,bu);if(!p)return null;var m=h==="vertical"?l[0].height/2:l[0].width/2,v=function(b,k){var E=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:E,errorVal:lr(b,k)}},_={clipPath:n?"url(#clipPath-".concat(i,")"):null};return F.createElement(nt,_,p.map(function(w){return F.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:l,xAxis:u,yAxis:d,layout:h,offset:m,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,l=n.className,u=n.xAxis,d=n.yAxis,h=n.left,y=n.top,p=n.width,m=n.height,v=n.isAnimationActive,_=n.background,w=n.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,k=Be("recharts-bar",l),E=u&&u.allowDataOverflow,O=d&&d.allowDataOverflow,T=E||O,j=Le(w)?this.id:w;return F.createElement(nt,{className:k},E||O?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(j)},F.createElement("rect",{x:E?h:h-p/2,y:O?y:y-m/2,width:E?p:p*2,height:O?m:m*2}))):null,F.createElement(nt,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(j,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,j),(!v||b)&&ti.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(M.PureComponent);zP=wu;zi(wu,"displayName","Bar");zi(wu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Pa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});zi(wu,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,l=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,h=t.stackedData,y=t.dataStartIndex,p=t.displayedData,m=t.offset,v=EF(n,r);if(!v)return null;var _=e.layout,w=r.type.defaultProps,b=w!==void 0?jt(jt({},w),r.props):r.props,k=b.dataKey,E=b.children,O=b.minPointSize,T=_==="horizontal"?l:o,j=h?T.scale.domain():null,A=MF({numericAxis:T}),C=Gr(E,vC),I=p.map(function(R,H){var z,N,q,U,V,X;h?z=AF(h[y+H],j):(z=lr(R,k),Array.isArray(z)||(z=[A,z]));var ee=rV(O,zP.defaultProps.minPointSize)(z[1],H);if(_==="horizontal"){var K,te=[l.scale(z[0]),l.scale(z[1])],J=te[0],D=te[1];N=WE({axis:o,ticks:u,bandSize:i,offset:v.offset,entry:R,index:H}),q=(K=D??J)!==null&&K!==void 0?K:void 0,U=v.size;var L=J-D;if(V=Number.isNaN(L)?0:L,X={x:N,y:l.y,width:U,height:l.height},Math.abs(ee)>0&&Math.abs(V)<Math.abs(ee)){var oe=pn(V||ee)*(Math.abs(ee)-Math.abs(V));q-=oe,V+=oe}}else{var fe=[o.scale(z[0]),o.scale(z[1])],pe=fe[0],_e=fe[1];if(N=pe,q=WE({axis:l,ticks:d,bandSize:i,offset:v.offset,entry:R,index:H}),U=_e-pe,V=v.size,X={x:o.x,y:q,width:o.width,height:V},Math.abs(ee)>0&&Math.abs(U)<Math.abs(ee)){var Re=pn(U||ee)*(Math.abs(ee)-Math.abs(U));U+=Re}}return jt(jt(jt({},R),{},{x:N,y:q,width:U,height:V,value:h?z:z[1],payload:R,background:X},C&&C[H]&&C[H].props),{},{tooltipPayload:[SP(r,R)],tooltipPosition:{x:N+U/2,y:q+V/2}})});return jt({data:I,layout:_},m)});function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function hV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UP(n.key),n)}}function pV(t,e,r){return e&&aA(t.prototype,e),r&&aA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(r),!0).forEach(function(n){If(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function If(t,e,r){return e=UP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UP(t){var e=yV(t,"string");return ou(e)=="symbol"?e:e+""}function yV(t,e){if(ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gV=function(e,r,n,i,o){var l=e.width,u=e.height,d=e.layout,h=e.children,y=Object.keys(r),p={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},m=!!Cr(h,wu);return y.reduce(function(v,_){var w=r[_],b=w.orientation,k=w.domain,E=w.padding,O=E===void 0?{}:E,T=w.mirror,j=w.reversed,A="".concat(b).concat(T?"Mirror":""),C,I,R,H,z;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var N=k[1]-k[0],q=1/0,U=w.categoricalDomain.sort(d3);if(U.forEach(function(fe,pe){pe>0&&(q=Math.min((fe||0)-(U[pe-1]||0),q))}),Number.isFinite(q)){var V=q/N,X=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(C=V*X/2),w.padding==="no-gap"){var ee=Oa(e.barCategoryGap,V*X),K=V*X/2;C=K-ee-(K-ee)/X*ee}}}i==="xAxis"?I=[n.left+(O.left||0)+(C||0),n.left+n.width-(O.right||0)-(C||0)]:i==="yAxis"?I=d==="horizontal"?[n.top+n.height-(O.bottom||0),n.top+(O.top||0)]:[n.top+(O.top||0)+(C||0),n.top+n.height-(O.bottom||0)-(C||0)]:I=w.range,j&&(I=[I[1],I[0]]);var te=kF(w,o,m),J=te.scale,D=te.realScaleType;J.domain(k).range(I),OF(J);var L=RF(J,dn(dn({},w),{},{realScaleType:D}));i==="xAxis"?(z=b==="top"&&!T||b==="bottom"&&T,R=n.left,H=p[A]-z*w.height):i==="yAxis"&&(z=b==="left"&&!T||b==="right"&&T,R=p[A]-z*w.width,H=n.top);var oe=dn(dn(dn({},w),L),{},{realScaleType:D,x:R,y:H,scale:J,width:i==="xAxis"?n.width:w.width,height:i==="yAxis"?n.height:w.height});return oe.bandSize=Cd(oe,L),!w.hide&&i==="xAxis"?p[A]+=(z?-1:1)*oe.height:w.hide||(p[A]+=(z?-1:1)*oe.width),dn(dn({},v),{},If({},_,oe))},{})},FP=function(e,r){var n=e.x,i=e.y,o=r.x,l=r.y;return{x:Math.min(n,o),y:Math.min(i,l),width:Math.abs(o-n),height:Math.abs(l-i)}},mV=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return FP({x:r,y:n},{x:i,y:o})},WP=(function(){function t(e){hV(this,t),this.scale=e}return pV(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();If(WP,"EPS",1e-4);var _b=function(e){var r=Object.keys(e).reduce(function(n,i){return dn(dn({},n),{},If({},i,WP.create(e[i])))},{});return dn(dn({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.bandAware,u=o.position;return WH(i,function(d,h){return r[h].apply(d,{bandAware:l,position:u})})},isInRange:function(i){return LP(i,function(o,l){return r[l].isInRange(o)})}})};function vV(t){return(t%180+180)%180}var xV=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=vV(i),l=o*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},Iv,sA;function bV(){if(sA)return Iv;sA=1;var t=Fi(),e=yu(),r=mf();function n(i){return function(o,l,u){var d=Object(o);if(!e(o)){var h=t(l,3);o=r(o),l=function(p){return h(d[p],p,d)}}var y=i(o,l,u);return y>-1?d[h?o[y]:y]:void 0}}return Iv=n,Iv}var Nv,lA;function wV(){if(lA)return Nv;lA=1;var t=RP();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Nv=e,Nv}var Rv,uA;function _V(){if(uA)return Rv;uA=1;var t=iC(),e=Fi(),r=wV(),n=Math.max;function i(o,l,u){var d=o==null?0:o.length;if(!d)return-1;var h=u==null?0:r(u);return h<0&&(h=n(d+h,0)),t(o,e(l,3),h)}return Rv=i,Rv}var Mv,cA;function SV(){if(cA)return Mv;cA=1;var t=bV(),e=_V(),r=t(e);return Mv=r,Mv}var jV=SV();const kV=Ze(jV);var OV=xT();const EV=Ze(OV);var AV=EV(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Sb=M.createContext(void 0),jb=M.createContext(void 0),HP=M.createContext(void 0),VP=M.createContext({}),KP=M.createContext(void 0),GP=M.createContext(0),YP=M.createContext(0),dA=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,l=e.clipPathId,u=e.children,d=e.width,h=e.height,y=AV(o);return F.createElement(Sb.Provider,{value:n},F.createElement(jb.Provider,{value:i},F.createElement(VP.Provider,{value:o},F.createElement(HP.Provider,{value:y},F.createElement(KP.Provider,{value:l},F.createElement(GP.Provider,{value:h},F.createElement(YP.Provider,{value:d},u)))))))},TV=function(){return M.useContext(KP)},XP=function(e){var r=M.useContext(Sb);r==null&&Aa();var n=r[e];return n==null&&Aa(),n},CV=function(){var e=M.useContext(Sb);return Di(e)},PV=function(){var e=M.useContext(jb),r=kV(e,function(n){return LP(n.domain,Number.isFinite)});return r||Di(e)},JP=function(e){var r=M.useContext(jb);r==null&&Aa();var n=r[e];return n==null&&Aa(),n},IV=function(){var e=M.useContext(HP);return e},NV=function(){return M.useContext(VP)},kb=function(){return M.useContext(YP)},Ob=function(){return M.useContext(GP)};function Go(t){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Go(t)}function RV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZP(n.key),n)}}function $V(t,e,r){return e&&MV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DV(t,e,r){return e=Hd(e),LV(t,QP()?Reflect.construct(e,r||[],Hd(t).constructor):e.apply(t,r))}function LV(t,e){if(e&&(Go(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zV(t)}function zV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QP=function(){return!!t})()}function Hd(t){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hd(t)}function BV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rx(t,e)}function rx(t,e){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rx(t,e)}function fA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fA(Object(r),!0).forEach(function(n){Eb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eb(t,e,r){return e=ZP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZP(t){var e=qV(t,"string");return Go(e)=="symbol"?e:e+""}function qV(t,e){if(Go(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function UV(t,e){return VV(t)||HV(t,e)||WV(t,e)||FV()}function FV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WV(t,e){if(t){if(typeof t=="string")return pA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pA(t,e)}}function pA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HV(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function VV(t){if(Array.isArray(t))return t}function nx(){return nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nx.apply(this,arguments)}var KV=function(e,r){var n;return F.isValidElement(e)?n=F.cloneElement(e,r):Ne(e)?n=e(r):n=F.createElement("line",nx({},r,{className:"recharts-reference-line-line"})),n},GV=function(e,r,n,i,o,l,u,d,h){var y=o.x,p=o.y,m=o.width,v=o.height;if(n){var _=h.y,w=e.y.apply(_,{position:l});if(Tn(h,"discard")&&!e.y.isInRange(w))return null;var b=[{x:y+m,y:w},{x:y,y:w}];return d==="left"?b.reverse():b}if(r){var k=h.x,E=e.x.apply(k,{position:l});if(Tn(h,"discard")&&!e.x.isInRange(E))return null;var O=[{x:E,y:p+v},{x:E,y:p}];return u==="top"?O.reverse():O}if(i){var T=h.segment,j=T.map(function(A){return e.apply(A,{position:l})});return Tn(h,"discard")&&BH(j,function(A){return!e.isInRange(A)})?null:j}return null};function YV(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,o=t.yAxisId,l=t.shape,u=t.className,d=t.alwaysShow,h=TV(),y=XP(i),p=JP(o),m=IV();if(!h||!m)return null;Zn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=_b({x:y.scale,y:p.scale}),_=Nt(e),w=Nt(r),b=n&&n.length===2,k=GV(v,_,w,b,m,t.position,y.orientation,p.orientation,t);if(!k)return null;var E=UV(k,2),O=E[0],T=O.x,j=O.y,A=E[1],C=A.x,I=A.y,R=Tn(t,"hidden")?"url(#".concat(h,")"):void 0,H=hA(hA({clipPath:R},Me(t,!0)),{},{x1:T,y1:j,x2:C,y2:I});return F.createElement(nt,{className:Be("recharts-reference-line",u)},KV(l,H),tr.renderCallByParent(t,mV({x1:T,y1:j,x2:C,y2:I})))}var Ab=(function(t){function e(){return RV(this,e),DV(this,e,arguments)}return BV(e,t),$V(e,[{key:"render",value:function(){return F.createElement(YV,this.props)}}])})(F.Component);Eb(Ab,"displayName","ReferenceLine");Eb(Ab,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ix.apply(this,arguments)}function Yo(t){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(t)}function yA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yA(Object(r),!0).forEach(function(n){Nf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tI(n.key),n)}}function QV(t,e,r){return e&&JV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZV(t,e,r){return e=Vd(e),eK(t,eI()?Reflect.construct(e,r||[],Vd(t).constructor):e.apply(t,r))}function eK(t,e){if(e&&(Yo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tK(t)}function tK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eI=function(){return!!t})()}function Vd(t){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vd(t)}function rK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ax(t,e)}function ax(t,e){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ax(t,e)}function Nf(t,e,r){return e=tI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tI(t){var e=nK(t,"string");return Yo(e)=="symbol"?e:e+""}function nK(t,e){if(Yo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iK=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,l=_b({x:i.scale,y:o.scale}),u=l.apply({x:r,y:n},{bandAware:!0});return Tn(e,"discard")&&!l.isInRange(u)?null:u},Rf=(function(t){function e(){return XV(this,e),ZV(this,e,arguments)}return rK(e,t),QV(e,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,l=n.r,u=n.alwaysShow,d=n.clipPathId,h=Nt(i),y=Nt(o);if(Zn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!y)return null;var p=iK(this.props);if(!p)return null;var m=p.x,v=p.y,_=this.props,w=_.shape,b=_.className,k=Tn(this.props,"hidden")?"url(#".concat(d,")"):void 0,E=gA(gA({clipPath:k},Me(this.props,!0)),{},{cx:m,cy:v});return F.createElement(nt,{className:Be("recharts-reference-dot",b)},e.renderDot(w,E),tr.renderCallByParent(this.props,{x:m-l,y:v-l,width:2*l,height:2*l}))}}])})(F.Component);Nf(Rf,"displayName","ReferenceDot");Nf(Rf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Nf(Rf,"renderDot",function(t,e){var r;return F.isValidElement(t)?r=F.cloneElement(t,e):Ne(t)?r=t(e):r=F.createElement(Tf,ix({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ox.apply(this,arguments)}function Xo(t){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(t)}function mA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mA(Object(r),!0).forEach(function(n){Mf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nI(n.key),n)}}function sK(t,e,r){return e&&oK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lK(t,e,r){return e=Kd(e),uK(t,rI()?Reflect.construct(e,r||[],Kd(t).constructor):e.apply(t,r))}function uK(t,e){if(e&&(Xo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cK(t)}function cK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rI=function(){return!!t})()}function Kd(t){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kd(t)}function dK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sx(t,e)}function sx(t,e){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sx(t,e)}function Mf(t,e,r){return e=nI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nI(t){var e=fK(t,"string");return Xo(e)=="symbol"?e:e+""}function fK(t,e){if(Xo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hK=function(e,r,n,i,o){var l=o.x1,u=o.x2,d=o.y1,h=o.y2,y=o.xAxis,p=o.yAxis;if(!y||!p)return null;var m=_b({x:y.scale,y:p.scale}),v={x:e?m.x.apply(l,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(d,{position:"start"}):m.y.rangeMin},_={x:r?m.x.apply(u,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(h,{position:"end"}):m.y.rangeMax};return Tn(o,"discard")&&(!m.isInRange(v)||!m.isInRange(_))?null:FP(v,_)},$f=(function(t){function e(){return aK(this,e),lK(this,e,arguments)}return dK(e,t),sK(e,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,l=n.y1,u=n.y2,d=n.className,h=n.alwaysShow,y=n.clipPathId;Zn(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Nt(i),m=Nt(o),v=Nt(l),_=Nt(u),w=this.props.shape;if(!p&&!m&&!v&&!_&&!w)return null;var b=hK(p,m,v,_,this.props);if(!b&&!w)return null;var k=Tn(this.props,"hidden")?"url(#".concat(y,")"):void 0;return F.createElement(nt,{className:Be("recharts-reference-area",d)},e.renderRect(w,vA(vA({clipPath:k},Me(this.props,!0)),b)),tr.renderCallByParent(this.props,b))}}])})(F.Component);Mf($f,"displayName","ReferenceArea");Mf($f,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Mf($f,"renderRect",function(t,e){var r;return F.isValidElement(t)?r=F.cloneElement(t,e):Ne(t)?r=t(e):r=F.createElement(wb,ox({},e,{className:"recharts-reference-area-rect"})),r});function iI(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function pK(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return xV(n,r)}function yK(t,e,r){var n=r==="width",i=t.x,o=t.y,l=t.width,u=t.height;return e===1?{start:n?i:o,end:n?i+l:o+u}:{start:n?i+l:o+u,end:n?i:o}}function Gd(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function gK(t,e){return iI(t,e+1)}function mK(t,e,r,n,i){for(var o=(n||[]).slice(),l=e.start,u=e.end,d=0,h=1,y=l,p=function(){var _=n?.[d];if(_===void 0)return{v:iI(n,h)};var w=d,b,k=function(){return b===void 0&&(b=r(_,w)),b},E=_.coordinate,O=d===0||Gd(t,E,k,y,u);O||(d=0,y=l,h+=1),O&&(y=E+t*(k()/2+i),d+=h)},m;h<=o.length;)if(m=p(),m)return m.v;return[]}function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function xA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function er(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xA(Object(r),!0).forEach(function(n){vK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vK(t,e,r){return e=xK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xK(t){var e=bK(t,"string");return su(e)=="symbol"?e:e+""}function bK(t,e){if(su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wK(t,e,r,n,i){for(var o=(n||[]).slice(),l=o.length,u=e.start,d=e.end,h=function(m){var v=o[m],_,w=function(){return _===void 0&&(_=r(v,m)),_};if(m===l-1){var b=t*(v.coordinate+t*w()/2-d);o[m]=v=er(er({},v),{},{tickCoord:b>0?v.coordinate-b*t:v.coordinate})}else o[m]=v=er(er({},v),{},{tickCoord:v.coordinate});var k=Gd(t,v.tickCoord,w,u,d);k&&(d=v.tickCoord-t*(w()/2+i),o[m]=er(er({},v),{},{isShow:!0}))},y=l-1;y>=0;y--)h(y);return o}function _K(t,e,r,n,i,o){var l=(n||[]).slice(),u=l.length,d=e.start,h=e.end;if(o){var y=n[u-1],p=r(y,u-1),m=t*(y.coordinate+t*p/2-h);l[u-1]=y=er(er({},y),{},{tickCoord:m>0?y.coordinate-m*t:y.coordinate});var v=Gd(t,y.tickCoord,function(){return p},d,h);v&&(h=y.tickCoord-t*(p/2+i),l[u-1]=er(er({},y),{},{isShow:!0}))}for(var _=o?u-1:u,w=function(E){var O=l[E],T,j=function(){return T===void 0&&(T=r(O,E)),T};if(E===0){var A=t*(O.coordinate-t*j()/2-d);l[E]=O=er(er({},O),{},{tickCoord:A<0?O.coordinate-A*t:O.coordinate})}else l[E]=O=er(er({},O),{},{tickCoord:O.coordinate});var C=Gd(t,O.tickCoord,j,d,h);C&&(d=O.tickCoord+t*(j()/2+i),l[E]=er(er({},O),{},{isShow:!0}))},b=0;b<_;b++)w(b);return l}function Tb(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,l=t.minTickGap,u=t.orientation,d=t.interval,h=t.tickFormatter,y=t.unit,p=t.angle;if(!i||!i.length||!n)return[];if(he(d)||Pa.isSsr)return gK(i,typeof d=="number"&&he(d)?d:0);var m=[],v=u==="top"||u==="bottom"?"width":"height",_=y&&v==="width"?pl(y,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(O,T){var j=Ne(h)?h(O.value,T):O.value;return v==="width"?pK(pl(j,{fontSize:e,letterSpacing:r}),_,p):pl(j,{fontSize:e,letterSpacing:r})[v]},b=i.length>=2?pn(i[1].coordinate-i[0].coordinate):1,k=yK(o,b,v);return d==="equidistantPreserveStart"?mK(b,k,w,i,l):(d==="preserveStart"||d==="preserveStartEnd"?m=_K(b,k,w,i,l,d==="preserveStartEnd"):m=wK(b,k,w,i,l),m.filter(function(E){return E.isShow}))}var SK=["viewBox"],jK=["viewBox"],kK=["ticks"];function Jo(t){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jo(t)}function So(){return So=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},So.apply(this,arguments)}function bA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(r),!0).forEach(function(n){Cb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $v(t,e){if(t==null)return{};var r=OK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function EK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oI(n.key),n)}}function AK(t,e,r){return e&&wA(t.prototype,e),r&&wA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function TK(t,e,r){return e=Yd(e),CK(t,aI()?Reflect.construct(e,r||[],Yd(t).constructor):e.apply(t,r))}function CK(t,e){if(e&&(Jo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PK(t)}function PK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aI=function(){return!!t})()}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yd(t)}function IK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lx(t,e)}function lx(t,e){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lx(t,e)}function Cb(t,e,r){return e=oI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oI(t){var e=NK(t,"string");return Jo(e)=="symbol"?e:e+""}function NK(t,e){if(Jo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hs=(function(t){function e(r){var n;return EK(this,e),n=TK(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return IK(e,t),AK(e,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,l=$v(n,SK),u=this.props,d=u.viewBox,h=$v(u,jK);return!Ao(o,d)||!Ao(l,h)||!Ao(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,l=i.y,u=i.width,d=i.height,h=i.orientation,y=i.tickSize,p=i.mirror,m=i.tickMargin,v,_,w,b,k,E,O=p?-1:1,T=n.tickSize||y,j=he(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":v=_=n.coordinate,b=l+ +!p*d,w=b-O*T,E=w-O*m,k=j;break;case"left":w=b=n.coordinate,_=o+ +!p*u,v=_-O*T,k=v-O*m,E=j;break;case"right":w=b=n.coordinate,_=o+ +p*u,v=_+O*T,k=v+O*m,E=j;break;default:v=_=n.coordinate,b=l+ +p*d,w=b+O*T,E=w+O*m,k=j;break}return{line:{x1:v,y1:w,x2:_,y2:b},tick:{x:k,y:E}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,l;switch(i){case"left":l=o?"start":"end";break;case"right":l=o?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=o?"start":"end";break;default:l=o?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.orientation,h=n.mirror,y=n.axisLine,p=Tt(Tt(Tt({},Me(this.props,!1)),Me(y,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var m=+(d==="top"&&!h||d==="bottom"&&h);p=Tt(Tt({},p),{},{x1:i,y1:o+m*u,x2:i+l,y2:o+m*u})}else{var v=+(d==="left"&&!h||d==="right"&&h);p=Tt(Tt({},p),{},{x1:i+v*l,y1:o,x2:i+v*l,y2:o+u})}return F.createElement("line",So({},p,{className:Be("recharts-cartesian-axis-line",Kr(y,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var l=this,u=this.props,d=u.tickLine,h=u.stroke,y=u.tick,p=u.tickFormatter,m=u.unit,v=Tb(Tt(Tt({},this.props),{},{ticks:n}),i,o),_=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=Me(this.props,!1),k=Me(y,!1),E=Tt(Tt({},b),{},{fill:"none"},Me(d,!1)),O=v.map(function(T,j){var A=l.getTickLineCoord(T),C=A.line,I=A.tick,R=Tt(Tt(Tt(Tt({textAnchor:_,verticalAnchor:w},b),{},{stroke:"none",fill:h},k),I),{},{index:j,payload:T,visibleTicksCount:v.length,tickFormatter:p});return F.createElement(nt,So({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},nd(l.props,T,j)),d&&F.createElement("line",So({},E,C,{className:Be("recharts-cartesian-axis-tick-line",Kr(d,"className"))})),y&&e.renderTickItem(y,R,"".concat(Ne(p)?p(T.value,j):T.value).concat(m||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},O)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,l=i.width,u=i.height,d=i.ticksGenerator,h=i.className,y=i.hide;if(y)return null;var p=this.props,m=p.ticks,v=$v(p,kK),_=m;return Ne(d)&&(_=m&&m.length>0?d(this.props):d(v)),l<=0||u<=0||!_||!_.length?null:F.createElement(nt,{className:Be("recharts-cartesian-axis",h),ref:function(b){n.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),tr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var l,u=Be(i.className,"recharts-cartesian-axis-tick-value");return F.isValidElement(n)?l=F.cloneElement(n,Tt(Tt({},i),{},{className:u})):Ne(n)?l=n(Tt(Tt({},i),{},{className:u})):l=F.createElement(pd,So({},i,{className:"recharts-cartesian-axis-tick-value"}),o),l}}])})(M.Component);Cb(hs,"displayName","CartesianAxis");Cb(hs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var RK=["x1","y1","x2","y2","key"],MK=["offset"];function Ta(t){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(t)}function _A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_A(Object(r),!0).forEach(function(n){$K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $K(t,e,r){return e=DK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DK(t){var e=LK(t,"string");return Ta(e)=="symbol"?e:e+""}function LK(t,e){if(Ta(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ta(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ba(){return ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ba.apply(this,arguments)}function SA(t,e){if(t==null)return{};var r=zK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var BK=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,o=e.y,l=e.width,u=e.height,d=e.ry;return F.createElement("rect",{x:i,y:o,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function sI(t,e){var r;if(F.isValidElement(t))r=F.cloneElement(t,e);else if(Ne(t))r=t(e);else{var n=e.x1,i=e.y1,o=e.x2,l=e.y2,u=e.key,d=SA(e,RK),h=Me(d,!1);h.offset;var y=SA(h,MK);r=F.createElement("line",ba({},y,{x1:n,y1:i,x2:o,y2:l,fill:"none",key:u}))}return r}function qK(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(u,d){var h=rr(rr({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(d),index:d});return sI(i,h)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function UK(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,o=t.verticalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(u,d){var h=rr(rr({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(d),index:d});return sI(i,h)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function FK(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,o=t.width,l=t.height,u=t.horizontalPoints,d=t.horizontal,h=d===void 0?!0:d;if(!h||!e||!e.length)return null;var y=u.map(function(m){return Math.round(m+i-i)}).sort(function(m,v){return m-v});i!==y[0]&&y.unshift(0);var p=y.map(function(m,v){var _=!y[v+1],w=_?i+l-m:y[v+1]-m;if(w<=0)return null;var b=v%e.length;return F.createElement("rect",{key:"react-".concat(v),y:m,x:n,height:w,width:o,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function WK(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,o=t.x,l=t.y,u=t.width,d=t.height,h=t.verticalPoints;if(!r||!n||!n.length)return null;var y=h.map(function(m){return Math.round(m+o-o)}).sort(function(m,v){return m-v});o!==y[0]&&y.unshift(0);var p=y.map(function(m,v){var _=!y[v+1],w=_?o+u-m:y[v+1]-m;if(w<=0)return null;var b=v%n.length;return F.createElement("rect",{key:"react-".concat(v),x:m,y:l,width:w,height:d,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var HK=function(e,r){var n=e.xAxis,i=e.width,o=e.height,l=e.offset;return wP(Tb(rr(rr(rr({},hs.defaultProps),n),{},{ticks:Xn(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.left,l.left+l.width,r)},VK=function(e,r){var n=e.yAxis,i=e.width,o=e.height,l=e.offset;return wP(Tb(rr(rr(rr({},hs.defaultProps),n),{},{ticks:Xn(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.top,l.top+l.height,r)},po={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function lI(t){var e,r,n,i,o,l,u=kb(),d=Ob(),h=NV(),y=rr(rr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:po.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:po.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:po.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:po.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:po.vertical,verticalFill:(l=t.verticalFill)!==null&&l!==void 0?l:po.verticalFill,x:he(t.x)?t.x:h.left,y:he(t.y)?t.y:h.top,width:he(t.width)?t.width:h.width,height:he(t.height)?t.height:h.height}),p=y.x,m=y.y,v=y.width,_=y.height,w=y.syncWithTicks,b=y.horizontalValues,k=y.verticalValues,E=CV(),O=PV();if(!he(v)||v<=0||!he(_)||_<=0||!he(p)||p!==+p||!he(m)||m!==+m)return null;var T=y.verticalCoordinatesGenerator||HK,j=y.horizontalCoordinatesGenerator||VK,A=y.horizontalPoints,C=y.verticalPoints;if((!A||!A.length)&&Ne(j)){var I=b&&b.length,R=j({yAxis:O?rr(rr({},O),{},{ticks:I?b:O.ticks}):void 0,width:u,height:d,offset:h},I?!0:w);Zn(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ta(R),"]")),Array.isArray(R)&&(A=R)}if((!C||!C.length)&&Ne(T)){var H=k&&k.length,z=T({xAxis:E?rr(rr({},E),{},{ticks:H?k:E.ticks}):void 0,width:u,height:d,offset:h},H?!0:w);Zn(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ta(z),"]")),Array.isArray(z)&&(C=z)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(BK,{fill:y.fill,fillOpacity:y.fillOpacity,x:y.x,y:y.y,width:y.width,height:y.height,ry:y.ry}),F.createElement(qK,ba({},y,{offset:h,horizontalPoints:A,xAxis:E,yAxis:O})),F.createElement(UK,ba({},y,{offset:h,verticalPoints:C,xAxis:E,yAxis:O})),F.createElement(FK,ba({},y,{horizontalPoints:A})),F.createElement(WK,ba({},y,{verticalPoints:C})))}lI.displayName="CartesianGrid";var KK=["type","layout","connectNulls","ref"],GK=["key"];function Qo(t){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qo(t)}function jA(t,e){if(t==null)return{};var r=YK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vl(){return vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vl.apply(this,arguments)}function kA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kA(Object(r),!0).forEach(function(n){fn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yo(t){return ZK(t)||QK(t)||JK(t)||XK()}function XK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JK(t,e){if(t){if(typeof t=="string")return ux(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ux(t,e)}}function QK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZK(t){if(Array.isArray(t))return ux(t)}function ux(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cI(n.key),n)}}function tG(t,e,r){return e&&OA(t.prototype,e),r&&OA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rG(t,e,r){return e=Xd(e),nG(t,uI()?Reflect.construct(e,r||[],Xd(t).constructor):e.apply(t,r))}function nG(t,e){if(e&&(Qo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iG(t)}function iG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uI=function(){return!!t})()}function Xd(t){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xd(t)}function aG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cx(t,e)}function cx(t,e){return cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cx(t,e)}function fn(t,e,r){return e=cI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cI(t){var e=oG(t,"string");return Qo(e)=="symbol"?e:e+""}function oG(t,e){if(Qo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lu=(function(t){function e(){var r;eG(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=rG(this,e,[].concat(i)),fn(r,"state",{isAnimationFinished:!0,totalLength:0}),fn(r,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),fn(r,"getStrokeDasharray",function(l,u,d){var h=d.reduce(function(k,E){return k+E});if(!h)return r.generateSimpleStrokeDasharray(u,l);for(var y=Math.floor(l/h),p=l%h,m=u-l,v=[],_=0,w=0;_<d.length;w+=d[_],++_)if(w+d[_]>p){v=[].concat(yo(d.slice(0,_)),[p-w]);break}var b=v.length%2===0?[0,m]:[m];return[].concat(yo(e.repeat(d,y)),yo(v),b).map(function(k){return"".concat(k,"px")}).join(", ")}),fn(r,"id",ls("recharts-line-")),fn(r,"pathRef",function(l){r.mainCurve=l}),fn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),fn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return aG(e,t),tG(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.points,u=o.xAxis,d=o.yAxis,h=o.layout,y=o.children,p=Gr(y,bu);if(!p)return null;var m=function(w,b){return{x:w.x,y:w.y,value:w.value,errorVal:lr(w.payload,b)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return F.createElement(nt,v,p.map(function(_){return F.cloneElement(_,{key:"bar-".concat(_.props.dataKey),data:l,xAxis:u,yAxis:d,layout:h,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,i,o){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,h=u.points,y=u.dataKey,p=Me(this.props,!1),m=Me(d,!0),v=h.map(function(w,b){var k=Ar(Ar(Ar({key:"dot-".concat(b),r:3},p),m),{},{index:b,cx:w.x,cy:w.y,value:w.value,dataKey:y,payload:w.payload,points:h});return e.renderDotItem(d,k)}),_={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return F.createElement(nt,vl({className:"recharts-line-dots",key:"dots"},_),v)}},{key:"renderCurveStatically",value:function(n,i,o,l){var u=this.props,d=u.type,h=u.layout,y=u.connectNulls;u.ref;var p=jA(u,KK),m=Ar(Ar(Ar({},Me(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:n},l),{},{type:d,layout:h,connectNulls:y});return F.createElement(Po,vl({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var o=this,l=this.props,u=l.points,d=l.strokeDasharray,h=l.isAnimationActive,y=l.animationBegin,p=l.animationDuration,m=l.animationEasing,v=l.animationId,_=l.animateNewValues,w=l.width,b=l.height,k=this.state,E=k.prevPoints,O=k.totalLength;return F.createElement(Pn,{begin:y,duration:p,isActive:h,easing:m,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var j=T.t;if(E){var A=E.length/u.length,C=u.map(function(N,q){var U=Math.floor(q*A);if(E[U]){var V=E[U],X=Vt(V.x,N.x),ee=Vt(V.y,N.y);return Ar(Ar({},N),{},{x:X(j),y:ee(j)})}if(_){var K=Vt(w*2,N.x),te=Vt(b/2,N.y);return Ar(Ar({},N),{},{x:K(j),y:te(j)})}return Ar(Ar({},N),{},{x:N.x,y:N.y})});return o.renderCurveStatically(C,n,i)}var I=Vt(0,O),R=I(j),H;if(d){var z="".concat(d).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});H=o.getStrokeDasharray(R,O,z)}else H=o.generateSimpleStrokeDasharray(O,R);return o.renderCurveStatically(u,n,i,{strokeDasharray:H})})}},{key:"renderCurve",value:function(n,i){var o=this.props,l=o.points,u=o.isAnimationActive,d=this.state,h=d.prevPoints,y=d.totalLength;return u&&l&&l.length&&(!h&&y>0||!Uo(h,l))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(l,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,l=i.dot,u=i.points,d=i.className,h=i.xAxis,y=i.yAxis,p=i.top,m=i.left,v=i.width,_=i.height,w=i.isAnimationActive,b=i.id;if(o||!u||!u.length)return null;var k=this.state.isAnimationFinished,E=u.length===1,O=Be("recharts-line",d),T=h&&h.allowDataOverflow,j=y&&y.allowDataOverflow,A=T||j,C=Le(b)?this.id:b,I=(n=Me(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=I.r,H=R===void 0?3:R,z=I.strokeWidth,N=z===void 0?2:z,q=jT(l)?l:{},U=q.clipDot,V=U===void 0?!0:U,X=H*2+N;return F.createElement(nt,{className:O},T||j?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(C)},F.createElement("rect",{x:T?m:m-v/2,y:j?p:p-_/2,width:T?v:v*2,height:j?_:_*2})),!V&&F.createElement("clipPath",{id:"clipPath-dots-".concat(C)},F.createElement("rect",{x:m-X/2,y:p-X/2,width:v+X,height:_+X}))):null,!E&&this.renderCurve(A,C),this.renderErrorBar(A,C),(E||l)&&this.renderDots(A,V,C),(!w||k)&&ti.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var o=n.length%2!==0?[].concat(yo(n),[0]):n,l=[],u=0;u<i;++u)l=[].concat(yo(l),yo(o));return l}},{key:"renderDotItem",value:function(n,i){var o;if(F.isValidElement(n))o=F.cloneElement(n,i);else if(Ne(n))o=n(i);else{var l=i.key,u=jA(i,GK),d=Be("recharts-line-dot",typeof n!="boolean"?n.className:"");o=F.createElement(Tf,vl({key:l},u,{className:d}))}return o}}])})(M.PureComponent);fn(lu,"displayName","Line");fn(lu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Pa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});fn(lu,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.dataKey,u=t.bandSize,d=t.displayedData,h=t.offset,y=e.layout,p=d.map(function(m,v){var _=lr(m,l);return y==="horizontal"?{x:Td({axis:r,ticks:i,bandSize:u,entry:m,index:v}),y:Le(_)?null:n.scale(_),value:_,payload:m}:{x:Le(_)?null:r.scale(_),y:Td({axis:n,ticks:o,bandSize:u,entry:m,index:v}),value:_,payload:m}});return Ar({points:p,layout:y},h)});var sG=["layout","type","stroke","connectNulls","isRange","ref"],lG=["key"],dI;function Zo(t){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zo(t)}function fI(t,e){if(t==null)return{};var r=uG(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wa(){return wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wa.apply(this,arguments)}function EA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ni(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EA(Object(r),!0).forEach(function(n){On(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pI(n.key),n)}}function dG(t,e,r){return e&&AA(t.prototype,e),r&&AA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fG(t,e,r){return e=Jd(e),hG(t,hI()?Reflect.construct(e,r||[],Jd(t).constructor):e.apply(t,r))}function hG(t,e){if(e&&(Zo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pG(t)}function pG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hI=function(){return!!t})()}function Jd(t){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jd(t)}function yG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dx(t,e)}function dx(t,e){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dx(t,e)}function On(t,e,r){return e=pI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pI(t){var e=gG(t,"string");return Zo(e)=="symbol"?e:e+""}function gG(t,e){if(Zo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oi=(function(t){function e(){var r;cG(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=fG(this,e,[].concat(i)),On(r,"state",{isAnimationFinished:!0}),On(r,"id",ls("recharts-area-")),On(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ne(l)&&l()}),On(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ne(l)&&l()}),r}return yG(e,t),dG(e,[{key:"renderDots",value:function(n,i,o){var l=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(l&&!u)return null;var d=this.props,h=d.dot,y=d.points,p=d.dataKey,m=Me(this.props,!1),v=Me(h,!0),_=y.map(function(b,k){var E=Ni(Ni(Ni({key:"dot-".concat(k),r:3},m),v),{},{index:k,cx:b.x,cy:b.y,dataKey:p,value:b.value,payload:b.payload,points:y});return e.renderDotItem(h,E)}),w={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return F.createElement(nt,wa({className:"recharts-area-dots"},w),_)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,o=i.baseLine,l=i.points,u=i.strokeWidth,d=l[0].x,h=l[l.length-1].x,y=n*Math.abs(d-h),p=Li(l.map(function(m){return m.y||0}));return he(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(Li(o.map(function(m){return m.y||0})),p)),he(p)?F.createElement("rect",{x:d<h?d:d-y,y:0,width:y,height:Math.floor(p+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,o=i.baseLine,l=i.points,u=i.strokeWidth,d=l[0].y,h=l[l.length-1].y,y=n*Math.abs(d-h),p=Li(l.map(function(m){return m.x||0}));return he(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(Li(o.map(function(m){return m.x||0})),p)),he(p)?F.createElement("rect",{x:0,y:d<h?d:d-y,width:p+(u?parseInt("".concat(u),10):1),height:Math.floor(y)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,o,l){var u=this.props,d=u.layout,h=u.type,y=u.stroke,p=u.connectNulls,m=u.isRange;u.ref;var v=fI(u,sG);return F.createElement(nt,{clipPath:o?"url(#clipPath-".concat(l,")"):null},F.createElement(Po,wa({},Me(v,!0),{points:n,connectNulls:p,type:h,baseLine:i,layout:d,stroke:"none",className:"recharts-area-area"})),y!=="none"&&F.createElement(Po,wa({},Me(this.props,!1),{className:"recharts-area-curve",layout:d,type:h,connectNulls:p,fill:"none",points:n})),y!=="none"&&m&&F.createElement(Po,wa({},Me(this.props,!1),{className:"recharts-area-curve",layout:d,type:h,connectNulls:p,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var o=this,l=this.props,u=l.points,d=l.baseLine,h=l.isAnimationActive,y=l.animationBegin,p=l.animationDuration,m=l.animationEasing,v=l.animationId,_=this.state,w=_.prevPoints,b=_.prevBaseLine;return F.createElement(Pn,{begin:y,duration:p,isActive:h,easing:m,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var E=k.t;if(w){var O=w.length/u.length,T=u.map(function(I,R){var H=Math.floor(R*O);if(w[H]){var z=w[H],N=Vt(z.x,I.x),q=Vt(z.y,I.y);return Ni(Ni({},I),{},{x:N(E),y:q(E)})}return I}),j;if(he(d)&&typeof d=="number"){var A=Vt(b,d);j=A(E)}else if(Le(d)||ss(d)){var C=Vt(b,0);j=C(E)}else j=d.map(function(I,R){var H=Math.floor(R*O);if(b[H]){var z=b[H],N=Vt(z.x,I.x),q=Vt(z.y,I.y);return Ni(Ni({},I),{},{x:N(E),y:q(E)})}return I});return o.renderAreaStatically(T,j,n,i)}return F.createElement(nt,null,F.createElement("defs",null,F.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(E))),F.createElement(nt,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(u,d,n,i)))})}},{key:"renderArea",value:function(n,i){var o=this.props,l=o.points,u=o.baseLine,d=o.isAnimationActive,h=this.state,y=h.prevPoints,p=h.prevBaseLine,m=h.totalLength;return d&&l&&l.length&&(!y&&m>0||!Uo(y,l)||!Uo(p,u))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(l,u,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,l=i.dot,u=i.points,d=i.className,h=i.top,y=i.left,p=i.xAxis,m=i.yAxis,v=i.width,_=i.height,w=i.isAnimationActive,b=i.id;if(o||!u||!u.length)return null;var k=this.state.isAnimationFinished,E=u.length===1,O=Be("recharts-area",d),T=p&&p.allowDataOverflow,j=m&&m.allowDataOverflow,A=T||j,C=Le(b)?this.id:b,I=(n=Me(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=I.r,H=R===void 0?3:R,z=I.strokeWidth,N=z===void 0?2:z,q=jT(l)?l:{},U=q.clipDot,V=U===void 0?!0:U,X=H*2+N;return F.createElement(nt,{className:O},T||j?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(C)},F.createElement("rect",{x:T?y:y-v/2,y:j?h:h-_/2,width:T?v:v*2,height:j?_:_*2})),!V&&F.createElement("clipPath",{id:"clipPath-dots-".concat(C)},F.createElement("rect",{x:y-X/2,y:h-X/2,width:v+X,height:_+X}))):null,E?null:this.renderArea(A,C),(l||E)&&this.renderDots(A,V,C),(!w||k)&&ti.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(M.PureComponent);dI=oi;On(oi,"displayName","Area");On(oi,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Pa.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});On(oi,"getBaseValue",function(t,e,r,n){var i=t.layout,o=t.baseValue,l=e.props.baseValue,u=l??o;if(he(u)&&typeof u=="number")return u;var d=i==="horizontal"?n:r,h=d.scale.domain();if(d.type==="number"){var y=Math.max(h[0],h[1]),p=Math.min(h[0],h[1]);return u==="dataMin"?p:u==="dataMax"||y<0?y:Math.max(Math.min(h[0],h[1]),0)}return u==="dataMin"?h[0]:u==="dataMax"?h[1]:h[0]});On(oi,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.bandSize,d=t.dataKey,h=t.stackedData,y=t.dataStartIndex,p=t.displayedData,m=t.offset,v=e.layout,_=h&&h.length,w=dI.getBaseValue(e,r,n,i),b=v==="horizontal",k=!1,E=p.map(function(T,j){var A;_?A=h[y+j]:(A=lr(T,d),Array.isArray(A)?k=!0:A=[w,A]);var C=A[1]==null||_&&lr(T,d)==null;return b?{x:Td({axis:n,ticks:o,bandSize:u,entry:T,index:j}),y:C?null:i.scale(A[1]),value:A,payload:T}:{x:C?null:n.scale(A[1]),y:Td({axis:i,ticks:l,bandSize:u,entry:T,index:j}),value:A,payload:T}}),O;return _||k?O=E.map(function(T){var j=Array.isArray(T.value)?T.value[0]:null;return b?{x:T.x,y:j!=null&&T.y!=null?i.scale(j):null}:{x:j!=null?n.scale(j):null,y:T.y}}):O=b?i.scale(w):n.scale(w),Ni({points:E,baseLine:O,layout:v,isRange:k},m)});On(oi,"renderDotItem",function(t,e){var r;if(F.isValidElement(t))r=F.cloneElement(t,e);else if(Ne(t))r=t(e);else{var n=Be("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=fI(e,lG);r=F.createElement(Tf,wa({},o,{key:i,className:n}))}return r});function es(t){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},es(t)}function mG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mI(n.key),n)}}function xG(t,e,r){return e&&vG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bG(t,e,r){return e=Qd(e),wG(t,yI()?Reflect.construct(e,r||[],Qd(t).constructor):e.apply(t,r))}function wG(t,e){if(e&&(es(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _G(t)}function _G(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yI=function(){return!!t})()}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qd(t)}function SG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fx(t,e)}function fx(t,e){return fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fx(t,e)}function gI(t,e,r){return e=mI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mI(t){var e=jG(t,"string");return es(e)=="symbol"?e:e+""}function jG(t,e){if(es(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hx(){return hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hx.apply(this,arguments)}function kG(t){var e=t.xAxisId,r=kb(),n=Ob(),i=XP(e);return i==null?null:M.createElement(hs,hx({},i,{className:Be("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return Xn(l,!0)}}))}var Df=(function(t){function e(){return mG(this,e),bG(this,e,arguments)}return SG(e,t),xG(e,[{key:"render",value:function(){return M.createElement(kG,this.props)}}])})(M.Component);gI(Df,"displayName","XAxis");gI(Df,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ts(t){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(t)}function OG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bI(n.key),n)}}function AG(t,e,r){return e&&EG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TG(t,e,r){return e=Zd(e),CG(t,vI()?Reflect.construct(e,r||[],Zd(t).constructor):e.apply(t,r))}function CG(t,e){if(e&&(ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PG(t)}function PG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vI=function(){return!!t})()}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zd(t)}function IG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&px(t,e)}function px(t,e){return px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},px(t,e)}function xI(t,e,r){return e=bI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bI(t){var e=NG(t,"string");return ts(e)=="symbol"?e:e+""}function NG(t,e){if(ts(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yx(){return yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yx.apply(this,arguments)}var RG=function(e){var r=e.yAxisId,n=kb(),i=Ob(),o=JP(r);return o==null?null:M.createElement(hs,yx({},o,{className:Be("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return Xn(u,!0)}}))},Lf=(function(t){function e(){return OG(this,e),TG(this,e,arguments)}return IG(e,t),AG(e,[{key:"render",value:function(){return M.createElement(RG,this.props)}}])})(M.Component);xI(Lf,"displayName","YAxis");xI(Lf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function TA(t){return LG(t)||DG(t)||$G(t)||MG()}function MG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $G(t,e){if(t){if(typeof t=="string")return gx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gx(t,e)}}function DG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LG(t){if(Array.isArray(t))return gx(t)}function gx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var mx=function(e,r,n,i,o){var l=Gr(e,Ab),u=Gr(e,Rf),d=[].concat(TA(l),TA(u)),h=Gr(e,$f),y="".concat(i,"Id"),p=i[0],m=r;if(d.length&&(m=d.reduce(function(w,b){if(b.props[y]===n&&Tn(b.props,"extendDomain")&&he(b.props[p])){var k=b.props[p];return[Math.min(w[0],k),Math.max(w[1],k)]}return w},m)),h.length){var v="".concat(p,"1"),_="".concat(p,"2");m=h.reduce(function(w,b){if(b.props[y]===n&&Tn(b.props,"extendDomain")&&he(b.props[v])&&he(b.props[_])){var k=b.props[v],E=b.props[_];return[Math.min(w[0],k,E),Math.max(w[1],k,E)]}return w},m)}return o&&o.length&&(m=o.reduce(function(w,b){return he(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},m)),m},Dv={exports:{}},CA;function zG(){return CA||(CA=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,h,y){this.fn=d,this.context=h,this.once=y||!1}function o(d,h,y,p,m){if(typeof y!="function")throw new TypeError("The listener must be a function");var v=new i(y,p||d,m),_=r?r+h:h;return d._events[_]?d._events[_].fn?d._events[_]=[d._events[_],v]:d._events[_].push(v):(d._events[_]=v,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],y,p;if(this._eventsCount===0)return h;for(p in y=this._events)e.call(y,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(y)):h},u.prototype.listeners=function(h){var y=r?r+h:h,p=this._events[y];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,v=p.length,_=new Array(v);m<v;m++)_[m]=p[m].fn;return _},u.prototype.listenerCount=function(h){var y=r?r+h:h,p=this._events[y];return p?p.fn?1:p.length:0},u.prototype.emit=function(h,y,p,m,v,_){var w=r?r+h:h;if(!this._events[w])return!1;var b=this._events[w],k=arguments.length,E,O;if(b.fn){switch(b.once&&this.removeListener(h,b.fn,void 0,!0),k){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,y),!0;case 3:return b.fn.call(b.context,y,p),!0;case 4:return b.fn.call(b.context,y,p,m),!0;case 5:return b.fn.call(b.context,y,p,m,v),!0;case 6:return b.fn.call(b.context,y,p,m,v,_),!0}for(O=1,E=new Array(k-1);O<k;O++)E[O-1]=arguments[O];b.fn.apply(b.context,E)}else{var T=b.length,j;for(O=0;O<T;O++)switch(b[O].once&&this.removeListener(h,b[O].fn,void 0,!0),k){case 1:b[O].fn.call(b[O].context);break;case 2:b[O].fn.call(b[O].context,y);break;case 3:b[O].fn.call(b[O].context,y,p);break;case 4:b[O].fn.call(b[O].context,y,p,m);break;default:if(!E)for(j=1,E=new Array(k-1);j<k;j++)E[j-1]=arguments[j];b[O].fn.apply(b[O].context,E)}}return!0},u.prototype.on=function(h,y,p){return o(this,h,y,p,!1)},u.prototype.once=function(h,y,p){return o(this,h,y,p,!0)},u.prototype.removeListener=function(h,y,p,m){var v=r?r+h:h;if(!this._events[v])return this;if(!y)return l(this,v),this;var _=this._events[v];if(_.fn)_.fn===y&&(!m||_.once)&&(!p||_.context===p)&&l(this,v);else{for(var w=0,b=[],k=_.length;w<k;w++)(_[w].fn!==y||m&&!_[w].once||p&&_[w].context!==p)&&b.push(_[w]);b.length?this._events[v]=b.length===1?b[0]:b:l(this,v)}return this},u.prototype.removeAllListeners=function(h){var y;return h?(y=r?r+h:h,this._events[y]&&l(this,y)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(Dv)),Dv.exports}var BG=zG();const qG=Ze(BG);var Lv=new qG,zv="recharts.syncMouseEvents";function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function UG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wI(n.key),n)}}function WG(t,e,r){return e&&FG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bv(t,e,r){return e=wI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wI(t){var e=HG(t,"string");return uu(e)=="symbol"?e:e+""}function HG(t,e){if(uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VG=(function(){function t(){UG(this,t),Bv(this,"activeIndex",0),Bv(this,"coordinateList",[]),Bv(this,"layout","horizontal")}return WG(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,l=r.container,u=l===void 0?null:l,d=r.layout,h=d===void 0?null:d,y=r.offset,p=y===void 0?null:y,m=r.mouseHandlerCallback,v=m===void 0?null:m;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=h??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,l=i.y,u=i.height,d=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,y=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=o+d+h,m=l+this.offset.top+u/2+y;this.mouseHandlerCallback({pageX:p,pageY:m})}}}])})();function KG(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&he(n)&&he(i))return!0}return!1}function GG(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function _I(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,l=Kt(e,r,n,i),u=Kt(e,r,n,o);return{points:[l,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function YG(t,e,r){var n,i,o,l;if(t==="horizontal")n=e.x,o=n,i=r.top,l=r.top+r.height;else if(t==="vertical")i=e.y,l=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,h=e.innerRadius,y=e.outerRadius,p=e.angle,m=Kt(u,d,h,p),v=Kt(u,d,y,p);n=m.x,i=m.y,o=v.x,l=v.y}else return _I(e);return[{x:n,y:i},{x:o,y:l}]}function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function PA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PA(Object(r),!0).forEach(function(n){XG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XG(t,e,r){return e=JG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JG(t){var e=QG(t,"string");return cu(e)=="symbol"?e:e+""}function QG(t,e){if(cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZG(t){var e,r,n=t.element,i=t.tooltipEventType,o=t.isActive,l=t.activeCoordinate,u=t.activePayload,d=t.offset,h=t.activeTooltipIndex,y=t.tooltipAxisBandSize,p=t.layout,m=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!o||!l||m!=="ScatterChart"&&i!=="axis")return null;var _,w=Po;if(m==="ScatterChart")_=l,w=B9;else if(m==="BarChart")_=GG(p,l,d,y),w=wb;else if(p==="radial"){var b=_I(l),k=b.cx,E=b.cy,O=b.radius,T=b.startAngle,j=b.endAngle;_={cx:k,cy:E,startAngle:T,endAngle:j,innerRadius:O,outerRadius:O},w=OP}else _={points:YG(p,l,d)},w=Po;var A=Yc(Yc(Yc(Yc({stroke:"#ccc",pointerEvents:"none"},d),_),Me(v,!1)),{},{payload:u,payloadIndex:h,className:Be("recharts-tooltip-cursor",v.className)});return M.isValidElement(v)?M.cloneElement(v,A):M.createElement(w,A)}var eY=["item"],tY=["children","className","width","height","style","compact","title","desc"];function rs(t){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rs(t)}function jo(){return jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jo.apply(this,arguments)}function IA(t,e){return iY(t)||nY(t,e)||jI(t,e)||rY()}function rY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(y){h=!0,i=y}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function iY(t){if(Array.isArray(t))return t}function NA(t,e){if(t==null)return{};var r=aY(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kI(n.key),n)}}function lY(t,e,r){return e&&sY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uY(t,e,r){return e=ef(e),cY(t,SI()?Reflect.construct(e,r||[],ef(t).constructor):e.apply(t,r))}function cY(t,e){if(e&&(rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dY(t)}function dY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SI=function(){return!!t})()}function ef(t){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ef(t)}function fY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vx(t,e)}function vx(t,e){return vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vx(t,e)}function ns(t){return yY(t)||pY(t)||jI(t)||hY()}function hY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jI(t,e){if(t){if(typeof t=="string")return xx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xx(t,e)}}function pY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yY(t){if(Array.isArray(t))return xx(t)}function xx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RA(Object(r),!0).forEach(function(n){Te(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Te(t,e,r){return e=kI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kI(t){var e=gY(t,"string");return rs(e)=="symbol"?e:e+""}function gY(t,e){if(rs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mY={xAxis:["bottom","top"],yAxis:["left","right"]},vY={width:"100%",height:"100%"},OI={x:0,y:0};function Xc(t){return t}var xY=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},bY=function(e,r,n,i){var o=r.find(function(y){return y&&y.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var l=o.coordinate,u=i.radius;return ne(ne(ne({},i),Kt(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}var d=o.coordinate,h=i.angle;return ne(ne(ne({},i),Kt(i.cx,i.cy,d,h)),{},{angle:h,radius:d})}return OI},zf=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,l=(n??[]).reduce(function(u,d){var h=d.props.data;return h&&h.length?[].concat(ns(u),ns(h)):u},[]);return l.length>0?l:e&&e.length&&he(i)&&he(o)?e.slice(i,o+1):[]};function EI(t){return t==="number"?[0,"auto"]:void 0}var bx=function(e,r,n,i){var o=e.graphicalItems,l=e.tooltipAxis,u=zf(r,e);return n<0||!o||!o.length||n>=u.length?null:o.reduce(function(d,h){var y,p=(y=h.props.data)!==null&&y!==void 0?y:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(l.dataKey&&!l.allowDuplicatedCategory){var v=p===void 0?u:p;m=td(v,l.dataKey,i)}else m=p&&p[n]||u[n];return m?[].concat(ns(d),[SP(h,m)]):d},[])},MA=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},l=xY(o,n),u=e.orderedTooltipTicks,d=e.tooltipAxis,h=e.tooltipTicks,y=xF(l,u,h,d);if(y>=0&&h){var p=h[y]&&h[y].value,m=bx(e,r,y,p),v=bY(n,u,y,o);return{activeTooltipIndex:y,activeLabel:p,activePayload:m,activeCoordinate:v}}return null},wY=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,y=e.layout,p=e.children,m=e.stackOffset,v=bP(y,o);return n.reduce(function(_,w){var b,k=w.type.defaultProps!==void 0?ne(ne({},w.type.defaultProps),w.props):w.props,E=k.type,O=k.dataKey,T=k.allowDataOverflow,j=k.allowDuplicatedCategory,A=k.scale,C=k.ticks,I=k.includeHidden,R=k[l];if(_[R])return _;var H=zf(e.data,{graphicalItems:i.filter(function(L){var oe,fe=l in L.props?L.props[l]:(oe=L.type.defaultProps)===null||oe===void 0?void 0:oe[l];return fe===R}),dataStartIndex:d,dataEndIndex:h}),z=H.length,N,q,U;KG(k.domain,T,E)&&(N=D0(k.domain,null,T),v&&(E==="number"||A!=="auto")&&(U=gl(H,O,"category")));var V=EI(E);if(!N||N.length===0){var X,ee=(X=k.domain)!==null&&X!==void 0?X:V;if(O){if(N=gl(H,O,E),E==="category"&&v){var K=c3(N);j&&K?(q=N,N=Bd(0,z)):j||(N=KE(ee,N,w).reduce(function(L,oe){return L.indexOf(oe)>=0?L:[].concat(ns(L),[oe])},[]))}else if(E==="category")j?N=N.filter(function(L){return L!==""&&!Le(L)}):N=KE(ee,N,w).reduce(function(L,oe){return L.indexOf(oe)>=0||oe===""||Le(oe)?L:[].concat(ns(L),[oe])},[]);else if(E==="number"){var te=jF(H,i.filter(function(L){var oe,fe,pe=l in L.props?L.props[l]:(oe=L.type.defaultProps)===null||oe===void 0?void 0:oe[l],_e="hide"in L.props?L.props.hide:(fe=L.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return pe===R&&(I||!_e)}),O,o,y);te&&(N=te)}v&&(E==="number"||A!=="auto")&&(U=gl(H,O,"category"))}else v?N=Bd(0,z):u&&u[R]&&u[R].hasStack&&E==="number"?N=m==="expand"?[0,1]:_P(u[R].stackGroups,d,h):N=xP(H,i.filter(function(L){var oe=l in L.props?L.props[l]:L.type.defaultProps[l],fe="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return oe===R&&(I||!fe)}),E,y,!0);if(E==="number")N=mx(p,N,R,o,C),ee&&(N=D0(ee,N,T));else if(E==="category"&&ee){var J=ee,D=N.every(function(L){return J.indexOf(L)>=0});D&&(N=J)}}return ne(ne({},_),{},Te({},R,ne(ne({},k),{},{axisType:o,domain:N,categoricalDomain:U,duplicateDomain:q,originalDomain:(b=k.domain)!==null&&b!==void 0?b:V,isCategorical:v,layout:y})))},{})},_Y=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,y=e.layout,p=e.children,m=zf(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:h}),v=m.length,_=bP(y,o),w=-1;return n.reduce(function(b,k){var E=k.type.defaultProps!==void 0?ne(ne({},k.type.defaultProps),k.props):k.props,O=E[l],T=EI("number");if(!b[O]){w++;var j;return _?j=Bd(0,v):u&&u[O]&&u[O].hasStack?(j=_P(u[O].stackGroups,d,h),j=mx(p,j,O,o)):(j=D0(T,xP(m,n.filter(function(A){var C,I,R=l in A.props?A.props[l]:(C=A.type.defaultProps)===null||C===void 0?void 0:C[l],H="hide"in A.props?A.props.hide:(I=A.type.defaultProps)===null||I===void 0?void 0:I.hide;return R===O&&!H}),"number",y),i.defaultProps.allowDataOverflow),j=mx(p,j,O,o)),ne(ne({},b),{},Te({},O,ne(ne({axisType:o},i.defaultProps),{},{hide:!0,orientation:Kr(mY,"".concat(o,".").concat(w%2),null),domain:j,originalDomain:T,isCategorical:_,layout:y})))}return b},{})},SY=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,y=e.children,p="".concat(i,"Id"),m=Gr(y,o),v={};return m&&m.length?v=wY(e,{axes:m,graphicalItems:l,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:h}):l&&l.length&&(v=_Y(e,{Axis:o,graphicalItems:l,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:h})),v},jY=function(e){var r=Di(e),n=Xn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Gx(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Cd(r,n)}},$A=function(e){var r=e.children,n=e.defaultShowTooltip,i=Cr(r,Vo),o=0,l=0;return e.data&&e.data.length!==0&&(l=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},kY=function(e){return!e||!e.length?!1:e.some(function(r){var n=Qn(r&&r.type);return n&&n.indexOf("Bar")>=0})},DA=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},OY=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,l=o===void 0?{}:o,u=e.yAxisMap,d=u===void 0?{}:u,h=n.width,y=n.height,p=n.children,m=n.margin||{},v=Cr(p,Vo),_=Cr(p,_a),w=Object.keys(d).reduce(function(j,A){var C=d[A],I=C.orientation;return!C.mirror&&!C.hide?ne(ne({},j),{},Te({},I,j[I]+C.width)):j},{left:m.left||0,right:m.right||0}),b=Object.keys(l).reduce(function(j,A){var C=l[A],I=C.orientation;return!C.mirror&&!C.hide?ne(ne({},j),{},Te({},I,Kr(j,"".concat(I))+C.height)):j},{top:m.top||0,bottom:m.bottom||0}),k=ne(ne({},b),w),E=k.bottom;v&&(k.bottom+=v.props.height||Vo.defaultProps.height),_&&r&&(k=_F(k,i,n,r));var O=h-k.left-k.right,T=y-k.top-k.bottom;return ne(ne({brushBottom:E},k),{},{width:Math.max(O,0),height:Math.max(T,0)})},EY=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},AY=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,l=e.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=e.axisComponents,h=e.legendContent,y=e.formatAxisMap,p=e.defaultProps,m=function(k,E){var O=E.graphicalItems,T=E.stackGroups,j=E.offset,A=E.updateId,C=E.dataStartIndex,I=E.dataEndIndex,R=k.barSize,H=k.layout,z=k.barGap,N=k.barCategoryGap,q=k.maxBarSize,U=DA(H),V=U.numericAxisName,X=U.cateAxisName,ee=kY(O),K=[];return O.forEach(function(te,J){var D=zf(k.data,{graphicalItems:[te],dataStartIndex:C,dataEndIndex:I}),L=te.type.defaultProps!==void 0?ne(ne({},te.type.defaultProps),te.props):te.props,oe=L.dataKey,fe=L.maxBarSize,pe=L["".concat(V,"Id")],_e=L["".concat(X,"Id")],Re={},Se=d.reduce(function(Yt,_r){var di=E["".concat(_r.axisType,"Map")],Ki=L["".concat(_r.axisType,"Id")];di&&di[Ki]||_r.axisType==="zAxis"||Aa();var Gi=di[Ki];return ne(ne({},Yt),{},Te(Te({},_r.axisType,Gi),"".concat(_r.axisType,"Ticks"),Xn(Gi)))},Re),se=Se[X],Q=Se["".concat(X,"Ticks")],ye=T&&T[pe]&&T[pe].hasStack&&$F(te,T[pe].stackGroups),ie=Qn(te.type).indexOf("Bar")>=0,re=Cd(se,Q),ke=[],$e=ee&&bF({barSize:R,stackGroups:T,totalSize:EY(Se,X)});if(ie){var Ke,it,ct=Le(fe)?q:fe,Rr=(Ke=(it=Cd(se,Q,!0))!==null&&it!==void 0?it:ct)!==null&&Ke!==void 0?Ke:0;ke=wF({barGap:z,barCategoryGap:N,bandSize:Rr!==re?Rr:re,sizeList:$e[_e],maxBarSize:ct}),Rr!==re&&(ke=ke.map(function(Yt){return ne(ne({},Yt),{},{position:ne(ne({},Yt.position),{},{offset:Yt.position.offset-Rr/2})})}))}var Gt=te&&te.type&&te.type.getComposedData;Gt&&K.push({props:ne(ne({},Gt(ne(ne({},Se),{},{displayedData:D,props:k,dataKey:oe,item:te,bandSize:re,barPosition:ke,offset:j,stackedData:ye,layout:H,dataStartIndex:C,dataEndIndex:I}))),{},Te(Te(Te({key:te.key||"item-".concat(J)},V,Se[V]),X,Se[X]),"animationId",A)),childIndex:_3(te,k.children),item:te})}),K},v=function(k,E){var O=k.props,T=k.dataStartIndex,j=k.dataEndIndex,A=k.updateId;if(!lj({props:O}))return null;var C=O.children,I=O.layout,R=O.stackOffset,H=O.data,z=O.reverseStackOrder,N=DA(I),q=N.numericAxisName,U=N.cateAxisName,V=Gr(C,n),X=NF(H,V,"".concat(q,"Id"),"".concat(U,"Id"),R,z),ee=d.reduce(function(L,oe){var fe="".concat(oe.axisType,"Map");return ne(ne({},L),{},Te({},fe,SY(O,ne(ne({},oe),{},{graphicalItems:V,stackGroups:oe.axisType===q&&X,dataStartIndex:T,dataEndIndex:j}))))},{}),K=OY(ne(ne({},ee),{},{props:O,graphicalItems:V}),E?.legendBBox);Object.keys(ee).forEach(function(L){ee[L]=y(O,ee[L],K,L.replace("Map",""),r)});var te=ee["".concat(U,"Map")],J=jY(te),D=m(O,ne(ne({},ee),{},{dataStartIndex:T,dataEndIndex:j,updateId:A,graphicalItems:V,stackGroups:X,offset:K}));return ne(ne({formattedGraphicalItems:D,graphicalItems:V,offset:K,stackGroups:X},J),ee)},_=(function(b){function k(E){var O,T,j;return oY(this,k),j=uY(this,k,[E]),Te(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Te(j,"accessibilityManager",new VG),Te(j,"handleLegendBBoxUpdate",function(A){if(A){var C=j.state,I=C.dataStartIndex,R=C.dataEndIndex,H=C.updateId;j.setState(ne({legendBBox:A},v({props:j.props,dataStartIndex:I,dataEndIndex:R,updateId:H},ne(ne({},j.state),{},{legendBBox:A}))))}}),Te(j,"handleReceiveSyncEvent",function(A,C,I){if(j.props.syncId===A){if(I===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(C)}}),Te(j,"handleBrushChange",function(A){var C=A.startIndex,I=A.endIndex;if(C!==j.state.dataStartIndex||I!==j.state.dataEndIndex){var R=j.state.updateId;j.setState(function(){return ne({dataStartIndex:C,dataEndIndex:I},v({props:j.props,dataStartIndex:C,dataEndIndex:I,updateId:R},j.state))}),j.triggerSyncEvent({dataStartIndex:C,dataEndIndex:I})}}),Te(j,"handleMouseEnter",function(A){var C=j.getMouseInfo(A);if(C){var I=ne(ne({},C),{},{isTooltipActive:!0});j.setState(I),j.triggerSyncEvent(I);var R=j.props.onMouseEnter;Ne(R)&&R(I,A)}}),Te(j,"triggeredAfterMouseMove",function(A){var C=j.getMouseInfo(A),I=C?ne(ne({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(I),j.triggerSyncEvent(I);var R=j.props.onMouseMove;Ne(R)&&R(I,A)}),Te(j,"handleItemMouseEnter",function(A){j.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Te(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Te(j,"handleMouseMove",function(A){A.persist(),j.throttleTriggeredAfterMouseMove(A)}),Te(j,"handleMouseLeave",function(A){j.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var I=j.props.onMouseLeave;Ne(I)&&I(C,A)}),Te(j,"handleOuterEvent",function(A){var C=w3(A),I=Kr(j.props,"".concat(C));if(C&&Ne(I)){var R,H;/.*touch.*/i.test(C)?H=j.getMouseInfo(A.changedTouches[0]):H=j.getMouseInfo(A),I((R=H)!==null&&R!==void 0?R:{},A)}}),Te(j,"handleClick",function(A){var C=j.getMouseInfo(A);if(C){var I=ne(ne({},C),{},{isTooltipActive:!0});j.setState(I),j.triggerSyncEvent(I);var R=j.props.onClick;Ne(R)&&R(I,A)}}),Te(j,"handleMouseDown",function(A){var C=j.props.onMouseDown;if(Ne(C)){var I=j.getMouseInfo(A);C(I,A)}}),Te(j,"handleMouseUp",function(A){var C=j.props.onMouseUp;if(Ne(C)){var I=j.getMouseInfo(A);C(I,A)}}),Te(j,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Te(j,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&j.handleMouseDown(A.changedTouches[0])}),Te(j,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&j.handleMouseUp(A.changedTouches[0])}),Te(j,"handleDoubleClick",function(A){var C=j.props.onDoubleClick;if(Ne(C)){var I=j.getMouseInfo(A);C(I,A)}}),Te(j,"handleContextMenu",function(A){var C=j.props.onContextMenu;if(Ne(C)){var I=j.getMouseInfo(A);C(I,A)}}),Te(j,"triggerSyncEvent",function(A){j.props.syncId!==void 0&&Lv.emit(zv,j.props.syncId,A,j.eventEmitterSymbol)}),Te(j,"applySyncEvent",function(A){var C=j.props,I=C.layout,R=C.syncMethod,H=j.state.updateId,z=A.dataStartIndex,N=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)j.setState(ne({dataStartIndex:z,dataEndIndex:N},v({props:j.props,dataStartIndex:z,dataEndIndex:N,updateId:H},j.state)));else if(A.activeTooltipIndex!==void 0){var q=A.chartX,U=A.chartY,V=A.activeTooltipIndex,X=j.state,ee=X.offset,K=X.tooltipTicks;if(!ee)return;if(typeof R=="function")V=R(K,A);else if(R==="value"){V=-1;for(var te=0;te<K.length;te++)if(K[te].value===A.activeLabel){V=te;break}}var J=ne(ne({},ee),{},{x:ee.left,y:ee.top}),D=Math.min(q,J.x+J.width),L=Math.min(U,J.y+J.height),oe=K[V]&&K[V].value,fe=bx(j.state,j.props.data,V),pe=K[V]?{x:I==="horizontal"?K[V].coordinate:D,y:I==="horizontal"?L:K[V].coordinate}:OI;j.setState(ne(ne({},A),{},{activeLabel:oe,activeCoordinate:pe,activePayload:fe,activeTooltipIndex:V}))}else j.setState(A)}),Te(j,"renderCursor",function(A){var C,I=j.state,R=I.isTooltipActive,H=I.activeCoordinate,z=I.activePayload,N=I.offset,q=I.activeTooltipIndex,U=I.tooltipAxisBandSize,V=j.getTooltipEventType(),X=(C=A.props.active)!==null&&C!==void 0?C:R,ee=j.props.layout,K=A.key||"_recharts-cursor";return F.createElement(ZG,{key:K,activeCoordinate:H,activePayload:z,activeTooltipIndex:q,chartName:r,element:A,isActive:X,layout:ee,offset:N,tooltipAxisBandSize:U,tooltipEventType:V})}),Te(j,"renderPolarAxis",function(A,C,I){var R=Kr(A,"type.axisType"),H=Kr(j.state,"".concat(R,"Map")),z=A.type.defaultProps,N=z!==void 0?ne(ne({},z),A.props):A.props,q=H&&H[N["".concat(R,"Id")]];return M.cloneElement(A,ne(ne({},q),{},{className:Be(R,q.className),key:A.key||"".concat(C,"-").concat(I),ticks:Xn(q,!0)}))}),Te(j,"renderPolarGrid",function(A){var C=A.props,I=C.radialLines,R=C.polarAngles,H=C.polarRadius,z=j.state,N=z.radiusAxisMap,q=z.angleAxisMap,U=Di(N),V=Di(q),X=V.cx,ee=V.cy,K=V.innerRadius,te=V.outerRadius;return M.cloneElement(A,{polarAngles:Array.isArray(R)?R:Xn(V,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(H)?H:Xn(U,!0).map(function(J){return J.coordinate}),cx:X,cy:ee,innerRadius:K,outerRadius:te,key:A.key||"polar-grid",radialLines:I})}),Te(j,"renderLegend",function(){var A=j.state.formattedGraphicalItems,C=j.props,I=C.children,R=C.width,H=C.height,z=j.props.margin||{},N=R-(z.left||0)-(z.right||0),q=mP({children:I,formattedGraphicalItems:A,legendWidth:N,legendContent:h});if(!q)return null;var U=q.item,V=NA(q,eY);return M.cloneElement(U,ne(ne({},V),{},{chartWidth:R,chartHeight:H,margin:z,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Te(j,"renderTooltip",function(){var A,C=j.props,I=C.children,R=C.accessibilityLayer,H=Cr(I,jn);if(!H)return null;var z=j.state,N=z.isTooltipActive,q=z.activeCoordinate,U=z.activePayload,V=z.activeLabel,X=z.offset,ee=(A=H.props.active)!==null&&A!==void 0?A:N;return M.cloneElement(H,{viewBox:ne(ne({},X),{},{x:X.left,y:X.top}),active:ee,label:V,payload:ee?U:[],coordinate:q,accessibilityLayer:R})}),Te(j,"renderBrush",function(A){var C=j.props,I=C.margin,R=C.data,H=j.state,z=H.offset,N=H.dataStartIndex,q=H.dataEndIndex,U=H.updateId;return M.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Hc(j.handleBrushChange,A.props.onChange),data:R,x:he(A.props.x)?A.props.x:z.left,y:he(A.props.y)?A.props.y:z.top+z.height+z.brushBottom-(I.bottom||0),width:he(A.props.width)?A.props.width:z.width,startIndex:N,endIndex:q,updateId:"brush-".concat(U)})}),Te(j,"renderReferenceElement",function(A,C,I){if(!A)return null;var R=j,H=R.clipPathId,z=j.state,N=z.xAxisMap,q=z.yAxisMap,U=z.offset,V=A.type.defaultProps||{},X=A.props,ee=X.xAxisId,K=ee===void 0?V.xAxisId:ee,te=X.yAxisId,J=te===void 0?V.yAxisId:te;return M.cloneElement(A,{key:A.key||"".concat(C,"-").concat(I),xAxis:N[K],yAxis:q[J],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:H})}),Te(j,"renderActivePoints",function(A){var C=A.item,I=A.activePoint,R=A.basePoint,H=A.childIndex,z=A.isRange,N=[],q=C.props.key,U=C.item.type.defaultProps!==void 0?ne(ne({},C.item.type.defaultProps),C.item.props):C.item.props,V=U.activeDot,X=U.dataKey,ee=ne(ne({index:H,dataKey:X,cx:I.x,cy:I.y,r:4,fill:bb(C.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Me(V,!1)),rd(V));return N.push(k.renderActiveDot(V,ee,"".concat(q,"-activePoint-").concat(H))),R?N.push(k.renderActiveDot(V,ne(ne({},ee),{},{cx:R.x,cy:R.y}),"".concat(q,"-basePoint-").concat(H))):z&&N.push(null),N}),Te(j,"renderGraphicChild",function(A,C,I){var R=j.filterFormatItem(A,C,I);if(!R)return null;var H=j.getTooltipEventType(),z=j.state,N=z.isTooltipActive,q=z.tooltipAxis,U=z.activeTooltipIndex,V=z.activeLabel,X=j.props.children,ee=Cr(X,jn),K=R.props,te=K.points,J=K.isRange,D=K.baseLine,L=R.item.type.defaultProps!==void 0?ne(ne({},R.item.type.defaultProps),R.item.props):R.item.props,oe=L.activeDot,fe=L.hide,pe=L.activeBar,_e=L.activeShape,Re=!!(!fe&&N&&ee&&(oe||pe||_e)),Se={};H!=="axis"&&ee&&ee.props.trigger==="click"?Se={onClick:Hc(j.handleItemMouseEnter,A.props.onClick)}:H!=="axis"&&(Se={onMouseLeave:Hc(j.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Hc(j.handleItemMouseEnter,A.props.onMouseEnter)});var se=M.cloneElement(A,ne(ne({},R.props),Se));function Q(_r){return typeof q.dataKey=="function"?q.dataKey(_r.payload):null}if(Re)if(U>=0){var ye,ie;if(q.dataKey&&!q.allowDuplicatedCategory){var re=typeof q.dataKey=="function"?Q:"payload.".concat(q.dataKey.toString());ye=td(te,re,V),ie=J&&D&&td(D,re,V)}else ye=te?.[U],ie=J&&D&&D[U];if(_e||pe){var ke=A.props.activeIndex!==void 0?A.props.activeIndex:U;return[M.cloneElement(A,ne(ne(ne({},R.props),Se),{},{activeIndex:ke})),null,null]}if(!Le(ye))return[se].concat(ns(j.renderActivePoints({item:R,activePoint:ye,basePoint:ie,childIndex:U,isRange:J})))}else{var $e,Ke=($e=j.getItemByXY(j.state.activeCoordinate))!==null&&$e!==void 0?$e:{graphicalItem:se},it=Ke.graphicalItem,ct=it.item,Rr=ct===void 0?A:ct,Gt=it.childIndex,Yt=ne(ne(ne({},R.props),Se),{},{activeIndex:Gt});return[M.cloneElement(Rr,Yt),null,null]}return J?[se,null,null]:[se,null]}),Te(j,"renderCustomized",function(A,C,I){return M.cloneElement(A,ne(ne({key:"recharts-customized-".concat(I)},j.props),j.state))}),Te(j,"renderMap",{CartesianGrid:{handler:Xc,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Xc},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Xc},YAxis:{handler:Xc},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((O=E.id)!==null&&O!==void 0?O:ls("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=mC(j.triggeredAfterMouseMove,(T=E.throttleDelay)!==null&&T!==void 0?T:1e3/60),j.state={},j}return fY(k,b),lY(k,[{key:"componentDidMount",value:function(){var O,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var O=this.props,T=O.children,j=O.data,A=O.height,C=O.layout,I=Cr(T,jn);if(I){var R=I.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var H=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,z=bx(this.state,j,R,H),N=this.state.tooltipTicks[R].coordinate,q=(this.state.offset.top+A)/2,U=C==="horizontal",V=U?{x:N,y:q}:{y:N,x:q},X=this.state.formattedGraphicalItems.find(function(K){var te=K.item;return te.type.name==="Scatter"});X&&(V=ne(ne({},V),X.props.points[R].tooltipPosition),z=X.props.points[R].tooltipPayload);var ee={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:H,activePayload:z,activeCoordinate:V};this.setState(ee),this.renderCursor(I),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(O,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==O.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==O.margin){var j,A;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(O){a0([Cr(O.children,jn)],[Cr(this.props.children,jn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var O=Cr(this.props.children,jn);if(O&&typeof O.props.shared=="boolean"){var T=O.props.shared?"axis":"item";return u.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(O){if(!this.container)return null;var T=this.container,j=T.getBoundingClientRect(),A=u8(j),C={chartX:Math.round(O.pageX-A.left),chartY:Math.round(O.pageY-A.top)},I=j.width/T.offsetWidth||1,R=this.inRange(C.chartX,C.chartY,I);if(!R)return null;var H=this.state,z=H.xAxisMap,N=H.yAxisMap,q=this.getTooltipEventType(),U=MA(this.state,this.props.data,this.props.layout,R);if(q!=="axis"&&z&&N){var V=Di(z).scale,X=Di(N).scale,ee=V&&V.invert?V.invert(C.chartX):null,K=X&&X.invert?X.invert(C.chartY):null;return ne(ne({},C),{},{xValue:ee,yValue:K},U)}return U?ne(ne({},C),U):null}},{key:"inRange",value:function(O,T){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,C=O/j,I=T/j;if(A==="horizontal"||A==="vertical"){var R=this.state.offset,H=C>=R.left&&C<=R.left+R.width&&I>=R.top&&I<=R.top+R.height;return H?{x:C,y:I}:null}var z=this.state,N=z.angleAxisMap,q=z.radiusAxisMap;if(N&&q){var U=Di(N);return XE({x:C,y:I},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var O=this.props.children,T=this.getTooltipEventType(),j=Cr(O,jn),A={};j&&T==="axis"&&(j.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=rd(this.props,this.handleOuterEvent);return ne(ne({},C),A)}},{key:"addListener",value:function(){Lv.on(zv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Lv.removeListener(zv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(O,T,j){for(var A=this.state.formattedGraphicalItems,C=0,I=A.length;C<I;C++){var R=A[C];if(R.item===O||R.props.key===O.key||T===Qn(R.item.type)&&j===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var O=this.clipPathId,T=this.state.offset,j=T.left,A=T.top,C=T.height,I=T.width;return F.createElement("defs",null,F.createElement("clipPath",{id:O},F.createElement("rect",{x:j,y:A,height:C,width:I})))}},{key:"getXScales",value:function(){var O=this.state.xAxisMap;return O?Object.entries(O).reduce(function(T,j){var A=IA(j,2),C=A[0],I=A[1];return ne(ne({},T),{},Te({},C,I.scale))},{}):null}},{key:"getYScales",value:function(){var O=this.state.yAxisMap;return O?Object.entries(O).reduce(function(T,j){var A=IA(j,2),C=A[0],I=A[1];return ne(ne({},T),{},Te({},C,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(O){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[O])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(O){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[O])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(O){var T=this.state,j=T.formattedGraphicalItems,A=T.activeItem;if(j&&j.length)for(var C=0,I=j.length;C<I;C++){var R=j[C],H=R.props,z=R.item,N=z.type.defaultProps!==void 0?ne(ne({},z.type.defaultProps),z.props):z.props,q=Qn(z.type);if(q==="Bar"){var U=(H.data||[]).find(function(K){return C9(O,K)});if(U)return{graphicalItem:R,payload:U}}else if(q==="RadialBar"){var V=(H.data||[]).find(function(K){return XE(O,K)});if(V)return{graphicalItem:R,payload:V}}else if(Cf(R,A)||Pf(R,A)||nu(R,A)){var X=bH({graphicalItem:R,activeTooltipItem:A,itemData:N.data}),ee=N.activeIndex===void 0?X:N.activeIndex;return{graphicalItem:ne(ne({},R),{},{childIndex:ee}),payload:nu(R,A)?N.data[X]:R.props.data[X]}}}return null}},{key:"render",value:function(){var O=this;if(!lj(this))return null;var T=this.props,j=T.children,A=T.className,C=T.width,I=T.height,R=T.style,H=T.compact,z=T.title,N=T.desc,q=NA(T,tY),U=Me(q,!1);if(H)return F.createElement(dA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(s0,jo({},U,{width:C,height:I,title:z,desc:N}),this.renderClipPath(),cj(j,this.renderMap)));if(this.props.accessibilityLayer){var V,X;U.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,U.role=(X=this.props.role)!==null&&X!==void 0?X:"application",U.onKeyDown=function(K){O.accessibilityManager.keyboardEvent(K)},U.onFocus=function(){O.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return F.createElement(dA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",jo({className:Be("recharts-wrapper",A),style:ne({position:"relative",cursor:"default",width:C,height:I},R)},ee,{ref:function(te){O.container=te}}),F.createElement(s0,jo({},U,{width:C,height:I,title:z,desc:N,style:vY}),this.renderClipPath(),cj(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(M.Component);Te(_,"displayName",r),Te(_,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Te(_,"getDerivedStateFromProps",function(b,k){var E=b.dataKey,O=b.data,T=b.children,j=b.width,A=b.height,C=b.layout,I=b.stackOffset,R=b.margin,H=k.dataStartIndex,z=k.dataEndIndex;if(k.updateId===void 0){var N=$A(b);return ne(ne(ne({},N),{},{updateId:0},v(ne(ne({props:b},N),{},{updateId:0}),k)),{},{prevDataKey:E,prevData:O,prevWidth:j,prevHeight:A,prevLayout:C,prevStackOffset:I,prevMargin:R,prevChildren:T})}if(E!==k.prevDataKey||O!==k.prevData||j!==k.prevWidth||A!==k.prevHeight||C!==k.prevLayout||I!==k.prevStackOffset||!Ao(R,k.prevMargin)){var q=$A(b),U={chartX:k.chartX,chartY:k.chartY,isTooltipActive:k.isTooltipActive},V=ne(ne({},MA(k,O,C)),{},{updateId:k.updateId+1}),X=ne(ne(ne({},q),U),V);return ne(ne(ne({},X),v(ne({props:b},X),k)),{},{prevDataKey:E,prevData:O,prevWidth:j,prevHeight:A,prevLayout:C,prevStackOffset:I,prevMargin:R,prevChildren:T})}if(!a0(T,k.prevChildren)){var ee,K,te,J,D=Cr(T,Vo),L=D&&(ee=(K=D.props)===null||K===void 0?void 0:K.startIndex)!==null&&ee!==void 0?ee:H,oe=D&&(te=(J=D.props)===null||J===void 0?void 0:J.endIndex)!==null&&te!==void 0?te:z,fe=L!==H||oe!==z,pe=!Le(O),_e=pe&&!fe?k.updateId:k.updateId+1;return ne(ne({updateId:_e},v(ne(ne({props:b},k),{},{updateId:_e,dataStartIndex:L,dataEndIndex:oe}),k)),{},{prevChildren:T,dataStartIndex:L,dataEndIndex:oe})}return null}),Te(_,"renderActiveDot",function(b,k,E){var O;return M.isValidElement(b)?O=M.cloneElement(b,k):Ne(b)?O=b(k):O=F.createElement(Tf,k),F.createElement(nt,{className:"recharts-active-dot",key:E},O)});var w=M.forwardRef(function(k,E){return F.createElement(_,jo({},k,{ref:E}))});return w.displayName=_.displayName,w},TY=AY({chartName:"AreaChart",GraphicalChild:oi,axisComponents:[{axisType:"xAxis",AxisComp:Df},{axisType:"yAxis",AxisComp:Lf}],formatAxisMap:gV});function CY({accessToken:t}){const[e,r]=M.useState([]),[n,i]=M.useState(""),[o,l]=M.useState(null),[u,d]=M.useState(!1),[h,y]=M.useState(!1),[p,m]=M.useState(6),[v,_]=M.useState(12);M.useEffect(()=>{w()},[]);const w=async()=>{try{const O=await fetch(`https://${gr}.supabase.co/functions/v1/make-server-9c637d11/items`,{headers:{Authorization:`Bearer ${t}`}});if(!O.ok)throw new Error("Failed to fetch items");const T=await O.json();r(T.items||[])}catch(O){console.error("Error fetching items:",O)}},b=async()=>{if(!n){alert("Please select an item first");return}y(!0);try{const O=await fetch(`https://${gr}.supabase.co/functions/v1/make-server-9c637d11/forecast/generate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({itemId:n,periods:p,seasonalPeriods:v})});if(!O.ok){const j=await O.json();throw new Error(j.error||"Failed to generate forecast")}const T=await O.json();l(T)}catch(O){console.error("Error generating forecast:",O),alert(O instanceof Error?O.message:"Failed to generate forecast")}finally{y(!1)}},k=()=>{if(!o)return[];const O=[],T=o.historicalDemand.length;for(let j=0;j<T;j++)O.push({period:`Period ${j+1}`,index:j+1,actual:o.historicalDemand[j],forecast:null,lowerBound:null,upperBound:null});for(let j=0;j<o.forecast.length;j++)O.push({period:`Forecast ${j+1}`,index:T+j+1,actual:null,forecast:o.forecast[j],lowerBound:o.lowerBound[j],upperBound:o.upperBound[j]});return O},E=e.find(O=>O.id===n);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Demand Forecasting"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Holt-Winters Triple Exponential Smoothing Algorithm"})]}),c.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 px-4 py-2 rounded-lg border border-blue-200",children:[c.jsx(dT,{className:"text-blue-600",size:20}),c.jsx("span",{className:"text-sm font-semibold text-blue-900",children:"AI-Powered"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Item *"}),c.jsxs("select",{value:n,onChange:O=>i(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[c.jsx("option",{value:"",children:"Choose an item to forecast..."}),e.map(O=>c.jsxs("option",{value:O.id,children:[O.itemCode," - ",O.itemName]},O.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Forecast Periods"}),c.jsx("input",{type:"number",value:p,onChange:O=>m(parseInt(O.target.value)||6),min:"1",max:"24",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"1-24 periods ahead"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seasonal Periods"}),c.jsx("input",{type:"number",value:v,onChange:O=>_(parseInt(O.target.value)||12),min:"2",max:"12",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Seasonality cycle"})]})]}),c.jsx("div",{className:"mt-4",children:c.jsx("button",{onClick:b,disabled:!n||h,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed font-medium",children:h?c.jsxs(c.Fragment,{children:[c.jsx(ri,{className:"animate-spin",size:20}),"Generating Forecast..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Al,{size:20}),"Generate Forecast"]})})})]}),c.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(gD,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:20}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-blue-900",children:"Holt-Winters Triple Exponential Smoothing"}),c.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Advanced time series forecasting that captures ",c.jsx("strong",{children:"level"}),", ",c.jsx("strong",{children:"trend"}),", and ",c.jsx("strong",{children:"seasonality"})," patterns in your demand data. Automatically optimizes  (alpha),  (beta), and  (gamma) parameters for maximum accuracy."]})]})]})}),o&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Algorithm"}),c.jsx("p",{className:"text-lg font-bold text-gray-900 mt-1",children:o.algorithm})]}),c.jsx(bo,{className:"text-blue-600",size:24})]})}),c.jsx("div",{className:"bg-green-50 rounded-lg border border-green-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Alpha ()"}),c.jsx("p",{className:"text-lg font-bold text-green-700 mt-1",children:o.parameters.alpha?.toFixed(3)||"N/A"})]}),c.jsx("div",{className:"text-xs text-green-600",children:"Level"})]})}),c.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Beta ()"}),c.jsx("p",{className:"text-lg font-bold text-blue-700 mt-1",children:o.parameters.beta?.toFixed(3)||"N/A"})]}),c.jsx("div",{className:"text-xs text-blue-600",children:"Trend"})]})}),c.jsx("div",{className:"bg-purple-50 rounded-lg border border-purple-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-purple-700 font-medium",children:"Gamma ()"}),c.jsx("p",{className:"text-lg font-bold text-purple-700 mt-1",children:o.parameters.gamma?.toFixed(3)||"N/A"})]}),c.jsx("div",{className:"text-xs text-purple-600",children:"Season"})]})})]}),o.metrics&&c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Forecast Accuracy Metrics"}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"MAE"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.metrics.mae?.toFixed(2)||"N/A"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mean Absolute Error"})]}),c.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"MSE"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.metrics.mse?.toFixed(2)||"N/A"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mean Squared Error"})]}),c.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"RMSE"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.metrics.rmse?.toFixed(2)||"N/A"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Root Mean Squared Error"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Demand Forecast"}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[E?.itemCode," - ",E?.itemName]})]}),c.jsxs("div",{className:"text-sm text-gray-500",children:["Generated: ",new Date(o.generatedAt).toLocaleString()]})]}),c.jsx(r8,{width:"100%",height:400,children:c.jsxs(TY,{data:k(),children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"colorForecast",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),c.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),c.jsxs("linearGradient",{id:"colorActual",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),c.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),c.jsx(lI,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),c.jsx(Df,{dataKey:"period",tick:{fontSize:12},angle:-45,textAnchor:"end",height:80}),c.jsx(Lf,{tick:{fontSize:12}}),c.jsx(jn,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),c.jsx(_a,{}),c.jsx(oi,{type:"monotone",dataKey:"actual",stroke:"#10b981",strokeWidth:2,fill:"url(#colorActual)",name:"Historical Demand",dot:{fill:"#10b981",r:4}}),c.jsx(oi,{type:"monotone",dataKey:"forecast",stroke:"#3b82f6",strokeWidth:2,fill:"url(#colorForecast)",name:"Forecast",dot:{fill:"#3b82f6",r:4},strokeDasharray:"5 5"}),c.jsx(lu,{type:"monotone",dataKey:"lowerBound",stroke:"#94a3b8",strokeWidth:1,dot:!1,name:"Lower Bound (80%)",strokeDasharray:"3 3"}),c.jsx(lu,{type:"monotone",dataKey:"upperBound",stroke:"#94a3b8",strokeWidth:1,dot:!1,name:"Upper Bound (80%)",strokeDasharray:"3 3"})]})}),c.jsxs("div",{className:"mt-4 flex items-center gap-6 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),c.jsx("span",{className:"text-gray-600",children:"Historical Demand"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),c.jsx("span",{className:"text-gray-600",children:"Forecast"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-4 h-1 bg-gray-400 rounded"}),c.jsx("span",{className:"text-gray-600",children:"80% Confidence Interval"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Forecast Details"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-gray-900",children:"Period"}),c.jsx("th",{className:"text-right px-6 py-3 text-sm font-semibold text-gray-900",children:"Forecast"}),c.jsx("th",{className:"text-right px-6 py-3 text-sm font-semibold text-gray-900",children:"Lower Bound"}),c.jsx("th",{className:"text-right px-6 py-3 text-sm font-semibold text-gray-900",children:"Upper Bound"}),c.jsx("th",{className:"text-center px-6 py-3 text-sm font-semibold text-gray-900",children:"Confidence"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:o.forecast.map((O,T)=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsxs("td",{className:"px-6 py-3 text-sm font-medium text-gray-900",children:["Period ",o.historicalDemand.length+T+1]}),c.jsx("td",{className:"px-6 py-3 text-sm text-right font-bold text-blue-600",children:O.toFixed(2)}),c.jsx("td",{className:"px-6 py-3 text-sm text-right text-gray-600",children:o.lowerBound[T].toFixed(2)}),c.jsx("td",{className:"px-6 py-3 text-sm text-right text-gray-600",children:o.upperBound[T].toFixed(2)}),c.jsx("td",{className:"px-6 py-3 text-center",children:c.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700",children:"80%"})})]},T))})]})})]})]}),!o&&!h&&c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[c.jsx(Al,{className:"mx-auto text-gray-400 mb-4",size:64}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Forecast Generated Yet"}),c.jsx("p",{className:"text-gray-600",children:'Select an item and click "Generate Forecast" to see AI-powered demand predictions'})]})]})}function PY({accessToken:t}){const[e,r]=M.useState(null),[n,i]=M.useState(!1),[o,l]=M.useState("ALL"),u=async()=>{i(!0);try{const p=await fetch(`https://${gr}.supabase.co/functions/v1/make-server-9c637d11/planning/mrp`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({})});if(!p.ok){const v=await p.json();throw new Error(v.error||"Failed to run MRP")}const m=await p.json();r(m)}catch(p){console.error("Error running MRP:",p),alert(p instanceof Error?p.message:"Failed to run MRP")}finally{i(!1)}},d=p=>{switch(p){case"CRITICAL":return"bg-red-100 text-red-700 border-red-300";case"HIGH":return"bg-orange-100 text-orange-700 border-orange-300";case"MEDIUM":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"LOW":return"bg-blue-100 text-blue-700 border-blue-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},h=p=>{switch(p){case"CRITICAL":return c.jsx(mr,{className:"text-red-600",size:20});case"HIGH":return c.jsx(mr,{className:"text-orange-600",size:20});case"MEDIUM":return c.jsx(t0,{className:"text-yellow-600",size:20});case"LOW":return c.jsx(Jn,{className:"text-blue-600",size:20});default:return null}},y=e?.recommendations.filter(p=>o==="ALL"||p.priority===o)||[];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"MRP Planning"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Material Requirements Planning with Min/Max Logic"})]}),c.jsxs("div",{className:"flex items-center gap-2 bg-purple-50 px-4 py-2 rounded-lg border border-purple-200",children:[c.jsx(dT,{className:"text-purple-600",size:20}),c.jsx("span",{className:"text-sm font-semibold text-purple-900",children:"Intelligent Planning"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsx("button",{onClick:u,disabled:n,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed font-medium",children:n?c.jsxs(c.Fragment,{children:[c.jsx(ri,{className:"animate-spin",size:20}),"Running MRP Analysis..."]}):c.jsxs(c.Fragment,{children:[c.jsx(bo,{size:20}),"Run MRP Planning"]})})}),e&&c.jsxs("div",{className:"mt-4 text-sm text-gray-600 flex items-center justify-between",children:[c.jsxs("span",{children:["Last run: ",new Date(e.generatedAt).toLocaleString()]}),c.jsxs("button",{onClick:u,className:"flex items-center gap-1 text-blue-600 hover:text-blue-700",children:[c.jsx(is,{size:14}),"Refresh"]})]})]}),c.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(bo,{className:"text-purple-600 flex-shrink-0 mt-0.5",size:20}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-purple-900",children:"How MRP Works"}),c.jsxs("p",{className:"text-sm text-purple-700 mt-1",children:["The system analyzes ",c.jsx("strong",{children:"current stock"}),", ",c.jsx("strong",{children:"min/max levels"}),", ",c.jsx("strong",{children:"safety stock"}),",",c.jsx("strong",{children:" forecasted demand"}),", and ",c.jsx("strong",{children:"lead times"})," to generate intelligent replenishment recommendations. Priorities are automatically assigned based on urgency and risk of stockout."]})]})]})}),e&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[c.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Items"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.summary.totalItems})]}),c.jsx(bo,{className:"text-gray-600",size:24})]})}),c.jsx("div",{className:"bg-red-50 rounded-lg border border-red-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-red-700 font-medium",children:"Critical"}),c.jsx("p",{className:"text-2xl font-bold text-red-700 mt-1",children:e.summary.criticalCount})]}),c.jsx(mr,{className:"text-red-600",size:24})]})}),c.jsx("div",{className:"bg-orange-50 rounded-lg border border-orange-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-orange-700 font-medium",children:"High"}),c.jsx("p",{className:"text-2xl font-bold text-orange-700 mt-1",children:e.summary.highCount})]}),c.jsx(mr,{className:"text-orange-600",size:24})]})}),c.jsx("div",{className:"bg-yellow-50 rounded-lg border border-yellow-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-yellow-700 font-medium",children:"Medium"}),c.jsx("p",{className:"text-2xl font-bold text-yellow-700 mt-1",children:e.summary.mediumCount})]}),c.jsx(t0,{className:"text-yellow-600",size:24})]})}),c.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Low"}),c.jsx("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:e.summary.lowCount})]}),c.jsx(Jn,{className:"text-blue-600",size:24})]})})]}),e&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter by Priority:"}),c.jsx("div",{className:"flex gap-2",children:["ALL","CRITICAL","HIGH","MEDIUM","LOW"].map(p=>c.jsx("button",{onClick:()=>l(p),className:`px-3 py-1 text-sm font-medium rounded-lg transition-colors ${o===p?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:p},p))})]}),e&&y.length>0&&c.jsx("div",{className:"space-y-4",children:y.map(p=>c.jsxs("div",{className:`bg-white rounded-xl shadow-sm border-2 p-6 ${d(p.priority)}`,children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[c.jsx("div",{className:"p-3 rounded-lg bg-white border border-gray-200",children:h(p.priority)}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:p.itemCode}),c.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-bold rounded-full ${d(p.priority)}`,children:[p.priority," PRIORITY"]})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:p.itemName}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Current Stock"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:p.currentStock})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Min / Max"}),c.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[p.minStock," / ",p.maxStock]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Safety Stock"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:p.safetyStock})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Forecasted Demand"}),c.jsx("p",{className:"text-lg font-bold text-blue-600",children:p.forecastedDemand})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Lead Time"}),c.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[p.leadTimeDays," days"]})]})]}),c.jsxs("div",{className:"bg-white/50 rounded-lg p-3 mb-3",children:[c.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Reason:"}),c.jsx("p",{className:"text-sm text-gray-900",children:p.reason})]}),p.daysUntilStockout!==void 0&&p.daysUntilStockout<30&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-700",children:[c.jsx(mr,{size:16}),c.jsxs("span",{className:"font-medium",children:["Estimated stockout in ",p.daysUntilStockout," days"]})]})]})]}),c.jsxs("div",{className:"text-right ml-4",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Recommended Order"}),c.jsx("p",{className:"text-4xl font-bold text-green-600",children:p.recommendedOrder}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"units"}),p.targetDate&&c.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Target: ",new Date(p.targetDate).toLocaleDateString()]})]})]}),c.jsxs("div",{className:"flex gap-3 mt-4 pt-4 border-t border-gray-200",children:[c.jsx("button",{className:"flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Create Purchase Order"}),c.jsx("button",{className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Schedule Production"}),c.jsx("button",{className:"px-6 bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Ignore"})]})]},p.itemId))}),!e&&!n&&c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[c.jsx(bo,{className:"mx-auto text-gray-400 mb-4",size:64}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No MRP Analysis Yet"}),c.jsx("p",{className:"text-gray-600",children:'Click "Run MRP Planning" to generate intelligent replenishment recommendations'})]}),e&&y.length===0&&c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[c.jsx(Jn,{className:"mx-auto text-green-500 mb-4",size:64}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Recommendations"}),c.jsx("p",{className:"text-gray-600",children:o==="ALL"?"All items are within acceptable stock levels!":`No items with ${o} priority at this time.`})]})]})}const sl={PW:{name:"Production Warehouse",icon:cT,color:"#6366f1"},IT:{name:"In-Transit",icon:uT,color:"#f59e0b"},SV:{name:"S&V Warehouse",icon:V_,color:"#10b981"},US:{name:"US Warehouse",icon:V_,color:"#3b82f6"}},LA=[{from:"PRODUCTION",to:"PW",movementType:"PRODUCTION_RECEIPT",flow:"FORWARD",label:"Production  PW"},{from:"PW",to:"IT",movementType:"DISPATCH_TO_TRANSIT",flow:"FORWARD",label:"PW  In-Transit"},{from:"IT",to:"SV",movementType:"TRANSFER_TO_WAREHOUSE",flow:"FORWARD",label:"In-Transit  S&V"},{from:"IT",to:"US",movementType:"TRANSFER_TO_WAREHOUSE",flow:"FORWARD",label:"In-Transit  US"},{from:"SV",to:"CUSTOMER",movementType:"CUSTOMER_SALE",flow:"FORWARD",label:"S&V  Customer"},{from:"US",to:"CUSTOMER",movementType:"CUSTOMER_SALE",flow:"FORWARD",label:"US  Customer"},{from:"CUSTOMER",to:"SV",movementType:"CUSTOMER_RETURN",flow:"REVERSE",label:"Customer  S&V"},{from:"CUSTOMER",to:"US",movementType:"CUSTOMER_RETURN",flow:"REVERSE",label:"Customer  US"},{from:"SV",to:"IT",movementType:"RETURN_TO_PRODUCTION_FLOW",flow:"REVERSE",label:"S&V  In-Transit"},{from:"US",to:"IT",movementType:"RETURN_TO_PRODUCTION_FLOW",flow:"REVERSE",label:"US  In-Transit"},{from:"IT",to:"PW",movementType:"RETURN_TO_PRODUCTION_FLOW",flow:"REVERSE",label:"In-Transit  PW"},{from:"PW",to:"PRODUCTION",movementType:"RETURN_TO_PRODUCTION",flow:"REVERSE",label:"PW  Production"}],qv={PRODUCTION_RECEIPT:"Production Receipt",DISPATCH_TO_TRANSIT:"Dispatch to Transit",TRANSFER_TO_WAREHOUSE:"Transfer to Warehouse",CUSTOMER_SALE:"Customer Sale",CUSTOMER_RETURN:"Customer Return",RETURN_TO_PRODUCTION_FLOW:"Return to Production Flow",RETURN_TO_PRODUCTION:"Return to Production"},zA={"PROD-WH-01":"PW","INTRANS-01":"IT","SNV-WH-01":"SV","US-WH-01":"US"};function IY(t,e){return e==="IN"?LA.filter(r=>r.to===t):LA.filter(r=>r.from===t)}const Hn={padding:"12px 16px",textAlign:"left",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--enterprise-gray-700)",textTransform:"uppercase",letterSpacing:"0.5px"},Vn={padding:"12px 16px",fontSize:"var(--font-size-base)",color:"var(--enterprise-gray-800)"};function Jc({label:t,value:e,icon:r,color:n,bgColor:i,isActive:o=!1,onClick:l}){return c.jsx("div",{onClick:l,style:{cursor:l?"pointer":"default",transition:"all 0.2s ease"},children:c.jsx(No,{style:{border:o?`2px solid ${n}`:"1px solid var(--enterprise-gray-200)",boxShadow:o?`0 0 0 3px ${i}`:"var(--shadow-sm)"},children:c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[c.jsxs("div",{children:[c.jsx("p",{style:{fontSize:"12px",color:"var(--enterprise-gray-600)",fontWeight:500,marginBottom:"6px"},children:t}),c.jsx("p",{style:{fontSize:"1.75rem",fontWeight:700,color:n},children:e})]}),c.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"8px",backgroundColor:i,display:"flex",alignItems:"center",justifyContent:"center"},children:r})]})})})}function NY({accessToken:t}){const e=Xr(),[r,n]=M.useState([]),[i,o]=M.useState(!0),[l,u]=M.useState(""),[d,h]=M.useState("ALL"),[y,p]=M.useState(!1),[m,v]=M.useState(""),[_,w]=M.useState([]),[b,k]=M.useState(!1),[E,O]=M.useState(!1),[T,j]=M.useState(null),[A,C]=M.useState([]),[I,R]=M.useState(!1),[H,z]=M.useState(""),[N,q]=M.useState("IN"),[U,V]=M.useState(null),[X,ee]=M.useState([]),[K,te]=M.useState(0),[J,D]=M.useState(""),[L,oe]=M.useState(!1),[fe,pe]=M.useState(null),_e=M.useRef(null),Re=20,[Se,se]=M.useState(Re),Q=M.useCallback(async()=>{o(!0);try{const{data:ae,error:De}=await e.from("inv_movement_headers").select(`
          id,
          movement_number,
          movement_date,
          movement_type,
          status,
          reason_description,
          notes,
          created_at,
          source_warehouse:source_warehouse_id ( warehouse_name ),
          destination_warehouse:destination_warehouse_id ( warehouse_name )
        `).order("created_at",{ascending:!1}).limit(200);if(De)throw De;const Ye=(ae||[]).map(qe=>qe.id);let vt={};if(Ye.length>0){const{data:qe}=await e.from("inv_movement_lines").select("header_id, item_code, actual_quantity").in("header_id",Ye);(qe||[]).forEach(_t=>{vt[_t.header_id]||(vt[_t.header_id]={item_code:_t.item_code,actual_quantity:_t.actual_quantity})})}const nr=[...new Set(Object.values(vt).map(qe=>qe.item_code))];let Je={};if(nr.length>0){const{data:qe}=await e.from("items").select("item_code, item_name").in("item_code",nr);(qe||[]).forEach(_t=>{Je[_t.item_code]=_t.item_name})}const $r=(ae||[]).map(qe=>{const _t=vt[qe.id];return{id:qe.id,movement_number:qe.movement_number,movement_date:qe.movement_date,movement_type:qe.movement_type,status:qe.status,reason_description:qe.reason_description,notes:qe.notes,created_at:qe.created_at,source_warehouse:qe.source_warehouse?.warehouse_name||null,destination_warehouse:qe.destination_warehouse?.warehouse_name||null,item_code:_t?.item_code||null,item_name:_t?Je[_t.item_code]||_t.item_code:null,quantity:_t?.actual_quantity||null}});n($r)}catch(ae){console.error("Error fetching movements:",ae)}finally{o(!1)}},[e]);M.useEffect(()=>{Q()},[Q]),M.useEffect(()=>{const ae=De=>{_e.current&&!_e.current.contains(De.target)&&O(!1)};return document.addEventListener("mousedown",ae),()=>document.removeEventListener("mousedown",ae)},[]),M.useEffect(()=>{if(H){const ae=IY(H,N);ee(ae),V(ae.length===1?ae[0]:null)}else ee([]),V(null)},[H,N]);const ye=M.useCallback(async ae=>{if(v(ae),ae.length<2){w([]),O(!1);return}k(!0),O(!0);try{const{data:De,error:Ye}=await e.from("items").select("id, item_code, item_name, part_number, master_serial_no, uom").or(`item_code.ilike.%${ae}%,part_number.ilike.%${ae}%,master_serial_no.ilike.%${ae}%`).eq("is_active",!0).limit(10);if(Ye)throw Ye;w(De||[])}catch{w([])}finally{k(!1)}},[e]),ie=M.useCallback(async ae=>{R(!0);try{const{data:De,error:Ye}=await e.from("inv_warehouse_stock").select("quantity_on_hand, inv_warehouses!inner ( warehouse_code, warehouse_name )").eq("item_code",ae).eq("is_active",!0);if(Ye)throw Ye;C((De||[]).map(vt=>({warehouse_code:vt.inv_warehouses?.warehouse_code||"",warehouse_name:vt.inv_warehouses?.warehouse_name||"",quantity_on_hand:vt.quantity_on_hand||0})))}catch{C([])}finally{R(!1)}},[e]),re=ae=>{j(ae),v(ae.part_number||ae.item_code),O(!1),ie(ae.item_code),z(""),q("IN"),V(null),te(0),D(""),pe(null)},ke=ae=>{const De=Object.entries(zA).find(([,Ye])=>Ye===ae)?.[0];return De&&A.find(Ye=>Ye.warehouse_code===De)?.quantity_on_hand||0},$e=U?.flow==="REVERSE",Ke=()=>{v(""),w([]),j(null),C([]),z(""),q("IN"),V(null),ee([]),te(0),D(""),pe(null)},it=()=>{Ke(),p(!0)},ct=()=>{p(!1),Ke()},Rr=async()=>{if(!T||!H||!U||K<=0){pe({type:"error",text:"Please fill all required fields."});return}if($e&&!J.trim()){pe({type:"error",text:"Reason is mandatory for reverse flow movements."});return}oe(!0),pe(null);try{const{data:ae}=await e.from("inv_warehouses").select("id, warehouse_code").eq("is_active",!0),De=ur=>{const mn=Object.entries(zA).find(([,$a])=>$a===ur)?.[0];return ae?.find($a=>$a.warehouse_code===mn)?.id||null},Ye=Object.keys(sl).includes(U.from),vt=Object.keys(sl).includes(U.to),nr=Ye?De(U.from):null,Je=vt?De(U.to):null,{data:{session:$r}}=await e.auth.getSession(),qe=$r?.user?.id,_t=`MOV-${Date.now().toString(36).toUpperCase()}`,{data:Qr,error:Nn}=await e.from("inv_movement_headers").insert({movement_number:_t,movement_date:new Date().toISOString().split("T")[0],movement_type:U.movementType,source_warehouse_id:nr,destination_warehouse_id:Je,status:"COMPLETED",approval_status:"APPROVED",reason_description:J||null,notes:`${U.label} | Qty: ${K} | Flow: ${U.flow}`,requested_by:qe,created_by:qe,completed_by:qe,completed_at:new Date().toISOString()}).select().single();if(Nn)throw Nn;if(await e.from("inv_movement_lines").insert({header_id:Qr.id,line_number:1,item_code:T.item_code,requested_quantity:K,approved_quantity:K,actual_quantity:K,line_status:"COMPLETED",created_by:qe}),nr){const{data:ur}=await e.from("inv_warehouse_stock").select("id, quantity_on_hand").eq("warehouse_id",nr).eq("item_code",T.item_code).eq("is_active",!0).single();if(ur){const mn=Math.max(0,ur.quantity_on_hand-K);await e.from("inv_warehouse_stock").update({quantity_on_hand:mn,last_issue_date:new Date().toISOString(),updated_by:qe}).eq("id",ur.id),await e.from("inv_stock_ledger").insert({warehouse_id:nr,item_code:T.item_code,transaction_type:"TRANSFER_OUT",quantity_change:-K,quantity_before:ur.quantity_on_hand,quantity_after:mn,reference_type:U.movementType,reference_id:Qr.id,notes:`OUT: ${U.label}${J?" | Reason: "+J:""}`,created_by:qe})}}if(Je){const{data:ur}=await e.from("inv_warehouse_stock").select("id, quantity_on_hand").eq("warehouse_id",Je).eq("item_code",T.item_code).eq("is_active",!0).single();if(ur){const mn=ur.quantity_on_hand+K;await e.from("inv_warehouse_stock").update({quantity_on_hand:mn,last_receipt_date:new Date().toISOString(),updated_by:qe}).eq("id",ur.id),await e.from("inv_stock_ledger").insert({warehouse_id:Je,item_code:T.item_code,transaction_type:"TRANSFER_IN",quantity_change:K,quantity_before:ur.quantity_on_hand,quantity_after:mn,reference_type:U.movementType,reference_id:Qr.id,notes:`IN: ${U.label}${J?" | Reason: "+J:""}`,created_by:qe})}else await e.from("inv_warehouse_stock").insert({warehouse_id:Je,item_code:T.item_code,quantity_on_hand:K,last_receipt_date:new Date().toISOString(),created_by:qe}),await e.from("inv_stock_ledger").insert({warehouse_id:Je,item_code:T.item_code,transaction_type:"TRANSFER_IN",quantity_change:K,quantity_before:0,quantity_after:K,reference_type:U.movementType,reference_id:Qr.id,notes:`IN: ${U.label}${J?" | Reason: "+J:""}`,created_by:qe})}pe({type:"success",text:`Movement ${_t} completed successfully!`}),Q(),setTimeout(()=>ct(),1500)}catch(ae){console.error("Movement error:",ae),pe({type:"error",text:ae.message||"Failed to complete movement."})}finally{oe(!1)}},Gt=r.filter(ae=>{const De=!l||ae.movement_number?.toLowerCase().includes(l.toLowerCase())||ae.item_code?.toLowerCase().includes(l.toLowerCase())||ae.item_name?.toLowerCase().includes(l.toLowerCase())||ae.source_warehouse?.toLowerCase().includes(l.toLowerCase())||ae.destination_warehouse?.toLowerCase().includes(l.toLowerCase()),Ye=d==="ALL"||ae.movement_type===d;return De&&Ye}),Yt=Gt.slice(0,Se),_r=Se<Gt.length,di=r.length,Ki=r.filter(ae=>!["CUSTOMER_RETURN","RETURN_TO_PRODUCTION_FLOW","RETURN_TO_PRODUCTION"].includes(ae.movement_type)).length,Gi=r.filter(ae=>["CUSTOMER_RETURN","RETURN_TO_PRODUCTION_FLOW","RETURN_TO_PRODUCTION"].includes(ae.movement_type)).length,_u=r.filter(ae=>ae.status==="COMPLETED").length,ps=()=>{const ae=["Movement #","Date","Type","Status","Item Code","Item","Qty","From","To","Reason"],De=Gt.map(Je=>[Je.movement_number,Je.movement_date,qv[Je.movement_type]||Je.movement_type,Je.status,Je.item_code||"",Je.item_name||"",Je.quantity??"",Je.source_warehouse||"",Je.destination_warehouse||"",Je.reason_description||""]),Ye=[ae.join(","),...De.map(Je=>Je.map($r=>typeof $r=="string"&&$r.includes(",")?`"${$r}"`:$r).join(","))].join(`
`),vt=new Blob([Ye],{type:"text/csv"}),nr=document.createElement("a");nr.href=URL.createObjectURL(vt),nr.download=`stock_movements_${new Date().toISOString().split("T")[0]}.csv`,nr.click()},Ma=ae=>{const De=["CUSTOMER_RETURN","RETURN_TO_PRODUCTION_FLOW","RETURN_TO_PRODUCTION"].includes(ae);return c.jsx(qi,{variant:De?"warning":"info",style:{fontSize:"11px"},children:qv[ae]||ae})},Su=ae=>{const De=ae==="COMPLETED"?"success":ae==="CANCELLED"?"error":"neutral";return c.jsx(qi,{variant:De,style:{fontSize:"11px"},children:ae})},gn={width:"100%",padding:"10px 14px",border:"1px solid var(--border-color, #d1d5db)",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s",backgroundColor:"#fff"},Mr={display:"block",fontSize:"13px",fontWeight:600,color:"var(--enterprise-gray-700, #374151)",marginBottom:"6px"};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"20px"},children:[c.jsx(Jc,{label:"Total Movements",value:di,icon:c.jsx(e0,{size:22,style:{color:"#1e3a8a"}}),color:"#1e3a8a",bgColor:"rgba(30,58,138,0.1)",isActive:d==="ALL",onClick:()=>h("ALL")}),c.jsx(Jc,{label:"Forward Flow",value:Ki,icon:c.jsx(H_,{size:22,style:{color:"#059669"}}),color:"#059669",bgColor:"rgba(5,150,105,0.1)"}),c.jsx(Jc,{label:"Reverse Flow",value:Gi,icon:c.jsx(is,{size:22,style:{color:"#d97706"}}),color:"#d97706",bgColor:"rgba(217,119,6,0.1)"}),c.jsx(Jc,{label:"Completed",value:_u,icon:c.jsx(Lp,{size:22,style:{color:"#16a34a"}}),color:"#16a34a",bgColor:"rgba(22,163,74,0.1)"})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",gap:"12px",flexWrap:"wrap",background:"white",padding:"10px 16px",borderRadius:"8px",border:"1px solid var(--enterprise-gray-200)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",background:"var(--enterprise-gray-50)",border:"1px solid var(--enterprise-gray-300)",borderRadius:"6px",padding:"8px 12px",flex:1,minWidth:"260px"},children:[c.jsx(En,{size:18,style:{color:"var(--enterprise-gray-400)",marginRight:"10px",flexShrink:0}}),c.jsx("input",{type:"text",placeholder:"Search by movement #, item code, item name, warehouse...",value:l,onChange:ae=>u(ae.target.value),style:{border:"none",outline:"none",flex:1,fontSize:"13px",color:"var(--enterprise-gray-800)",background:"transparent",minWidth:"180px"}}),l&&c.jsx("button",{onClick:()=>u(""),style:{background:"var(--enterprise-gray-200)",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",borderRadius:"4px",marginLeft:"8px"},children:c.jsx(Eo,{size:14,style:{color:"var(--enterprise-gray-600)"}})})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexShrink:0},children:[(l||d!=="ALL")&&c.jsxs("button",{onClick:()=>{u(""),h("ALL")},style:{padding:"0 12px",height:"36px",borderRadius:"6px",border:"1px solid #dc2626",background:"white",color:"#dc2626",fontSize:"13px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",whiteSpace:"nowrap"},children:[c.jsx(Oo,{size:16})," Clear"]}),c.jsxs("button",{onClick:ps,style:{padding:"0 14px",height:"36px",borderRadius:"6px",border:"1px solid var(--enterprise-gray-300)",background:"white",color:"var(--enterprise-gray-700)",fontSize:"13px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap"},children:[c.jsx(of,{size:14})," Export CSV"]}),c.jsxs("button",{onClick:it,style:{padding:"0 14px",height:"36px",borderRadius:"6px",border:"none",background:"#1e3a8a",color:"white",fontSize:"13px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap"},children:[c.jsx(Ol,{size:14})," New Movement"]})]})]}),i?c.jsx("div",{style:{textAlign:"center",padding:"60px"},children:c.jsx(hu,{})}):Gt.length===0?c.jsx(Ex,{icon:c.jsx(e0,{size:48,style:{color:"var(--enterprise-gray-400)"}}),title:"No Stock Movements",description:l||d!=="ALL"?"No movements match your filters.":'Click "New Movement" to record your first stock movement.',action:{label:"New Movement",onClick:it}}):c.jsxs(c.Fragment,{children:[c.jsx("div",{style:{background:"white",borderRadius:"8px",border:"1px solid var(--enterprise-gray-200)",overflow:"hidden",boxShadow:"var(--shadow-sm)"},children:c.jsx("div",{style:{overflowX:"auto",maxHeight:"calc(100vh - 380px)",overflowY:"auto"},children:c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[c.jsx("thead",{style:{position:"sticky",top:0,zIndex:2,background:"var(--enterprise-gray-50)"},children:c.jsxs("tr",{children:[c.jsx("th",{style:Hn,children:"Movement #"}),c.jsx("th",{style:Hn,children:"Date"}),c.jsx("th",{style:Hn,children:"Type"}),c.jsx("th",{style:Hn,children:"Item"}),c.jsx("th",{style:{...Hn,textAlign:"right"},children:"Qty"}),c.jsx("th",{style:Hn,children:"From"}),c.jsx("th",{style:Hn,children:"To"}),c.jsx("th",{style:Hn,children:"Status"}),c.jsx("th",{style:Hn,children:"Reason"})]})}),c.jsx("tbody",{children:Yt.map(ae=>c.jsxs("tr",{children:[c.jsx("td",{style:{...Vn,fontWeight:600,fontFamily:"monospace",color:"var(--enterprise-primary, #1e3a8a)",fontSize:"13px"},children:ae.movement_number}),c.jsx("td",{style:{...Vn,fontSize:"13px",whiteSpace:"nowrap"},children:ae.movement_date?new Date(ae.movement_date).toLocaleDateString("en-IN"):""}),c.jsx("td",{style:Vn,children:Ma(ae.movement_type)}),c.jsxs("td",{style:Vn,children:[c.jsx("div",{style:{fontSize:"13px",fontWeight:600},children:ae.item_code||""}),ae.item_name&&c.jsx("div",{style:{fontSize:"11px",color:"var(--enterprise-gray-500)"},children:ae.item_name})]}),c.jsx("td",{style:{...Vn,textAlign:"right",fontWeight:700,fontFamily:"monospace",fontSize:"14px"},children:ae.quantity!=null?ae.quantity.toLocaleString():""}),c.jsx("td",{style:{...Vn,fontSize:"13px"},children:ae.source_warehouse||""}),c.jsx("td",{style:{...Vn,fontSize:"13px"},children:ae.destination_warehouse||""}),c.jsx("td",{style:Vn,children:Su(ae.status)}),c.jsx("td",{style:{...Vn,fontSize:"12px",color:"var(--enterprise-gray-500)",maxWidth:"160px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:ae.reason_description||""})]},ae.id))})]})})}),_r&&c.jsx("div",{style:{textAlign:"center",marginTop:"16px"},children:c.jsxs("button",{className:"load-more-btn",onClick:()=>se(ae=>ae+Re),children:["Load More (",Gt.length-Se," remaining)"]})})]}),c.jsx(fu,{isOpen:y,onClose:ct,title:"New Stock Movement",maxWidth:"780px",children:c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[fe&&c.jsxs("div",{style:{padding:"10px 14px",borderRadius:"8px",display:"flex",alignItems:"center",gap:"8px",backgroundColor:fe.type==="success"?"#ecfdf5":"#fef2f2",border:`1px solid ${fe.type==="success"?"#a7f3d0":"#fecaca"}`,color:fe.type==="success"?"#065f46":"#991b1b",fontSize:"13px",fontWeight:500},children:[fe.type==="success"?c.jsx(Lp,{size:16}):c.jsx(Oo,{size:16}),fe.text]}),c.jsxs("div",{ref:_e,style:{position:"relative"},children:[c.jsxs("label",{style:Mr,children:[c.jsx(En,{size:14,style:{display:"inline",marginRight:"6px",verticalAlign:"middle"}}),"Search Item (Part Number, MSN, or Item Code)"]}),c.jsxs("div",{style:{position:"relative"},children:[c.jsx("input",{type:"text",value:m,onChange:ae=>ye(ae.target.value),onFocus:()=>_.length>0&&O(!0),placeholder:"Type to search...",style:{...gn,paddingLeft:"38px"}}),c.jsx(En,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),b&&c.jsx(ri,{size:16,style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",color:"#3b82f6",animation:"spin 1s linear infinite"}}),E&&_.length>0&&c.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:50,background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 10px 25px rgba(0,0,0,0.12)",marginTop:"4px",maxHeight:"200px",overflowY:"auto"},children:_.map(ae=>c.jsxs("button",{onClick:()=>re(ae),style:{width:"100%",padding:"8px 14px",border:"none",background:"none",textAlign:"left",cursor:"pointer",display:"flex",flexDirection:"column",gap:"1px",borderBottom:"1px solid #f3f4f6",transition:"background 0.15s"},onMouseEnter:De=>{De.currentTarget.style.backgroundColor="#f0f9ff"},onMouseLeave:De=>{De.currentTarget.style.backgroundColor="transparent"},children:[c.jsx("span",{style:{fontWeight:600,fontSize:"13px",color:"#111827"},children:ae.part_number||ae.item_code}),c.jsxs("span",{style:{fontSize:"11px",color:"#6b7280"},children:[ae.master_serial_no?`MSN: ${ae.master_serial_no} | `:"",ae.item_code,"  ",ae.item_name]})]},ae.id))})]})]}),T&&c.jsxs(c.Fragment,{children:[c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px",background:"var(--enterprise-gray-50)",padding:"12px 16px",borderRadius:"8px"},children:[{label:"Part Number",value:T.part_number||""},{label:"MSN",value:T.master_serial_no||""},{label:"Item Code",value:T.item_code},{label:"Description",value:T.item_name}].map(ae=>c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"10px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.5px"},children:ae.label}),c.jsx("div",{style:{fontSize:"13px",fontWeight:600,color:"#111827",marginTop:"2px"},children:ae.value})]},ae.label))}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px"},children:Object.entries(sl).map(([ae,De])=>{const Ye=ke(ae),vt=De.icon;return c.jsxs("div",{style:{padding:"10px",borderRadius:"8px",border:"1px solid #e5e7eb",background:`${De.color}08`,display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[c.jsx(vt,{size:16,style:{color:De.color}}),c.jsx("div",{style:{fontSize:"10px",fontWeight:600,color:"#6b7280",textAlign:"center"},children:De.name}),c.jsx("div",{style:{fontSize:"18px",fontWeight:800,color:De.color},children:I?"...":Ye.toLocaleString()}),c.jsx("div",{style:{fontSize:"10px",color:"#9ca3af"},children:T.uom})]},ae)})}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:Mr,children:"Select Warehouse *"}),c.jsxs("div",{style:{position:"relative"},children:[c.jsxs("select",{value:H,onChange:ae=>z(ae.target.value),style:{...gn,appearance:"none",paddingRight:"36px",cursor:"pointer"},children:[c.jsx("option",{value:"",children:"Choose warehouse..."}),Object.entries(sl).map(([ae,De])=>c.jsxs("option",{value:ae,children:[De.name," (",ae,")"]},ae))]}),c.jsx(af,{size:16,style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af",pointerEvents:"none"}})]})]}),c.jsxs("div",{children:[c.jsx("label",{style:Mr,children:"Direction *"}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:["IN","OUT"].map(ae=>c.jsxs("button",{type:"button",onClick:()=>q(ae),style:{padding:"10px",borderRadius:"8px",fontWeight:600,fontSize:"14px",border:N===ae?`2px solid ${ae==="IN"?"#10b981":"#ef4444"}`:"1px solid #e5e7eb",backgroundColor:N===ae?ae==="IN"?"#ecfdf5":"#fef2f2":"#fff",color:N===ae?ae==="IN"?"#065f46":"#991b1b":"#6b7280",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[ae==="IN"?c.jsx(CD,{size:16}):c.jsx(ND,{size:16})," ",ae]},ae))})]})]}),H&&X.length>0&&c.jsxs("div",{children:[c.jsx("label",{style:Mr,children:"Movement Route *"}),c.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:X.map((ae,De)=>{const Ye=U===ae,vt=ae.flow==="REVERSE";return c.jsxs("button",{onClick:()=>V(ae),style:{padding:"7px 14px",borderRadius:"8px",cursor:"pointer",fontSize:"12px",border:Ye?`2px solid ${vt?"#f59e0b":"#3b82f6"}`:"1px solid #e5e7eb",backgroundColor:Ye?vt?"#fffbeb":"#eff6ff":"#fff",color:Ye?vt?"#92400e":"#1e40af":"#4b5563",fontWeight:Ye?600:500,display:"flex",alignItems:"center",gap:"5px"},children:[vt&&c.jsx(mr,{size:12}),c.jsx(H_,{size:12}),ae.label]},De)})}),U&&c.jsxs("div",{style:{marginTop:"6px",padding:"6px 10px",borderRadius:"6px",fontSize:"11px",backgroundColor:$e?"#fffbeb":"#eff6ff",color:$e?"#92400e":"#1e40af",border:`1px solid ${$e?"#fde68a":"#bfdbfe"}`,display:"flex",alignItems:"center",gap:"6px"},children:[c.jsx(WD,{size:12}),c.jsx("strong",{children:qv[U.movementType]}),$e&&"  Reason required"]})]}),H&&X.length===0&&c.jsxs("div",{style:{padding:"10px",borderRadius:"8px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",color:"#991b1b",fontSize:"12px",display:"flex",alignItems:"center",gap:"6px"},children:[c.jsx(Oo,{size:14})," No valid ",N==="IN"?"inward":"outward"," routes for ",sl[H].name,"."]}),U&&c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[c.jsxs("div",{children:[c.jsxs("label",{style:Mr,children:["Quantity (",T.uom,") *"]}),c.jsx("input",{type:"number",min:1,value:K||"",onChange:ae=>te(parseInt(ae.target.value)||0),placeholder:"Enter quantity",style:gn})]}),c.jsxs("div",{children:[c.jsxs("label",{style:Mr,children:["Reason ",$e&&c.jsx("span",{style:{color:"#ef4444"},children:"* (Required)"})]}),c.jsx("input",{type:"text",value:J,onChange:ae=>D(ae.target.value),placeholder:$e?"Enter reason for return...":"Optional notes...",style:{...gn,borderColor:$e&&!J.trim()?"#fca5a5":void 0}})]})]})]}),c.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",borderTop:"1px solid var(--enterprise-gray-200)",paddingTop:"16px"},children:[c.jsx(vr,{variant:"tertiary",onClick:ct,children:"Cancel"}),c.jsx(vr,{variant:"primary",onClick:Rr,disabled:L||!U||K<=0||$e&&!J.trim(),icon:L?c.jsx(ri,{size:16,style:{animation:"spin 1s linear infinite"}}):c.jsx(Lp,{size:16}),children:L?"Processing...":"Complete Movement"})]})]})})]})}function RY({minDuration:t=4e3}){const[e,r]=M.useState(0);M.useEffect(()=>{const u=setInterval(()=>{r(d=>d>=100?(clearInterval(u),100):d+.5)},t/200);return()=>clearInterval(u)},[t]);const n=Math.min(e*.75,75),i=e>35?Math.min((e-35)*.8,50):0,o=e>40?Math.min((e-40)*1.2,70):0,l=e>40?Math.min((e-40)*.8,50):0;return c.jsxs("div",{style:{position:"fixed",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"linear-gradient(180deg, #f8fafc 0%, #f1f5f9 100%)",zIndex:9999,fontFamily:'"Inter", "Segoe UI", system-ui, sans-serif'},children:[c.jsx("style",{children:`
        @keyframes smoke {
          0% { transform: translateY(0) scale(1); opacity: 0.5; }
          100% { transform: translateY(-12px) scale(1.4); opacity: 0; }
        }
        @keyframes wheelSpin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        @keyframes wave {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-2px); }
        }
        @keyframes cloudDrift {
          0%, 100% { transform: translateX(0); opacity: 0.6; }
          50% { transform: translateX(8px); opacity: 0.8; }
        }
        @keyframes factoryPulse {
          0%, 100% { opacity: 0.8; }
          50% { opacity: 1; }
        }
        @keyframes bob {
          0%, 100% { transform: translateY(0) rotate(0deg); }
          25% { transform: translateY(-2px) rotate(1deg); }
          75% { transform: translateY(-1px) rotate(-1deg); }
        }
      `}),c.jsx("h1",{style:{fontSize:"26px",fontWeight:600,color:"#1e293b",marginBottom:"50px",letterSpacing:"-0.5px"},children:"Warehouse Management System"}),c.jsxs("div",{style:{position:"relative",width:"95vw",maxWidth:"1400px",height:"140px",padding:"0 20px"},children:[c.jsx("div",{style:{position:"absolute",bottom:"35px",left:"20px",right:"20px",height:"2px",background:"linear-gradient(90deg, #94a3b8, #64748b, #94a3b8)"}}),c.jsx("div",{style:{position:"absolute",bottom:"38px",left:"20px",right:"20px",height:"1px",background:"repeating-linear-gradient(90deg, transparent, transparent 20px, #cbd5e1 20px, #cbd5e1 40px)"}}),c.jsx("div",{style:{position:"absolute",left:"20px",bottom:"35px",animation:"factoryPulse 3s ease-in-out infinite"},children:c.jsxs("svg",{width:"60",height:"70",viewBox:"0 0 60 70",fill:"none",stroke:"#475569",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"5",y:"30",width:"50",height:"40",rx:"2"}),c.jsx("path",{d:"M5 30 L20 15 L35 30"}),c.jsx("path",{d:"M25 30 L40 15 L55 30"}),c.jsx("rect",{x:"42",y:"5",width:"10",height:"25"}),c.jsx("rect",{x:"22",y:"50",width:"16",height:"20"}),c.jsx("rect",{x:"10",y:"38",width:"10",height:"10"}),c.jsx("rect",{x:"40",y:"38",width:"10",height:"10"}),c.jsx("circle",{cx:"47",cy:"0",r:"4",fill:"none",style:{animation:"smoke 1.5s ease-out infinite"}}),c.jsx("circle",{cx:"50",cy:"-5",r:"3",fill:"none",style:{animation:"smoke 2s ease-out infinite",animationDelay:"0.4s"}}),c.jsx("circle",{cx:"44",cy:"-3",r:"3",fill:"none",style:{animation:"smoke 1.8s ease-out infinite",animationDelay:"0.8s"}})]})}),c.jsx("div",{style:{position:"absolute",left:`calc(80px + ${n}%)`,bottom:"35px",transition:"left 0.15s linear"},children:c.jsxs("svg",{width:"55",height:"35",viewBox:"0 0 55 35",fill:"none",stroke:"#475569",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"2",y:"5",width:"32",height:"20",rx:"2"}),c.jsx("path",{d:"M34 8 L34 25 L50 25 L50 15 L45 8 Z"}),c.jsx("path",{d:"M45 10 L50 15 L50 20 L45 20 Z",fill:"none"}),c.jsx("circle",{cx:"49",cy:"22",r:"2"}),c.jsxs("g",{style:{transformOrigin:"12px 30px",animation:e>0&&e<80?"wheelSpin 0.25s linear infinite":"none"},children:[c.jsx("circle",{cx:"12",cy:"30",r:"6"}),c.jsx("circle",{cx:"12",cy:"30",r:"2"}),c.jsx("line",{x1:"12",y1:"24",x2:"12",y2:"36"}),c.jsx("line",{x1:"6",y1:"30",x2:"18",y2:"30"})]}),c.jsxs("g",{style:{transformOrigin:"42px 30px",animation:e>0&&e<80?"wheelSpin 0.25s linear infinite":"none"},children:[c.jsx("circle",{cx:"42",cy:"30",r:"6"}),c.jsx("circle",{cx:"42",cy:"30",r:"2"}),c.jsx("line",{x1:"42",y1:"24",x2:"42",y2:"36"}),c.jsx("line",{x1:"36",y1:"30",x2:"48",y2:"30"})]}),e>0&&e<80&&c.jsxs(c.Fragment,{children:[c.jsx("circle",{cx:"-2",cy:"22",r:"3",fill:"none",style:{animation:"smoke 0.6s ease-out infinite"}}),c.jsx("circle",{cx:"-5",cy:"20",r:"2",fill:"none",style:{animation:"smoke 0.8s ease-out infinite",animationDelay:"0.2s"}})]})]})}),c.jsx("div",{style:{position:"absolute",left:"42%",bottom:"35px"},children:c.jsxs("svg",{width:"80",height:"60",viewBox:"0 0 80 60",fill:"none",stroke:"#475569",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"0",y:"45",width:"80",height:"8"}),c.jsx("rect",{x:"35",y:"5",width:"6",height:"40"}),c.jsx("path",{d:"M5 5 L70 5"}),c.jsx("path",{d:"M8 5 L8 3 L12 3 L12 5"}),c.jsx("path",{d:"M65 5 L65 3 L69 3 L69 5"}),c.jsx("line",{x1:"20",y1:"5",x2:"20",y2:"28",strokeDasharray:"3,2"}),c.jsx("rect",{x:"15",y:"28",width:"10",height:"8"})," ",c.jsx("rect",{x:"5",y:"33",width:"15",height:"12"}),c.jsx("rect",{x:"60",y:"33",width:"15",height:"12"}),c.jsx("rect",{x:"8",y:"22",width:"12",height:"11"})]})}),c.jsx("div",{style:{position:"absolute",left:`calc(48% + ${i}px)`,bottom:"20px",transition:"left 0.2s linear",opacity:e>35?1:.3,animation:e>35?"bob 2s ease-in-out infinite":"none"},children:c.jsxs("svg",{width:"60",height:"40",viewBox:"0 0 60 40",fill:"none",stroke:"#475569",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M5 22 L12 35 L48 35 L55 22 Z"}),c.jsx("rect",{x:"12",y:"16",width:"36",height:"7"}),c.jsx("rect",{x:"40",y:"5",width:"10",height:"12"}),c.jsx("rect",{x:"42",y:"7",width:"3",height:"3"})," ",c.jsx("rect",{x:"14",y:"8",width:"10",height:"9"}),c.jsx("rect",{x:"26",y:"8",width:"10",height:"9"}),c.jsx("rect",{x:"44",y:"0",width:"4",height:"6"}),e>35&&c.jsxs(c.Fragment,{children:[c.jsx("circle",{cx:"46",cy:"-4",r:"3",fill:"none",style:{animation:"smoke 1.2s ease-out infinite"}}),c.jsx("circle",{cx:"48",cy:"-7",r:"2",fill:"none",style:{animation:"smoke 1.5s ease-out infinite",animationDelay:"0.3s"}})]}),e>35&&c.jsx("g",{style:{animation:"wave 1s ease-in-out infinite"},children:c.jsx("path",{d:"M0 38 Q8 35 16 38 T32 38 T48 38 T60 38",strokeWidth:"1"})})]})}),c.jsxs("div",{style:{position:"absolute",left:`calc(52% + ${o}px)`,bottom:`${50+l}px`,transition:"all 0.2s linear",opacity:e>40?1:.3},children:[c.jsxs("svg",{width:"50",height:"30",viewBox:"0 0 50 30",fill:"none",stroke:"#475569",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("ellipse",{cx:"25",cy:"15",rx:"20",ry:"5"}),c.jsx("path",{d:"M45 15 L50 15"}),c.jsx("ellipse",{cx:"40",cy:"14",rx:"4",ry:"3"}),c.jsx("path",{d:"M18 15 L8 5 L22 5 L28 13"}),c.jsx("path",{d:"M18 15 L8 25 L22 25 L28 17"}),c.jsx("path",{d:"M6 15 L2 8 L10 8"}),c.jsx("path",{d:"M7 15 L4 11"}),c.jsx("path",{d:"M7 15 L4 19"}),c.jsx("ellipse",{cx:"15",cy:"8",rx:"4",ry:"2"}),c.jsx("ellipse",{cx:"15",cy:"22",rx:"4",ry:"2"})]}),e>50&&c.jsxs("svg",{style:{position:"absolute",top:"-10px",right:"-30px",animation:"cloudDrift 3s ease-in-out infinite"},width:"40",height:"20",viewBox:"0 0 40 20",fill:"none",stroke:"#94a3b8",strokeWidth:"1",children:[c.jsx("ellipse",{cx:"20",cy:"14",rx:"15",ry:"6"}),c.jsx("ellipse",{cx:"12",cy:"10",rx:"8",ry:"5"}),c.jsx("ellipse",{cx:"28",cy:"10",rx:"7",ry:"4"})]})]}),c.jsx("div",{style:{position:"absolute",right:"20px",bottom:"35px"},children:c.jsxs("svg",{width:"70",height:"65",viewBox:"0 0 70 65",fill:"none",stroke:"#475569",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"5",y:"22",width:"60",height:"43",rx:"2"}),c.jsx("path",{d:"M0 22 L35 5 L70 22"}),c.jsx("rect",{x:"20",y:"40",width:"30",height:"25"}),c.jsx("line",{x1:"20",y1:"48",x2:"50",y2:"48"}),c.jsx("line",{x1:"20",y1:"56",x2:"50",y2:"56"}),c.jsx("rect",{x:"25",y:"28",width:"20",height:"10",rx:"1"}),c.jsx("text",{x:"35",y:"36",textAnchor:"middle",fontSize:"7",fill:"#475569",stroke:"none",fontWeight:"600",children:"WMS"}),e>80&&c.jsxs(c.Fragment,{children:[c.jsx("rect",{x:"8",y:"52",width:"8",height:"8",strokeWidth:"1.5"}),c.jsx("rect",{x:"54",y:"52",width:"8",height:"8",strokeWidth:"1.5"}),c.jsx("rect",{x:"10",y:"44",width:"6",height:"6",strokeWidth:"1"})]})]})})]}),c.jsxs("div",{style:{marginTop:"45px",textAlign:"center"},children:[c.jsx("div",{style:{width:"350px",height:"4px",background:"#e2e8f0",borderRadius:"2px",overflow:"hidden",marginBottom:"14px"},children:c.jsx("div",{style:{height:"100%",width:`${e}%`,background:"linear-gradient(90deg, #475569, #64748b)",borderRadius:"2px",transition:"width 0.1s linear"}})}),c.jsxs("p",{style:{fontSize:"15px",color:"#64748b"},children:[e<20?"Manufacturing...":e<40?"Loading truck...":e<55?"Arrived at port...":e<75?"Shipping cargo...":e<90?"Delivering to warehouse...":"Complete!",c.jsxs("span",{style:{marginLeft:"10px",fontWeight:600,color:"#334155"},children:[Math.round(e),"%"]})]})]}),c.jsx("p",{style:{position:"absolute",bottom:"20px",fontSize:"11px",color:"#94a3b8",letterSpacing:"1.5px",textTransform:"uppercase"},children:"Autocrat Engineers  Supply Chain Excellence"})]})}const wt=Xr();async function MY(){try{const{data:t,error:e}=await wt.from("profiles").select("*").is("deleted_at",null).order("created_at",{ascending:!1});if(e)throw console.error("Get users error:",e),new Error("Failed to fetch users");return(t||[]).map(r=>({...r,created_by_name:null}))}catch(t){throw console.error("Get users exception:",t),t}}async function $Y(t,e){try{const{data:{session:r}}=await wt.auth.getSession();if(!r)return{success:!1,error:"Not authenticated"};const n=r.access_token,i=r.refresh_token,{data:o}=await wt.from("profiles").select("role").eq("id",r.user.id).single();if(o?.role!=="L3")return{success:!1,error:"Only L3 managers can create users"};const{data:l}=await wt.from("profiles").select("email").eq("email",t.email);if(l&&l.length>0)return{success:!1,error:"A user with this email already exists"};const{data:u,error:d}=await wt.auth.signUp({email:t.email,password:t.password,options:{data:{full_name:t.full_name,role:t.role},emailRedirectTo:void 0}});if(await wt.auth.setSession({access_token:n,refresh_token:i}),d)return console.error("Auth signup error:",d),{success:!1,error:d.message};if(!u.user)return{success:!1,error:"Failed to create user"};await new Promise(y=>setTimeout(y,500));const{error:h}=await wt.from("profiles").upsert({id:u.user.id,email:t.email,full_name:t.full_name,role:t.role,is_active:!0,employee_id:t.employee_id||null,department:t.department||null,shift:t.shift||null,created_by:e,updated_at:new Date().toISOString()},{onConflict:"id"});h&&console.error("Profile update error:",h);try{await wt.from("audit_log").insert({user_id:r.user.id,action:"CREATE_USER",target_type:"user",target_id:u.user.id,new_value:{email:t.email,role:t.role}})}catch{}return{success:!0,user:{id:u.user.id,email:t.email,full_name:t.full_name,role:t.role,is_active:!0,employee_id:t.employee_id||null,department:t.department||null,shift:t.shift||null}}}catch(r){const n=r instanceof Error?r.message:"Unknown error";return console.error("Create user exception:",r),{success:!1,error:n}}}async function DY(t,e){try{const{data:{user:r}}=await wt.auth.getUser();if(!r)return{success:!1,error:"Not authenticated"};const{data:n}=await wt.from("profiles").select("role").eq("id",r.id).single();if(n?.role!=="L3")return{success:!1,error:"Only L3 managers can update users"};const{data:i}=await wt.from("profiles").select("*").eq("id",t).single();if(!i)return{success:!1,error:"User not found"};const o={updated_at:new Date().toISOString()};e.full_name!==void 0&&e.full_name!==""&&(o.full_name=e.full_name),e.role!==void 0&&(o.role=e.role),e.is_active!==void 0&&(o.is_active=e.is_active),e.employee_id!==void 0&&(o.employee_id=e.employee_id||null),e.department!==void 0&&(o.department=e.department||null),e.shift!==void 0&&(o.shift=e.shift||null),console.log("Updating user with data:",o);const{data:l,error:u}=await wt.from("profiles").update(o).eq("id",t).select();if(u)return console.error("Update user error:",u.message,u.details,u.hint),{success:!1,error:`Failed to update user: ${u.message}`};console.log("Update result:",l);try{await wt.from("audit_log").insert({user_id:r.id,action:"UPDATE_USER",target_type:"user",target_id:t,old_value:i,new_value:e})}catch{}return{success:!0}}catch(r){const n=r instanceof Error?r.message:"Unknown error";return console.error("Update user exception:",r),{success:!1,error:n}}}async function LY(t,e){try{const{data:{user:r}}=await wt.auth.getUser();if(!r)return{success:!1,error:"Not authenticated"};if(t===r.id&&!e)return{success:!1,error:"Cannot deactivate your own account"};const{error:n}=await wt.from("profiles").update({is_active:e,updated_at:new Date().toISOString()}).eq("id",t);return n?(console.error("Update status error:",n),{success:!1,error:"Failed to update status"}):(await wt.from("audit_log").insert({user_id:r.id,action:e?"ACTIVATE_USER":"DEACTIVATE_USER",target_type:"user",target_id:t}),{success:!0})}catch(r){const n=r instanceof Error?r.message:"Unknown error";return console.error("Update status exception:",r),{success:!1,error:n}}}async function zY(t){try{const{data:{user:e}}=await wt.auth.getUser();if(!e)return{success:!1,error:"Not authenticated"};if(t===e.id)return{success:!1,error:"Cannot delete your own account"};const{data:r}=await wt.from("profiles").select("role").eq("id",e.id).single();if(r?.role!=="L3")return{success:!1,error:"Only L3 managers can delete users"};const{data:n}=await wt.from("profiles").select("email, full_name").eq("id",t).single(),{error:i}=await wt.from("profiles").update({is_active:!1,deleted_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",t);if(i)return console.error("Delete user error:",i),{success:!1,error:"Failed to delete user"};try{await wt.from("audit_log").insert({user_id:e.id,action:"DELETE_USER",target_type:"user",target_id:t,old_value:{email:n?.email,full_name:n?.full_name}})}catch{}return{success:!0}}catch(e){const r=e instanceof Error?e.message:"Unknown error";return console.error("Delete user exception:",e),{success:!1,error:r}}}const BA={L1:{label:"OPERATOR",bg:"#dbeafe",color:"#1d4ed8"},L2:{label:"SUPERVISOR",bg:"#fef3c7",color:"#b45309"},L3:{label:"MANAGER",bg:"#ede9fe",color:"#7c3aed"}};function BY({role:t}){const e=BA[t]||BA.L1;return c.jsx("span",{style:{display:"inline-flex",alignItems:"center",padding:"4px 12px",borderRadius:"20px",fontSize:"11px",fontWeight:"700",letterSpacing:"0.05em",backgroundColor:e.bg,color:e.color},children:e.label})}function qY({currentUserId:t}){const[e,r]=M.useState([]),[n,i]=M.useState(!0),[o,l]=M.useState(null),[u,d]=M.useState(null),[h,y]=M.useState(""),[p,m]=M.useState("all"),[v,_]=M.useState("all"),[w,b]=M.useState(20),k=20,[E,O]=M.useState(!1),[T,j]=M.useState(!1),[A,C]=M.useState(!1),[I,R]=M.useState(null),[H,z]=M.useState(null),N=M.useRef(null),[q,U]=M.useState({email:"",password:"",full_name:"",role:"L1",employee_id:"",department:"",shift:"DAY"}),[V,X]=M.useState(!1),[ee,K]=M.useState({full_name:"",role:"L1",employee_id:"",department:"",shift:""}),[te,J]=M.useState(!1);M.useEffect(()=>{D()},[]),M.useEffect(()=>{const re=ke=>{H&&N.current&&!N.current.contains(ke.target)&&z(null)};return document.addEventListener("mousedown",re),()=>document.removeEventListener("mousedown",re)},[H]);const D=async()=>{try{i(!0),l(null);const re=await MY();r(re)}catch{l("Failed to fetch users")}finally{i(!1)}},L=async re=>{re.preventDefault(),X(!0),l(null);const ke=await $Y(q,t);ke.success?(d("User created successfully"),O(!1),U({email:"",password:"",full_name:"",role:"L1",employee_id:"",department:"",shift:"DAY"}),D()):l(ke.error||"Failed to create user"),X(!1)},oe=async re=>{if(re.preventDefault(),!I)return;J(!0),l(null);const ke=await DY(I.id,ee);ke.success?(d("User updated successfully"),j(!1),R(null),D()):l(ke.error||"Failed to update user"),J(!1)},fe=re=>{R(re),K({full_name:re.full_name,role:re.role,employee_id:re.employee_id||"",department:re.department||"",shift:re.shift||""}),j(!0),z(null)},pe=async(re,ke)=>{const $e=await LY(re,ke);$e.success?(d(ke?"User activated":"User deactivated"),D(),z(null)):l($e.error||"Failed to update status")},_e=re=>{R(re),C(!0),z(null)},Re=async()=>{if(!I)return;const re=await zY(I.id);re.success?(d("User deleted successfully"),C(!1),R(null),D()):l(re.error||"Failed to delete user")},Se=e.filter(re=>{const ke=re.email.toLowerCase().includes(h.toLowerCase())||re.full_name.toLowerCase().includes(h.toLowerCase())||(re.employee_id||"").toLowerCase().includes(h.toLowerCase()),$e=p==="all"||re.role===p,Ke=v==="all"||v==="active"&&re.is_active||v==="inactive"&&!re.is_active;return ke&&$e&&Ke}),se=Se.slice(0,w),Q=w<Se.length;M.useEffect(()=>{b(k)},[h,p,v]);const ye=()=>{b(re=>re+k)},ie={total:e.length,active:e.filter(re=>re.is_active).length,inactive:e.filter(re=>!re.is_active).length,operators:e.filter(re=>re.role==="L1").length,supervisors:e.filter(re=>re.role==="L2").length};return M.useEffect(()=>{if(u){const re=setTimeout(()=>d(null),3e3);return()=>clearTimeout(re)}},[u]),M.useEffect(()=>{if(o){const re=setTimeout(()=>l(null),5e3);return()=>clearTimeout(re)}},[o]),c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[u&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 18px",borderRadius:"10px",fontSize:"14px",backgroundColor:"#dcfce7",color:"#15803d",border:"1px solid #86efac"},children:[c.jsx(Jn,{size:18}),u]}),o&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 18px",borderRadius:"10px",fontSize:"14px",backgroundColor:"#fef2f2",color:"#dc2626",border:"1px solid #fca5a5"},children:[c.jsx(Io,{size:18}),o]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"14px"},children:[c.jsxs("div",{onClick:()=>{m("all"),_("all")},style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.08)",border:p==="all"&&v==="all"?"2px solid #3b82f6":"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"14px"},children:[c.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"10px",backgroundColor:"rgba(59, 130, 246, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(r0,{size:22,style:{color:"#3b82f6"}})}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"#6b7280",marginBottom:"2px"},children:"Total Users"}),c.jsx("div",{style:{fontSize:"26px",fontWeight:"700",color:"#111827"},children:ie.total})]})]}),c.jsxs("div",{onClick:()=>{_(v==="active"?"all":"active"),m("all")},style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.08)",border:v==="active"?"2px solid #10b981":"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"14px"},children:[c.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"10px",backgroundColor:"rgba(16, 185, 129, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(K_,{size:22,style:{color:"#10b981"}})}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"#6b7280",marginBottom:"2px"},children:"Active"}),c.jsx("div",{style:{fontSize:"26px",fontWeight:"700",color:"#111827"},children:ie.active})]})]}),c.jsxs("div",{onClick:()=>{_(v==="inactive"?"all":"inactive"),m("all")},style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.08)",border:v==="inactive"?"2px solid #ef4444":"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"14px"},children:[c.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"10px",backgroundColor:"rgba(239, 68, 68, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(G_,{size:22,style:{color:"#ef4444"}})}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"#6b7280",marginBottom:"2px"},children:"Inactive"}),c.jsx("div",{style:{fontSize:"26px",fontWeight:"700",color:"#111827"},children:ie.inactive})]})]}),c.jsxs("div",{onClick:()=>{m(p==="L1"?"all":"L1"),_("all")},style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.08)",border:p==="L1"?"2px solid #6366f1":"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"14px"},children:[c.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"10px",backgroundColor:"rgba(99, 102, 241, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(S4,{size:22,style:{color:"#6366f1"}})}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"#6b7280",marginBottom:"2px"},children:"Operators"}),c.jsx("div",{style:{fontSize:"26px",fontWeight:"700",color:"#111827"},children:ie.operators})]})]}),c.jsxs("div",{onClick:()=>{m(p==="L2"?"all":"L2"),_("all")},style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.08)",border:p==="L2"?"2px solid #a855f7":"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"14px"},children:[c.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"10px",backgroundColor:"rgba(168, 85, 247, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(lT,{size:22,style:{color:"#a855f7"}})}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"#6b7280",marginBottom:"2px"},children:"Supervisors"}),c.jsx("div",{style:{fontSize:"26px",fontWeight:"700",color:"#111827"},children:ie.supervisors})]})]})]}),c.jsxs("div",{style:{backgroundColor:"white",padding:"16px 20px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[c.jsxs("div",{style:{position:"relative",flex:"1 1 350px",minWidth:"280px"},children:[c.jsx(En,{size:18,style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),c.jsx("input",{type:"text",placeholder:"Search by name, employee ID, or email...",value:h,onChange:re=>y(re.target.value),style:{width:"100%",padding:"11px 40px 11px 42px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box",outline:"none",transition:"border-color 0.2s"}}),h&&c.jsx("button",{onClick:()=>y(""),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",color:"#9ca3af"},onMouseEnter:re=>re.currentTarget.style.color="#6b7280",onMouseLeave:re=>re.currentTarget.style.color="#9ca3af",children:c.jsx(Eo,{size:16})})]}),c.jsx("div",{style:{width:"1px",height:"28px",backgroundColor:"#e5e7eb"}}),(p!=="all"||v!=="all")&&c.jsxs("button",{onClick:()=>{m("all"),_("all")},style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 14px",border:"1px solid #fca5a5",borderRadius:"8px",backgroundColor:"#fef2f2",color:"#dc2626",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:[c.jsx(Oo,{size:16}),"Clear Filters"]}),c.jsxs("button",{onClick:D,disabled:n,style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 14px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"white",color:"#374151",fontSize:"13px",fontWeight:"500",cursor:n?"not-allowed":"pointer",opacity:n?.6:1},children:[c.jsx(is,{size:16,style:{animation:n?"spin 1s linear infinite":"none"}}),"Refresh"]}),c.jsxs("button",{onClick:()=>{const re=Se.map(ct=>`${ct.employee_id||""},${ct.full_name},${ct.email},${ct.role},${ct.department||""},${ct.shift||""},${ct.is_active?"Active":"Inactive"}`).join(`
`),ke=`Employee ID,Name,Email,Role,Department,Shift,Status
`,$e=new Blob([ke+re],{type:"text/csv"}),Ke=URL.createObjectURL($e),it=document.createElement("a");it.href=Ke,it.download="users_export.csv",it.click()},style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 14px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"white",color:"#374151",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:[c.jsx(of,{size:16}),"Export CSV"]}),c.jsxs("button",{onClick:()=>O(!0),style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 16px",border:"none",borderRadius:"8px",backgroundColor:"#2563eb",color:"white",fontSize:"13px",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 4px rgba(37, 99, 235, 0.2)"},children:[c.jsx(k4,{size:16}),"Add User"]})]}),c.jsx("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",overflow:"hidden"},children:n?c.jsxs("div",{style:{padding:"80px",textAlign:"center"},children:[c.jsx(ri,{size:36,style:{animation:"spin 1s linear infinite",color:"#3b82f6"}}),c.jsx("p",{style:{marginTop:"16px",color:"#64748b",fontSize:"14px"},children:"Loading users..."})]}):Se.length===0?c.jsxs("div",{style:{padding:"80px",textAlign:"center"},children:[c.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"#f1f5f9",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:c.jsx(r0,{size:32,style:{color:"#94a3b8"}})}),c.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#374151",marginBottom:"4px"},children:h||p!=="all"||v!=="all"?"No Matching Users":"No Users Found"}),c.jsx("p",{style:{color:"#64748b",fontSize:"14px"},children:h||p!=="all"||v!=="all"?"Try adjusting your search or filter criteria":'Click "Add User" to create the first user'})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{style:{overflowX:"auto"},children:c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[c.jsx("thead",{children:c.jsx("tr",{style:{backgroundColor:"#f8fafc",borderBottom:"1px solid #e5e7eb"},children:["Employee ID","Name","Email","Role","Department","Shift","Status","Actions"].map(re=>c.jsx("th",{style:{padding:"14px 20px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#64748b",textTransform:"uppercase",letterSpacing:"0.05em",whiteSpace:"nowrap"},children:re},re))})}),c.jsx("tbody",{children:se.map(re=>c.jsxs("tr",{style:{borderBottom:"1px solid #f3f4f6",backgroundColor:re.id===t?"#f0f9ff":"transparent"},children:[c.jsx("td",{style:{padding:"20px 24px",fontSize:"14px",fontWeight:"600",color:"#374151"},children:re.employee_id||"---"}),c.jsxs("td",{style:{padding:"20px 24px"},children:[c.jsx("div",{style:{fontWeight:"600",color:"#111827"},children:re.full_name}),c.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af"},children:["@",re.email.split("@")[0]]})]}),c.jsx("td",{style:{padding:"20px 24px",fontSize:"14px",color:"#4b5563"},children:re.email}),c.jsx("td",{style:{padding:"20px 24px"},children:c.jsx(BY,{role:re.role})}),c.jsx("td",{style:{padding:"20px 24px",fontSize:"14px",color:"#4b5563"},children:re.department||"Production"}),c.jsx("td",{style:{padding:"20px 24px",fontSize:"14px",color:"#4b5563"},children:re.shift||"DAY"}),c.jsx("td",{style:{padding:"20px 24px"},children:c.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",backgroundColor:re.is_active?"#ecfdf5":"#fef2f2",color:re.is_active?"#059669":"#dc2626"},children:[re.is_active?c.jsx(K_,{size:14}):c.jsx(G_,{size:14}),re.is_active?"Active":"Inactive"]})}),c.jsxs("td",{style:{padding:"20px 24px",position:"relative"},children:[re.id!==t&&c.jsxs("div",{ref:H===re.id?N:null,style:{position:"relative",display:"inline-block"},children:[c.jsxs("button",{onClick:()=>z(H===re.id?null:re.id),style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",color:"#374151"},children:[c.jsx(sT,{size:16}),"Actions",c.jsx(af,{size:14,style:{transform:H===re.id?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"}})]}),H===re.id&&c.jsxs("div",{style:{position:"absolute",top:"100%",right:"0",marginTop:"4px",zIndex:50,width:"180px",backgroundColor:"white",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.15)",border:"1px solid #e5e7eb",overflow:"hidden"},children:[c.jsxs("button",{onClick:()=>fe(re),style:{width:"100%",padding:"12px 16px",display:"flex",alignItems:"center",gap:"10px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"14px",textAlign:"left",color:"#374151"},children:[c.jsx(g4,{size:16})," Edit User"]}),c.jsx("div",{style:{borderTop:"1px solid #f3f4f6"}}),c.jsxs("button",{onClick:()=>pe(re.id,!re.is_active),style:{width:"100%",padding:"12px 16px",display:"flex",alignItems:"center",gap:"10px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"14px",textAlign:"left",color:re.is_active?"#f59e0b":"#10b981"},children:[c.jsx(c4,{size:16})," ",re.is_active?"Deactivate":"Activate"]}),c.jsx("div",{style:{borderTop:"1px solid #f3f4f6"}}),c.jsxs("button",{onClick:()=>_e(re),style:{width:"100%",padding:"12px 16px",display:"flex",alignItems:"center",gap:"10px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"14px",textAlign:"left",color:"#ef4444"},children:[c.jsx(El,{size:16})," Delete User"]})]})]}),re.id===t&&c.jsx("span",{style:{color:"#94a3b8",fontSize:"12px"},children:"You"})]})]},re.id))})]})}),Q&&c.jsxs("div",{style:{padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",borderTop:"1px solid #e5e7eb",position:"relative",zIndex:10,backgroundColor:"white"},children:[c.jsxs("p",{style:{fontSize:"13px",color:"#64748b",margin:0},children:["Showing ",se.length," of ",Se.length," users"]}),c.jsxs("button",{onClick:ye,className:"load-more-btn",children:["Load More (",Math.min(k,Se.length-se.length)," more)"]})]}),!Q&&se.length>0&&c.jsx("div",{style:{padding:"16px",textAlign:"center",borderTop:"1px solid #e5e7eb"},children:c.jsxs("p",{style:{fontSize:"13px",color:"#64748b"},children:["Showing all ",Se.length," users"]})})]})}),E&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},children:c.jsxs("div",{style:{backgroundColor:"white",padding:"32px",borderRadius:"20px",width:"100%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[c.jsx("h2",{style:{fontSize:"24px",fontWeight:"800",margin:0},children:"Add New Enterprise User"}),c.jsx("button",{onClick:()=>O(!1),style:{border:"none",backgroundColor:"transparent",cursor:"pointer",color:"#6b7280"},children:c.jsx(Eo,{size:24})})]}),c.jsxs("form",{onSubmit:L,children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Full Name"}),c.jsx("input",{type:"text",required:!0,value:q.full_name,onChange:re=>U({...q,full_name:re.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Employee ID"}),c.jsx("input",{type:"text",placeholder:"EMP000",value:q.employee_id,onChange:re=>U({...q,employee_id:re.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"}})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Email Address"}),c.jsx("input",{type:"email",required:!0,value:q.email,onChange:re=>U({...q,email:re.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Password"}),c.jsx("input",{type:"password",required:!0,value:q.password,onChange:re=>U({...q,password:re.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"}})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Department"}),c.jsxs("select",{value:q.department,onChange:re=>U({...q,department:re.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"},children:[c.jsx("option",{value:"",children:"Select Department"}),c.jsx("option",{value:"Cutting",children:"Cutting"}),c.jsx("option",{value:"Production",children:"Production"}),c.jsx("option",{value:"Quality",children:"Quality"}),c.jsx("option",{value:"Dispatch",children:"Dispatch"})]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Shift"}),c.jsxs("select",{value:q.shift,onChange:re=>U({...q,shift:re.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"},children:[c.jsx("option",{value:"DAY",children:"Day Shift"}),c.jsx("option",{value:"NIGHT",children:"Night Shift"})]})]})]}),c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"System Role"}),c.jsxs("select",{value:q.role,onChange:re=>U({...q,role:re.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"},children:[c.jsx("option",{value:"L1",children:"Operator (L1)"}),c.jsx("option",{value:"L2",children:"Supervisor (L2)"}),c.jsx("option",{value:"L3",children:"Manager (L3)"})]})]}),c.jsxs("div",{style:{display:"flex",gap:"12px"},children:[c.jsx("button",{type:"button",onClick:()=>O(!1),style:{flex:1,padding:"14px",border:"none",borderRadius:"12px",backgroundColor:"#f3f4f6",color:"#4b5563",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),c.jsx("button",{type:"submit",disabled:V,style:{flex:2,padding:"14px",border:"none",borderRadius:"12px",backgroundColor:"#2563eb",color:"white",fontWeight:"600",cursor:V?"not-allowed":"pointer",opacity:V?.7:1},children:V?"Creating...":"Create Enterprise User"})]})]})]})}),T&&I&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},children:c.jsxs("div",{style:{backgroundColor:"white",padding:"32px",borderRadius:"20px",width:"100%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[c.jsx("h2",{style:{fontSize:"24px",fontWeight:"800",margin:0},children:"Edit User"}),c.jsx("button",{onClick:()=>{j(!1),R(null)},style:{border:"none",backgroundColor:"transparent",cursor:"pointer",color:"#6b7280"},children:c.jsx(Eo,{size:24})})]}),c.jsxs("div",{style:{backgroundColor:"#f0f9ff",padding:"16px",borderRadius:"12px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"16px"},children:[c.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:"#2563eb",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"20px",fontWeight:"700"},children:I.full_name.charAt(0).toUpperCase()}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#111827"},children:I.email}),c.jsxs("div",{style:{fontSize:"13px",color:"#6b7280"},children:["User ID: ",I.id.slice(0,8),"..."]})]})]}),c.jsxs("form",{onSubmit:oe,children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Full Name"}),c.jsx("input",{type:"text",required:!0,value:ee.full_name,onChange:re=>K({...ee,full_name:re.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Employee ID"}),c.jsx("input",{type:"text",placeholder:"EMP000",value:ee.employee_id,onChange:re=>K({...ee,employee_id:re.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"}})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Department"}),c.jsxs("select",{value:ee.department,onChange:re=>K({...ee,department:re.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"},children:[c.jsx("option",{value:"",children:"Select Department"}),c.jsx("option",{value:"Cutting",children:"Cutting"}),c.jsx("option",{value:"Production",children:"Production"}),c.jsx("option",{value:"Quality",children:"Quality"}),c.jsx("option",{value:"Dispatch",children:"Dispatch"})]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Shift"}),c.jsxs("select",{value:ee.shift,onChange:re=>K({...ee,shift:re.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"},children:[c.jsx("option",{value:"DAY",children:"Day Shift"}),c.jsx("option",{value:"NIGHT",children:"Night Shift"})]})]})]}),c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"System Role"}),c.jsxs("select",{value:ee.role,onChange:re=>K({...ee,role:re.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"10px",boxSizing:"border-box"},children:[c.jsx("option",{value:"L1",children:"Operator (L1)"}),c.jsx("option",{value:"L2",children:"Supervisor (L2)"}),c.jsx("option",{value:"L3",children:"Manager (L3)"})]})]}),c.jsxs("div",{style:{display:"flex",gap:"12px"},children:[c.jsx("button",{type:"button",onClick:()=>{j(!1),R(null)},style:{flex:1,padding:"14px",border:"none",borderRadius:"12px",backgroundColor:"#f3f4f6",color:"#4b5563",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),c.jsx("button",{type:"submit",disabled:te,style:{flex:2,padding:"14px",border:"none",borderRadius:"12px",backgroundColor:"#2563eb",color:"white",fontWeight:"600",cursor:te?"not-allowed":"pointer",opacity:te?.7:1},children:te?"Saving...":"Save Changes"})]})]})]})}),A&&I&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},children:c.jsxs("div",{style:{backgroundColor:"white",padding:"32px",borderRadius:"20px",width:"100%",maxWidth:"450px"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[c.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"#fef2f2",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:c.jsx(El,{size:32,style:{color:"#ef4444"}})}),c.jsx("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#111827",margin:"0 0 8px"},children:"Delete User"}),c.jsxs("p",{style:{color:"#6b7280",fontSize:"14px",margin:0},children:["Are you sure you want to delete ",c.jsx("strong",{children:I.full_name}),"? This action cannot be undone."]})]}),c.jsxs("div",{style:{display:"flex",gap:"12px"},children:[c.jsx("button",{onClick:()=>{C(!1),R(null)},style:{flex:1,padding:"14px",border:"none",borderRadius:"12px",backgroundColor:"#f3f4f6",color:"#4b5563",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),c.jsx("button",{onClick:Re,style:{flex:1,padding:"14px",border:"none",borderRadius:"12px",backgroundColor:"#ef4444",color:"white",fontWeight:"600",cursor:"pointer"},children:"Delete User"})]})]})}),c.jsx("style",{children:`
                @keyframes spin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
            `})]})}const Uv=Xr(),UY="/logo.png",FY=[{id:"dashboard",label:"Dashboard",icon:VD,description:"Overview & KPIs"},{id:"items",label:"Item Master",icon:br,description:"FG Catalog"},{id:"inventory",label:"Inventory",icon:bD,description:"Multi-Warehouse Stock"},{id:"stock-movements",label:"Stock Movements",icon:e0,description:"Audit Trail"},{id:"orders",label:"Blanket Orders",icon:wo,description:"Customer Orders"},{id:"releases",label:"Blanket Releases",icon:kl,description:"Delivery Schedule"},{id:"forecast",label:"Forecasting",icon:Al,description:"Demand Prediction"},{id:"planning",label:"MRP Planning",icon:bo,description:"Replenishment"}];function WY(){const[t,e]=M.useState(!1),[r,n]=M.useState(null),[i,o]=M.useState(null),[l,u]=M.useState(null),[d,h]=M.useState("dashboard"),[y,p]=M.useState(!0),[m,v]=M.useState(!0),[_,w]=M.useState(null);M.useEffect(()=>{b();const{data:{subscription:C}}=Uv.auth.onAuthStateChange(async(I,R)=>{console.log("Auth state changed:",I),R?.access_token&&R.user?(n(R.access_token),o(R.user),e(!0),w(null),E(R.user.id)):(n(null),o(null),u(null),e(!1))});return()=>{C.unsubscribe()}},[]);const b=async()=>{try{v(!0);const{data:{session:C},error:I}=await Uv.auth.getSession();if(I){console.error("Session check error:",I),v(!1);return}C?.access_token&&C.user?(console.log(" Session found, setting access token"),n(C.access_token),o(C.user),e(!0),w(null),await E(C.user.id)):(console.log("No active session"),e(!1))}catch(C){console.error("Auth initialization error:",C),w(C instanceof Error?C.message:"Failed to initialize auth"),e(!1)}finally{v(!1)}},k=async(C,I)=>{try{w(null),v(!0);const R=await cD(C,I);return R.error?(w(R.error),!1):R.session?.access_token?(console.log(" Login successful"),n(R.session.access_token),o(R.session.user),e(!0),!0):(w("Login failed: No session received"),!1)}catch(R){const H=R instanceof Error?R.message:"Login failed";return console.error("Login error:",R),w(H),!1}finally{v(!1)}},E=async C=>{console.log(" Fetching role for user:",C);try{const{data:I,error:R}=await Uv.from("profiles").select("role, is_active, email, full_name").eq("id",C).single();if(console.log(" Profile query result:",{data:I,error:R}),R){console.error(" Could not fetch user role:",R),console.error("Error code:",R.code,"Message:",R.message),u("L1");return}I&&I.is_active?(console.log(" User role set to:",I.role),u(I.role)):I&&!I.is_active?(console.warn(" User account is inactive"),u(null),w("Account is inactive. Please contact your administrator."),await F_(),e(!1)):(console.warn(" No profile data found, defaulting to L1"),u("L1"))}catch(I){console.error(" Error fetching user role:",I),u("L1")}},O=async()=>{try{v(!0),await F_(),n(null),o(null),u(null),e(!1),h("dashboard"),w(null)}catch(C){console.error("Logout error:",C),w(C instanceof Error?C.message:"Logout failed")}finally{v(!1)}};if(m&&!t)return c.jsx(RY,{message:"Initializing System..."});if(!t)return c.jsx(N4,{onLogin:k,isLoading:m,error:_});const T=()=>{if(!r)return c.jsxs("div",{style:{padding:"32px",backgroundColor:"#fee2e2",borderRadius:"12px",display:"flex",alignItems:"center",gap:"12px",color:"#dc2626"},children:[c.jsx(Io,{size:24}),c.jsxs("div",{children:[c.jsx("strong",{children:"Authentication Error:"})," No access token available. Please login again."]})]});switch(d){case"dashboard":return c.jsx(X_,{accessToken:r,onNavigate:C=>h(C)});case"items":return c.jsx(Y4,{});case"inventory":return c.jsx(xL,{});case"stock-movements":return c.jsx(NY,{accessToken:r});case"orders":return c.jsx(bL,{accessToken:r});case"releases":return c.jsx(wL,{accessToken:r});case"forecast":return c.jsx(CY,{accessToken:r});case"planning":return c.jsx(PY,{accessToken:r});case"users":return l!=="L3"?c.jsxs("div",{style:{padding:"32px",backgroundColor:"#fef3c7",borderRadius:"12px",display:"flex",alignItems:"center",gap:"12px",color:"#92400e"},children:[c.jsx(lT,{size:24}),c.jsxs("div",{children:[c.jsx("strong",{children:"Access Denied:"})," Only L3 Managers can access User Management."]})]}):c.jsx(qY,{currentUserId:i?.id||""});default:return c.jsx(X_,{accessToken:r,onNavigate:C=>h(C)})}},j=()=>{const C=FY;return console.log(" getMenuItems called, userRole:",l),l==="L3"?(console.log(" Adding User Management menu for L3"),[...C,{id:"users",label:"User Management",icon:r0,description:"Manage Users & Roles"}]):C};console.log(" Current userRole state:",l);const A=j().find(C=>C.id===d);return c.jsx(P4,{children:c.jsxs("div",{style:{display:"flex",height:"100vh",overflow:"hidden",backgroundColor:"var(--background-secondary)"},children:[c.jsxs("aside",{style:{width:y?"280px":"0",backgroundColor:"var(--card-background)",borderRight:"1px solid var(--border-color)",display:"flex",flexDirection:"column",transition:"width 300ms ease",overflow:"hidden",boxShadow:"var(--shadow-lg)"},children:[c.jsx("div",{style:{padding:"24px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",backgroundColor:"#1e3a8a"},children:c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[c.jsx("div",{style:{backgroundColor:"white",padding:"16px 20px",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:c.jsx("img",{src:UY,alt:"Autocrat Engineers",style:{width:"100%",height:"auto",display:"block"},onError:C=>{C.currentTarget.style.display="none"}})}),c.jsx("p",{style:{color:"rgba(255, 255, 255, 0.95)",fontSize:"13px",margin:"0",fontWeight:"500",letterSpacing:"0.3px",textAlign:"center"},children:"Warehouse Management System"})]})}),c.jsx("nav",{style:{flex:1,overflowY:"auto",padding:"16px 0"},children:j().map(C=>{const I=C.icon,R=d===C.id;return c.jsxs("button",{onClick:()=>h(C.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 24px",border:"none",backgroundColor:R?"rgba(30, 58, 138, 0.08)":"transparent",borderLeft:R?"3px solid var(--enterprise-primary)":"3px solid transparent",color:R?"var(--enterprise-primary)":"var(--enterprise-gray-600)",textAlign:"left",cursor:"pointer",transition:"all 200ms ease",fontWeight:R?"600":"500",fontSize:"14px"},onMouseEnter:H=>{R||(H.currentTarget.style.backgroundColor="var(--enterprise-gray-50)")},onMouseLeave:H=>{R||(H.currentTarget.style.backgroundColor="transparent")},children:[c.jsx(I,{size:20,strokeWidth:R?2.5:2}),c.jsxs("div",{style:{flex:1},children:[c.jsx("div",{children:C.label}),c.jsx("div",{style:{fontSize:"11px",color:"var(--enterprise-gray-500)",fontWeight:"400"},children:C.description})]}),R&&c.jsx(oT,{size:16})]},C.id)})}),c.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid var(--border-color)",backgroundColor:"var(--enterprise-gray-50)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[c.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",backgroundColor:"var(--enterprise-primary)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"13px"},children:i?.email?.charAt(0).toUpperCase()||"U"}),c.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[c.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"var(--enterprise-gray-900)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i?.user_metadata?.name||i?.email||"User"}),c.jsx("div",{style:{fontSize:"11px",color:l==="L3"?"#1e40af":l==="L2"?"#ca8a04":"#6b7280",fontWeight:"600"},children:l==="L3"?"Manager (Admin)":l==="L2"?"Supervisor":"Operator"})]})]}),c.jsxs("button",{onClick:O,disabled:m,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"10px",border:"1px solid var(--border-color)",backgroundColor:m?"#f3f4f6":"white",borderRadius:"var(--border-radius-md)",color:m?"#9ca3af":"var(--enterprise-primary)",fontSize:"13px",fontWeight:"500",cursor:m?"not-allowed":"pointer",transition:"all 200ms ease",opacity:m?.6:1},children:[c.jsx(ZD,{size:16}),m?"Signing out...":"Sign Out"]})]})]}),c.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[c.jsxs("header",{style:{height:"70px",backgroundColor:"var(--card-background)",borderBottom:"1px solid var(--border-color)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 32px",boxShadow:"var(--shadow-sm)"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[c.jsx("button",{onClick:()=>p(!y),style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",backgroundColor:"transparent",borderRadius:"var(--border-radius-md)",color:"var(--enterprise-gray-600)",cursor:"pointer",transition:"all 200ms ease"},onMouseEnter:C=>{C.currentTarget.style.backgroundColor="var(--enterprise-gray-100)"},onMouseLeave:C=>{C.currentTarget.style.backgroundColor="transparent"},children:y?c.jsx(kD,{size:20}):c.jsx(i4,{size:20})}),A&&c.jsxs("div",{children:[c.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",color:"var(--enterprise-gray-900)",margin:0},children:A.label}),c.jsx("p",{style:{fontSize:"13px",color:"var(--enterprise-gray-500)",margin:0},children:A.description})]})]}),c.jsx("div",{style:{padding:"6px 12px",backgroundColor:"#dcfce7",borderRadius:"var(--border-radius-md)",fontSize:"11px",fontWeight:"600",color:"#15803d",textTransform:"uppercase",letterSpacing:"0.5px"},children:" Authenticated"})]}),c.jsx("main",{style:{flex:1,overflow:"auto",padding:"32px"},children:c.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[_&&c.jsxs("div",{style:{padding:"16px",marginBottom:"24px",backgroundColor:"#fee2e2",borderRadius:"8px",color:"#dc2626",display:"flex",gap:"12px",alignItems:"flex-start"},children:[c.jsx(Io,{size:20,style:{flexShrink:0,marginTop:"2px"}}),c.jsx("div",{children:_})]}),T()]})})]})]})})}CR.createRoot(document.getElementById("root")).render(c.jsx(WY,{}));
